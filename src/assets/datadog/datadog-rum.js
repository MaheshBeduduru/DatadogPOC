/******/ (function () {
  // webpackBootstrap
  /******/ "use strict";
  /******/ var __webpack_modules__ = {
    /***/ "../core/src/boot/init.ts":
      /*!********************************!*\
  !*** ../core/src/boot/init.ts ***!
  \********************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ makePublicApi: function () {
            return /* binding */ makePublicApi;
          },
          /* harmony export */ defineGlobal: function () {
            return /* binding */ defineGlobal;
          },
          /* harmony export */ BuildMode: function () {
            return /* binding */ BuildMode;
          },
          /* harmony export */ commonInit: function () {
            return /* binding */ commonInit;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _domain_configuration__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../domain/configuration */ "../core/src/domain/configuration/configuration.ts"
          );
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../tools/catchUserErrors */ "../core/src/tools/catchUserErrors.ts"
          );
        /* harmony import */ var _domain_configuration_experimentalFeatures__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../domain/configuration/experimentalFeatures */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );

        function makePublicApi(stub) {
          var publicApi = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, stub),
            {
              // This API method is intentionally not monitored, since the only thing executed is the
              // user-provided 'callback'.  All SDK usages executed in the callback should be monitored, and
              // we don't want to interfere with the user uncaught exceptions.
              onReady: function (callback) {
                callback();
              },
            }
          );
          // Add an "hidden" property to set debug mode. We define it that way to hide it
          // as much as possible but of course it's not a real protection.
          Object.defineProperty(publicApi, "_setDebug", {
            get: function () {
              return _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_1__.setDebugMode;
            },
            enumerable: false,
          });
          return publicApi;
        }
        function defineGlobal(global, name, api) {
          var existingGlobalVariable = global[name];
          global[name] = api;
          if (existingGlobalVariable && existingGlobalVariable.q) {
            existingGlobalVariable.q.forEach(function (fn) {
              return (0,
              _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__.catchUserErrors)(
                fn,
                "onReady callback threw an error:"
              )();
            });
          }
        }
        var BuildMode;
        (function (BuildMode) {
          BuildMode["RELEASE"] = "release";
          BuildMode["STAGING"] = "staging";
          BuildMode["CANARY"] = "canary";
          BuildMode["E2E_TEST"] = "e2e-test";
        })(BuildMode || (BuildMode = {}));
        function commonInit(initConfiguration, buildEnv) {
          (0,
          _domain_configuration_experimentalFeatures__WEBPACK_IMPORTED_MODULE_3__.updateExperimentalFeatures)(
            initConfiguration.enableExperimentalFeatures
          );
          var configuration = (0,
          _domain_configuration__WEBPACK_IMPORTED_MODULE_4__.buildConfiguration)(
            initConfiguration,
            buildEnv
          );
          var internalMonitoring = (0,
          _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_1__.startInternalMonitoring)(
            configuration
          );
          return {
            configuration: configuration,
            internalMonitoring: internalMonitoring,
          };
        }

        /***/
      },

    /***/ "../core/src/browser/cookie.ts":
      /*!*************************************!*\
  !*** ../core/src/browser/cookie.ts ***!
  \*************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ COOKIE_ACCESS_DELAY: function () {
            return /* binding */ COOKIE_ACCESS_DELAY;
          },
          /* harmony export */ cacheCookieAccess: function () {
            return /* binding */ cacheCookieAccess;
          },
          /* harmony export */ setCookie: function () {
            return /* binding */ setCookie;
          },
          /* harmony export */ getCookie: function () {
            return /* binding */ getCookie;
          },
          /* harmony export */ deleteCookie: function () {
            return /* binding */ deleteCookie;
          },
          /* harmony export */ areCookiesAuthorized: function () {
            return /* binding */ areCookiesAuthorized;
          },
          /* harmony export */ getCurrentSite: function () {
            return /* binding */ getCurrentSite;
          },
          /* harmony export */
        });
        /* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../tools/display */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../tools/utils */ "../core/src/tools/utils.ts"
          );

        var COOKIE_ACCESS_DELAY =
          _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND;
        function cacheCookieAccess(name, options) {
          var timeout;
          var cache;
          var hasCache = false;
          var cacheAccess = function () {
            hasCache = true;
            clearTimeout(timeout);
            timeout = setTimeout(function () {
              hasCache = false;
            }, COOKIE_ACCESS_DELAY);
          };
          return {
            get: function () {
              if (hasCache) {
                return cache;
              }
              cache = getCookie(name);
              cacheAccess();
              return cache;
            },
            set: function (value, expireDelay) {
              setCookie(name, value, expireDelay, options);
              cache = value;
              cacheAccess();
            },
            clearCache: function () {
              clearTimeout(timeout);
              hasCache = false;
            },
          };
        }
        function setCookie(name, value, expireDelay, options) {
          var date = new Date();
          date.setTime(date.getTime() + expireDelay);
          var expires = "expires=" + date.toUTCString();
          var sameSite = options && options.crossSite ? "none" : "strict";
          var domain =
            options && options.domain ? ";domain=" + options.domain : "";
          var secure = options && options.secure ? ";secure" : "";
          document.cookie =
            name +
            "=" +
            value +
            ";" +
            expires +
            ";path=/;samesite=" +
            sameSite +
            domain +
            secure;
        }
        function getCookie(name) {
          return (0,
          _tools_utils__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(
            document.cookie,
            name
          );
        }
        function deleteCookie(name, options) {
          setCookie(name, "", 0, options);
        }
        function areCookiesAuthorized(options) {
          if (document.cookie === undefined || document.cookie === null) {
            return false;
          }
          try {
            // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during
            // the test cookie lifetime
            var testCookieName =
              "dd_cookie_test_" +
              (0, _tools_utils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)();
            var testCookieValue = "test";
            setCookie(
              testCookieName,
              testCookieValue,
              _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND,
              options
            );
            var isCookieCorrectlySet =
              getCookie(testCookieName) === testCookieValue;
            deleteCookie(testCookieName, options);
            return isCookieCorrectlySet;
          } catch (error) {
            _tools_display__WEBPACK_IMPORTED_MODULE_1__.display.error(error);
            return false;
          }
        }
        /**
         * No API to retrieve it, number of levels for subdomain and suffix are unknown
         * strategy: find the minimal domain on which cookies are allowed to be set
         * https://web.dev/same-site-same-origin/#site
         */
        var getCurrentSiteCache;
        function getCurrentSite() {
          if (getCurrentSiteCache === undefined) {
            // Use a unique cookie name to avoid issues when the SDK is initialized multiple times during
            // the test cookie lifetime
            var testCookieName =
              "dd_site_test_" +
              (0, _tools_utils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)();
            var testCookieValue = "test";
            var domainLevels = window.location.hostname.split(".");
            var candidateDomain = domainLevels.pop();
            while (domainLevels.length && !getCookie(testCookieName)) {
              candidateDomain = domainLevels.pop() + "." + candidateDomain;
              setCookie(
                testCookieName,
                testCookieValue,
                _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_SECOND,
                { domain: candidateDomain }
              );
            }
            deleteCookie(testCookieName, { domain: candidateDomain });
            getCurrentSiteCache = candidateDomain;
          }
          return getCurrentSiteCache;
        }

        /***/
      },

    /***/ "../core/src/browser/fetchObservable.ts":
      /*!**********************************************!*\
  !*** ../core/src/browser/fetchObservable.ts ***!
  \**********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ initFetchObservable: function () {
            return /* binding */ initFetchObservable;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _domain_tracekit__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! ../domain/tracekit */ "../core/src/domain/tracekit/computeStackTrace.ts"
          );
        /* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ../tools/error */ "../core/src/tools/error.ts"
          );
        /* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../tools/instrumentMethod */ "../core/src/tools/instrumentMethod.ts"
          );
        /* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../tools/observable */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ../tools/timeUtils */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../tools/urlPolyfill */ "../core/src/tools/urlPolyfill.ts"
          );

        var fetchObservable;
        function initFetchObservable() {
          if (!fetchObservable) {
            fetchObservable = createFetchObservable();
          }
          return fetchObservable;
        }
        function createFetchObservable() {
          var observable =
            new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(
              function () {
                if (!window.fetch) {
                  return;
                }
                var stop = (0,
                _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__.instrumentMethod)(
                  window,
                  "fetch",
                  function (originalFetch) {
                    return function (input, init) {
                      var responsePromise;
                      var context = (0,
                      _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(
                        beforeSend,
                        null,
                        [observable, input, init]
                      );
                      if (context) {
                        responsePromise = originalFetch.call(
                          this,
                          context.input,
                          context.init
                        );
                        (0,
                        _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(
                          afterSend,
                          null,
                          [observable, responsePromise, context]
                        );
                      } else {
                        responsePromise = originalFetch.call(this, input, init);
                      }
                      return responsePromise;
                    };
                  }
                ).stop;
                return stop;
              }
            );
          return observable;
        }
        function beforeSend(observable, input, init) {
          var method =
            (init && init.method) ||
            (typeof input === "object" && input.method) ||
            "GET";
          var url = (0,
          _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_4__.normalizeUrl)(
            (typeof input === "object" && input.url) || input
          );
          var startClocks = (0,
          _tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__.clocksNow)();
          var context = {
            state: "start",
            init: init,
            input: input,
            method: method,
            startClocks: startClocks,
            url: url,
          };
          observable.notify(context);
          return context;
        }
        function afterSend(observable, responsePromise, startContext) {
          var _this = this;
          var reportFetch = function (response) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(
              _this,
              void 0,
              void 0,
              function () {
                var context, text, e_1;
                return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(
                  this,
                  function (_a) {
                    switch (_a.label) {
                      case 0:
                        context = startContext;
                        context.state = "complete";
                        context.duration = (0,
                        _tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__.elapsed)(
                          context.startClocks.timeStamp,
                          (0,
                          _tools_timeUtils__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)()
                        );
                        if (!("stack" in response || response instanceof Error))
                          return [3 /*break*/, 1];
                        context.status = 0;
                        context.responseText = (0,
                        _tools_error__WEBPACK_IMPORTED_MODULE_6__.toStackTraceString)(
                          (0,
                          _domain_tracekit__WEBPACK_IMPORTED_MODULE_7__.computeStackTrace)(
                            response
                          )
                        );
                        context.isAborted =
                          response instanceof DOMException &&
                          response.code === DOMException.ABORT_ERR;
                        context.error = response;
                        observable.notify(context);
                        return [3 /*break*/, 6];
                      case 1:
                        if (!("status" in response)) return [3 /*break*/, 6];
                        text = void 0;
                        _a.label = 2;
                      case 2:
                        _a.trys.push([2, 4, , 5]);
                        return [4 /*yield*/, response.clone().text()];
                      case 3:
                        text = _a.sent();
                        return [3 /*break*/, 5];
                      case 4:
                        e_1 = _a.sent();
                        text = "Unable to retrieve response: " + e_1;
                        return [3 /*break*/, 5];
                      case 5:
                        context.response = response;
                        context.responseText = text;
                        context.responseType = response.type;
                        context.status = response.status;
                        context.isAborted = false;
                        observable.notify(context);
                        _a.label = 6;
                      case 6:
                        return [2 /*return*/];
                    }
                  }
                );
              }
            );
          };
          responsePromise.then(
            (0,
            _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.monitor)(
              reportFetch
            ),
            (0,
            _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.monitor)(
              reportFetch
            )
          );
        }

        /***/
      },

    /***/ "../core/src/browser/xhrObservable.ts":
      /*!********************************************!*\
  !*** ../core/src/browser/xhrObservable.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ initXhrObservable: function () {
            return /* binding */ initXhrObservable;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../tools/instrumentMethod */ "../core/src/tools/instrumentMethod.ts"
          );
        /* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../tools/observable */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../tools/timeUtils */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../tools/urlPolyfill */ "../core/src/tools/urlPolyfill.ts"
          );

        var xhrObservable;
        function initXhrObservable() {
          if (!xhrObservable) {
            xhrObservable = createXhrObservable();
          }
          return xhrObservable;
        }
        function createXhrObservable() {
          var observable =
            new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable(
              function () {
                var stopInstrumentingStart = (0,
                _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(
                  XMLHttpRequest.prototype,
                  "open",
                  {
                    before: openXhr,
                  }
                ).stop;
                var stopInstrumentingSend = (0,
                _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(
                  XMLHttpRequest.prototype,
                  "send",
                  {
                    before: function () {
                      sendXhr.call(this, observable);
                    },
                  }
                ).stop;
                var stopInstrumentingAbort = (0,
                _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(
                  XMLHttpRequest.prototype,
                  "abort",
                  {
                    before: abortXhr,
                  }
                ).stop;
                return function () {
                  stopInstrumentingStart();
                  stopInstrumentingSend();
                  stopInstrumentingAbort();
                };
              }
            );
          return observable;
        }
        function openXhr(method, url) {
          // WARN: since this data structure is tied to the instance, it is shared by both logs and rum
          // and can be used by different code versions depending on customer setup
          // so it should stay compatible with older versions
          this._datadog_xhr = {
            state: "open",
            method: method,
            url: (0,
            _tools_urlPolyfill__WEBPACK_IMPORTED_MODULE_3__.normalizeUrl)(url),
          };
        }
        function sendXhr(observable) {
          var _this = this;
          if (!this._datadog_xhr) {
            return;
          }
          var startContext = this._datadog_xhr;
          startContext.state = "start";
          startContext.startTime = (0,
          _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.relativeNow)();
          startContext.startClocks = (0,
          _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.clocksNow)();
          startContext.isAborted = false;
          startContext.xhr = this;
          var hasBeenReported = false;
          var stopInstrumentingOnReadyStateChange = (0,
          _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(
            this,
            "onreadystatechange",
            {
              before: function () {
                if (this.readyState === XMLHttpRequest.DONE) {
                  // Try to report the XHR as soon as possible, because the XHR may be mutated by the
                  // application during a future event. For example, Angular is calling .abort() on
                  // completed requests during a onreadystatechange event, so the status becomes '0'
                  // before the request is collected.
                  onEnd();
                }
              },
            }
          ).stop;
          var onEnd = (0,
          _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_5__.monitor)(
            function () {
              _this.removeEventListener("loadend", onEnd);
              stopInstrumentingOnReadyStateChange();
              if (hasBeenReported) {
                return;
              }
              hasBeenReported = true;
              var completeContext = _this._datadog_xhr;
              completeContext.state = "complete";
              completeContext.duration = (0,
              _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.elapsed)(
                startContext.startClocks.timeStamp,
                (0,
                _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.timeStampNow)()
              );
              completeContext.responseText = _this.response;
              completeContext.status = _this.status;
              observable.notify(
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {},
                  completeContext
                )
              );
            }
          );
          this.addEventListener("loadend", onEnd);
          observable.notify(startContext);
        }
        function abortXhr() {
          if (this._datadog_xhr) {
            this._datadog_xhr.isAborted = true;
          }
        }

        /***/
      },

    /***/ "../core/src/domain/configuration/configuration.ts":
      /*!*********************************************************!*\
  !*** ../core/src/domain/configuration/configuration.ts ***!
  \*********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ DefaultPrivacyLevel: function () {
            return /* binding */ DefaultPrivacyLevel;
          },
          /* harmony export */ DEFAULT_CONFIGURATION: function () {
            return /* binding */ DEFAULT_CONFIGURATION;
          },
          /* harmony export */ buildConfiguration: function () {
            return /* binding */ buildConfiguration;
          },
          /* harmony export */ buildCookieOptions: function () {
            return /* binding */ buildCookieOptions;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../../browser/cookie */ "../core/src/browser/cookie.ts"
          );
        /* harmony import */ var _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../tools/catchUserErrors */ "../core/src/tools/catchUserErrors.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _transportConfiguration__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./transportConfiguration */ "../core/src/domain/configuration/transportConfiguration.ts"
          );

        var DefaultPrivacyLevel = {
          ALLOW: "allow",
          MASK: "mask",
          MASK_USER_INPUT: "mask-user-input",
        };
        var DEFAULT_CONFIGURATION = {
          allowedTracingOrigins: [],
          maxErrorsPerMinute: 3000,
          maxActionsPerMinute: 3000,
          maxInternalMonitoringMessagesPerPage: 15,
          sampleRate: 100,
          replaySampleRate: 100,
          silentMultipleInit: false,
          trackInteractions: false,
          trackViewsManually: false,
          defaultPrivacyLevel: DefaultPrivacyLevel.MASK_USER_INPUT,
          /**
           * arbitrary value, byte precision not needed
           */
          requestErrorResponseLengthLimit:
            32 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_KILO_BYTE,
          /**
           * flush automatically, aim to be lower than ALB connection timeout
           * to maximize connection reuse.
           */
          flushTimeout:
            30 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_SECOND,
          /**
           * Logs intake limit
           */
          maxBatchSize: 50,
          maxMessageSize:
            256 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_KILO_BYTE,
          /**
           * beacon payload max queue size implementation is 64kb
           * ensure that we leave room for logs, rum and potential other users
           */
          batchBytesLimit:
            16 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_KILO_BYTE,
        };
        function buildConfiguration(initConfiguration, buildEnv) {
          var configuration = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              {
                beforeSend:
                  initConfiguration.beforeSend &&
                  (0,
                  _tools_catchUserErrors__WEBPACK_IMPORTED_MODULE_2__.catchUserErrors)(
                    initConfiguration.beforeSend,
                    "beforeSend threw an error:"
                  ),
                cookieOptions: buildCookieOptions(initConfiguration),
                service: initConfiguration.service,
              },
              (0,
              _transportConfiguration__WEBPACK_IMPORTED_MODULE_3__.computeTransportConfiguration)(
                initConfiguration,
                buildEnv
              )
            ),
            DEFAULT_CONFIGURATION
          );
          if ("allowedTracingOrigins" in initConfiguration) {
            configuration.allowedTracingOrigins =
              initConfiguration.allowedTracingOrigins;
          }
          if ("sampleRate" in initConfiguration) {
            configuration.sampleRate = initConfiguration.sampleRate;
          }
          if ("replaySampleRate" in initConfiguration) {
            configuration.replaySampleRate = initConfiguration.replaySampleRate;
          }
          if ("trackInteractions" in initConfiguration) {
            configuration.trackInteractions =
              !!initConfiguration.trackInteractions;
          }
          if ("trackViewsManually" in initConfiguration) {
            configuration.trackViewsManually =
              !!initConfiguration.trackViewsManually;
          }
          if ("actionNameAttribute" in initConfiguration) {
            configuration.actionNameAttribute =
              initConfiguration.actionNameAttribute;
          }
          if (
            (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.objectHasValue)(
              DefaultPrivacyLevel,
              initConfiguration.defaultPrivacyLevel
            )
          ) {
            configuration.defaultPrivacyLevel =
              initConfiguration.defaultPrivacyLevel;
          }
          return configuration;
        }
        function buildCookieOptions(initConfiguration) {
          var cookieOptions = {};
          cookieOptions.secure = mustUseSecureCookie(initConfiguration);
          cookieOptions.crossSite =
            !!initConfiguration.useCrossSiteSessionCookie;
          if (!!initConfiguration.trackSessionAcrossSubdomains) {
            cookieOptions.domain = (0,
            _browser_cookie__WEBPACK_IMPORTED_MODULE_4__.getCurrentSite)();
          }
          return cookieOptions;
        }
        function mustUseSecureCookie(initConfiguration) {
          return (
            !!initConfiguration.useSecureSessionCookie ||
            !!initConfiguration.useCrossSiteSessionCookie
          );
        }

        /***/
      },

    /***/ "../core/src/domain/configuration/endpointBuilder.ts":
      /*!***********************************************************!*\
  !*** ../core/src/domain/configuration/endpointBuilder.ts ***!
  \***********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ ENDPOINTS: function () {
            return /* binding */ ENDPOINTS;
          },
          /* harmony export */ INTAKE_SITE_US: function () {
            return /* binding */ INTAKE_SITE_US;
          },
          /* harmony export */ createEndpointBuilder: function () {
            return /* binding */ createEndpointBuilder;
          },
          /* harmony export */
        });
        /* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../tools/timeUtils */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../tools/utils */ "../core/src/tools/utils.ts"
          );

        var ENDPOINTS = {
          alternate: {
            logs: "logs",
            rum: "rum",
            sessionReplay: "session-replay",
          },
          classic: {
            logs: "browser",
            rum: "rum",
            // session-replay has no classic endpoint
            sessionReplay: undefined,
          },
        };
        var INTAKE_TRACKS = {
          logs: "logs",
          rum: "rum",
          sessionReplay: "replay",
        };
        var INTAKE_SITE_US = "datadoghq.com";
        var INTAKE_SITE_US3 = "us3.datadoghq.com";
        var INTAKE_SITE_GOV = "ddog-gov.com";
        var INTAKE_SITE_EU = "datadoghq.eu";
        var CLASSIC_ALLOWED_SITES = [INTAKE_SITE_US, INTAKE_SITE_EU];
        var INTAKE_V1_ALLOWED_SITES = [
          INTAKE_SITE_US,
          INTAKE_SITE_US3,
          INTAKE_SITE_EU,
          INTAKE_SITE_GOV,
        ];
        function createEndpointBuilder(
          initConfiguration,
          buildEnv,
          endpointType,
          source
        ) {
          var sdkVersion = buildEnv.sdkVersion;
          var _a = initConfiguration.site,
            site = _a === void 0 ? INTAKE_SITE_US : _a,
            clientToken = initConfiguration.clientToken,
            env = initConfiguration.env,
            proxyHost = initConfiguration.proxyHost,
            proxyUrl = initConfiguration.proxyUrl,
            service = initConfiguration.service,
            version = initConfiguration.version,
            intakeApiVersion = initConfiguration.intakeApiVersion,
            useAlternateIntakeDomains =
              initConfiguration.useAlternateIntakeDomains;
          var host = buildHost(endpointType);
          var path = buildPath(endpointType);
          function build() {
            var queryParameters = buildQueryParameters(endpointType, source);
            var endpoint = "https://" + host + path + "?" + queryParameters;
            if (proxyUrl) {
              return proxyUrl + "?ddforward=" + encodeURIComponent(endpoint);
            } else if (proxyHost) {
              return (
                "https://" +
                proxyHost +
                path +
                "?ddhost=" +
                host +
                "&" +
                queryParameters
              );
            }
            return endpoint;
          }
          function buildIntakeUrl() {
            var endpoint = build();
            return endpoint.slice(0, endpoint.indexOf("?"));
          }
          function buildHost(endpointType) {
            if (shouldUseAlternateDomain(endpointType)) {
              var endpoint_1 = ENDPOINTS.alternate[endpointType];
              var domainParts = site.split(".");
              var extension = domainParts.pop();
              var suffix = domainParts.join("-") + "." + extension;
              return endpoint_1 + ".browser-intake-" + suffix;
            }
            var endpoint = ENDPOINTS.classic[endpointType];
            return endpoint + "-http-intake.logs." + site;
          }
          function buildPath(endpointType) {
            return shouldUseIntakeV2(endpointType)
              ? "/api/v2/" + INTAKE_TRACKS[endpointType]
              : "/v1/input/" + clientToken;
          }
          function buildQueryParameters(endpointType, source) {
            var tags =
              "sdk_version:" +
              sdkVersion +
              ("" + (env ? ",env:" + env : "")) +
              ("" + (service ? ",service:" + service : "")) +
              ("" + (version ? ",version:" + version : ""));
            var parameters =
              "ddsource=" +
              (source || "browser") +
              "&ddtags=" +
              encodeURIComponent(tags);
            if (shouldUseIntakeV2(endpointType)) {
              parameters +=
                "&dd-api-key=" +
                clientToken +
                ("&dd-evp-origin-version=" + encodeURIComponent(sdkVersion)) +
                "&dd-evp-origin=browser" +
                ("&dd-request-id=" +
                  (0,
                  _tools_utils__WEBPACK_IMPORTED_MODULE_0__.generateUUID)());
            }
            if (endpointType === "rum") {
              parameters +=
                "&batch_time=" +
                (0,
                _tools_timeUtils__WEBPACK_IMPORTED_MODULE_1__.timeStampNow)();
            }
            return parameters;
          }
          function shouldUseIntakeV2(endpointType) {
            return (
              intakeApiVersion === 2 ||
              !(0, _tools_utils__WEBPACK_IMPORTED_MODULE_0__.includes)(
                INTAKE_V1_ALLOWED_SITES,
                site
              ) ||
              endpointType === "sessionReplay"
            );
          }
          function shouldUseAlternateDomain(endpointType) {
            return (
              useAlternateIntakeDomains ||
              !(0, _tools_utils__WEBPACK_IMPORTED_MODULE_0__.includes)(
                CLASSIC_ALLOWED_SITES,
                site
              ) ||
              endpointType === "sessionReplay"
            );
          }
          return {
            build: build,
            buildIntakeUrl: buildIntakeUrl,
          };
        }

        /***/
      },

    /***/ "../core/src/domain/configuration/experimentalFeatures.ts":
      /*!****************************************************************!*\
  !*** ../core/src/domain/configuration/experimentalFeatures.ts ***!
  \****************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ updateExperimentalFeatures: function () {
            return /* binding */ updateExperimentalFeatures;
          },
          /* harmony export */ isExperimentalFeatureEnabled: function () {
            return /* binding */ isExperimentalFeatureEnabled;
          },
          /* harmony export */ resetExperimentalFeatures: function () {
            return /* binding */ resetExperimentalFeatures;
          },
          /* harmony export */
        });
        /**
         * LIMITATION:
         * For NPM setup, this feature flag singleton is shared between RUM and Logs product.
         * This means that an experimental flag set on the RUM product will be set on the Logs product.
         * So keep in mind that in certain configurations, your experimental feature flag may affect other products.
         */
        var enabledExperimentalFeatures;
        function updateExperimentalFeatures(enabledFeatures) {
          // Safely handle external data
          if (!Array.isArray(enabledFeatures)) {
            return;
          }
          if (!enabledExperimentalFeatures) {
            enabledExperimentalFeatures = new Set(enabledFeatures);
          }
          enabledFeatures
            .filter(function (flag) {
              return typeof flag === "string";
            })
            .forEach(function (flag) {
              enabledExperimentalFeatures.add(flag);
            });
        }
        function isExperimentalFeatureEnabled(featureName) {
          return (
            !!enabledExperimentalFeatures &&
            enabledExperimentalFeatures.has(featureName)
          );
        }
        function resetExperimentalFeatures() {
          enabledExperimentalFeatures = new Set();
        }

        /***/
      },

    /***/ "../core/src/domain/configuration/transportConfiguration.ts":
      /*!******************************************************************!*\
  !*** ../core/src/domain/configuration/transportConfiguration.ts ***!
  \******************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ computeTransportConfiguration: function () {
            return /* binding */ computeTransportConfiguration;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _boot_init__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../boot/init */ "../core/src/boot/init.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./endpointBuilder */ "../core/src/domain/configuration/endpointBuilder.ts"
          );

        function computeTransportConfiguration(initConfiguration, buildEnv) {
          var endpointBuilders = computeEndpointBuilders(
            initConfiguration,
            buildEnv
          );
          var intakeEndpoints = (0,
          _tools_utils__WEBPACK_IMPORTED_MODULE_1__.objectValues)(
            endpointBuilders
          ).map(function (builder) {
            return builder.buildIntakeUrl();
          });
          var replicaConfiguration = computeReplicaConfiguration(
            initConfiguration,
            buildEnv,
            intakeEndpoints
          );
          return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              {
                isIntakeUrl: function (url) {
                  return intakeEndpoints.some(function (intakeEndpoint) {
                    return url.indexOf(intakeEndpoint) === 0;
                  });
                },
              },
              endpointBuilders
            ),
            { replica: replicaConfiguration }
          );
        }
        function computeEndpointBuilders(initConfiguration, buildEnv) {
          if (
            buildEnv.buildMode ===
            _boot_init__WEBPACK_IMPORTED_MODULE_2__.BuildMode.E2E_TEST
          ) {
            var e2eEndpointBuilder = function (placeholder) {
              return {
                build: function () {
                  return placeholder;
                },
                buildIntakeUrl: function () {
                  return placeholder;
                },
              };
            };
            return {
              logsEndpointBuilder: e2eEndpointBuilder(
                "<<< E2E LOGS ENDPOINT >>>"
              ),
              rumEndpointBuilder: e2eEndpointBuilder(
                "<<< E2E RUM ENDPOINT >>>"
              ),
              sessionReplayEndpointBuilder: e2eEndpointBuilder(
                "<<< E2E SESSION REPLAY ENDPOINT >>>"
              ),
              internalMonitoringEndpointBuilder: e2eEndpointBuilder(
                "<<< E2E INTERNAL MONITORING ENDPOINT >>>"
              ),
            };
          }
          var endpointBuilders = {
            logsEndpointBuilder: (0,
            _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
              initConfiguration,
              buildEnv,
              "logs"
            ),
            rumEndpointBuilder: (0,
            _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
              initConfiguration,
              buildEnv,
              "rum"
            ),
            sessionReplayEndpointBuilder: (0,
            _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
              initConfiguration,
              buildEnv,
              "sessionReplay"
            ),
          };
          if (initConfiguration.internalMonitoringApiKey) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                {},
                endpointBuilders
              ),
              {
                internalMonitoringEndpointBuilder: (0,
                _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
                  (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                      {},
                      initConfiguration
                    ),
                    { clientToken: initConfiguration.internalMonitoringApiKey }
                  ),
                  buildEnv,
                  "logs",
                  "browser-agent-internal-monitoring"
                ),
              }
            );
          }
          return endpointBuilders;
        }
        function computeReplicaConfiguration(
          initConfiguration,
          buildEnv,
          intakeEndpoints
        ) {
          if (
            buildEnv.buildMode !==
              _boot_init__WEBPACK_IMPORTED_MODULE_2__.BuildMode.STAGING ||
            initConfiguration.replica === undefined
          ) {
            return;
          }
          var replicaConfiguration = (0,
          tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              {},
              initConfiguration
            ),
            {
              site: _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.INTAKE_SITE_US,
              applicationId: initConfiguration.replica.applicationId,
              clientToken: initConfiguration.replica.clientToken,
              useAlternateIntakeDomains: true,
              intakeApiVersion: 2,
            }
          );
          var replicaEndpointBuilders = {
            logsEndpointBuilder: (0,
            _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
              replicaConfiguration,
              buildEnv,
              "logs"
            ),
            rumEndpointBuilder: (0,
            _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
              replicaConfiguration,
              buildEnv,
              "rum"
            ),
            internalMonitoringEndpointBuilder: (0,
            _endpointBuilder__WEBPACK_IMPORTED_MODULE_3__.createEndpointBuilder)(
              replicaConfiguration,
              buildEnv,
              "logs",
              "browser-agent-internal-monitoring"
            ),
          };
          intakeEndpoints.push.apply(
            intakeEndpoints,
            (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.objectValues)(
              replicaEndpointBuilders
            ).map(function (builder) {
              return builder.buildIntakeUrl();
            })
          );
          return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            { applicationId: initConfiguration.replica.applicationId },
            replicaEndpointBuilders
          );
        }

        /***/
      },

    /***/ "../core/src/domain/error/trackConsoleError.ts":
      /*!*****************************************************!*\
  !*** ../core/src/domain/error/trackConsoleError.ts ***!
  \*****************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ trackConsoleError: function () {
            return /* binding */ trackConsoleError;
          },
          /* harmony export */ resetConsoleErrorProxy: function () {
            return /* binding */ resetConsoleErrorProxy;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../tools/error */ "../core/src/tools/error.ts"
          );
        /* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../tools/observable */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../../tools/timeUtils */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ../../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _internalMonitoring__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ../tracekit */ "../core/src/domain/tracekit/computeStackTrace.ts"
          );

        /* eslint-disable no-console */
        function trackConsoleError(errorObservable) {
          startConsoleErrorProxy().subscribe(function (error) {
            return errorObservable.notify(error);
          });
        }
        var originalConsoleError;
        var consoleErrorObservable;
        function startConsoleErrorProxy() {
          if (!consoleErrorObservable) {
            consoleErrorObservable =
              new _tools_observable__WEBPACK_IMPORTED_MODULE_1__.Observable();
            originalConsoleError = console.error;
            console.error = function () {
              var params = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                params[_i] = arguments[_i];
              }
              var handlingStack = (0,
              _tools_error__WEBPACK_IMPORTED_MODULE_2__.createHandlingStack)();
              (0,
              _internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.callMonitored)(
                function () {
                  originalConsoleError.apply(console, params);
                  var rawError = (0,
                  tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                      {},
                      buildErrorFromParams(params, handlingStack)
                    ),
                    {
                      source:
                        _tools_error__WEBPACK_IMPORTED_MODULE_2__.ErrorSource
                          .CONSOLE,
                      startClocks: (0,
                      _tools_timeUtils__WEBPACK_IMPORTED_MODULE_4__.clocksNow)(),
                      handling:
                        _tools_error__WEBPACK_IMPORTED_MODULE_2__.ErrorHandling
                          .HANDLED,
                    }
                  );
                  consoleErrorObservable.notify(rawError);
                }
              );
            };
          }
          return consoleErrorObservable;
        }
        function resetConsoleErrorProxy() {
          if (consoleErrorObservable) {
            consoleErrorObservable = undefined;
            console.error = originalConsoleError;
          }
        }
        function buildErrorFromParams(params, handlingStack) {
          var firstErrorParam = (0,
          _tools_utils__WEBPACK_IMPORTED_MODULE_5__.find)(
            params,
            function (param) {
              return param instanceof Error;
            }
          );
          return {
            message: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArrays)(
              ["console error:"],
              params
            )
              .map(function (param) {
                return formatConsoleParameters(param);
              })
              .join(" "),
            stack: firstErrorParam
              ? (0,
                _tools_error__WEBPACK_IMPORTED_MODULE_2__.toStackTraceString)(
                  (0, _tracekit__WEBPACK_IMPORTED_MODULE_6__.computeStackTrace)(
                    firstErrorParam
                  )
                )
              : undefined,
            handlingStack: handlingStack,
          };
        }
        function formatConsoleParameters(param) {
          if (typeof param === "string") {
            return param;
          }
          if (param instanceof Error) {
            return (0,
            _tools_error__WEBPACK_IMPORTED_MODULE_2__.formatErrorMessage)(
              (0, _tracekit__WEBPACK_IMPORTED_MODULE_6__.computeStackTrace)(
                param
              )
            );
          }
          return (0, _tools_utils__WEBPACK_IMPORTED_MODULE_5__.jsonStringify)(
            param,
            undefined,
            2
          );
        }

        /***/
      },

    /***/ "../core/src/domain/error/trackRuntimeError.ts":
      /*!*****************************************************!*\
  !*** ../core/src/domain/error/trackRuntimeError.ts ***!
  \*****************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ trackRuntimeError: function () {
            return /* binding */ trackRuntimeError;
          },
          /* harmony export */
        });
        /* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../tools/error */ "../core/src/tools/error.ts"
          );
        /* harmony import */ var _tools_timeUtils__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../tools/timeUtils */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../tracekit */ "../core/src/domain/tracekit/tracekit.ts"
          );

        function trackRuntimeError(errorObservable) {
          return (0,
          _tracekit__WEBPACK_IMPORTED_MODULE_0__.startUnhandledErrorCollection)(
            function (stackTrace, errorObject) {
              var _a = (0,
                _tools_error__WEBPACK_IMPORTED_MODULE_1__.formatUnknownError)(
                  stackTrace,
                  errorObject,
                  "Uncaught"
                ),
                stack = _a.stack,
                message = _a.message,
                type = _a.type;
              errorObservable.notify({
                message: message,
                stack: stack,
                type: type,
                source:
                  _tools_error__WEBPACK_IMPORTED_MODULE_1__.ErrorSource.SOURCE,
                startClocks: (0,
                _tools_timeUtils__WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),
                originalError: errorObject,
                handling:
                  _tools_error__WEBPACK_IMPORTED_MODULE_1__.ErrorHandling
                    .UNHANDLED,
              });
            }
          );
        }

        /***/
      },

    /***/ "../core/src/domain/internalMonitoring.ts":
      /*!************************************************!*\
  !*** ../core/src/domain/internalMonitoring.ts ***!
  \************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startInternalMonitoring: function () {
            return /* binding */ startInternalMonitoring;
          },
          /* harmony export */ startFakeInternalMonitoring: function () {
            return /* binding */ startFakeInternalMonitoring;
          },
          /* harmony export */ resetInternalMonitoring: function () {
            return /* binding */ resetInternalMonitoring;
          },
          /* harmony export */ monitored: function () {
            return /* binding */ monitored;
          },
          /* harmony export */ monitor: function () {
            return /* binding */ monitor;
          },
          /* harmony export */ callMonitored: function () {
            return /* binding */ callMonitored;
          },
          /* harmony export */ addMonitoringMessage: function () {
            return /* binding */ addMonitoringMessage;
          },
          /* harmony export */ addErrorToMonitoringBatch: function () {
            return /* binding */ addErrorToMonitoringBatch;
          },
          /* harmony export */ setDebugMode: function () {
            return /* binding */ setDebugMode;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ../tools/display */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _tools_error__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ../tools/error */ "../core/src/tools/error.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _transport__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../transport */ "../core/src/transport/batch.ts"
          );
        /* harmony import */ var _transport__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../transport */ "../core/src/transport/httpRequest.ts"
          );
        /* harmony import */ var _tracekit__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./tracekit */ "../core/src/domain/tracekit/computeStackTrace.ts"
          );

        var StatusType;
        (function (StatusType) {
          StatusType["info"] = "info";
          StatusType["error"] = "error";
        })(StatusType || (StatusType = {}));
        var monitoringConfiguration = {
          maxMessagesPerPage: 0,
          sentMessageCount: 0,
        };
        var externalContextProvider;
        function startInternalMonitoring(configuration) {
          if (configuration.internalMonitoringEndpointBuilder) {
            var batch = startMonitoringBatch(configuration);
            (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.assign)(
              monitoringConfiguration,
              {
                batch: batch,
                maxMessagesPerPage:
                  configuration.maxInternalMonitoringMessagesPerPage,
                sentMessageCount: 0,
              }
            );
          }
          return {
            setExternalContextProvider: function (provider) {
              externalContextProvider = provider;
            },
          };
        }
        function startMonitoringBatch(configuration) {
          var primaryBatch = createMonitoringBatch(
            configuration.internalMonitoringEndpointBuilder
          );
          var replicaBatch;
          if (configuration.replica !== undefined) {
            replicaBatch = createMonitoringBatch(
              configuration.replica.internalMonitoringEndpointBuilder
            );
          }
          function createMonitoringBatch(endpointBuilder) {
            return new _transport__WEBPACK_IMPORTED_MODULE_2__.Batch(
              new _transport__WEBPACK_IMPORTED_MODULE_3__.HttpRequest(
                endpointBuilder,
                configuration.batchBytesLimit
              ),
              configuration.maxBatchSize,
              configuration.batchBytesLimit,
              configuration.maxMessageSize,
              configuration.flushTimeout
            );
          }
          function withContext(message) {
            return (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.combine)(
              {
                date: new Date().getTime(),
              },
              externalContextProvider !== undefined
                ? externalContextProvider()
                : {},
              message
            );
          }
          return {
            add: function (message) {
              var contextualizedMessage = withContext(message);
              primaryBatch.add(contextualizedMessage);
              if (replicaBatch) {
                replicaBatch.add(contextualizedMessage);
              }
            },
          };
        }
        function startFakeInternalMonitoring() {
          var messages = [];
          (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.assign)(
            monitoringConfiguration,
            {
              batch: {
                add: function (message) {
                  messages.push(message);
                },
              },
              maxMessagesPerPage: Infinity,
              sentMessageCount: 0,
            }
          );
          return messages;
        }
        function resetInternalMonitoring() {
          monitoringConfiguration.batch = undefined;
        }
        function monitored(_, __, descriptor) {
          var originalMethod = descriptor.value;
          descriptor.value = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            var decorated = monitoringConfiguration.batch
              ? monitor(originalMethod)
              : originalMethod;
            return decorated.apply(this, args);
          };
        }
        function monitor(fn) {
          return function () {
            // eslint-disable-next-line @typescript-eslint/no-unsafe-return
            return callMonitored(fn, this, arguments);
          }; // consider output type has input type
        }
        function callMonitored(fn, context, args) {
          try {
            // eslint-disable-next-line @typescript-eslint/no-unsafe-return
            return fn.apply(context, args);
          } catch (e) {
            logErrorIfDebug(e);
            try {
              addErrorToMonitoringBatch(e);
            } catch (e) {
              logErrorIfDebug(e);
            }
          }
        }
        function addMonitoringMessage(message, context) {
          logMessageIfDebug(message, context);
          addToMonitoringBatch(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                { message: message },
                context
              ),
              { status: StatusType.info }
            )
          );
        }
        function addErrorToMonitoringBatch(e) {
          addToMonitoringBatch(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                {},
                formatError(e)
              ),
              { status: StatusType.error }
            )
          );
        }
        function addToMonitoringBatch(message) {
          if (
            monitoringConfiguration.batch &&
            monitoringConfiguration.sentMessageCount <
              monitoringConfiguration.maxMessagesPerPage
          ) {
            monitoringConfiguration.sentMessageCount += 1;
            monitoringConfiguration.batch.add(message);
          }
        }
        function formatError(e) {
          if (e instanceof Error) {
            var stackTrace = (0,
            _tracekit__WEBPACK_IMPORTED_MODULE_4__.computeStackTrace)(e);
            return {
              error: {
                kind: stackTrace.name,
                stack: (0,
                _tools_error__WEBPACK_IMPORTED_MODULE_5__.toStackTraceString)(
                  stackTrace
                ),
              },
              message: stackTrace.message,
            };
          }
          return {
            error: {
              stack: "Not an instance of error",
            },
            message:
              "Uncaught " +
              (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.jsonStringify)(e),
          };
        }
        function setDebugMode(debugMode) {
          monitoringConfiguration.debugMode = debugMode;
        }
        function logErrorIfDebug(e) {
          if (monitoringConfiguration.debugMode) {
            _tools_display__WEBPACK_IMPORTED_MODULE_6__.display.error(
              "[INTERNAL ERROR]",
              e
            );
          }
        }
        function logMessageIfDebug(message, context) {
          if (monitoringConfiguration.debugMode) {
            _tools_display__WEBPACK_IMPORTED_MODULE_6__.display.log(
              "[MONITORING MESSAGE]",
              message,
              context
            );
          }
        }

        /***/
      },

    /***/ "../core/src/domain/session/oldCookiesMigration.ts":
      /*!*********************************************************!*\
  !*** ../core/src/domain/session/oldCookiesMigration.ts ***!
  \*********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ OLD_SESSION_COOKIE_NAME: function () {
            return /* binding */ OLD_SESSION_COOKIE_NAME;
          },
          /* harmony export */ OLD_RUM_COOKIE_NAME: function () {
            return /* binding */ OLD_RUM_COOKIE_NAME;
          },
          /* harmony export */ OLD_LOGS_COOKIE_NAME: function () {
            return /* binding */ OLD_LOGS_COOKIE_NAME;
          },
          /* harmony export */ RUM_SESSION_KEY: function () {
            return /* binding */ RUM_SESSION_KEY;
          },
          /* harmony export */ LOGS_SESSION_KEY: function () {
            return /* binding */ LOGS_SESSION_KEY;
          },
          /* harmony export */ tryOldCookiesMigration: function () {
            return /* binding */ tryOldCookiesMigration;
          },
          /* harmony export */
        });
        /* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../browser/cookie */ "../core/src/browser/cookie.ts"
          );
        /* harmony import */ var _sessionStore__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./sessionStore */ "../core/src/domain/session/sessionStore.ts"
          );

        var OLD_SESSION_COOKIE_NAME = "_dd";
        var OLD_RUM_COOKIE_NAME = "_dd_r";
        var OLD_LOGS_COOKIE_NAME = "_dd_l";
        // duplicate values to avoid dependency issues
        var RUM_SESSION_KEY = "rum";
        var LOGS_SESSION_KEY = "logs";
        /**
         * This migration should remain in the codebase as long as older versions are available/live
         * to allow older sdk versions to be upgraded to newer versions without compatibility issues.
         */
        function tryOldCookiesMigration(options) {
          var sessionCookie = (0,
          _browser_cookie__WEBPACK_IMPORTED_MODULE_0__.cacheCookieAccess)(
            _sessionStore__WEBPACK_IMPORTED_MODULE_1__.SESSION_COOKIE_NAME,
            options
          );
          var sessionString = sessionCookie.get();
          var oldSessionId = (0,
          _browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(
            OLD_SESSION_COOKIE_NAME
          );
          var oldRumType = (0,
          _browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(
            OLD_RUM_COOKIE_NAME
          );
          var oldLogsType = (0,
          _browser_cookie__WEBPACK_IMPORTED_MODULE_0__.getCookie)(
            OLD_LOGS_COOKIE_NAME
          );
          if (!sessionString) {
            var session = {};
            if (oldSessionId) {
              session.id = oldSessionId;
            }
            if (oldLogsType && /^[01]$/.test(oldLogsType)) {
              session[LOGS_SESSION_KEY] = oldLogsType;
            }
            if (oldRumType && /^[012]$/.test(oldRumType)) {
              session[RUM_SESSION_KEY] = oldRumType;
            }
            (0, _sessionStore__WEBPACK_IMPORTED_MODULE_1__.persistSession)(
              session,
              sessionCookie
            );
          }
        }

        /***/
      },

    /***/ "../core/src/domain/session/sessionManagement.ts":
      /*!*******************************************************!*\
  !*** ../core/src/domain/session/sessionManagement.ts ***!
  \*******************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ VISIBILITY_CHECK_DELAY: function () {
            return /* binding */ VISIBILITY_CHECK_DELAY;
          },
          /* harmony export */ startSessionManagement: function () {
            return /* binding */ startSessionManagement;
          },
          /* harmony export */ stopSessionManagement: function () {
            return /* binding */ stopSessionManagement;
          },
          /* harmony export */
        });
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _internalMonitoring__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _oldCookiesMigration__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./oldCookiesMigration */ "../core/src/domain/session/oldCookiesMigration.ts"
          );
        /* harmony import */ var _sessionStore__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./sessionStore */ "../core/src/domain/session/sessionStore.ts"
          );

        var VISIBILITY_CHECK_DELAY =
          _tools_utils__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;
        function startSessionManagement(
          options,
          productKey,
          computeSessionState
        ) {
          (0,
          _oldCookiesMigration__WEBPACK_IMPORTED_MODULE_1__.tryOldCookiesMigration)(
            options
          );
          var sessionStore = (0,
          _sessionStore__WEBPACK_IMPORTED_MODULE_2__.startSessionStore)(
            options,
            productKey,
            computeSessionState
          );
          sessionStore.expandOrRenewSession();
          trackActivity(function () {
            return sessionStore.expandOrRenewSession();
          });
          trackVisibility(function () {
            return sessionStore.expandSession();
          });
          return {
            getId: function () {
              return sessionStore.retrieveSession().id;
            },
            getTrackingType: function () {
              return sessionStore.retrieveSession()[productKey];
            },
            renewObservable: sessionStore.renewObservable,
          };
        }
        function stopSessionManagement() {
          stopCallbacks.forEach(function (e) {
            return e();
          });
          stopCallbacks = [];
        }
        var stopCallbacks = [];
        function trackActivity(expandOrRenewSession) {
          var stop =
            _tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListeners(
              window,
              [
                "click" /* CLICK */,
                "touchstart" /* TOUCH_START */,
                "keydown" /* KEY_DOWN */,
                "scroll" /* SCROLL */,
              ],
              expandOrRenewSession,
              { capture: true, passive: true }
            ).stop;
          stopCallbacks.push(stop);
        }
        function trackVisibility(expandSession) {
          var expandSessionWhenVisible = (0,
          _internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.monitor)(
            function () {
              if (document.visibilityState === "visible") {
                expandSession();
              }
            }
          );
          var stop = _tools_utils__WEBPACK_IMPORTED_MODULE_0__.addEventListener(
            document,
            "visibilitychange" /* VISIBILITY_CHANGE */,
            expandSessionWhenVisible
          ).stop;
          stopCallbacks.push(stop);
          var visibilityCheckInterval = setInterval(
            expandSessionWhenVisible,
            VISIBILITY_CHECK_DELAY
          );
          stopCallbacks.push(function () {
            clearInterval(visibilityCheckInterval);
          });
        }

        /***/
      },

    /***/ "../core/src/domain/session/sessionStore.ts":
      /*!**************************************************!*\
  !*** ../core/src/domain/session/sessionStore.ts ***!
  \**************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ SESSION_COOKIE_NAME: function () {
            return /* binding */ SESSION_COOKIE_NAME;
          },
          /* harmony export */ SESSION_EXPIRATION_DELAY: function () {
            return /* binding */ SESSION_EXPIRATION_DELAY;
          },
          /* harmony export */ SESSION_TIME_OUT_DELAY: function () {
            return /* binding */ SESSION_TIME_OUT_DELAY;
          },
          /* harmony export */ startSessionStore: function () {
            return /* binding */ startSessionStore;
          },
          /* harmony export */ persistSession: function () {
            return /* binding */ persistSession;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _browser_cookie__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../../browser/cookie */ "../core/src/browser/cookie.ts"
          );
        /* harmony import */ var _tools_observable__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../tools/observable */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _internalMonitoring__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );

        var SESSION_COOKIE_NAME = "_dd_s";
        var SESSION_EXPIRATION_DELAY =
          15 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_MINUTE;
        var SESSION_TIME_OUT_DELAY =
          4 * _tools_utils__WEBPACK_IMPORTED_MODULE_1__.ONE_HOUR;
        var SESSION_ENTRY_REGEXP = /^([a-z]+)=([a-z0-9-]+)$/;
        var SESSION_ENTRY_SEPARATOR = "&";
        function startSessionStore(options, productKey, computeSessionState) {
          var renewObservable =
            new _tools_observable__WEBPACK_IMPORTED_MODULE_2__.Observable();
          var sessionCookie = (0,
          _browser_cookie__WEBPACK_IMPORTED_MODULE_3__.cacheCookieAccess)(
            SESSION_COOKIE_NAME,
            options
          );
          var inMemorySession = retrieveActiveSession(sessionCookie);
          var expandOrRenewSession =
            _tools_utils__WEBPACK_IMPORTED_MODULE_1__.throttle(
              (0, _internalMonitoring__WEBPACK_IMPORTED_MODULE_4__.monitor)(
                function () {
                  sessionCookie.clearCache();
                  var cookieSession = retrieveActiveSession(sessionCookie);
                  var _a = computeSessionState(cookieSession[productKey]),
                    trackingType = _a.trackingType,
                    isTracked = _a.isTracked;
                  cookieSession[productKey] = trackingType;
                  if (isTracked && !cookieSession.id) {
                    cookieSession.id =
                      _tools_utils__WEBPACK_IMPORTED_MODULE_1__.generateUUID();
                    cookieSession.created = String(Date.now());
                  }
                  // save changes and expand session duration
                  persistSession(cookieSession, sessionCookie);
                  // If the session id has changed, notify that the session has been renewed
                  if (isTracked && inMemorySession.id !== cookieSession.id) {
                    inMemorySession = (0,
                    tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                      {},
                      cookieSession
                    );
                    renewObservable.notify();
                  }
                  inMemorySession = (0,
                  tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    {},
                    cookieSession
                  );
                }
              ),
              _browser_cookie__WEBPACK_IMPORTED_MODULE_3__.COOKIE_ACCESS_DELAY
            ).throttled;
          function expandSession() {
            sessionCookie.clearCache();
            var session = retrieveActiveSession(sessionCookie);
            persistSession(session, sessionCookie);
          }
          function retrieveSession() {
            return retrieveActiveSession(sessionCookie);
          }
          return {
            expandOrRenewSession: expandOrRenewSession,
            expandSession: expandSession,
            retrieveSession: retrieveSession,
            renewObservable: renewObservable,
          };
        }
        function isValidSessionString(sessionString) {
          return (
            sessionString !== undefined &&
            (sessionString.indexOf(SESSION_ENTRY_SEPARATOR) !== -1 ||
              SESSION_ENTRY_REGEXP.test(sessionString))
          );
        }
        function retrieveActiveSession(sessionCookie) {
          var session = retrieveSession(sessionCookie);
          if (isActiveSession(session)) {
            return session;
          }
          clearSession(sessionCookie);
          return {};
        }
        function isActiveSession(session) {
          // created and expire can be undefined for versions which was not storing them
          // these checks could be removed when older versions will not be available/live anymore
          return (
            (session.created === undefined ||
              Date.now() - Number(session.created) < SESSION_TIME_OUT_DELAY) &&
            (session.expire === undefined ||
              Date.now() < Number(session.expire))
          );
        }
        function retrieveSession(sessionCookie) {
          var sessionString = sessionCookie.get();
          var session = {};
          if (isValidSessionString(sessionString)) {
            sessionString
              .split(SESSION_ENTRY_SEPARATOR)
              .forEach(function (entry) {
                var matches = SESSION_ENTRY_REGEXP.exec(entry);
                if (matches !== null) {
                  var key = matches[1],
                    value = matches[2];
                  session[key] = value;
                }
              });
          }
          return session;
        }
        function persistSession(session, cookie) {
          if (
            _tools_utils__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject(session)
          ) {
            clearSession(cookie);
            return;
          }
          session.expire = String(Date.now() + SESSION_EXPIRATION_DELAY);
          var cookieString = _tools_utils__WEBPACK_IMPORTED_MODULE_1__
            .objectEntries(session)
            .map(function (_a) {
              var key = _a[0],
                value = _a[1];
              return key + "=" + value;
            })
            .join(SESSION_ENTRY_SEPARATOR);
          cookie.set(cookieString, SESSION_EXPIRATION_DELAY);
        }
        function clearSession(cookie) {
          cookie.set("", 0);
        }

        /***/
      },

    /***/ "../core/src/domain/tracekit/computeStackTrace.ts":
      /*!********************************************************!*\
  !*** ../core/src/domain/tracekit/computeStackTrace.ts ***!
  \********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ computeStackTrace: function () {
            return /* binding */ computeStackTrace;
          },
          /* harmony export */ computeStackTraceFromStackProp: function () {
            return /* binding */ computeStackTraceFromStackProp;
          },
          /* harmony export */ computeStackTraceOfCaller: function () {
            return /* binding */ computeStackTraceOfCaller;
          },
          /* harmony export */
        });
        var UNKNOWN_FUNCTION = "?";
        /**
         * computeStackTrace: cross-browser stack traces in JavaScript
         *
         * Syntax:
         * ```js
         * s = computeStackTraceOfCaller([depth])
         * s = computeStackTrace(exception)
         * ```
         *
         * Supports:
         *   - Firefox:  full stack trace with line numbers and unreliable column
         *               number on top frame
         *   - Opera 10: full stack trace with line and column numbers
         *   - Opera 9-: full stack trace with line numbers
         *   - Chrome:   full stack trace with line and column numbers
         *   - Safari:   line and column number for the topmost stacktrace element
         *               only
         *   - IE:       no line numbers whatsoever
         *
         * Tries to guess names of anonymous functions by looking for assignments
         * in the source code. In IE and Safari, we have to guess source file names
         * by searching for function bodies inside all page scripts. This will not
         * work for scripts that are loaded cross-domain.
         * Here be dragons: some function names may be guessed incorrectly, and
         * duplicate functions may be mismatched.
         *
         * computeStackTrace should only be used for tracing purposes.
         *
         * Note: In IE and Safari, no stack trace is recorded on the Error object,
         * so computeStackTrace instead walks its *own* chain of callers.
         * This means that:
         *  * in Safari, some methods may be missing from the stack trace;
         *  * in IE, the topmost function in the stack trace will always be the
         *    caller of computeStackTrace.
         *
         * This is okay for tracing (because you are likely to be calling
         * computeStackTrace from the function you want to be the topmost element
         * of the stack trace anyway), but not okay for logging unhandled
         * exceptions (because your catch block will likely be far away from the
         * inner function that actually caused the exception).
         *
         * Tracing example:
         * ```js
         *     function trace(message) {
         *         let stackInfo = computeStackTrace.ofCaller();
         *         let data = message + "\n";
         *         for(let i in stackInfo.stack) {
         *             let item = stackInfo.stack[i];
         *             data += (item.func || '[anonymous]') + "() in " + item.url + ":" + (item.line || '0') + "\n";
         *         }
         *         if (window.console)
         *             console.info(data);
         *         else
         *             alert(data);
         *     }
         * ```
         * @memberof TraceKit
         * @namespace
         */
        /**
         * Computes a stack trace for an exception.
         * @param {Error} ex
         * @param {(string|number)=} depth
         * @memberof computeStackTrace
         */
        function computeStackTrace(ex, depth) {
          var stack;
          var normalizedDepth = depth === undefined ? 0 : +depth;
          try {
            // This must be tried first because Opera 10 *destroys*
            // its stacktrace property if you try to access the stack
            // property first!!
            stack = computeStackTraceFromStacktraceProp(ex);
            if (stack) {
              return stack;
            }
          } catch (e) {
            if (debug) {
              throw e;
            }
          }
          try {
            stack = computeStackTraceFromStackProp(ex);
            if (stack) {
              return stack;
            }
          } catch (e) {
            if (debug) {
              throw e;
            }
          }
          try {
            stack = computeStackTraceFromOperaMultiLineMessage(ex);
            if (stack) {
              return stack;
            }
          } catch (e) {
            if (debug) {
              throw e;
            }
          }
          try {
            stack = computeStackTraceByWalkingCallerChain(
              ex,
              normalizedDepth + 1
            );
            if (stack) {
              return stack;
            }
          } catch (e) {
            if (debug) {
              throw e;
            }
          }
          return {
            message: tryToGetString(ex, "message"),
            name: tryToGetString(ex, "name"),
            stack: [],
          };
        }
        var debug = false;
        // Contents of Exception in various browsers.
        //
        // SAFARI:
        // ex.message = Can't find variable: qq
        // ex.line = 59
        // ex.sourceId = 580238192
        // ex.sourceURL = http://...
        // ex.expressionBeginOffset = 96
        // ex.expressionCaretOffset = 98
        // ex.expressionEndOffset = 98
        // ex.name = ReferenceError
        //
        // FIREFOX:
        // ex.message = qq is not defined
        // ex.fileName = http://...
        // ex.lineNumber = 59
        // ex.columnNumber = 69
        // ex.stack = ...stack trace... (see the example below)
        // ex.name = ReferenceError
        //
        // CHROME:
        // ex.message = qq is not defined
        // ex.name = ReferenceError
        // ex.type = not_defined
        // ex.arguments = ['aa']
        // ex.stack = ...stack trace...
        //
        // INTERNET EXPLORER:
        // ex.message = ...
        // ex.name = ReferenceError
        //
        // OPERA:
        // ex.message = ...message... (see the example below)
        // ex.name = ReferenceError
        // ex.opera#sourceloc = 11  (pretty much useless, duplicates the info in ex.message)
        // ex.stacktrace = n/a; see 'opera:config#UserPrefs|Exceptions Have Stacktrace'
        /**
         * Computes stack trace information from the stack property.
         * Chrome and Gecko use this property.
         * @param {Error} ex
         * @return {?StackTrace} Stack trace information.
         * @memberof computeStackTrace
         */
        function computeStackTraceFromStackProp(ex) {
          var stacktrace = tryToGetString(ex, "stack");
          if (!stacktrace) {
            return;
          }
          // eslint-disable-next-line  max-len
          var chrome =
            /^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i;
          // eslint-disable-next-line  max-len
          var gecko =
            /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i;
          // eslint-disable-next-line  max-len
          var winjs =
            /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;
          // Used to additionally parse URL/line/column from eval frames
          var isEval;
          var geckoEval = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i;
          var chromeEval = /\((\S*)(?::(\d+))(?::(\d+))\)/;
          var lines = stacktrace.split("\n");
          var stack = [];
          var submatch;
          var parts;
          var element;
          for (var i = 0, j = lines.length; i < j; i += 1) {
            if (chrome.exec(lines[i])) {
              parts = chrome.exec(lines[i]);
              var isNative = parts[2] && parts[2].indexOf("native") === 0; // start of line
              isEval = parts[2] && parts[2].indexOf("eval") === 0; // start of line
              submatch = chromeEval.exec(parts[2]);
              if (isEval && submatch) {
                // throw out eval line/column and use top-most line/column number
                parts[2] = submatch[1]; // url
                parts[3] = submatch[2]; // line
                parts[4] = submatch[3]; // column
              }
              element = {
                args: isNative ? [parts[2]] : [],
                column: parts[4] ? +parts[4] : undefined,
                func: parts[1] || UNKNOWN_FUNCTION,
                line: parts[3] ? +parts[3] : undefined,
                url: !isNative ? parts[2] : undefined,
              };
            } else if (winjs.exec(lines[i])) {
              parts = winjs.exec(lines[i]);
              element = {
                args: [],
                column: parts[4] ? +parts[4] : undefined,
                func: parts[1] || UNKNOWN_FUNCTION,
                line: +parts[3],
                url: parts[2],
              };
            } else if (gecko.exec(lines[i])) {
              parts = gecko.exec(lines[i]);
              isEval = parts[3] && parts[3].indexOf(" > eval") > -1;
              submatch = geckoEval.exec(parts[3]);
              if (isEval && submatch) {
                // throw out eval line/column and use top-most line number
                parts[3] = submatch[1];
                parts[4] = submatch[2];
                parts[5] = undefined; // no column when eval
              } else if (
                i === 0 &&
                !parts[5] &&
                !isUndefined(ex.columnNumber)
              ) {
                // FireFox uses this awesome columnNumber property for its top frame
                // Also note, Firefox's column number is 0-based and everything else expects 1-based,
                // so adding 1
                // NOTE: this hack doesn't work if top-most frame is eval
                stack[0].column = ex.columnNumber + 1;
              }
              element = {
                args: parts[2] ? parts[2].split(",") : [],
                column: parts[5] ? +parts[5] : undefined,
                func: parts[1] || UNKNOWN_FUNCTION,
                line: parts[4] ? +parts[4] : undefined,
                url: parts[3],
              };
            } else {
              continue;
            }
            if (!element.func && element.line) {
              element.func = UNKNOWN_FUNCTION;
            }
            stack.push(element);
          }
          if (!stack.length) {
            return;
          }
          return {
            stack: stack,
            message: tryToGetString(ex, "message"),
            name: tryToGetString(ex, "name"),
          };
        }
        /**
         * Computes stack trace information from the stacktrace property.
         * Opera 10+ uses this property.
         * @param {Error} ex
         * @return {?StackTrace} Stack trace information.
         * @memberof computeStackTrace
         */
        function computeStackTraceFromStacktraceProp(ex) {
          // Access and store the stacktrace property before doing ANYTHING
          // else to it because Opera is not very good at providing it
          // reliably in other circumstances.
          var stacktrace = tryToGetString(ex, "stacktrace");
          if (!stacktrace) {
            return;
          }
          var opera10Regex =
            / line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i;
          // eslint-disable-next-line  max-len
          var opera11Regex =
            / line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i;
          var lines = stacktrace.split("\n");
          var stack = [];
          var parts;
          for (var line = 0; line < lines.length; line += 2) {
            var element = void 0;
            if (opera10Regex.exec(lines[line])) {
              parts = opera10Regex.exec(lines[line]);
              element = {
                args: [],
                column: undefined,
                func: parts[3],
                line: +parts[1],
                url: parts[2],
              };
            } else if (opera11Regex.exec(lines[line])) {
              parts = opera11Regex.exec(lines[line]);
              element = {
                args: parts[5] ? parts[5].split(",") : [],
                column: +parts[2],
                func: parts[3] || parts[4],
                line: +parts[1],
                url: parts[6],
              };
            }
            if (element) {
              if (!element.func && element.line) {
                element.func = UNKNOWN_FUNCTION;
              }
              element.context = [lines[line + 1]];
              stack.push(element);
            }
          }
          if (!stack.length) {
            return;
          }
          return {
            stack: stack,
            message: tryToGetString(ex, "message"),
            name: tryToGetString(ex, "name"),
          };
        }
        /**
         * NOT TESTED.
         * Computes stack trace information from an error message that includes
         * the stack trace.
         * Opera 9 and earlier use this method if the option to show stack
         * traces is turned on in opera:config.
         * @param {Error} ex
         * @return {?StackTrace} Stack information.
         * @memberof computeStackTrace
         */
        function computeStackTraceFromOperaMultiLineMessage(ex) {
          // TODO: Clean this function up
          // Opera includes a stack trace into the exception message. An example is:
          //
          // Statement on line 3: Undefined variable: undefinedFunc
          // Backtrace:
          //   Line 3 of linked script file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.js:
          //   In function zzz
          //         undefinedFunc(a);
          //   Line 7 of inline#1 script in file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.html:
          //   In function yyy
          //           zzz(x, y, z);
          //   Line 3 of inline#1 script in file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.html:
          //   In function xxx
          //           yyy(a, a, a);
          //   Line 1 of function script
          //     try { xxx('hi'); return false; } catch(ex) { report(ex); }
          //   ...
          var message = tryToGetString(ex, "message");
          if (!message) {
            return;
          }
          var lines = message.split("\n");
          if (lines.length < 4) {
            return;
          }
          var lineRE1 =
            /^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i;
          var lineRE2 =
            /^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i;
          var lineRE3 = /^\s*Line (\d+) of function script\s*$/i;
          var stack = [];
          var scripts =
            window &&
            window.document &&
            window.document.getElementsByTagName("script");
          var inlineScriptBlocks = [];
          var parts;
          for (var s in scripts) {
            if (has(scripts, s) && !scripts[s].src) {
              inlineScriptBlocks.push(scripts[s]);
            }
          }
          for (var line = 2; line < lines.length; line += 2) {
            var item = void 0;
            if (lineRE1.exec(lines[line])) {
              parts = lineRE1.exec(lines[line]);
              item = {
                args: [],
                column: undefined,
                func: parts[3],
                line: +parts[1],
                url: parts[2],
              };
            } else if (lineRE2.exec(lines[line])) {
              parts = lineRE2.exec(lines[line]);
              item = {
                args: [],
                column: undefined,
                func: parts[4],
                line: +parts[1],
                url: parts[3],
              };
            } else if (lineRE3.exec(lines[line])) {
              parts = lineRE3.exec(lines[line]);
              var url = window.location.href.replace(/#.*$/, "");
              item = {
                url: url,
                args: [],
                column: undefined,
                func: "",
                line: +parts[1],
              };
            }
            if (item) {
              if (!item.func) {
                item.func = UNKNOWN_FUNCTION;
              }
              item.context = [lines[line + 1]];
              stack.push(item);
            }
          }
          if (!stack.length) {
            return; // could not parse multiline exception message as Opera stack trace
          }
          return {
            stack: stack,
            message: lines[0],
            name: tryToGetString(ex, "name"),
          };
        }
        /**
         * Adds information about the first frame to incomplete stack traces.
         * Safari and IE require this to get complete data on the first frame.
         * @param {StackTrace} stackInfo Stack trace information from
         * one of the compute* methods.
         * @param {string=} url The URL of the script that caused an error.
         * @param {(number|string)=} lineNo The line number of the script that
         * caused an error.
         * @param {string=} message The error generated by the browser, which
         * hopefully contains the name of the object that caused the error.
         * @return {boolean} Whether or not the stack information was
         * augmented.
         * @memberof computeStackTrace
         */
        function augmentStackTraceWithInitialElement(stackInfo, url, lineNo) {
          var initial = {
            url: url,
            line: lineNo ? +lineNo : undefined,
          };
          if (initial.url && initial.line) {
            stackInfo.incomplete = false;
            var stack = stackInfo.stack;
            if (stack.length > 0) {
              if (stack[0].url === initial.url) {
                if (stack[0].line === initial.line) {
                  return false; // already in stack trace
                }
                if (!stack[0].line && stack[0].func === initial.func) {
                  stack[0].line = initial.line;
                  stack[0].context = initial.context;
                  return false;
                }
              }
            }
            stack.unshift(initial);
            stackInfo.partial = true;
            return true;
          }
          stackInfo.incomplete = true;
          return false;
        }
        /**
         * Computes stack trace information by walking the arguments.caller
         * chain at the time the exception occurred. This will cause earlier
         * frames to be missed but is the only way to get any stack trace in
         * Safari and IE. The top frame is restored by
         * {@link augmentStackTraceWithInitialElement}.
         * @param {Error} ex
         * @param {number} depth
         * @return {StackTrace} Stack trace information.
         * @memberof computeStackTrace
         */
        function computeStackTraceByWalkingCallerChain(ex, depth) {
          var functionName =
            /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i;
          var stack = [];
          var funcs = {};
          var recursion = false;
          var parts;
          var item;
          for (
            var curr = computeStackTraceByWalkingCallerChain.caller;
            curr && !recursion;
            curr = curr.caller
          ) {
            if (curr === computeStackTrace) {
              continue;
            }
            item = {
              args: [],
              column: undefined,
              func: UNKNOWN_FUNCTION,
              line: undefined,
              url: undefined,
            };
            parts = functionName.exec(curr.toString());
            if (curr.name) {
              item.func = curr.name;
            } else if (parts) {
              item.func = parts[1];
            }
            if (typeof item.func === "undefined") {
              item.func = parts
                ? parts.input.substring(0, parts.input.indexOf("{"))
                : undefined;
            }
            if (funcs[curr.toString()]) {
              recursion = true;
            } else {
              funcs[curr.toString()] = true;
            }
            stack.push(item);
          }
          if (depth) {
            stack.splice(0, depth);
          }
          var result = {
            stack: stack,
            message: tryToGetString(ex, "message"),
            name: tryToGetString(ex, "name"),
          };
          augmentStackTraceWithInitialElement(
            result,
            tryToGetString(ex, "sourceURL") || tryToGetString(ex, "fileName"),
            tryToGetString(ex, "line") || tryToGetString(ex, "lineNumber")
          );
          return result;
        }
        function tryToGetString(candidate, property) {
          if (
            typeof candidate !== "object" ||
            !candidate ||
            !(property in candidate)
          ) {
            return undefined;
          }
          var value = candidate[property];
          return typeof value === "string" ? value : undefined;
        }
        /**
         * Logs a stacktrace starting from the previous call and working down.
         * @param {(number|string)=} depth How many frames deep to trace.
         * @return {StackTrace} Stack trace information.
         * @memberof computeStackTrace
         */
        function computeStackTraceOfCaller(depth) {
          var currentDepth = (depth === undefined ? 0 : +depth) + 1; // "+ 1" because "ofCaller" should drop one frame
          try {
            throw new Error();
          } catch (ex) {
            return computeStackTrace(ex, currentDepth + 1);
          }
        }
        /**
         * A better form of hasOwnProperty<br/>
         * Example: `has(MainHostObject, property) === true/false`
         *
         * @param {Object} object to check property
         * @param {string} key to check
         * @return {Boolean} true if the object has the key and it is not inherited
         */
        function has(object, key) {
          return Object.prototype.hasOwnProperty.call(object, key);
        }
        /**
         * Returns true if the parameter is undefined<br/>
         * Example: `isUndefined(val) === true/false`
         *
         * @param {*} what Value to check
         * @return {Boolean} true if undefined and false otherwise
         */
        function isUndefined(what) {
          return typeof what === "undefined";
        }

        /***/
      },

    /***/ "../core/src/domain/tracekit/tracekit.ts":
      /*!***********************************************!*\
  !*** ../core/src/domain/tracekit/tracekit.ts ***!
  \***********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startUnhandledErrorCollection: function () {
            return /* binding */ startUnhandledErrorCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../tools/instrumentMethod */ "../core/src/tools/instrumentMethod.ts"
          );
        /* harmony import */ var _computeStackTrace__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./computeStackTrace */ "../core/src/domain/tracekit/computeStackTrace.ts"
          );

        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types
        // eslint-disable-next-line  max-len
        var ERROR_TYPES_RE =
          /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;
        /**
         * Cross-browser collection of unhandled errors
         *
         * Supports:
         * - Firefox: full stack trace with line numbers, plus column number
         * on top frame; column number is not guaranteed
         * - Opera: full stack trace with line and column numbers
         * - Chrome: full stack trace with line and column numbers
         * - Safari: line and column number for the top frame only; some frames
         * may be missing, and column number is not guaranteed
         * - IE: line and column number for the top frame only; some frames
         * may be missing, and column number is not guaranteed
         *
         * In theory, TraceKit should work on all of the following versions:
         * - IE5.5+ (only 8.0 tested)
         * - Firefox 0.9+ (only 3.5+ tested)
         * - Opera 7+ (only 10.50 tested; versions 9 and earlier may require
         * Exceptions Have Stacktrace to be enabled in opera:config)
         * - Safari 3+ (only 4+ tested)
         * - Chrome 1+ (only 5+ tested)
         * - Konqueror 3.5+ (untested)
         *
         * Tries to catch all unhandled errors and report them to the
         * callback.
         *
         * Callbacks receive a StackTrace object as described in the
         * computeStackTrace docs.
         *
         * @memberof TraceKit
         * @namespace
         */
        function startUnhandledErrorCollection(callback) {
          var stopInstrumentingOnError = instrumentOnError(callback).stop;
          var stopInstrumentingOnUnhandledRejection =
            instrumentUnhandledRejection(callback).stop;
          return {
            stop: function () {
              stopInstrumentingOnError();
              stopInstrumentingOnUnhandledRejection();
            },
          };
        }
        /**
         * Install a global onerror handler
         */
        function instrumentOnError(callback) {
          return (0,
          _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(
            window,
            "onerror",
            {
              before: function (message, url, lineNo, columnNo, errorObj) {
                var stack;
                if (errorObj) {
                  stack = (0,
                  _computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(
                    errorObj
                  );
                  callback(stack, errorObj);
                } else {
                  var location_1 = {
                    url: url,
                    column: columnNo,
                    line: lineNo,
                  };
                  var name_1;
                  var msg = message;
                  if ({}.toString.call(message) === "[object String]") {
                    var groups = ERROR_TYPES_RE.exec(msg);
                    if (groups) {
                      name_1 = groups[1];
                      msg = groups[2];
                    }
                  }
                  stack = {
                    name: name_1,
                    message: typeof msg === "string" ? msg : undefined,
                    stack: [location_1],
                  };
                  callback(stack, message);
                }
              },
            }
          );
        }
        /**
         * Install a global onunhandledrejection handler
         */
        function instrumentUnhandledRejection(callback) {
          return (0,
          _tools_instrumentMethod__WEBPACK_IMPORTED_MODULE_0__.instrumentMethodAndCallOriginal)(
            window,
            "onunhandledrejection",
            {
              before: function (e) {
                var reason = e.reason || "Empty reason";
                var stack = (0,
                _computeStackTrace__WEBPACK_IMPORTED_MODULE_1__.computeStackTrace)(
                  reason
                );
                callback(stack, reason);
              },
            }
          );
        }

        /***/
      },

    /***/ "../core/src/tools/boundedBuffer.ts":
      /*!******************************************!*\
  !*** ../core/src/tools/boundedBuffer.ts ***!
  \******************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ BoundedBuffer: function () {
            return /* binding */ BoundedBuffer;
          },
          /* harmony export */
        });
        var DEFAULT_LIMIT = 10000;
        var BoundedBuffer = /** @class */ (function () {
          function BoundedBuffer(limit) {
            if (limit === void 0) {
              limit = DEFAULT_LIMIT;
            }
            this.limit = limit;
            this.buffer = [];
          }
          BoundedBuffer.prototype.add = function (callback) {
            var length = this.buffer.push(callback);
            if (length > this.limit) {
              this.buffer.splice(0, 1);
            }
          };
          BoundedBuffer.prototype.drain = function () {
            this.buffer.forEach(function (callback) {
              return callback();
            });
            this.buffer.length = 0;
          };
          return BoundedBuffer;
        })();

        /***/
      },

    /***/ "../core/src/tools/browserDetection.ts":
      /*!*********************************************!*\
  !*** ../core/src/tools/browserDetection.ts ***!
  \*********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ isIE: function () {
            return /* binding */ isIE;
          },
          /* harmony export */
        });
        function isIE() {
          return Boolean(document.documentMode);
        }

        /***/
      },

    /***/ "../core/src/tools/catchUserErrors.ts":
      /*!********************************************!*\
  !*** ../core/src/tools/catchUserErrors.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ catchUserErrors: function () {
            return /* binding */ catchUserErrors;
          },
          /* harmony export */
        });
        /* harmony import */ var _display__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ./display */ "../core/src/tools/display.ts");

        function catchUserErrors(fn, errorMsg) {
          return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            try {
              return fn.apply(void 0, args);
            } catch (err) {
              _display__WEBPACK_IMPORTED_MODULE_0__.display.error(
                errorMsg,
                err
              );
            }
          };
        }

        /***/
      },

    /***/ "../core/src/tools/contextManager.ts":
      /*!*******************************************!*\
  !*** ../core/src/tools/contextManager.ts ***!
  \*******************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ createContextManager: function () {
            return /* binding */ createContextManager;
          },
          /* harmony export */
        });
        function createContextManager() {
          var context = {};
          return {
            get: function () {
              return context;
            },
            add: function (key, value) {
              context[key] = value;
            },
            remove: function (key) {
              delete context[key];
            },
            set: function (newContext) {
              context = newContext;
            },
          };
        }

        /***/
      },

    /***/ "../core/src/tools/createEventRateLimiter.ts":
      /*!***************************************************!*\
  !*** ../core/src/tools/createEventRateLimiter.ts ***!
  \***************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ createEventRateLimiter: function () {
            return /* binding */ createEventRateLimiter;
          },
          /* harmony export */
        });
        /* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! .. */ "../core/src/tools/utils.ts");
        /* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! .. */ "../core/src/tools/error.ts");
        /* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(/*! .. */ "../core/src/tools/timeUtils.ts");

        function createEventRateLimiter(eventType, limit, onLimitReached) {
          var eventCount = 0;
          var allowNextEvent = false;
          return {
            isLimitReached: function () {
              if (eventCount === 0) {
                setTimeout(function () {
                  eventCount = 0;
                }, ___WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE);
              }
              eventCount += 1;
              if (eventCount <= limit || allowNextEvent) {
                allowNextEvent = false;
                return false;
              }
              if (eventCount === limit + 1) {
                allowNextEvent = true;
                try {
                  onLimitReached({
                    message:
                      "Reached max number of " +
                      eventType +
                      "s by minute: " +
                      limit,
                    source: ___WEBPACK_IMPORTED_MODULE_1__.ErrorSource.AGENT,
                    startClocks: (0,
                    ___WEBPACK_IMPORTED_MODULE_2__.clocksNow)(),
                  });
                } finally {
                  allowNextEvent = false;
                }
              }
              return true;
            },
          };
        }

        /***/
      },

    /***/ "../core/src/tools/display.ts":
      /*!************************************!*\
  !*** ../core/src/tools/display.ts ***!
  \************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ display: function () {
            return /* binding */ display;
          },
          /* harmony export */
        });
        /* eslint-disable no-console, local-rules/disallow-side-effects */
        /**
         * Keep references on console methods to avoid triggering patched behaviors
         *
         * NB: in some setup, console could already be patched by another SDK.
         * In this case, some display messages can be sent by the other SDK
         * but we should be safe from infinite loop nonetheless.
         */
        var display = {
          log: console.log.bind(console),
          warn: console.warn.bind(console),
          error: console.error.bind(console),
        };

        /***/
      },

    /***/ "../core/src/tools/error.ts":
      /*!**********************************!*\
  !*** ../core/src/tools/error.ts ***!
  \**********************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ ErrorSource: function () {
            return /* binding */ ErrorSource;
          },
          /* harmony export */ ErrorHandling: function () {
            return /* binding */ ErrorHandling;
          },
          /* harmony export */ formatUnknownError: function () {
            return /* binding */ formatUnknownError;
          },
          /* harmony export */ toStackTraceString: function () {
            return /* binding */ toStackTraceString;
          },
          /* harmony export */ formatErrorMessage: function () {
            return /* binding */ formatErrorMessage;
          },
          /* harmony export */ createHandlingStack: function () {
            return /* binding */ createHandlingStack;
          },
          /* harmony export */
        });
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _domain_tracekit__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../domain/tracekit */ "../core/src/domain/tracekit/computeStackTrace.ts"
          );
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ./utils */ "../core/src/tools/utils.ts");

        var ErrorSource = {
          AGENT: "agent",
          CONSOLE: "console",
          CUSTOM: "custom",
          LOGGER: "logger",
          NETWORK: "network",
          SOURCE: "source",
        };
        var ErrorHandling;
        (function (ErrorHandling) {
          ErrorHandling["HANDLED"] = "handled";
          ErrorHandling["UNHANDLED"] = "unhandled";
        })(ErrorHandling || (ErrorHandling = {}));
        function formatUnknownError(
          stackTrace,
          errorObject,
          nonErrorPrefix,
          handlingStack
        ) {
          if (
            !stackTrace ||
            (stackTrace.message === undefined &&
              !(errorObject instanceof Error))
          ) {
            return {
              message:
                nonErrorPrefix +
                " " +
                (0, _utils__WEBPACK_IMPORTED_MODULE_0__.jsonStringify)(
                  errorObject
                ),
              stack: "No stack, consider using an instance of Error",
              handlingStack: handlingStack,
              type: stackTrace && stackTrace.name,
            };
          }
          return {
            message: stackTrace.message || "Empty message",
            stack: toStackTraceString(stackTrace),
            handlingStack: handlingStack,
            type: stackTrace.name,
          };
        }
        function toStackTraceString(stack) {
          var result = formatErrorMessage(stack);
          stack.stack.forEach(function (frame) {
            var func = frame.func === "?" ? "<anonymous>" : frame.func;
            var args =
              frame.args && frame.args.length > 0
                ? "(" + frame.args.join(", ") + ")"
                : "";
            var line = frame.line ? ":" + frame.line : "";
            var column = frame.line && frame.column ? ":" + frame.column : "";
            result +=
              "\n  at " + func + args + " @ " + frame.url + line + column;
          });
          return result;
        }
        function formatErrorMessage(stack) {
          return (stack.name || "Error") + ": " + stack.message;
        }
        /**
 Creates a stacktrace without SDK internal frames.

 Constraints:
 - Has to be called at the utmost position of the call stack.
 - No internal monitoring should encapsulate the function, that is why we need to use callMonitored inside of it.
 */
        function createHandlingStack() {
          /**
           * Skip the two internal frames:
           * - SDK API (console.error, ...)
           * - this function
           * in order to keep only the user calls
           */
          var internalFramesToSkip = 2;
          var error = new Error();
          var formattedStack;
          // IE needs to throw the error to fill in the stack trace
          if (!error.stack) {
            try {
              throw error;
            } catch (e) {
              (0, _utils__WEBPACK_IMPORTED_MODULE_0__.noop)();
            }
          }
          (0,
          _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_1__.callMonitored)(
            function () {
              var stackTrace = (0,
              _domain_tracekit__WEBPACK_IMPORTED_MODULE_2__.computeStackTrace)(
                error
              );
              stackTrace.stack = stackTrace.stack.slice(internalFramesToSkip);
              formattedStack = toStackTraceString(stackTrace);
            }
          );
          return formattedStack;
        }

        /***/
      },

    /***/ "../core/src/tools/instrumentMethod.ts":
      /*!*********************************************!*\
  !*** ../core/src/tools/instrumentMethod.ts ***!
  \*********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ instrumentMethod: function () {
            return /* binding */ instrumentMethod;
          },
          /* harmony export */ instrumentMethodAndCallOriginal: function () {
            return /* binding */ instrumentMethodAndCallOriginal;
          },
          /* harmony export */
        });
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );

        function instrumentMethod(object, method, instrumentationFactory) {
          var original = object[method];
          var instrumentation = instrumentationFactory(original);
          var instrumentationWrapper = function () {
            // eslint-disable-next-line @typescript-eslint/no-unsafe-return
            return instrumentation.apply(this, arguments);
          };
          object[method] = instrumentationWrapper;
          return {
            stop: function () {
              if (object[method] === instrumentationWrapper) {
                object[method] = original;
              } else {
                instrumentation = original;
              }
            },
          };
        }
        function instrumentMethodAndCallOriginal(object, method, _a) {
          var before = _a.before,
            after = _a.after;
          return instrumentMethod(object, method, function (original) {
            return function () {
              var args = arguments;
              var result;
              if (before) {
                (0,
                _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(
                  before,
                  this,
                  args
                );
              }
              if (typeof original === "function") {
                // eslint-disable-next-line @typescript-eslint/no-unsafe-call
                result = original.apply(this, args);
              }
              if (after) {
                (0,
                _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__.callMonitored)(
                  after,
                  this,
                  args
                );
              }
              // eslint-disable-next-line @typescript-eslint/no-unsafe-return
              return result;
            };
          });
        }

        /***/
      },

    /***/ "../core/src/tools/limitModification.ts":
      /*!**********************************************!*\
  !*** ../core/src/tools/limitModification.ts ***!
  \**********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ limitModification: function () {
            return /* binding */ limitModification;
          },
          /* harmony export */
        });
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ./utils */ "../core/src/tools/utils.ts");

        /**
         * Current limitation:
         * - field path do not support array, 'a.b.c' only
         */
        function limitModification(object, modifiableFieldPaths, modifier) {
          var clone = (0, _utils__WEBPACK_IMPORTED_MODULE_0__.deepClone)(
            object
          );
          var result = modifier(clone);
          modifiableFieldPaths.forEach(function (path) {
            var originalValue = get(object, path);
            var newValue = get(clone, path);
            var originalType = (0, _utils__WEBPACK_IMPORTED_MODULE_0__.getType)(
              originalValue
            );
            var newType = (0, _utils__WEBPACK_IMPORTED_MODULE_0__.getType)(
              newValue
            );
            if (newType === originalType) {
              set(object, path, newValue);
            } else if (
              originalType === "object" &&
              (newType === "undefined" || newType === "null")
            ) {
              set(object, path, {});
            }
          });
          return result;
        }
        function get(object, path) {
          var current = object;
          for (var _i = 0, _a = path.split("."); _i < _a.length; _i++) {
            var field = _a[_i];
            if (!isValidObjectContaining(current, field)) {
              return;
            }
            current = current[field];
          }
          return current;
        }
        function set(object, path, value) {
          var current = object;
          var fields = path.split(".");
          for (var i = 0; i < fields.length; i += 1) {
            var field = fields[i];
            if (!isValidObjectContaining(current, field)) {
              return;
            }
            if (i !== fields.length - 1) {
              current = current[field];
            } else {
              current[field] = value;
            }
          }
        }
        function isValidObjectContaining(object, field) {
          return (
            typeof object === "object" && object !== null && field in object
          );
        }

        /***/
      },

    /***/ "../core/src/tools/observable.ts":
      /*!***************************************!*\
  !*** ../core/src/tools/observable.ts ***!
  \***************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ Observable: function () {
            return /* binding */ Observable;
          },
          /* harmony export */
        });
        var Observable = /** @class */ (function () {
          function Observable(onFirstSubscribe) {
            this.onFirstSubscribe = onFirstSubscribe;
            this.observers = [];
          }
          Observable.prototype.subscribe = function (f) {
            var _this = this;
            if (!this.observers.length && this.onFirstSubscribe) {
              this.onLastUnsubscribe = this.onFirstSubscribe() || undefined;
            }
            this.observers.push(f);
            return {
              unsubscribe: function () {
                _this.observers = _this.observers.filter(function (other) {
                  return f !== other;
                });
                if (!_this.observers.length && _this.onLastUnsubscribe) {
                  _this.onLastUnsubscribe();
                }
              },
            };
          };
          Observable.prototype.notify = function (data) {
            this.observers.forEach(function (observer) {
              return observer(data);
            });
          };
          return Observable;
        })();

        /***/
      },

    /***/ "../core/src/tools/timeUtils.ts":
      /*!**************************************!*\
  !*** ../core/src/tools/timeUtils.ts ***!
  \**************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ relativeToClocks: function () {
            return /* binding */ relativeToClocks;
          },
          /* harmony export */ currentDrift: function () {
            return /* binding */ currentDrift;
          },
          /* harmony export */ toServerDuration: function () {
            return /* binding */ toServerDuration;
          },
          /* harmony export */ timeStampNow: function () {
            return /* binding */ timeStampNow;
          },
          /* harmony export */ relativeNow: function () {
            return /* binding */ relativeNow;
          },
          /* harmony export */ clocksNow: function () {
            return /* binding */ clocksNow;
          },
          /* harmony export */ clocksOrigin: function () {
            return /* binding */ clocksOrigin;
          },
          /* harmony export */ elapsed: function () {
            return /* binding */ elapsed;
          },
          /* harmony export */ getRelativeTime: function () {
            return /* binding */ getRelativeTime;
          },
          /* harmony export */ getTimeStamp: function () {
            return /* binding */ getTimeStamp;
          },
          /* harmony export */ looksLikeRelativeTime: function () {
            return /* binding */ looksLikeRelativeTime;
          },
          /* harmony export */ resetNavigationStart: function () {
            return /* binding */ resetNavigationStart;
          },
          /* harmony export */
        });
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ./utils */ "../core/src/tools/utils.ts");

        function relativeToClocks(relative) {
          return {
            relative: relative,
            timeStamp: getCorrectedTimeStamp(relative),
          };
        }
        function getCorrectedTimeStamp(relativeTime) {
          var correctedOrigin = Date.now() - performance.now();
          // apply correction only for positive drift
          if (correctedOrigin > getNavigationStart()) {
            // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
            return Math.round(correctedOrigin + relativeTime);
          }
          return getTimeStamp(relativeTime);
        }
        function currentDrift() {
          // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
          return Math.round(
            Date.now() - (getNavigationStart() + performance.now())
          );
        }
        function toServerDuration(duration) {
          if (!(0, _utils__WEBPACK_IMPORTED_MODULE_0__.isNumber)(duration)) {
            return duration;
          }
          return (0, _utils__WEBPACK_IMPORTED_MODULE_0__.round)(
            duration * 1e6,
            0
          );
        }
        function timeStampNow() {
          return Date.now();
        }
        function relativeNow() {
          return performance.now();
        }
        function clocksNow() {
          return { relative: relativeNow(), timeStamp: timeStampNow() };
        }
        function clocksOrigin() {
          return { relative: 0, timeStamp: getNavigationStart() };
        }
        function elapsed(start, end) {
          return end - start;
        }
        /**
         * Get the time since the navigation was started.
         *
         * Note: this does not use `performance.timeOrigin` because it doesn't seem to reflect the actual
         * time on which the navigation has started: it may be much farther in the past, at least in Firefox 71.
         * Related issue in Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1429926
         */
        function getRelativeTime(timestamp) {
          return timestamp - getNavigationStart();
        }
        function getTimeStamp(relativeTime) {
          // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
          return Math.round(getNavigationStart() + relativeTime);
        }
        function looksLikeRelativeTime(time) {
          return time < _utils__WEBPACK_IMPORTED_MODULE_0__.ONE_YEAR;
        }
        /**
         * Navigation start slightly change on some rare cases
         */
        var navigationStart;
        function getNavigationStart() {
          if (navigationStart === undefined) {
            navigationStart = performance.timing.navigationStart;
          }
          return navigationStart;
        }
        function resetNavigationStart() {
          navigationStart = undefined;
        }

        /***/
      },

    /***/ "../core/src/tools/urlPolyfill.ts":
      /*!****************************************!*\
  !*** ../core/src/tools/urlPolyfill.ts ***!
  \****************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ normalizeUrl: function () {
            return /* binding */ normalizeUrl;
          },
          /* harmony export */ isValidUrl: function () {
            return /* binding */ isValidUrl;
          },
          /* harmony export */ haveSameOrigin: function () {
            return /* binding */ haveSameOrigin;
          },
          /* harmony export */ getOrigin: function () {
            return /* binding */ getOrigin;
          },
          /* harmony export */ getPathName: function () {
            return /* binding */ getPathName;
          },
          /* harmony export */ getSearch: function () {
            return /* binding */ getSearch;
          },
          /* harmony export */ getHash: function () {
            return /* binding */ getHash;
          },
          /* harmony export */ buildUrl: function () {
            return /* binding */ buildUrl;
          },
          /* harmony export */
        });
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ./utils */ "../core/src/tools/utils.ts");

        function normalizeUrl(url) {
          return buildUrl(
            url,
            (0, _utils__WEBPACK_IMPORTED_MODULE_0__.getLocationOrigin)()
          ).href;
        }
        function isValidUrl(url) {
          try {
            return !!buildUrl(url);
          } catch (_a) {
            return false;
          }
        }
        function haveSameOrigin(url1, url2) {
          return getOrigin(url1) === getOrigin(url2);
        }
        function getOrigin(url) {
          return (0, _utils__WEBPACK_IMPORTED_MODULE_0__.getLinkElementOrigin)(
            buildUrl(url)
          );
        }
        function getPathName(url) {
          var pathname = buildUrl(url).pathname;
          return pathname[0] === "/" ? pathname : "/" + pathname;
        }
        function getSearch(url) {
          return buildUrl(url).search;
        }
        function getHash(url) {
          return buildUrl(url).hash;
        }
        function buildUrl(url, base) {
          if (checkURLSupported()) {
            return base !== undefined ? new URL(url, base) : new URL(url);
          }
          if (base === undefined && !/:/.test(url)) {
            throw new Error("Invalid URL: '" + url + "'");
          }
          var doc = document;
          var anchorElement = doc.createElement("a");
          if (base !== undefined) {
            doc = document.implementation.createHTMLDocument("");
            var baseElement = doc.createElement("base");
            baseElement.href = base;
            doc.head.appendChild(baseElement);
            doc.body.appendChild(anchorElement);
          }
          anchorElement.href = url;
          return anchorElement;
        }
        var isURLSupported;
        function checkURLSupported() {
          if (isURLSupported !== undefined) {
            return isURLSupported;
          }
          try {
            var url = new URL("http://test/path");
            isURLSupported = url.href === "http://test/path";
            return isURLSupported;
          } catch (_a) {
            isURLSupported = false;
          }
          return isURLSupported;
        }

        /***/
      },

    /***/ "../core/src/tools/utils.ts":
      /*!**********************************!*\
  !*** ../core/src/tools/utils.ts ***!
  \**********************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ ONE_SECOND: function () {
            return /* binding */ ONE_SECOND;
          },
          /* harmony export */ ONE_MINUTE: function () {
            return /* binding */ ONE_MINUTE;
          },
          /* harmony export */ ONE_HOUR: function () {
            return /* binding */ ONE_HOUR;
          },
          /* harmony export */ ONE_DAY: function () {
            return /* binding */ ONE_DAY;
          },
          /* harmony export */ ONE_YEAR: function () {
            return /* binding */ ONE_YEAR;
          },
          /* harmony export */ ONE_KILO_BYTE: function () {
            return /* binding */ ONE_KILO_BYTE;
          },
          /* harmony export */ ResourceType: function () {
            return /* binding */ ResourceType;
          },
          /* harmony export */ RequestType: function () {
            return /* binding */ RequestType;
          },
          /* harmony export */ throttle: function () {
            return /* binding */ throttle;
          },
          /* harmony export */ assign: function () {
            return /* binding */ assign;
          },
          /* harmony export */ generateUUID: function () {
            return /* binding */ generateUUID;
          },
          /* harmony export */ performDraw: function () {
            return /* binding */ performDraw;
          },
          /* harmony export */ round: function () {
            return /* binding */ round;
          },
          /* harmony export */ noop: function () {
            return /* binding */ noop;
          },
          /* harmony export */ jsonStringify: function () {
            return /* binding */ jsonStringify;
          },
          /* harmony export */ includes: function () {
            return /* binding */ includes;
          },
          /* harmony export */ find: function () {
            return /* binding */ find;
          },
          /* harmony export */ isPercentage: function () {
            return /* binding */ isPercentage;
          },
          /* harmony export */ isNumber: function () {
            return /* binding */ isNumber;
          },
          /* harmony export */ objectValues: function () {
            return /* binding */ objectValues;
          },
          /* harmony export */ objectHasValue: function () {
            return /* binding */ objectHasValue;
          },
          /* harmony export */ objectEntries: function () {
            return /* binding */ objectEntries;
          },
          /* harmony export */ isEmptyObject: function () {
            return /* binding */ isEmptyObject;
          },
          /* harmony export */ mapValues: function () {
            return /* binding */ mapValues;
          },
          /* harmony export */ getGlobalObject: function () {
            return /* binding */ getGlobalObject;
          },
          /* harmony export */ getLocationOrigin: function () {
            return /* binding */ getLocationOrigin;
          },
          /* harmony export */ getLinkElementOrigin: function () {
            return /* binding */ getLinkElementOrigin;
          },
          /* harmony export */ findCommaSeparatedValue: function () {
            return /* binding */ findCommaSeparatedValue;
          },
          /* harmony export */ safeTruncate: function () {
            return /* binding */ safeTruncate;
          },
          /* harmony export */ addEventListener: function () {
            return /* binding */ addEventListener;
          },
          /* harmony export */ addEventListeners: function () {
            return /* binding */ addEventListeners;
          },
          /* harmony export */ runOnReadyState: function () {
            return /* binding */ runOnReadyState;
          },
          /* harmony export */ getType: function () {
            return /* binding */ getType;
          },
          /* harmony export */ mergeInto: function () {
            return /* binding */ mergeInto;
          },
          /* harmony export */ deepClone: function () {
            return /* binding */ deepClone;
          },
          /* harmony export */ combine: function () {
            return /* binding */ combine;
          },
          /* harmony export */
        });
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );

        var ONE_SECOND = 1000;
        var ONE_MINUTE = 60 * ONE_SECOND;
        var ONE_HOUR = 60 * ONE_MINUTE;
        var ONE_DAY = 24 * ONE_HOUR;
        var ONE_YEAR = 365 * ONE_DAY;
        var ONE_KILO_BYTE = 1024;
        var ResourceType;
        (function (ResourceType) {
          ResourceType["DOCUMENT"] = "document";
          ResourceType["XHR"] = "xhr";
          ResourceType["BEACON"] = "beacon";
          ResourceType["FETCH"] = "fetch";
          ResourceType["CSS"] = "css";
          ResourceType["JS"] = "js";
          ResourceType["IMAGE"] = "image";
          ResourceType["FONT"] = "font";
          ResourceType["MEDIA"] = "media";
          ResourceType["OTHER"] = "other";
        })(ResourceType || (ResourceType = {}));
        var RequestType;
        (function (RequestType) {
          RequestType["FETCH"] = "fetch";
          RequestType["XHR"] = "xhr";
        })(RequestType || (RequestType = {}));
        // use lodash API
        function throttle(fn, wait, options) {
          var needLeadingExecution =
            options && options.leading !== undefined ? options.leading : true;
          var needTrailingExecution =
            options && options.trailing !== undefined ? options.trailing : true;
          var inWaitPeriod = false;
          var pendingExecutionWithParameters;
          var pendingTimeoutId;
          return {
            throttled: function () {
              var parameters = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                parameters[_i] = arguments[_i];
              }
              if (inWaitPeriod) {
                pendingExecutionWithParameters = parameters;
                return;
              }
              if (needLeadingExecution) {
                fn.apply(void 0, parameters);
              } else {
                pendingExecutionWithParameters = parameters;
              }
              inWaitPeriod = true;
              pendingTimeoutId = setTimeout(function () {
                if (needTrailingExecution && pendingExecutionWithParameters) {
                  fn.apply(void 0, pendingExecutionWithParameters);
                }
                inWaitPeriod = false;
                pendingExecutionWithParameters = undefined;
              }, wait);
            },
            cancel: function () {
              clearTimeout(pendingTimeoutId);
              inWaitPeriod = false;
              pendingExecutionWithParameters = undefined;
            },
          };
        }
        function assign(target) {
          var toAssign = [];
          for (var _i = 1; _i < arguments.length; _i++) {
            toAssign[_i - 1] = arguments[_i];
          }
          toAssign.forEach(function (source) {
            for (var key in source) {
              if (Object.prototype.hasOwnProperty.call(source, key)) {
                target[key] = source[key];
              }
            }
          });
        }
        /**
         * UUID v4
         * from https://gist.github.com/jed/982883
         */
        function generateUUID(placeholder) {
          return placeholder
            ? // eslint-disable-next-line  no-bitwise
              (
                parseInt(placeholder, 10) ^
                ((Math.random() * 16) >> (parseInt(placeholder, 10) / 4))
              ).toString(16)
            : (1e7 + "-" + 1e3 + "-" + 4e3 + "-" + 8e3 + "-" + 1e11).replace(
                /[018]/g,
                generateUUID
              );
        }
        /**
         * Return true if the draw is successful
         * @param threshold between 0 and 100
         */
        function performDraw(threshold) {
          return threshold !== 0 && Math.random() * 100 <= threshold;
        }
        function round(num, decimals) {
          return +num.toFixed(decimals);
        }
        // eslint-disable-next-line @typescript-eslint/no-empty-function
        function noop() {}
        /**
         * Custom implementation of JSON.stringify that ignores value.toJSON.
         * We need to do that because some sites badly override toJSON on certain objects.
         * Note this still supposes that JSON.stringify is correct...
         */
        function jsonStringify(value, replacer, space) {
          if (value === null || value === undefined) {
            return JSON.stringify(value);
          }
          var originalToJSON = [false, undefined];
          if (hasToJSON(value)) {
            // We need to add a flag and not rely on the truthiness of value.toJSON
            // because it can be set but undefined and that's actually significant.
            originalToJSON = [true, value.toJSON];
            delete value.toJSON;
          }
          var originalProtoToJSON = [false, undefined];
          var prototype;
          if (typeof value === "object") {
            prototype = Object.getPrototypeOf(value);
            if (hasToJSON(prototype)) {
              originalProtoToJSON = [true, prototype.toJSON];
              delete prototype.toJSON;
            }
          }
          var result;
          try {
            result = JSON.stringify(value, replacer, space);
          } catch (_a) {
            result = "<error: unable to serialize object>";
          } finally {
            if (originalToJSON[0]) {
              value.toJSON = originalToJSON[1];
            }
            if (originalProtoToJSON[0]) {
              prototype.toJSON = originalProtoToJSON[1];
            }
          }
          return result;
        }
        function hasToJSON(value) {
          return (
            typeof value === "object" &&
            value !== null &&
            value.hasOwnProperty("toJSON")
          );
        }
        function includes(candidate, search) {
          return candidate.indexOf(search) !== -1;
        }
        function find(array, predicate) {
          for (var i = 0; i < array.length; i += 1) {
            var item = array[i];
            if (predicate(item, i, array)) {
              return item;
            }
          }
          return undefined;
        }
        function isPercentage(value) {
          return isNumber(value) && value >= 0 && value <= 100;
        }
        function isNumber(value) {
          return typeof value === "number";
        }
        function objectValues(object) {
          return Object.keys(object).map(function (key) {
            return object[key];
          });
        }
        function objectHasValue(object, value) {
          return Object.keys(object).some(function (key) {
            return object[key] === value;
          });
        }
        function objectEntries(object) {
          return Object.keys(object).map(function (key) {
            return [key, object[key]];
          });
        }
        function isEmptyObject(object) {
          return Object.keys(object).length === 0;
        }
        function mapValues(object, fn) {
          var newObject = {};
          for (var _i = 0, _a = Object.keys(object); _i < _a.length; _i++) {
            var key = _a[_i];
            newObject[key] = fn(object[key]);
          }
          return newObject;
        }
        /**
         * inspired by https://mathiasbynens.be/notes/globalthis
         */
        function getGlobalObject() {
          if (typeof globalThis === "object") {
            return globalThis;
          }
          Object.defineProperty(Object.prototype, "_dd_temp_", {
            get: function () {
              return this;
            },
            configurable: true,
          });
          // @ts-ignore _dd_temp is defined using defineProperty
          var globalObject = _dd_temp_;
          // @ts-ignore _dd_temp is defined using defineProperty
          delete Object.prototype._dd_temp_;
          if (typeof globalObject !== "object") {
            // on safari _dd_temp_ is available on window but not globally
            // fallback on other browser globals check
            if (typeof self === "object") {
              globalObject = self;
            } else if (typeof window === "object") {
              globalObject = window;
            } else {
              globalObject = {};
            }
          }
          return globalObject;
        }
        function getLocationOrigin() {
          return getLinkElementOrigin(window.location);
        }
        /**
         * IE fallback
         * https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/origin
         */
        function getLinkElementOrigin(element) {
          if (element.origin) {
            return element.origin;
          }
          var sanitizedHost = element.host.replace(/(:80|:443)$/, "");
          return element.protocol + "//" + sanitizedHost;
        }
        function findCommaSeparatedValue(rawString, name) {
          var regex = new RegExp("(?:^|;)\\s*" + name + "\\s*=\\s*([^;]+)");
          var matches = regex.exec(rawString);
          return matches ? matches[1] : undefined;
        }
        function safeTruncate(candidate, length) {
          var lastChar = candidate.charCodeAt(length - 1);
          // check if it is the high part of a surrogate pair
          if (lastChar >= 0xd800 && lastChar <= 0xdbff) {
            return candidate.slice(0, length + 1);
          }
          return candidate.slice(0, length);
        }
        /**
         * Add an event listener to an event emitter object (Window, Element, mock object...).  This provides
         * a few conveniences compared to using `element.addEventListener` directly:
         *
         * * supports IE11 by: using an option object only if needed and emulating the `once` option
         *
         * * wraps the listener with a `monitor` function
         *
         * * returns a `stop` function to remove the listener
         */
        function addEventListener(emitter, event, listener, options) {
          return addEventListeners(emitter, [event], listener, options);
        }
        /**
         * Add event listeners to an event emitter object (Window, Element, mock object...).  This provides
         * a few conveniences compared to using `element.addEventListener` directly:
         *
         * * supports IE11 by: using an option object only if needed and emulating the `once` option
         *
         * * wraps the listener with a `monitor` function
         *
         * * returns a `stop` function to remove the listener
         *
         * * with `once: true`, the listener will be called at most once, even if different events are listened
         */
        function addEventListeners(emitter, events, listener, _a) {
          var _b = _a === void 0 ? {} : _a,
            once = _b.once,
            capture = _b.capture,
            passive = _b.passive;
          var wrappedListener = (0,
          _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__.monitor)(
            once
              ? function (event) {
                  stop();
                  listener(event);
                }
              : listener
          );
          var options = passive
            ? { capture: capture, passive: passive }
            : capture;
          events.forEach(function (event) {
            return emitter.addEventListener(event, wrappedListener, options);
          });
          var stop = function () {
            return events.forEach(function (event) {
              return emitter.removeEventListener(
                event,
                wrappedListener,
                options
              );
            });
          };
          return {
            stop: stop,
          };
        }
        function runOnReadyState(expectedReadyState, callback) {
          if (
            document.readyState === expectedReadyState ||
            document.readyState === "complete"
          ) {
            callback();
          } else {
            var eventName =
              expectedReadyState === "complete"
                ? "load" /* LOAD */
                : "DOMContentLoaded"; /* DOM_CONTENT_LOADED */
            addEventListener(window, eventName, callback, { once: true });
          }
        }
        /**
         * Similar to `typeof`, but distinguish plain objects from `null` and arrays
         */
        function getType(value) {
          if (value === null) {
            return "null";
          }
          if (Array.isArray(value)) {
            return "array";
          }
          return typeof value;
        }
        function createCircularReferenceChecker() {
          if (typeof WeakSet !== "undefined") {
            var set_1 = new WeakSet();
            return {
              hasAlreadyBeenSeen: function (value) {
                var has = set_1.has(value);
                if (!has) {
                  set_1.add(value);
                }
                return has;
              },
            };
          }
          var array = [];
          return {
            hasAlreadyBeenSeen: function (value) {
              var has = array.indexOf(value) >= 0;
              if (!has) {
                array.push(value);
              }
              return has;
            },
          };
        }
        /**
         * Iterate over source and affect its sub values into destination, recursively.
         * If the source and destination can't be merged, return source.
         */
        function mergeInto(destination, source, circularReferenceChecker) {
          if (circularReferenceChecker === void 0) {
            circularReferenceChecker = createCircularReferenceChecker();
          }
          // ignore the source if it is undefined
          if (source === undefined) {
            return destination;
          }
          if (typeof source !== "object" || source === null) {
            // primitive values - just return source
            return source;
          } else if (source instanceof Date) {
            return new Date(source.getTime());
          } else if (source instanceof RegExp) {
            var flags =
              source.flags ||
              // old browsers compatibility
              [
                source.global ? "g" : "",
                source.ignoreCase ? "i" : "",
                source.multiline ? "m" : "",
                source.sticky ? "y" : "",
                source.unicode ? "u" : "",
              ].join("");
            return new RegExp(source.source, flags);
          }
          if (circularReferenceChecker.hasAlreadyBeenSeen(source)) {
            // remove circular references
            return undefined;
          } else if (Array.isArray(source)) {
            var merged_1 = Array.isArray(destination) ? destination : [];
            for (var i = 0; i < source.length; ++i) {
              merged_1[i] = mergeInto(
                merged_1[i],
                source[i],
                circularReferenceChecker
              );
            }
            return merged_1;
          }
          var merged = getType(destination) === "object" ? destination : {};
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              merged[key] = mergeInto(
                merged[key],
                source[key],
                circularReferenceChecker
              );
            }
          }
          return merged;
        }
        /**
         * A simplistic implementation of a deep clone algorithm.
         * Caveats:
         * - It doesn't maintain prototype chains - don't use with instances of custom classes.
         * - It doesn't handle Map and Set
         */
        function deepClone(value) {
          return mergeInto(undefined, value);
        }
        function combine() {
          var sources = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            sources[_i] = arguments[_i];
          }
          var destination;
          for (var _a = 0, sources_1 = sources; _a < sources_1.length; _a++) {
            var source = sources_1[_a];
            // Ignore any undefined or null sources.
            if (source === undefined || source === null) {
              continue;
            }
            destination = mergeInto(destination, source);
          }
          return destination;
        }

        /***/
      },

    /***/ "../core/src/transport/batch.ts":
      /*!**************************************!*\
  !*** ../core/src/transport/batch.ts ***!
  \**************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ Batch: function () {
            return /* binding */ Batch;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _tools_display__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../tools/display */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _tools_utils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../tools/utils */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );

        // https://en.wikipedia.org/wiki/UTF-8
        var HAS_MULTI_BYTES_CHARACTERS = /[^\u0000-\u007F]/;
        var Batch = /** @class */ (function () {
          function Batch(
            request,
            maxSize,
            bytesLimit,
            maxMessageSize,
            flushTimeout,
            beforeUnloadCallback
          ) {
            if (beforeUnloadCallback === void 0) {
              beforeUnloadCallback =
                _tools_utils__WEBPACK_IMPORTED_MODULE_1__.noop;
            }
            this.request = request;
            this.maxSize = maxSize;
            this.bytesLimit = bytesLimit;
            this.maxMessageSize = maxMessageSize;
            this.flushTimeout = flushTimeout;
            this.beforeUnloadCallback = beforeUnloadCallback;
            this.pushOnlyBuffer = [];
            this.upsertBuffer = {};
            this.bufferBytesSize = 0;
            this.bufferMessageCount = 0;
            this.flushOnVisibilityHidden();
            this.flushPeriodically();
          }
          Batch.prototype.add = function (message) {
            this.addOrUpdate(message);
          };
          Batch.prototype.upsert = function (message, key) {
            this.addOrUpdate(message, key);
          };
          Batch.prototype.flush = function (reason) {
            if (this.bufferMessageCount !== 0) {
              var messages = (0,
              tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArrays)(
                this.pushOnlyBuffer,
                (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.objectValues)(
                  this.upsertBuffer
                )
              );
              this.request.send(
                messages.join("\n"),
                this.bufferBytesSize,
                reason
              );
              this.pushOnlyBuffer = [];
              this.upsertBuffer = {};
              this.bufferBytesSize = 0;
              this.bufferMessageCount = 0;
            }
          };
          Batch.prototype.sizeInBytes = function (candidate) {
            // Accurate byte size computations can degrade performances when there is a lot of events to process
            if (!HAS_MULTI_BYTES_CHARACTERS.test(candidate)) {
              return candidate.length;
            }
            if (window.TextEncoder !== undefined) {
              return new TextEncoder().encode(candidate).length;
            }
            return new Blob([candidate]).size;
          };
          Batch.prototype.addOrUpdate = function (message, key) {
            var _a = this.process(message),
              processedMessage = _a.processedMessage,
              messageBytesSize = _a.messageBytesSize;
            if (messageBytesSize >= this.maxMessageSize) {
              _tools_display__WEBPACK_IMPORTED_MODULE_2__.display.warn(
                "Discarded a message whose size was bigger than the maximum allowed size " +
                  this.maxMessageSize +
                  "KB."
              );
              return;
            }
            if (this.hasMessageFor(key)) {
              this.remove(key);
            }
            if (this.willReachedBytesLimitWith(messageBytesSize)) {
              this.flush("willReachedBytesLimitWith");
            }
            this.push(processedMessage, messageBytesSize, key);
            if (this.isFull()) {
              this.flush("isFull");
            }
          };
          Batch.prototype.process = function (message) {
            var processedMessage = (0,
            _tools_utils__WEBPACK_IMPORTED_MODULE_1__.jsonStringify)(message);
            var messageBytesSize = this.sizeInBytes(processedMessage);
            return {
              processedMessage: processedMessage,
              messageBytesSize: messageBytesSize,
            };
          };
          Batch.prototype.push = function (
            processedMessage,
            messageBytesSize,
            key
          ) {
            if (this.bufferMessageCount > 0) {
              // \n separator at serialization
              this.bufferBytesSize += 1;
            }
            if (key !== undefined) {
              this.upsertBuffer[key] = processedMessage;
            } else {
              this.pushOnlyBuffer.push(processedMessage);
            }
            this.bufferBytesSize += messageBytesSize;
            this.bufferMessageCount += 1;
          };
          Batch.prototype.remove = function (key) {
            var removedMessage = this.upsertBuffer[key];
            delete this.upsertBuffer[key];
            var messageBytesSize = this.sizeInBytes(removedMessage);
            this.bufferBytesSize -= messageBytesSize;
            this.bufferMessageCount -= 1;
            if (this.bufferMessageCount > 0) {
              this.bufferBytesSize -= 1;
            }
          };
          Batch.prototype.hasMessageFor = function (key) {
            return key !== undefined && this.upsertBuffer[key] !== undefined;
          };
          Batch.prototype.willReachedBytesLimitWith = function (
            messageBytesSize
          ) {
            // byte of the separator at the end of the message
            return (
              this.bufferBytesSize + messageBytesSize + 1 >= this.bytesLimit
            );
          };
          Batch.prototype.isFull = function () {
            return (
              this.bufferMessageCount === this.maxSize ||
              this.bufferBytesSize >= this.bytesLimit
            );
          };
          Batch.prototype.flushPeriodically = function () {
            var _this = this;
            setTimeout(
              (0,
              _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_3__.monitor)(
                function () {
                  _this.flush("flushPeriodically");
                  _this.flushPeriodically();
                }
              ),
              this.flushTimeout
            );
          };
          Batch.prototype.flushOnVisibilityHidden = function () {
            var _this = this;
            /**
             * With sendBeacon, requests are guaranteed to be successfully sent during document unload
             */
            // @ts-ignore this function is not always defined
            if (navigator.sendBeacon) {
              /**
               * beforeunload is called before visibilitychange
               * register first to be sure to be called before flush on beforeunload
               * caveat: unload can still be canceled by another listener
               */
              (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(
                window,
                "beforeunload" /* BEFORE_UNLOAD */,
                this.beforeUnloadCallback
              );
              /**
               * Only event that guarantee to fire on mobile devices when the page transitions to background state
               * (e.g. when user switches to a different application, goes to homescreen, etc), or is being unloaded.
               */
              (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(
                document,
                "visibilitychange" /* VISIBILITY_CHANGE */,
                function () {
                  if (document.visibilityState === "hidden") {
                    _this.flush("visibilitychange" /* VISIBILITY_CHANGE */);
                  }
                }
              );
              /**
               * Safari does not support yet to send a request during:
               * - a visibility change during doc unload (cf: https://bugs.webkit.org/show_bug.cgi?id=194897)
               * - a page hide transition (cf: https://bugs.webkit.org/show_bug.cgi?id=188329)
               */
              (0, _tools_utils__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(
                window,
                "beforeunload" /* BEFORE_UNLOAD */,
                function () {
                  return _this.flush("beforeunload" /* BEFORE_UNLOAD */);
                }
              );
            }
          };
          return Batch;
        })();

        /***/
      },

    /***/ "../core/src/transport/eventBridge.ts":
      /*!********************************************!*\
  !*** ../core/src/transport/eventBridge.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ getEventBridge: function () {
            return /* binding */ getEventBridge;
          },
          /* harmony export */ canUseEventBridge: function () {
            return /* binding */ canUseEventBridge;
          },
          /* harmony export */
        });
        /* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! .. */ "../core/src/tools/utils.ts");
        /* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! .. */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );

        function getEventBridge() {
          var eventBridgeGlobal = getEventBridgeGlobal();
          if (!eventBridgeGlobal) {
            return;
          }
          return {
            getAllowedWebViewHosts: function () {
              return JSON.parse(eventBridgeGlobal.getAllowedWebViewHosts());
            },
            send: function (eventType, event) {
              eventBridgeGlobal.send(
                JSON.stringify({ eventType: eventType, event: event })
              );
            },
          };
        }
        function canUseEventBridge() {
          var bridge = getEventBridge();
          return (
            !!bridge &&
            (0, ___WEBPACK_IMPORTED_MODULE_0__.includes)(
              bridge.getAllowedWebViewHosts(),
              window.location.hostname
            )
          );
        }
        function getEventBridgeGlobal() {
          return (0,
          ___WEBPACK_IMPORTED_MODULE_1__.isExperimentalFeatureEnabled)(
            "event-bridge"
          )
            ? window.DatadogEventBridge
            : null;
        }

        /***/
      },

    /***/ "../core/src/transport/httpRequest.ts":
      /*!********************************************!*\
  !*** ../core/src/transport/httpRequest.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ HttpRequest: function () {
            return /* binding */ HttpRequest;
          },
          /* harmony export */
        });
        /* harmony import */ var _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../domain/internalMonitoring */ "../core/src/domain/internalMonitoring.ts"
          );

        var hasReportedXhrError = false;
        /**
         * Use POST request without content type to:
         * - avoid CORS preflight requests
         * - allow usage of sendBeacon
         *
         * multiple elements are sent separated by \n in order
         * to be parsed correctly without content type header
         */
        var HttpRequest = /** @class */ (function () {
          function HttpRequest(endpointBuilder, bytesLimit) {
            this.endpointBuilder = endpointBuilder;
            this.bytesLimit = bytesLimit;
          }
          HttpRequest.prototype.send = function (data, size, flushReason) {
            var url = this.endpointBuilder.build();
            var tryBeacon = !!navigator.sendBeacon && size < this.bytesLimit;
            if (tryBeacon) {
              try {
                var isQueued = navigator.sendBeacon(url, data);
                if (isQueued) {
                  return;
                }
              } catch (e) {
                reportBeaconError(e);
              }
            }
            var transportIntrospection = function (event) {
              var req =
                event === null || event === void 0
                  ? void 0
                  : event.currentTarget;
              if (req.status >= 200 && req.status < 300) {
                return;
              }
              if (!hasReportedXhrError) {
                hasReportedXhrError = true;
                (0,
                _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__.addMonitoringMessage)(
                  "XHR fallback failed",
                  {
                    on_line: navigator.onLine,
                    size: size,
                    url: url,
                    try_beacon: tryBeacon,
                    flush_reason: flushReason,
                    event: {
                      is_trusted: event.isTrusted,
                      total: event.total,
                      loaded: event.loaded,
                    },
                    request: {
                      status: req.status,
                      ready_state: req.readyState,
                      response_text: req.responseText.slice(0, 512),
                    },
                  }
                );
              }
            };
            var request = new XMLHttpRequest();
            request.addEventListener(
              "loadend",
              (0,
              _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__.monitor)(
                function (event) {
                  return transportIntrospection(event);
                }
              )
            );
            request.open("POST", url, true);
            request.send(data);
          };
          return HttpRequest;
        })();

        var hasReportedBeaconError = false;
        function reportBeaconError(e) {
          if (!hasReportedBeaconError) {
            hasReportedBeaconError = true;
            (0,
            _domain_internalMonitoring__WEBPACK_IMPORTED_MODULE_0__.addErrorToMonitoringBatch)(
              e
            );
          }
        }

        /***/
      },

    /***/ "../rum-core/src/boot/buildEnv.ts":
      /*!****************************************!*\
  !*** ../rum-core/src/boot/buildEnv.ts ***!
  \****************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ buildEnv: function () {
            return /* binding */ buildEnv;
          },
          /* harmony export */
        });
        var buildEnv = {
          buildMode: "undefined",
          sdkVersion: "dev",
        };

        /***/
      },

    /***/ "../rum-core/src/boot/rumPublicApi.ts":
      /*!********************************************!*\
  !*** ../rum-core/src/boot/rumPublicApi.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ makeRumPublicApi: function () {
            return /* binding */ makeRumPublicApi;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/contextManager.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/boundedBuffer.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/eventBridge.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/boot/init.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/error.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/browser/cookie.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/configuration.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _buildEnv__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./buildEnv */ "../rum-core/src/boot/buildEnv.ts"
          );

        function makeRumPublicApi(startRumImpl, recorderApi) {
          var isAlreadyInitialized = false;
          var globalContextManager = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.createContextManager)();
          var user = {};
          var getInternalContextStrategy = function () {
            return undefined;
          };
          var getInitConfigurationStrategy = function () {
            return undefined;
          };
          var bufferApiCalls =
            new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.BoundedBuffer();
          var addTimingStrategy = function (name, time) {
            if (time === void 0) {
              time = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)();
            }
            bufferApiCalls.add(function () {
              return addTimingStrategy(name, time);
            });
          };
          var startViewStrategy = function (name, startClocks) {
            if (startClocks === void 0) {
              startClocks = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)();
            }
            bufferApiCalls.add(function () {
              return startViewStrategy(name, startClocks);
            });
          };
          var addActionStrategy = function (action, commonContext) {
            if (commonContext === void 0) {
              commonContext = clonedCommonContext();
            }
            bufferApiCalls.add(function () {
              return addActionStrategy(action, commonContext);
            });
          };
          var addErrorStrategy = function (providedError, commonContext) {
            if (commonContext === void 0) {
              commonContext = clonedCommonContext();
            }
            bufferApiCalls.add(function () {
              return addErrorStrategy(providedError, commonContext);
            });
          };
          function clonedCommonContext() {
            return (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.deepClone)({
              context: globalContextManager.get(),
              user: user,
            });
          }
          function initRum(initConfiguration) {
            if (
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.canUseEventBridge)()
            ) {
              initConfiguration =
                overrideInitConfigurationForBridge(initConfiguration);
            } else if (!canHandleSession(initConfiguration)) {
              return;
            }
            if (!isValidInitConfiguration(initConfiguration)) {
              return;
            }
            var _a = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.commonInit)(
                initConfiguration,
                _buildEnv__WEBPACK_IMPORTED_MODULE_2__.buildEnv
              ),
              configuration = _a.configuration,
              internalMonitoring = _a.internalMonitoring;
            if (!configuration.trackViewsManually) {
              doStartRum(initConfiguration, configuration, internalMonitoring);
            } else {
              // drain beforeInitCalls by buffering them until we start RUM
              // if we get a startView, drain re-buffered calls before continuing to drain beforeInitCalls
              // in order to ensure that calls are processed in order
              var beforeInitCalls = bufferApiCalls;
              bufferApiCalls =
                new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.BoundedBuffer();
              startViewStrategy = function (name) {
                doStartRum(
                  initConfiguration,
                  configuration,
                  internalMonitoring,
                  name
                );
              };
              beforeInitCalls.drain();
            }
            getInitConfigurationStrategy = function () {
              return (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.deepClone)(
                initConfiguration
              );
            };
            isAlreadyInitialized = true;
          }
          function doStartRum(
            initConfiguration,
            configuration,
            internalMonitoring,
            initialViewName
          ) {
            var startRumResults = startRumImpl(
              initConfiguration,
              configuration,
              internalMonitoring,
              function () {
                return {
                  user: user,
                  context: globalContextManager.get(),
                  hasReplay: recorderApi.isRecording() ? true : undefined,
                };
              },
              recorderApi,
              initialViewName
            );
            (startViewStrategy = startRumResults.startView),
              (addActionStrategy = startRumResults.addAction),
              (addErrorStrategy = startRumResults.addError),
              (addTimingStrategy = startRumResults.addTiming),
              (getInternalContextStrategy = startRumResults.getInternalContext);
            bufferApiCalls.drain();
            recorderApi.onRumStart(
              startRumResults.lifeCycle,
              initConfiguration,
              configuration,
              startRumResults.session,
              startRumResults.parentContexts
            );
          }
          var rumPublicApi = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.makePublicApi)({
            init: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              initRum
            ),
            addRumGlobalContext: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              globalContextManager.add
            ),
            removeRumGlobalContext: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              globalContextManager.remove
            ),
            getRumGlobalContext: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              globalContextManager.get
            ),
            setRumGlobalContext: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              globalContextManager.set
            ),
            getInternalContext: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function (startTime) {
                return getInternalContextStrategy(startTime);
              }
            ),
            getInitConfiguration: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function () {
                return getInitConfigurationStrategy();
              }
            ),
            addAction: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function (name, context) {
                addActionStrategy({
                  name: name,
                  context: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.deepClone)(
                    context
                  ),
                  startClocks: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(),
                  type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__
                    .ActionType.CUSTOM,
                });
              }
            ),
            addError: function (error, context) {
              var handlingStack = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.createHandlingStack)();
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.callMonitored)(
                function () {
                  addErrorStrategy({
                    error: error,
                    handlingStack: handlingStack,
                    context: (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.deepClone)(
                      context
                    ),
                    startClocks: (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.clocksNow)(),
                  });
                }
              );
            },
            addTiming: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function (name, time) {
                addTimingStrategy(name, time);
              }
            ),
            setUser: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function (newUser) {
                var sanitizedUser = sanitizeUser(newUser);
                if (sanitizedUser) {
                  user = sanitizedUser;
                } else {
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                    "Unsupported user:",
                    newUser
                  );
                }
              }
            ),
            removeUser: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function () {
                user = {};
              }
            ),
            startView: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              function (name) {
                startViewStrategy(name);
              }
            ),
            startSessionReplayRecording: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              recorderApi.start
            ),
            stopSessionReplayRecording: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.monitor)(
              recorderApi.stop
            ),
          });
          return rumPublicApi;
          function sanitizeUser(newUser) {
            if (typeof newUser !== "object" || !newUser) {
              return;
            }
            var result = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.deepClone)(
              newUser
            );
            if ("id" in result) {
              result.id = String(result.id);
            }
            if ("name" in result) {
              result.name = String(result.name);
            }
            if ("email" in result) {
              result.email = String(result.email);
            }
            return result;
          }
          function canHandleSession(initConfiguration) {
            if (
              !(0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_12__.areCookiesAuthorized)(
                (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_13__.buildCookieOptions)(
                  initConfiguration
                )
              )
            ) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.warn(
                "Cookies are not authorized, we will not send any data."
              );
              return false;
            }
            if (isLocalFile()) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                "Execution is not allowed in the current context."
              );
              return false;
            }
            return true;
          }
          function isValidInitConfiguration(initConfiguration) {
            if (isAlreadyInitialized) {
              if (!initConfiguration.silentMultipleInit) {
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                  "DD_RUM is already initialized."
                );
              }
              return false;
            }
            if (!initConfiguration || !initConfiguration.clientToken) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                "Client Token is not configured, we will not send any data."
              );
              return false;
            }
            if (!initConfiguration.applicationId) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                "Application ID is not configured, no RUM data will be collected."
              );
              return false;
            }
            if (
              initConfiguration.sampleRate !== undefined &&
              !(0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isPercentage)(
                initConfiguration.sampleRate
              )
            ) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                "Sample Rate should be a number between 0 and 100"
              );
              return false;
            }
            if (
              initConfiguration.replaySampleRate !== undefined &&
              !(0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isPercentage)(
                initConfiguration.replaySampleRate
              )
            ) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                "Replay Sample Rate should be a number between 0 and 100"
              );
              return false;
            }
            if (
              Array.isArray(initConfiguration.allowedTracingOrigins) &&
              initConfiguration.allowedTracingOrigins.length !== 0 &&
              initConfiguration.service === undefined
            ) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_11__.display.error(
                "Service need to be configured when tracing is enabled"
              );
              return false;
            }
            return true;
          }
          function overrideInitConfigurationForBridge(initConfiguration) {
            return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                {},
                initConfiguration
              ),
              { applicationId: "empty", clientToken: "empty", sampleRate: 100 }
            );
          }
          function isLocalFile() {
            return window.location.protocol === "file:";
          }
        }

        /***/
      },

    /***/ "../rum-core/src/boot/startRum.ts":
      /*!****************************************!*\
  !*** ../rum-core/src/boot/startRum.ts ***!
  \****************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startRum: function () {
            return /* binding */ startRum;
          },
          /* harmony export */ startRumEventCollection: function () {
            return /* binding */ startRumEventCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/eventBridge.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../browser/domMutationObservable */ "../rum-core/src/browser/domMutationObservable.ts"
          );
        /* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../browser/performanceCollection */ "../rum-core/src/browser/performanceCollection.ts"
          );
        /* harmony import */ var _domain_assembly__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../domain/assembly */ "../rum-core/src/domain/assembly.ts"
          );
        /* harmony import */ var _domain_foregroundContexts__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../domain/foregroundContexts */ "../rum-core/src/domain/foregroundContexts.ts"
          );
        /* harmony import */ var _domain_internalContext__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../domain/internalContext */ "../rum-core/src/domain/internalContext.ts"
          );
        /* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ../domain/lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _domain_parentContexts__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ../domain/parentContexts */ "../rum-core/src/domain/parentContexts.ts"
          );
        /* harmony import */ var _domain_requestCollection__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! ../domain/requestCollection */ "../rum-core/src/domain/requestCollection.ts"
          );
        /* harmony import */ var _domain_rumEventsCollection_action_actionCollection__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! ../domain/rumEventsCollection/action/actionCollection */ "../rum-core/src/domain/rumEventsCollection/action/actionCollection.ts"
          );
        /* harmony import */ var _domain_rumEventsCollection_error_errorCollection__WEBPACK_IMPORTED_MODULE_9__ =
          __webpack_require__(
            /*! ../domain/rumEventsCollection/error/errorCollection */ "../rum-core/src/domain/rumEventsCollection/error/errorCollection.ts"
          );
        /* harmony import */ var _domain_rumEventsCollection_longTask_longTaskCollection__WEBPACK_IMPORTED_MODULE_10__ =
          __webpack_require__(
            /*! ../domain/rumEventsCollection/longTask/longTaskCollection */ "../rum-core/src/domain/rumEventsCollection/longTask/longTaskCollection.ts"
          );
        /* harmony import */ var _domain_rumEventsCollection_resource_resourceCollection__WEBPACK_IMPORTED_MODULE_11__ =
          __webpack_require__(
            /*! ../domain/rumEventsCollection/resource/resourceCollection */ "../rum-core/src/domain/rumEventsCollection/resource/resourceCollection.ts"
          );
        /* harmony import */ var _domain_rumEventsCollection_view_viewCollection__WEBPACK_IMPORTED_MODULE_12__ =
          __webpack_require__(
            /*! ../domain/rumEventsCollection/view/viewCollection */ "../rum-core/src/domain/rumEventsCollection/view/viewCollection.ts"
          );
        /* harmony import */ var _domain_rumSession__WEBPACK_IMPORTED_MODULE_13__ =
          __webpack_require__(
            /*! ../domain/rumSession */ "../rum-core/src/domain/rumSession.ts"
          );
        /* harmony import */ var _transport_batch__WEBPACK_IMPORTED_MODULE_14__ =
          __webpack_require__(
            /*! ../transport/batch */ "../rum-core/src/transport/batch.ts"
          );
        /* harmony import */ var _transport_startRumEventBridge__WEBPACK_IMPORTED_MODULE_15__ =
          __webpack_require__(
            /*! ../transport/startRumEventBridge */ "../rum-core/src/transport/startRumEventBridge.ts"
          );
        /* harmony import */ var _domain_urlContexts__WEBPACK_IMPORTED_MODULE_16__ =
          __webpack_require__(
            /*! ../domain/urlContexts */ "../rum-core/src/domain/urlContexts.ts"
          );
        /* harmony import */ var _browser_locationChangeObservable__WEBPACK_IMPORTED_MODULE_17__ =
          __webpack_require__(
            /*! ../browser/locationChangeObservable */ "../rum-core/src/browser/locationChangeObservable.ts"
          );

        function startRum(
          initConfiguration,
          configuration,
          internalMonitoring,
          getCommonContext,
          recorderApi,
          initialViewName
        ) {
          var lifeCycle =
            new _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_5__.LifeCycle();
          var session = !(0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.canUseEventBridge)()
            ? (0,
              _domain_rumSession__WEBPACK_IMPORTED_MODULE_13__.startRumSession)(
                configuration,
                lifeCycle
              )
            : (0,
              _domain_rumSession__WEBPACK_IMPORTED_MODULE_13__.startRumSessionStub)();
          var domMutationObservable = (0,
          _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_0__.createDOMMutationObservable)();
          var locationChangeObservable = (0,
          _browser_locationChangeObservable__WEBPACK_IMPORTED_MODULE_17__.createLocationChangeObservable)(
            location
          );
          internalMonitoring.setExternalContextProvider(function () {
            return (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_19__.combine)(
              {
                application_id: initConfiguration.applicationId,
              },
              parentContexts.findView(),
              { view: { name: null } }
            );
          });
          var _a = startRumEventCollection(
              initConfiguration.applicationId,
              lifeCycle,
              configuration,
              location,
              session,
              locationChangeObservable,
              getCommonContext
            ),
            parentContexts = _a.parentContexts,
            foregroundContexts = _a.foregroundContexts,
            urlContexts = _a.urlContexts;
          (0,
          _domain_rumEventsCollection_longTask_longTaskCollection__WEBPACK_IMPORTED_MODULE_10__.startLongTaskCollection)(
            lifeCycle,
            session
          );
          (0,
          _domain_rumEventsCollection_resource_resourceCollection__WEBPACK_IMPORTED_MODULE_11__.startResourceCollection)(
            lifeCycle
          );
          var _b = (0,
            _domain_rumEventsCollection_view_viewCollection__WEBPACK_IMPORTED_MODULE_12__.startViewCollection)(
              lifeCycle,
              configuration,
              location,
              domMutationObservable,
              locationChangeObservable,
              foregroundContexts,
              recorderApi,
              initialViewName
            ),
            addTiming = _b.addTiming,
            startView = _b.startView;
          var addError = (0,
          _domain_rumEventsCollection_error_errorCollection__WEBPACK_IMPORTED_MODULE_9__.startErrorCollection)(
            lifeCycle,
            foregroundContexts
          ).addError;
          var addAction = (0,
          _domain_rumEventsCollection_action_actionCollection__WEBPACK_IMPORTED_MODULE_8__.startActionCollection)(
            lifeCycle,
            domMutationObservable,
            configuration,
            foregroundContexts
          ).addAction;
          (0,
          _domain_requestCollection__WEBPACK_IMPORTED_MODULE_7__.startRequestCollection)(
            lifeCycle,
            configuration,
            session
          );
          (0,
          _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__.startPerformanceCollection)(
            lifeCycle,
            configuration
          );
          var internalContext = (0,
          _domain_internalContext__WEBPACK_IMPORTED_MODULE_4__.startInternalContext)(
            initConfiguration.applicationId,
            session,
            parentContexts,
            urlContexts
          );
          return {
            addAction: addAction,
            addError: addError,
            addTiming: addTiming,
            startView: startView,
            lifeCycle: lifeCycle,
            parentContexts: parentContexts,
            session: session,
            getInternalContext: internalContext.get,
          };
        }
        function startRumEventCollection(
          applicationId,
          lifeCycle,
          configuration,
          location,
          session,
          locationChangeObservable,
          getCommonContext
        ) {
          var parentContexts = (0,
          _domain_parentContexts__WEBPACK_IMPORTED_MODULE_6__.startParentContexts)(
            lifeCycle,
            session
          );
          var urlContexts = (0,
          _domain_urlContexts__WEBPACK_IMPORTED_MODULE_16__.startUrlContexts)(
            lifeCycle,
            locationChangeObservable,
            location
          );
          var foregroundContexts = (0,
          _domain_foregroundContexts__WEBPACK_IMPORTED_MODULE_3__.startForegroundContexts)();
          var stopBatch;
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_18__.canUseEventBridge)()
          ) {
            (0,
            _transport_startRumEventBridge__WEBPACK_IMPORTED_MODULE_15__.startRumEventBridge)(
              lifeCycle
            );
          } else {
            stopBatch = (0,
            _transport_batch__WEBPACK_IMPORTED_MODULE_14__.startRumBatch)(
              configuration,
              lifeCycle
            ).stop;
          }
          (0, _domain_assembly__WEBPACK_IMPORTED_MODULE_2__.startRumAssembly)(
            applicationId,
            configuration,
            lifeCycle,
            session,
            parentContexts,
            urlContexts,
            getCommonContext
          );
          return {
            parentContexts: parentContexts,
            foregroundContexts: foregroundContexts,
            urlContexts: urlContexts,
            stop: function () {
              // prevent batch from previous tests to keep running and send unwanted requests
              // could be replaced by stopping all the component when they will all have a stop method
              stopBatch === null || stopBatch === void 0 ? void 0 : stopBatch();
              parentContexts.stop();
              foregroundContexts.stop();
            },
          };
        }

        /***/
      },

    /***/ "../rum-core/src/browser/domMutationObservable.ts":
      /*!********************************************************!*\
  !*** ../rum-core/src/browser/domMutationObservable.ts ***!
  \********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ createDOMMutationObservable: function () {
            return /* binding */ createDOMMutationObservable;
          },
          /* harmony export */ getMutationObserverConstructor: function () {
            return /* binding */ getMutationObserverConstructor;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );

        function createDOMMutationObservable() {
          var MutationObserver = getMutationObserverConstructor();
          var observable =
            new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.Observable(
              function () {
                if (!MutationObserver) {
                  return;
                }
                var observer = new MutationObserver(
                  (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(
                    function () {
                      return observable.notify();
                    }
                  )
                );
                observer.observe(document, {
                  attributes: true,
                  characterData: true,
                  childList: true,
                  subtree: true,
                });
                return function () {
                  return observer.disconnect();
                };
              }
            );
          return observable;
        }
        function getMutationObserverConstructor() {
          var constructor;
          var browserWindow = window;
          // Angular uses Zone.js to provide a context persisting across async tasks.  Zone.js replaces the
          // global MutationObserver constructor with a patched version to support the context propagation.
          // There is an ongoing issue[1][2] with this setup when using a MutationObserver within a Angular
          // component: on some occasions, the callback is being called in an infinite loop, causing the
          // page to freeze (even if the callback is completely empty).
          //
          // To work around this issue, we are using the Zone __symbol__ API to get the original, unpatched
          // MutationObserver constructor.
          //
          // [1] https://github.com/angular/angular/issues/26948
          // [2] https://github.com/angular/angular/issues/31712
          if (browserWindow.Zone) {
            var symbol = browserWindow.Zone.__symbol__("MutationObserver");
            constructor = browserWindow[symbol];
          }
          if (!constructor) {
            constructor = browserWindow.MutationObserver;
          }
          return constructor;
        }

        /***/
      },

    /***/ "../rum-core/src/browser/locationChangeObservable.ts":
      /*!***********************************************************!*\
  !*** ../rum-core/src/browser/locationChangeObservable.ts ***!
  \***********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ createLocationChangeObservable: function () {
            return /* binding */ createLocationChangeObservable;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/instrumentMethod.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );

        function createLocationChangeObservable(location) {
          var currentLocation = (0,
          tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, location);
          var observable =
            new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.Observable(
              function () {
                var stopHistoryTracking = trackHistory(onLocationChange).stop;
                var stopHashTracking = trackHash(onLocationChange).stop;
                return function () {
                  stopHistoryTracking();
                  stopHashTracking();
                };
              }
            );
          function onLocationChange() {
            if (currentLocation.href === location.href) {
              return;
            }
            var newLocation = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              {},
              location
            );
            observable.notify({
              newLocation: newLocation,
              oldLocation: currentLocation,
            });
            currentLocation = newLocation;
          }
          return observable;
        }
        function trackHistory(onHistoryChange) {
          var stopInstrumentingPushState = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(
            history,
            "pushState",
            {
              after: onHistoryChange,
            }
          ).stop;
          var stopInstrumentingReplaceState = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.instrumentMethodAndCallOriginal)(
            history,
            "replaceState",
            {
              after: onHistoryChange,
            }
          ).stop;
          var removeListener = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(
            window,
            "popstate" /* POP_STATE */,
            onHistoryChange
          ).stop;
          return {
            stop: function () {
              stopInstrumentingPushState();
              stopInstrumentingReplaceState();
              removeListener();
            },
          };
        }
        function trackHash(onHashChange) {
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(
            window,
            "hashchange" /* HASH_CHANGE */,
            onHashChange
          );
        }

        /***/
      },

    /***/ "../rum-core/src/browser/performanceCollection.ts":
      /*!********************************************************!*\
  !*** ../rum-core/src/browser/performanceCollection.ts ***!
  \********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ supportPerformanceTimingEvent: function () {
            return /* binding */ supportPerformanceTimingEvent;
          },
          /* harmony export */ supportPerformanceEntry: function () {
            return /* binding */ supportPerformanceEntry;
          },
          /* harmony export */ startPerformanceCollection: function () {
            return /* binding */ startPerformanceCollection;
          },
          /* harmony export */ retrieveInitialDocumentResourceTiming:
            function () {
              return /* binding */ retrieveInitialDocumentResourceTiming;
            },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../domain/lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../domain/rumEventsCollection/resource/resourceUtils */ "../rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts"
          );
        /* harmony import */ var _domain_tracing_getDocumentTraceId__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../domain/tracing/getDocumentTraceId */ "../rum-core/src/domain/tracing/getDocumentTraceId.ts"
          );

        function supportPerformanceObject() {
          return (
            window.performance !== undefined && "getEntries" in performance
          );
        }
        function supportPerformanceTimingEvent(entryType) {
          return (
            window.PerformanceObserver &&
            PerformanceObserver.supportedEntryTypes !== undefined &&
            PerformanceObserver.supportedEntryTypes.includes(entryType)
          );
        }
        function supportPerformanceEntry() {
          // Safari 10 doesn't support PerformanceEntry
          return typeof PerformanceEntry === "function";
        }
        function startPerformanceCollection(lifeCycle, configuration) {
          retrieveInitialDocumentResourceTiming(function (timing) {
            handleRumPerformanceEntry(lifeCycle, configuration, timing);
          });
          if (supportPerformanceObject()) {
            handlePerformanceEntries(
              lifeCycle,
              configuration,
              performance.getEntries()
            );
          }
          if (window.PerformanceObserver) {
            var handlePerformanceEntryList_1 = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.monitor)(
              function (entries) {
                return handlePerformanceEntries(
                  lifeCycle,
                  configuration,
                  entries.getEntries()
                );
              }
            );
            var mainEntries = ["resource", "navigation", "longtask", "paint"];
            var experimentalEntries = [
              "largest-contentful-paint",
              "first-input",
              "layout-shift",
            ];
            try {
              // Experimental entries are not retrieved by performance.getEntries()
              // use a single PerformanceObserver with buffered flag by type
              // to get values that could happen before SDK init
              experimentalEntries.forEach(function (type) {
                var observer = new PerformanceObserver(
                  handlePerformanceEntryList_1
                );
                observer.observe({ type: type, buffered: true });
              });
            } catch (e) {
              // Some old browser versions don't support PerformanceObserver without entryTypes option
              mainEntries.push.apply(mainEntries, experimentalEntries);
            }
            var mainObserver = new PerformanceObserver(
              handlePerformanceEntryList_1
            );
            mainObserver.observe({ entryTypes: mainEntries });
            if (
              supportPerformanceObject() &&
              "addEventListener" in performance
            ) {
              // https://bugzilla.mozilla.org/show_bug.cgi?id=1559377
              performance.addEventListener(
                "resourcetimingbufferfull",
                function () {
                  performance.clearResourceTimings();
                }
              );
            }
          }
          if (!supportPerformanceTimingEvent("navigation")) {
            retrieveNavigationTiming(function (timing) {
              handleRumPerformanceEntry(lifeCycle, configuration, timing);
            });
          }
          if (!supportPerformanceTimingEvent("first-input")) {
            retrieveFirstInputTiming(function (timing) {
              handleRumPerformanceEntry(lifeCycle, configuration, timing);
            });
          }
        }
        function retrieveInitialDocumentResourceTiming(callback) {
          (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.runOnReadyState)(
            "interactive",
            function () {
              var timing;
              var forcedAttributes = {
                entryType: "resource",
                initiatorType:
                  _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.FAKE_INITIAL_DOCUMENT,
                traceId: (0,
                _domain_tracing_getDocumentTraceId__WEBPACK_IMPORTED_MODULE_3__.getDocumentTraceId)(
                  document
                ),
              };
              if (
                supportPerformanceTimingEvent("navigation") &&
                performance.getEntriesByType("navigation").length > 0
              ) {
                var navigationEntry =
                  performance.getEntriesByType("navigation")[0];
                timing = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    {},
                    navigationEntry.toJSON()
                  ),
                  forcedAttributes
                );
              } else {
                var relativePerformanceTiming =
                  computeRelativePerformanceTiming();
                timing = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                      {},
                      relativePerformanceTiming
                    ),
                    {
                      decodedBodySize: 0,
                      duration: relativePerformanceTiming.responseEnd,
                      name: window.location.href,
                      startTime: 0,
                    }
                  ),
                  forcedAttributes
                );
              }
              callback(timing);
            }
          );
        }
        function retrieveNavigationTiming(callback) {
          function sendFakeTiming() {
            callback(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {},
                  computeRelativePerformanceTiming()
                ),
                { entryType: "navigation" }
              )
            );
          }
          (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.runOnReadyState)(
            "complete",
            function () {
              // Send it a bit after the actual load event, so the "loadEventEnd" timing is accurate
              setTimeout(
                (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.monitor)(
                  sendFakeTiming
                )
              );
            }
          );
        }
        /**
         * first-input timing entry polyfill based on
         * https://github.com/GoogleChrome/web-vitals/blob/master/src/lib/polyfills/firstInputPolyfill.ts
         */
        function retrieveFirstInputTiming(callback) {
          var startTimeStamp = Date.now();
          var timingSent = false;
          var removeEventListeners = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addEventListeners)(
            window,
            [
              "click" /* CLICK */,
              "mousedown" /* MOUSE_DOWN */,
              "keydown" /* KEY_DOWN */,
              "touchstart" /* TOUCH_START */,
              "pointerdown" /* POINTER_DOWN */,
            ],
            function (evt) {
              // Only count cancelable events, which should trigger behavior important to the user.
              if (!evt.cancelable) {
                return;
              }
              // This timing will be used to compute the "first Input delay", which is the delta between
              // when the system received the event (e.g. evt.timeStamp) and when it could run the callback
              // (e.g. performance.now()).
              var timing = {
                entryType: "first-input",
                processingStart: (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.relativeNow)(),
                startTime: evt.timeStamp,
              };
              if (evt.type === "pointerdown" /* POINTER_DOWN */) {
                sendTimingIfPointerIsNotCancelled(timing);
              } else {
                sendTiming(timing);
              }
            },
            { passive: true, capture: true }
          ).stop;
          /**
           * Pointer events are a special case, because they can trigger main or compositor thread behavior.
           * We differentiate these cases based on whether or not we see a pointercancel event, which are
           * fired when we scroll. If we're scrolling we don't need to report input delay since FID excludes
           * scrolling and pinch/zooming.
           */
          function sendTimingIfPointerIsNotCancelled(timing) {
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addEventListeners)(
              window,
              [
                "pointerup" /* POINTER_UP */,
                "pointercancel" /* POINTER_CANCEL */,
              ],
              function (event) {
                if (event.type === "pointerup" /* POINTER_UP */) {
                  sendTiming(timing);
                }
              },
              { once: true }
            );
          }
          function sendTiming(timing) {
            if (!timingSent) {
              timingSent = true;
              removeEventListeners();
              // In some cases the recorded delay is clearly wrong, e.g. it's negative or it's larger than
              // the time between now and when the page was loaded.
              // - https://github.com/GoogleChromeLabs/first-input-delay/issues/4
              // - https://github.com/GoogleChromeLabs/first-input-delay/issues/6
              // - https://github.com/GoogleChromeLabs/first-input-delay/issues/7
              var delay = timing.processingStart - timing.startTime;
              if (delay >= 0 && delay < Date.now() - startTimeStamp) {
                callback(timing);
              }
            }
          }
        }
        function computeRelativePerformanceTiming() {
          var result = {};
          var timing = performance.timing;
          for (var key in timing) {
            if (
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.isNumber)(
                timing[key]
              )
            ) {
              var numberKey = key;
              // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
              var timingElement = timing[numberKey];
              result[numberKey] =
                timingElement === 0
                  ? 0
                  : (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.getRelativeTime)(
                      timingElement
                    );
            }
          }
          return result;
        }
        function handlePerformanceEntries(lifeCycle, configuration, entries) {
          entries.forEach(function (entry) {
            if (
              entry.entryType === "resource" ||
              entry.entryType === "navigation" ||
              entry.entryType === "paint" ||
              entry.entryType === "longtask" ||
              entry.entryType === "largest-contentful-paint" ||
              entry.entryType === "first-input" ||
              entry.entryType === "layout-shift"
            ) {
              handleRumPerformanceEntry(lifeCycle, configuration, entry);
            }
          });
        }
        function handleRumPerformanceEntry(lifeCycle, configuration, entry) {
          if (
            isIncompleteNavigation(entry) ||
            isForbiddenResource(configuration, entry)
          ) {
            return;
          }
          lifeCycle.notify(
            _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            entry
          );
        }
        function isIncompleteNavigation(entry) {
          return entry.entryType === "navigation" && entry.loadEventEnd <= 0;
        }
        function isForbiddenResource(configuration, entry) {
          return (
            entry.entryType === "resource" &&
            !(0,
            _domain_rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_2__.isAllowedRequestUrl)(
              configuration,
              entry.name
            )
          );
        }

        /***/
      },

    /***/ "../rum-core/src/domain/assembly.ts":
      /*!******************************************!*\
  !*** ../rum-core/src/domain/assembly.ts ***!
  \******************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startRumAssembly: function () {
            return /* binding */ startRumAssembly;
          },
          /* harmony export */ SYNTHETICS_TEST_ID_COOKIE_NAME: function () {
            return /* binding */ SYNTHETICS_TEST_ID_COOKIE_NAME;
          },
          /* harmony export */ SYNTHETICS_RESULT_ID_COOKIE_NAME: function () {
            return /* binding */ SYNTHETICS_RESULT_ID_COOKIE_NAME;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/createEventRateLimiter.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/limitModification.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/browser/cookie.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _rumSession__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./rumSession */ "../rum-core/src/domain/rumSession.ts"
          );

        var SessionType;
        (function (SessionType) {
          SessionType["SYNTHETICS"] = "synthetics";
          SessionType["USER"] = "user";
        })(SessionType || (SessionType = {}));
        var VIEW_EVENTS_MODIFIABLE_FIELD_PATHS = [
          // Fields with sensitive data
          "view.url",
          "view.referrer",
          "action.target.name",
          "error.message",
          "error.stack",
          "error.resource.url",
          "resource.url",
        ];
        var OTHER_EVENTS_MODIFIABLE_FIELD_PATHS = (0,
        tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArrays)(
          VIEW_EVENTS_MODIFIABLE_FIELD_PATHS,
          [
            // User-customizable field
            "context",
          ]
        );
        function startRumAssembly(
          applicationId,
          configuration,
          lifeCycle,
          session,
          parentContexts,
          urlContexts,
          getCommonContext
        ) {
          var _a;
          var reportError = function (error) {
            lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                .RAW_ERROR_COLLECTED,
              { error: error }
            );
          };
          var eventRateLimiters =
            ((_a = {}),
            (_a[
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType.ERROR
            ] = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.createEventRateLimiter)(
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                .ERROR,
              configuration.maxErrorsPerMinute,
              reportError
            )),
            (_a[
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType.ACTION
            ] = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.createEventRateLimiter)(
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                .ACTION,
              configuration.maxActionsPerMinute,
              reportError
            )),
            _a);
          var syntheticsContext = getSyntheticsContext();
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
              .RAW_RUM_EVENT_COLLECTED,
            function (_a) {
              var startTime = _a.startTime,
                rawRumEvent = _a.rawRumEvent,
                domainContext = _a.domainContext,
                savedCommonContext = _a.savedCommonContext,
                customerContext = _a.customerContext;
              var viewContext = parentContexts.findView(startTime);
              var urlContext = urlContexts.findUrl(startTime);
              if (
                session.isTracked() &&
                viewContext &&
                urlContext &&
                viewContext.session.id === session.getId()
              ) {
                var actionContext = parentContexts.findAction(startTime);
                var commonContext = savedCommonContext || getCommonContext();
                var rumContext = {
                  _dd: {
                    format_version: 2,
                    drift: (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.currentDrift)(),
                    session: {
                      plan: session.hasReplayPlan()
                        ? _rumSession__WEBPACK_IMPORTED_MODULE_3__
                            .RumSessionPlan.REPLAY
                        : _rumSession__WEBPACK_IMPORTED_MODULE_3__
                            .RumSessionPlan.LITE,
                    },
                  },
                  application: {
                    id: applicationId,
                  },
                  date: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.timeStampNow)(),
                  service: configuration.service,
                  session: {
                    type: syntheticsContext
                      ? SessionType.SYNTHETICS
                      : SessionType.USER,
                  },
                  synthetics: syntheticsContext,
                };
                var serverRumEvent = needToAssembleWithAction(rawRumEvent)
                  ? (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.combine)(
                      rumContext,
                      urlContext,
                      viewContext,
                      actionContext,
                      rawRumEvent
                    )
                  : (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.combine)(
                      rumContext,
                      urlContext,
                      viewContext,
                      rawRumEvent
                    );
                serverRumEvent.context = (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.combine)(
                  commonContext.context,
                  customerContext
                );
                if (!("has_replay" in serverRumEvent.session)) {
                  serverRumEvent.session.has_replay = commonContext.hasReplay;
                }
                if (
                  !(0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isEmptyObject)(
                    commonContext.user
                  )
                ) {
                  serverRumEvent.usr = commonContext.user;
                }
                if (
                  shouldSend(
                    serverRumEvent,
                    configuration.beforeSend,
                    domainContext,
                    eventRateLimiters
                  )
                ) {
                  if (
                    (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.isEmptyObject)(
                      serverRumEvent.context
                    )
                  ) {
                    delete serverRumEvent.context;
                  }
                  lifeCycle.notify(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                      .RUM_EVENT_COLLECTED,
                    serverRumEvent
                  );
                }
              }
            }
          );
        }
        function shouldSend(
          event,
          beforeSend,
          domainContext,
          eventRateLimiters
        ) {
          var _a;
          if (beforeSend) {
            var result = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.limitModification)(
              event,
              event.type ===
                _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                  .VIEW
                ? VIEW_EVENTS_MODIFIABLE_FIELD_PATHS
                : OTHER_EVENTS_MODIFIABLE_FIELD_PATHS,
              function (event) {
                return beforeSend(event, domainContext);
              }
            );
            if (
              result === false &&
              event.type !==
                _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                  .VIEW
            ) {
              return false;
            }
            if (result === false) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.display.warn(
                "Can't dismiss view events using beforeSend!"
              );
            }
          }
          var rateLimitReached =
            (_a = eventRateLimiters[event.type]) === null || _a === void 0
              ? void 0
              : _a.isLimitReached();
          return !rateLimitReached;
        }
        function needToAssembleWithAction(event) {
          return (
            [
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                .ERROR,
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                .RESOURCE,
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                .LONG_TASK,
            ].indexOf(event.type) !== -1
          );
        }
        var SYNTHETICS_TEST_ID_COOKIE_NAME = "datadog-synthetics-public-id";
        var SYNTHETICS_RESULT_ID_COOKIE_NAME = "datadog-synthetics-result-id";
        function getSyntheticsContext() {
          var testId =
            window._DATADOG_SYNTHETICS_PUBLIC_ID ||
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.getCookie)(
              SYNTHETICS_TEST_ID_COOKIE_NAME
            );
          var resultId =
            window._DATADOG_SYNTHETICS_RESULT_ID ||
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.getCookie)(
              SYNTHETICS_RESULT_ID_COOKIE_NAME
            );
          if (typeof testId === "string" && typeof resultId === "string") {
            return {
              test_id: testId,
              result_id: resultId,
            };
          }
        }

        /***/
      },

    /***/ "../rum-core/src/domain/contextHistory.ts":
      /*!************************************************!*\
  !*** ../rum-core/src/domain/contextHistory.ts ***!
  \************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ CLEAR_OLD_CONTEXTS_INTERVAL: function () {
            return /* binding */ CLEAR_OLD_CONTEXTS_INTERVAL;
          },
          /* harmony export */ ContextHistory: function () {
            return /* binding */ ContextHistory;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );

        var CLEAR_OLD_CONTEXTS_INTERVAL =
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;
        var ContextHistory = /** @class */ (function () {
          function ContextHistory(expireDelay) {
            var _this = this;
            this.expireDelay = expireDelay;
            this.previousContexts = [];
            this.clearOldContextsInterval = setInterval(function () {
              return _this.clearOldContexts();
            }, CLEAR_OLD_CONTEXTS_INTERVAL);
          }
          ContextHistory.prototype.find = function (startTime) {
            if (
              startTime === undefined ||
              (this.current !== undefined &&
                this.currentStart !== undefined &&
                startTime >= this.currentStart)
            ) {
              return this.current;
            }
            for (var _i = 0, _a = this.previousContexts; _i < _a.length; _i++) {
              var previousContext = _a[_i];
              if (startTime > previousContext.endTime) {
                break;
              }
              if (startTime >= previousContext.startTime) {
                return previousContext.context;
              }
            }
            return undefined;
          };
          ContextHistory.prototype.setCurrent = function (current, startTime) {
            this.current = current;
            this.currentStart = startTime;
          };
          ContextHistory.prototype.getCurrent = function () {
            return this.current;
          };
          ContextHistory.prototype.clearCurrent = function () {
            this.current = undefined;
            this.currentStart = undefined;
          };
          ContextHistory.prototype.closeCurrent = function (endTime) {
            if (this.current !== undefined && this.currentStart !== undefined) {
              this.previousContexts.unshift({
                endTime: endTime,
                context: this.current,
                startTime: this.currentStart,
              });
              this.clearCurrent();
            }
          };
          ContextHistory.prototype.clearOldContexts = function () {
            var oldTimeThreshold =
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.relativeNow)() -
              this.expireDelay;
            while (
              this.previousContexts.length > 0 &&
              this.previousContexts[this.previousContexts.length - 1]
                .startTime < oldTimeThreshold
            ) {
              this.previousContexts.pop();
            }
          };
          ContextHistory.prototype.reset = function () {
            this.clearCurrent();
            this.previousContexts = [];
          };
          ContextHistory.prototype.stop = function () {
            clearInterval(this.clearOldContextsInterval);
          };
          return ContextHistory;
        })();

        /***/
      },

    /***/ "../rum-core/src/domain/foregroundContexts.ts":
      /*!****************************************************!*\
  !*** ../rum-core/src/domain/foregroundContexts.ts ***!
  \****************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS:
            function () {
              return /* binding */ MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS;
            },
          /* harmony export */ MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS:
            function () {
              return /* binding */ MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS;
            },
          /* harmony export */ startForegroundContexts: function () {
            return /* binding */ startForegroundContexts;
          },
          /* harmony export */ addNewForegroundPeriod: function () {
            return /* binding */ addNewForegroundPeriod;
          },
          /* harmony export */ closeForegroundPeriod: function () {
            return /* binding */ closeForegroundPeriod;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );

        // Arbitrary value to cap number of element mostly for backend & to save bandwidth
        var MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS = 500;
        // Arbitrary value to cap number of element mostly for memory consumption in the browser
        var MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS = 2500;
        var foregroundPeriods = [];
        function startForegroundContexts() {
          if (document.hasFocus()) {
            addNewForegroundPeriod();
          }
          var stopForegroundTracking = trackFocus(addNewForegroundPeriod).stop;
          var stopBlurTracking = trackBlur(closeForegroundPeriod).stop;
          return {
            isInForegroundAt: isInForegroundAt,
            selectInForegroundPeriodsFor: selectInForegroundPeriodsFor,
            stop: function () {
              foregroundPeriods = [];
              stopForegroundTracking();
              stopBlurTracking();
            },
          };
        }
        function addNewForegroundPeriod() {
          if (
            foregroundPeriods.length > MAX_NUMBER_OF_STORED_FOREGROUND_PERIODS
          ) {
            return;
          }
          var currentForegroundPeriod =
            foregroundPeriods[foregroundPeriods.length - 1];
          var now = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();
          if (
            currentForegroundPeriod !== undefined &&
            currentForegroundPeriod.end === undefined
          ) {
            return;
          }
          foregroundPeriods.push({
            start: now,
          });
        }
        function closeForegroundPeriod() {
          if (foregroundPeriods.length === 0) {
            return;
          }
          var currentForegroundPeriod =
            foregroundPeriods[foregroundPeriods.length - 1];
          var now = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.relativeNow)();
          if (currentForegroundPeriod.end !== undefined) {
            return;
          }
          currentForegroundPeriod.end = now;
        }
        function trackFocus(onFocusChange) {
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(
            window,
            "focus" /* FOCUS */,
            function (event) {
              if (!event.isTrusted) {
                return;
              }
              onFocusChange();
            }
          );
        }
        function trackBlur(onBlurChange) {
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addEventListener)(
            window,
            "blur" /* BLUR */,
            function (event) {
              if (!event.isTrusted) {
                return;
              }
              onBlurChange();
            }
          );
        }
        function isInForegroundAt(startTime) {
          for (var i = foregroundPeriods.length - 1; i >= 0; i--) {
            var foregroundPeriod = foregroundPeriods[i];
            if (
              foregroundPeriod.end !== undefined &&
              startTime > foregroundPeriod.end
            ) {
              break;
            }
            if (
              startTime > foregroundPeriod.start &&
              (foregroundPeriod.end === undefined ||
                startTime < foregroundPeriod.end)
            ) {
              return true;
            }
          }
          return false;
        }
        function selectInForegroundPeriodsFor(eventStartTime, duration) {
          // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
          var eventEndTime = eventStartTime + duration;
          var filteredForegroundPeriods = [];
          var earliestIndex = Math.max(
            0,
            foregroundPeriods.length -
              MAX_NUMBER_OF_SELECTABLE_FOREGROUND_PERIODS
          );
          for (var i = foregroundPeriods.length - 1; i >= earliestIndex; i--) {
            var foregroundPeriod = foregroundPeriods[i];
            if (
              foregroundPeriod.end !== undefined &&
              eventStartTime > foregroundPeriod.end
            ) {
              // event starts after the end of the current focus period
              // since the array is sorted, we can stop looking for foreground periods
              break;
            }
            if (eventEndTime < foregroundPeriod.start) {
              // event ends before the start of the current focus period
              // continue to previous one
              continue;
            }
            var startTime =
              eventStartTime > foregroundPeriod.start
                ? eventStartTime
                : foregroundPeriod.start;
            var startDuration = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(
              eventStartTime,
              startTime
            );
            var endTime =
              foregroundPeriod.end === undefined ||
              eventEndTime < foregroundPeriod.end
                ? eventEndTime
                : foregroundPeriod.end;
            var endDuration = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.elapsed)(
              startTime,
              endTime
            );
            filteredForegroundPeriods.unshift({
              start: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(
                startDuration
              ),
              duration: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.toServerDuration)(
                endDuration
              ),
            });
          }
          return filteredForegroundPeriods;
        }

        /***/
      },

    /***/ "../rum-core/src/domain/internalContext.ts":
      /*!*************************************************!*\
  !*** ../rum-core/src/domain/internalContext.ts ***!
  \*************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startInternalContext: function () {
            return /* binding */ startInternalContext;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );

        /**
         * Internal context keep returning v1 format
         * to not break compatibility with logs data format
         */
        function startInternalContext(
          applicationId,
          session,
          parentContexts,
          urlContexts
        ) {
          return {
            get: function (startTime) {
              var viewContext = parentContexts.findView(startTime);
              var urlContext = urlContexts.findUrl(startTime);
              if (
                session.isTracked() &&
                viewContext &&
                urlContext &&
                viewContext.session.id
              ) {
                var actionContext = parentContexts.findAction(startTime);
                return {
                  application_id: applicationId,
                  session_id: viewContext.session.id,
                  user_action: actionContext
                    ? {
                        id: actionContext.action.id,
                      }
                    : undefined,
                  view: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                      {},
                      viewContext.view
                    ),
                    urlContext.view
                  ),
                };
              }
            },
          };
        }

        /***/
      },

    /***/ "../rum-core/src/domain/lifeCycle.ts":
      /*!*******************************************!*\
  !*** ../rum-core/src/domain/lifeCycle.ts ***!
  \*******************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ LifeCycleEventType: function () {
            return /* binding */ LifeCycleEventType;
          },
          /* harmony export */ LifeCycle: function () {
            return /* binding */ LifeCycle;
          },
          /* harmony export */
        });
        var LifeCycleEventType;
        (function (LifeCycleEventType) {
          LifeCycleEventType[
            (LifeCycleEventType["PERFORMANCE_ENTRY_COLLECTED"] = 0)
          ] = "PERFORMANCE_ENTRY_COLLECTED";
          LifeCycleEventType[(LifeCycleEventType["AUTO_ACTION_CREATED"] = 1)] =
            "AUTO_ACTION_CREATED";
          LifeCycleEventType[
            (LifeCycleEventType["AUTO_ACTION_COMPLETED"] = 2)
          ] = "AUTO_ACTION_COMPLETED";
          LifeCycleEventType[
            (LifeCycleEventType["AUTO_ACTION_DISCARDED"] = 3)
          ] = "AUTO_ACTION_DISCARDED";
          LifeCycleEventType[(LifeCycleEventType["VIEW_CREATED"] = 4)] =
            "VIEW_CREATED";
          LifeCycleEventType[(LifeCycleEventType["VIEW_UPDATED"] = 5)] =
            "VIEW_UPDATED";
          LifeCycleEventType[(LifeCycleEventType["VIEW_ENDED"] = 6)] =
            "VIEW_ENDED";
          LifeCycleEventType[(LifeCycleEventType["REQUEST_STARTED"] = 7)] =
            "REQUEST_STARTED";
          LifeCycleEventType[(LifeCycleEventType["REQUEST_COMPLETED"] = 8)] =
            "REQUEST_COMPLETED";
          // The SESSION_EXPIRED lifecycle event has been introduced to represent when a session has expired
          // and trigger cleanup tasks related to this, prior to renewing the session. Its implementation is
          // slightly naive: it is not triggered as soon as the session is expired, but rather just before
          // notifying that the session is renewed. Thus, the session id is already set to the newly renewed
          // session.
          //
          // This implementation is "good enough" for our use-cases. Improving this is not trivial,
          // primarily because multiple instances of the SDK may be managing the same session cookie at
          // the same time, for example when using Logs and RUM on the same page, or opening multiple tabs
          // on the same domain.
          LifeCycleEventType[(LifeCycleEventType["SESSION_EXPIRED"] = 9)] =
            "SESSION_EXPIRED";
          LifeCycleEventType[(LifeCycleEventType["SESSION_RENEWED"] = 10)] =
            "SESSION_RENEWED";
          LifeCycleEventType[(LifeCycleEventType["BEFORE_UNLOAD"] = 11)] =
            "BEFORE_UNLOAD";
          LifeCycleEventType[
            (LifeCycleEventType["RAW_RUM_EVENT_COLLECTED"] = 12)
          ] = "RAW_RUM_EVENT_COLLECTED";
          LifeCycleEventType[(LifeCycleEventType["RUM_EVENT_COLLECTED"] = 13)] =
            "RUM_EVENT_COLLECTED";
          LifeCycleEventType[(LifeCycleEventType["RAW_ERROR_COLLECTED"] = 14)] =
            "RAW_ERROR_COLLECTED";
        })(LifeCycleEventType || (LifeCycleEventType = {}));
        var LifeCycle = /** @class */ (function () {
          function LifeCycle() {
            this.callbacks = {};
          }
          LifeCycle.prototype.notify = function (eventType, data) {
            var eventCallbacks = this.callbacks[eventType];
            if (eventCallbacks) {
              eventCallbacks.forEach(function (callback) {
                return callback(data);
              });
            }
          };
          LifeCycle.prototype.subscribe = function (eventType, callback) {
            var _this = this;
            if (!this.callbacks[eventType]) {
              this.callbacks[eventType] = [];
            }
            this.callbacks[eventType].push(callback);
            return {
              unsubscribe: function () {
                _this.callbacks[eventType] = _this.callbacks[eventType].filter(
                  function (other) {
                    return callback !== other;
                  }
                );
              },
            };
          };
          return LifeCycle;
        })();

        /***/
      },

    /***/ "../rum-core/src/domain/parentContexts.ts":
      /*!************************************************!*\
  !*** ../rum-core/src/domain/parentContexts.ts ***!
  \************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ VIEW_CONTEXT_TIME_OUT_DELAY: function () {
            return /* binding */ VIEW_CONTEXT_TIME_OUT_DELAY;
          },
          /* harmony export */ ACTION_CONTEXT_TIME_OUT_DELAY: function () {
            return /* binding */ ACTION_CONTEXT_TIME_OUT_DELAY;
          },
          /* harmony export */ startParentContexts: function () {
            return /* binding */ startParentContexts;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/session/sessionStore.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _contextHistory__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./contextHistory */ "../rum-core/src/domain/contextHistory.ts"
          );

        var VIEW_CONTEXT_TIME_OUT_DELAY =
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.SESSION_TIME_OUT_DELAY;
        var ACTION_CONTEXT_TIME_OUT_DELAY =
          5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_MINUTE; // arbitrary
        function startParentContexts(lifeCycle, session) {
          var viewContextHistory =
            new _contextHistory__WEBPACK_IMPORTED_MODULE_1__.ContextHistory(
              VIEW_CONTEXT_TIME_OUT_DELAY
            );
          var actionContextHistory =
            new _contextHistory__WEBPACK_IMPORTED_MODULE_1__.ContextHistory(
              ACTION_CONTEXT_TIME_OUT_DELAY
            );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .VIEW_CREATED,
            function (view) {
              viewContextHistory.setCurrent(
                buildViewContext(view, session.getId()),
                view.startClocks.relative
              );
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .VIEW_UPDATED,
            function (view) {
              // A view can be updated after its end.  We have to ensure that the view being updated is the
              // most recently created.
              var current = viewContextHistory.getCurrent();
              if (current && current.view.id === view.id) {
                viewContextHistory.setCurrent(
                  buildViewContext(view, current.session.id),
                  view.startClocks.relative
                );
              }
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .VIEW_ENDED,
            function (_a) {
              var endClocks = _a.endClocks;
              viewContextHistory.closeCurrent(endClocks.relative);
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .AUTO_ACTION_CREATED,
            function (action) {
              actionContextHistory.setCurrent(
                buildActionContext(action),
                action.startClocks.relative
              );
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .AUTO_ACTION_COMPLETED,
            function (action) {
              if (actionContextHistory.getCurrent()) {
                // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
                var actionEndTime =
                  action.startClocks.relative + action.duration;
                actionContextHistory.closeCurrent(actionEndTime);
              }
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .AUTO_ACTION_DISCARDED,
            function () {
              actionContextHistory.clearCurrent();
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .SESSION_RENEWED,
            function () {
              viewContextHistory.reset();
              actionContextHistory.reset();
            }
          );
          function buildViewContext(view, sessionId) {
            return {
              session: {
                id: sessionId,
              },
              view: {
                id: view.id,
                name: view.name,
              },
            };
          }
          function buildActionContext(action) {
            return { action: { id: action.id } };
          }
          return {
            findAction: function (startTime) {
              return actionContextHistory.find(startTime);
            },
            findView: function (startTime) {
              return viewContextHistory.find(startTime);
            },
            stop: function () {
              viewContextHistory.stop();
              actionContextHistory.stop();
            },
          };
        }

        /***/
      },

    /***/ "../rum-core/src/domain/requestCollection.ts":
      /*!***************************************************!*\
  !*** ../rum-core/src/domain/requestCollection.ts ***!
  \***************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startRequestCollection: function () {
            return /* binding */ startRequestCollection;
          },
          /* harmony export */ trackXhr: function () {
            return /* binding */ trackXhr;
          },
          /* harmony export */ trackFetch: function () {
            return /* binding */ trackFetch;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/browser/xhrObservable.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/browser/fetchObservable.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./rumEventsCollection/resource/resourceUtils */ "../rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts"
          );
        /* harmony import */ var _tracing_tracer__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./tracing/tracer */ "../rum-core/src/domain/tracing/tracer.ts"
          );

        var nextRequestIndex = 1;
        function startRequestCollection(lifeCycle, configuration, session) {
          var tracer = (0,
          _tracing_tracer__WEBPACK_IMPORTED_MODULE_2__.startTracer)(
            configuration,
            session
          );
          trackXhr(lifeCycle, configuration, tracer);
          trackFetch(lifeCycle, configuration, tracer);
        }
        function trackXhr(lifeCycle, configuration, tracer) {
          var subscription = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.initXhrObservable)().subscribe(
            function (rawContext) {
              var context = rawContext;
              if (
                !(0,
                _rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.isAllowedRequestUrl)(
                  configuration,
                  context.url
                )
              ) {
                return;
              }
              switch (context.state) {
                case "start":
                  tracer.traceXhr(context, context.xhr);
                  context.requestIndex = getNextRequestIndex();
                  lifeCycle.notify(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .REQUEST_STARTED,
                    {
                      requestIndex: context.requestIndex,
                    }
                  );
                  break;
                case "complete":
                  tracer.clearTracingIfNeeded(context);
                  lifeCycle.notify(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .REQUEST_COMPLETED,
                    {
                      duration: context.duration,
                      method: context.method,
                      requestIndex: context.requestIndex,
                      responseText: context.responseText,
                      spanId: context.spanId,
                      startClocks: context.startClocks,
                      status: context.status,
                      traceId: context.traceId,
                      type: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__
                        .RequestType.XHR,
                      url: context.url,
                      xhr: context.xhr,
                    }
                  );
                  break;
              }
            }
          );
          return {
            stop: function () {
              return subscription.unsubscribe();
            },
          };
        }
        function trackFetch(lifeCycle, configuration, tracer) {
          var subscription = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.initFetchObservable)().subscribe(
            function (rawContext) {
              var context = rawContext;
              if (
                !(0,
                _rumEventsCollection_resource_resourceUtils__WEBPACK_IMPORTED_MODULE_1__.isAllowedRequestUrl)(
                  configuration,
                  context.url
                )
              ) {
                return;
              }
              switch (context.state) {
                case "start":
                  tracer.traceFetch(context);
                  context.requestIndex = getNextRequestIndex();
                  lifeCycle.notify(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .REQUEST_STARTED,
                    {
                      requestIndex: context.requestIndex,
                    }
                  );
                  break;
                case "complete":
                  tracer.clearTracingIfNeeded(context);
                  lifeCycle.notify(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .REQUEST_COMPLETED,
                    {
                      duration: context.duration,
                      method: context.method,
                      requestIndex: context.requestIndex,
                      responseText: context.responseText,
                      responseType: context.responseType,
                      spanId: context.spanId,
                      startClocks: context.startClocks,
                      status: context.status,
                      traceId: context.traceId,
                      type: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__
                        .RequestType.FETCH,
                      url: context.url,
                      response: context.response,
                      init: context.init,
                      input: context.input,
                    }
                  );
                  break;
              }
            }
          );
          return {
            stop: function () {
              return subscription.unsubscribe();
            },
          };
        }
        function getNextRequestIndex() {
          var result = nextRequestIndex;
          nextRequestIndex += 1;
          return result;
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/action/actionCollection.ts":
      /*!*****************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/action/actionCollection.ts ***!
  \*****************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startActionCollection: function () {
            return /* binding */ startActionCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _trackActions__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./trackActions */ "../rum-core/src/domain/rumEventsCollection/action/trackActions.ts"
          );

        function startActionCollection(
          lifeCycle,
          domMutationObservable,
          configuration,
          foregroundContexts
        ) {
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
              .AUTO_ACTION_COMPLETED,
            function (action) {
              return lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                  .RAW_RUM_EVENT_COLLECTED,
                processAction(action, foregroundContexts)
              );
            }
          );
          if (configuration.trackInteractions) {
            (0, _trackActions__WEBPACK_IMPORTED_MODULE_3__.trackActions)(
              lifeCycle,
              domMutationObservable,
              configuration
            );
          }
          return {
            addAction: function (action, savedCommonContext) {
              lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                  .RAW_RUM_EVENT_COLLECTED,
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  { savedCommonContext: savedCommonContext },
                  processAction(action, foregroundContexts)
                )
              );
            },
          };
        }
        function processAction(action, foregroundContexts) {
          var autoActionProperties = isAutoAction(action)
            ? {
                action: {
                  error: {
                    count: action.counts.errorCount,
                  },
                  id: action.id,
                  loading_time: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.toServerDuration)(
                    action.duration
                  ),
                  long_task: {
                    count: action.counts.longTaskCount,
                  },
                  resource: {
                    count: action.counts.resourceCount,
                  },
                },
              }
            : undefined;
          var customerContext = !isAutoAction(action)
            ? action.context
            : undefined;
          var actionEvent = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.combine)(
            {
              action: {
                id: (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.generateUUID)(),
                target: {
                  name: action.name,
                },
                type: action.type,
              },
              date: action.startClocks.timeStamp,
              type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                .ACTION,
            },
            autoActionProperties
          );
          var inForeground = foregroundContexts.isInForegroundAt(
            action.startClocks.relative
          );
          if (inForeground !== undefined) {
            actionEvent.view = { in_foreground: inForeground };
          }
          return {
            customerContext: customerContext,
            rawRumEvent: actionEvent,
            startTime: action.startClocks.relative,
            domainContext: isAutoAction(action) ? { event: action.event } : {},
          };
        }
        function isAutoAction(action) {
          return (
            action.type !==
            _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.ActionType.CUSTOM
          );
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/action/getActionNameFromElement.ts":
      /*!*************************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/action/getActionNameFromElement.ts ***!
  \*************************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ getActionNameFromElement: function () {
            return /* binding */ getActionNameFromElement;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/browserDetection.ts"
          );

        /**
         * Get the action name from the attribute 'data-dd-action-name' on the element or any of its parent.
         * It can also be retrieved from a user defined attribute.
         */
        var DEFAULT_PROGRAMMATIC_ATTRIBUTE = "data-dd-action-name";
        function getActionNameFromElement(element, userProgrammaticAttribute) {
          // Proceed to get the action name in two steps:
          // * first, get the name programmatically, explicitly defined by the user.
          // * then, use strategies that are known to return good results. Those strategies will be used on
          //   the element and a few parents, but it's likely that they won't succeed at all.
          // * if no name is found this way, use strategies returning less accurate names as a fallback.
          //   Those are much likely to succeed.
          return (
            getActionNameFromElementProgrammatically(
              element,
              DEFAULT_PROGRAMMATIC_ATTRIBUTE
            ) ||
            (userProgrammaticAttribute &&
              getActionNameFromElementProgrammatically(
                element,
                userProgrammaticAttribute
              )) ||
            getActionNameFromElementForStrategies(
              element,
              priorityStrategies
            ) ||
            getActionNameFromElementForStrategies(
              element,
              fallbackStrategies
            ) ||
            ""
          );
        }
        function getActionNameFromElementProgrammatically(
          targetElement,
          programmaticAttribute
        ) {
          var elementWithAttribute;
          // We don't use getActionNameFromElementForStrategies here, because we want to consider all parents,
          // without limit. It is up to the user to declare a relevant naming strategy.
          // If available, use element.closest() to match get the attribute from the element or any of its
          // parent.  Else fallback to a more traditional implementation.
          if (supportsElementClosest()) {
            elementWithAttribute = targetElement.closest(
              "[" + programmaticAttribute + "]"
            );
          } else {
            var element = targetElement;
            while (element) {
              if (element.hasAttribute(programmaticAttribute)) {
                elementWithAttribute = element;
                break;
              }
              element = element.parentElement;
            }
          }
          if (!elementWithAttribute) {
            return;
          }
          var name = elementWithAttribute.getAttribute(programmaticAttribute);
          return truncate(normalizeWhitespace(name.trim()));
        }
        var priorityStrategies = [
          // associated LABEL text
          function (element) {
            // IE does not support element.labels, so we fallback to a CSS selector based on the element id
            // instead
            if (supportsLabelProperty()) {
              if (
                "labels" in element &&
                element.labels &&
                element.labels.length > 0
              ) {
                return getTextualContent(element.labels[0]);
              }
            } else if (element.id) {
              var label =
                element.ownerDocument &&
                element.ownerDocument.querySelector(
                  'label[for="' + element.id.replace('"', '\\"') + '"]'
                );
              return label && getTextualContent(label);
            }
          },
          // INPUT button (and associated) value
          function (element) {
            if (element.nodeName === "INPUT") {
              var input = element;
              var type = input.getAttribute("type");
              if (type === "button" || type === "submit" || type === "reset") {
                return input.value;
              }
            }
          },
          // BUTTON, LABEL or button-like element text
          function (element) {
            if (
              element.nodeName === "BUTTON" ||
              element.nodeName === "LABEL" ||
              element.getAttribute("role") === "button"
            ) {
              return getTextualContent(element);
            }
          },
          function (element) {
            return element.getAttribute("aria-label");
          },
          // associated element text designated by the aria-labelledby attribute
          function (element) {
            var labelledByAttribute = element.getAttribute("aria-labelledby");
            if (labelledByAttribute) {
              return labelledByAttribute
                .split(/\s+/)
                .map(function (id) {
                  return getElementById(element, id);
                })
                .filter(function (label) {
                  return Boolean(label);
                })
                .map(getTextualContent)
                .join(" ");
            }
          },
          function (element) {
            return element.getAttribute("alt");
          },
          function (element) {
            return element.getAttribute("name");
          },
          function (element) {
            return element.getAttribute("title");
          },
          function (element) {
            return element.getAttribute("placeholder");
          },
          // SELECT first OPTION text
          function (element) {
            if ("options" in element && element.options.length > 0) {
              return getTextualContent(element.options[0]);
            }
          },
        ];
        var fallbackStrategies = [
          function (element) {
            return getTextualContent(element);
          },
        ];
        /**
         * Iterates over the target element and its parent, using the strategies list to get an action name.
         * Each strategies are applied on each element, stopping as soon as a non-empty value is returned.
         */
        var MAX_PARENTS_TO_CONSIDER = 10;
        function getActionNameFromElementForStrategies(
          targetElement,
          strategies
        ) {
          var element = targetElement;
          var recursionCounter = 0;
          while (
            recursionCounter <= MAX_PARENTS_TO_CONSIDER &&
            element &&
            element.nodeName !== "BODY" &&
            element.nodeName !== "HTML" &&
            element.nodeName !== "HEAD"
          ) {
            for (
              var _i = 0, strategies_1 = strategies;
              _i < strategies_1.length;
              _i++
            ) {
              var strategy = strategies_1[_i];
              var name_1 = strategy(element);
              if (typeof name_1 === "string") {
                var trimmedName = name_1.trim();
                if (trimmedName) {
                  return truncate(normalizeWhitespace(trimmedName));
                }
              }
            }
            // Consider a FORM as a contextual limit to get the action name.  This is experimental and may
            // be reconsidered in the future.
            if (element.nodeName === "FORM") {
              break;
            }
            element = element.parentElement;
            recursionCounter += 1;
          }
        }
        function normalizeWhitespace(s) {
          return s.replace(/\s+/g, " ");
        }
        function truncate(s) {
          return s.length > 100
            ? (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.safeTruncate)(
                s,
                100
              ) + " [...]"
            : s;
        }
        function getElementById(refElement, id) {
          // Use the element ownerDocument here, because tests are executed in an iframe, so
          // document.getElementById won't work.
          return refElement.ownerDocument
            ? refElement.ownerDocument.getElementById(id)
            : null;
        }
        function getTextualContent(element) {
          if (element.isContentEditable) {
            return;
          }
          if ("innerText" in element) {
            var text = element.innerText;
            if (!supportsInnerTextScriptAndStyleRemoval()) {
              // remove the inner text of SCRIPT and STYLES from the result. This is a bit dirty, but should
              // be relatively fast and work in most cases.
              var elementsTextToRemove =
                element.querySelectorAll("script, style");
              // eslint-disable-next-line @typescript-eslint/prefer-for-of
              for (var i = 0; i < elementsTextToRemove.length; i += 1) {
                var innerText = elementsTextToRemove[i].innerText;
                if (innerText.trim().length > 0) {
                  text = text.replace(innerText, "");
                }
              }

              var elementsTextToScrub = element.querySelectorAll(
                "[data-dd-action-name]"
              );

              for (var i = 0; i < elementsTextToScrub.length; i += 1) {
                var innerText = elementsTextToScrub[i].innerText;
                if (innerText.trim().length > 0) {
                  text = text.replace(
                    innerText,
                    element.getAttribute("data-dd-action-name")
                  );
                }
              }
            }
            return text;
          }
          return element.textContent;
        }
        /**
         * Returns true if element.innerText excludes the text from inline SCRIPT and STYLE element. This
         * should be the case everywhere except on Internet Explorer 10 and 11 (see [1])
         *
         * The innerText property relies on what is actually rendered to compute its output, so to check if
         * it actually excludes SCRIPT and STYLE content, a solution would be to create a style element, set
         * its content to '*', inject it in the document body, and check if the style element innerText
         * property returns '*'. Using a new `document` instance won't work as it is not rendered.
         *
         * This solution requires specific CSP rules (see [2]) to be set by the customer. We want to avoid
         * this, so instead we rely on browser detection. In case of false negative, the impact should be
         * low, since we rely on this result to remove the SCRIPT and STYLE innerText (which will be empty)
         * from a parent element innerText.
         *
         * [1]: https://web.archive.org/web/20210602165716/http://perfectionkills.com/the-poor-misunderstood-innerText/#diff-with-textContent
         * [2]: https://github.com/DataDog/browser-sdk/issues/1084
         */
        function supportsInnerTextScriptAndStyleRemoval() {
          return !(0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.isIE)();
        }
        /**
         * Returns true if the browser supports the element.labels property.  This should be the case
         * everywhere except on Internet Explorer.
         * Note: The result is computed lazily, because we don't want any DOM access when the SDK is
         * evaluated.
         */
        var supportsLabelPropertyResult;
        function supportsLabelProperty() {
          if (supportsLabelPropertyResult === undefined) {
            supportsLabelPropertyResult =
              "labels" in HTMLInputElement.prototype;
          }
          return supportsLabelPropertyResult;
        }
        /**
         * Returns true if the browser supports the element.closest method.  This should be the case
         * everywhere except on Internet Explorer.
         * Note: The result is computed lazily, because we don't want any DOM access when the SDK is
         * evaluated.
         */
        var supportsElementClosestResult;
        function supportsElementClosest() {
          if (supportsElementClosestResult === undefined) {
            supportsElementClosestResult = "closest" in HTMLElement.prototype;
          }
          return supportsElementClosestResult;
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/action/trackActions.ts":
      /*!*************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/action/trackActions.ts ***!
  \*************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ AUTO_ACTION_MAX_DURATION: function () {
            return /* binding */ AUTO_ACTION_MAX_DURATION;
          },
          /* harmony export */ trackActions: function () {
            return /* binding */ trackActions;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _trackEventCounts__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../trackEventCounts */ "../rum-core/src/domain/trackEventCounts.ts"
          );
        /* harmony import */ var _waitIdlePage__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../../waitIdlePage */ "../rum-core/src/domain/waitIdlePage.ts"
          );
        /* harmony import */ var _getActionNameFromElement__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./getActionNameFromElement */ "../rum-core/src/domain/rumEventsCollection/action/getActionNameFromElement.ts"
          );

        // Maximum duration for automatic actions
        var AUTO_ACTION_MAX_DURATION =
          10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ONE_SECOND;
        function trackActions(lifeCycle, domMutationObservable, _a) {
          var actionNameAttribute = _a.actionNameAttribute;
          var action = startActionManagement(lifeCycle, domMutationObservable);
          // New views trigger the discard of the current pending Action
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .VIEW_CREATED,
            function () {
              action.discardCurrent();
            }
          );
          var stopListener = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.addEventListener)(
            window,
            "click" /* CLICK */,
            function (event) {
              if (!(event.target instanceof Element)) {
                return;
              }
              var name = (0,
              _getActionNameFromElement__WEBPACK_IMPORTED_MODULE_4__.getActionNameFromElement)(
                event.target,
                actionNameAttribute
              );
              if (!name) {
                return;
              }
              action.create(
                _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__.ActionType
                  .CLICK,
                name,
                event
              );
            },
            { capture: true }
          ).stop;
          return {
            stop: function () {
              action.discardCurrent();
              stopListener();
            },
          };
        }
        function startActionManagement(lifeCycle, domMutationObservable) {
          var currentAction;
          var stopWaitingIdlePage;
          return {
            create: function (type, name, event) {
              if (currentAction) {
                // Ignore any new action if another one is already occurring.
                return;
              }
              var pendingAutoAction = new PendingAutoAction(
                lifeCycle,
                type,
                name,
                event
              );
              currentAction = pendingAutoAction;
              stopWaitingIdlePage = (0,
              _waitIdlePage__WEBPACK_IMPORTED_MODULE_3__.waitIdlePage)(
                lifeCycle,
                domMutationObservable,
                function (event) {
                  if (event.hadActivity && event.duration >= 0) {
                    pendingAutoAction.complete(event.duration);
                  } else {
                    pendingAutoAction.discard();
                  }
                  currentAction = undefined;
                },
                AUTO_ACTION_MAX_DURATION
              ).stop;
            },
            discardCurrent: function () {
              if (currentAction) {
                stopWaitingIdlePage();
                currentAction.discard();
                currentAction = undefined;
              }
            },
          };
        }
        var PendingAutoAction = /** @class */ (function () {
          function PendingAutoAction(lifeCycle, type, name, event) {
            this.lifeCycle = lifeCycle;
            this.type = type;
            this.name = name;
            this.event = event;
            this.id = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.generateUUID)();
            this.startClocks = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.clocksNow)();
            this.eventCountsSubscription = (0,
            _trackEventCounts__WEBPACK_IMPORTED_MODULE_2__.trackEventCounts)(
              lifeCycle
            );
            this.lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
                .AUTO_ACTION_CREATED,
              { id: this.id, startClocks: this.startClocks }
            );
          }
          PendingAutoAction.prototype.complete = function (duration) {
            var eventCounts = this.eventCountsSubscription.eventCounts;
            this.lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
                .AUTO_ACTION_COMPLETED,
              {
                counts: {
                  errorCount: eventCounts.errorCount,
                  longTaskCount: eventCounts.longTaskCount,
                  resourceCount: eventCounts.resourceCount,
                },
                duration: duration,
                id: this.id,
                name: this.name,
                startClocks: this.startClocks,
                type: this.type,
                event: this.event,
              }
            );
            this.eventCountsSubscription.stop();
          };
          PendingAutoAction.prototype.discard = function () {
            this.lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
                .AUTO_ACTION_DISCARDED
            );
            this.eventCountsSubscription.stop();
          };
          return PendingAutoAction;
        })();

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/error/errorCollection.ts":
      /*!***************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/error/errorCollection.ts ***!
  \***************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startErrorCollection: function () {
            return /* binding */ startErrorCollection;
          },
          /* harmony export */ doStartErrorCollection: function () {
            return /* binding */ doStartErrorCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/error/trackConsoleError.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/error/trackRuntimeError.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/tracekit/computeStackTrace.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/error.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        function startErrorCollection(lifeCycle, foregroundContexts) {
          var errorObservable =
            new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.Observable();
          (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.trackConsoleError)(
            errorObservable
          );
          (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.trackRuntimeError)(
            errorObservable
          );
          errorObservable.subscribe(function (error) {
            return lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                .RAW_ERROR_COLLECTED,
              { error: error }
            );
          });
          return doStartErrorCollection(lifeCycle, foregroundContexts);
        }
        function doStartErrorCollection(lifeCycle, foregroundContexts) {
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
              .RAW_ERROR_COLLECTED,
            function (_a) {
              var error = _a.error,
                customerContext = _a.customerContext,
                savedCommonContext = _a.savedCommonContext;
              lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                  .RAW_RUM_EVENT_COLLECTED,
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    customerContext: customerContext,
                    savedCommonContext: savedCommonContext,
                  },
                  processError(error, foregroundContexts)
                )
              );
            }
          );
          return {
            addError: function (_a, savedCommonContext) {
              var error = _a.error,
                handlingStack = _a.handlingStack,
                startClocks = _a.startClocks,
                customerContext = _a.context;
              var rawError = computeRawError(error, handlingStack, startClocks);
              lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                  .RAW_ERROR_COLLECTED,
                {
                  customerContext: customerContext,
                  savedCommonContext: savedCommonContext,
                  error: rawError,
                }
              );
            },
          };
        }
        function computeRawError(error, handlingStack, startClocks) {
          var stackTrace =
            error instanceof Error
              ? (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.computeStackTrace)(
                  error
                )
              : undefined;
          return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              {
                startClocks: startClocks,
                source:
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.ErrorSource
                    .CUSTOM,
                originalError: error,
              },
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.formatUnknownError)(
                stackTrace,
                error,
                "Provided",
                handlingStack
              )
            ),
            {
              handling:
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.ErrorHandling
                  .HANDLED,
            }
          );
        }
        function processError(error, foregroundContexts) {
          var rawRumEvent = {
            date: error.startClocks.timeStamp,
            error: {
              id: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.generateUUID)(),
              message: error.message,
              resource: error.resource
                ? {
                    method: error.resource.method,
                    status_code: error.resource.statusCode,
                    url: error.resource.url,
                  }
                : undefined,
              source: error.source,
              stack: error.stack,
              handling_stack: error.handlingStack,
              type: error.type,
              handling: error.handling,
            },
            type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
              .ERROR,
          };
          var inForeground = foregroundContexts.isInForegroundAt(
            error.startClocks.relative
          );
          if (inForeground !== undefined) {
            rawRumEvent.view = { in_foreground: inForeground };
          }
          return {
            rawRumEvent: rawRumEvent,
            startTime: error.startClocks.relative,
            domainContext: {
              error: error.originalError,
            },
          };
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/longTask/longTaskCollection.ts":
      /*!*********************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/longTask/longTaskCollection.ts ***!
  \*********************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startLongTaskCollection: function () {
            return /* binding */ startLongTaskCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        function startLongTaskCollection(lifeCycle, session) {
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (entry.entryType !== "longtask" || session.hasLitePlan()) {
                return;
              }
              var startClocks = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.relativeToClocks)(
                entry.startTime
              );
              var rawRumEvent = {
                date: startClocks.timeStamp,
                long_task: {
                  id: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.generateUUID)(),
                  duration: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.toServerDuration)(
                    entry.duration
                  ),
                },
                type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__
                  .RumEventType.LONG_TASK,
              };
              lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
                  .RAW_RUM_EVENT_COLLECTED,
                {
                  rawRumEvent: rawRumEvent,
                  startTime: startClocks.relative,
                  domainContext: { performanceEntry: entry.toJSON() },
                }
              );
            }
          );
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/resource/matchRequestTiming.ts":
      /*!*********************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/resource/matchRequestTiming.ts ***!
  \*********************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ matchRequestTiming: function () {
            return /* binding */ matchRequestTiming;
          },
          /* harmony export */
        });
        /* harmony import */ var _resourceUtils__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./resourceUtils */ "../rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts"
          );

        /**
         * Look for corresponding timing in resource timing buffer
         *
         * Observations:
         * - Timing (start, end) are nested inside the request (start, end)
         * - Some timing can be not exactly nested, being off by < 1 ms
         * - Browsers generate a timing entry for OPTIONS request
         *
         * Strategy:
         * - from valid nested entries (with 1 ms error margin)
         * - if a single timing match, return the timing
         * - if two following timings match (OPTIONS request), return the timing for the actual request
         * - otherwise we can't decide, return undefined
         */
        function matchRequestTiming(request) {
          if (!performance || !("getEntriesByName" in performance)) {
            return;
          }
          var sameNameEntries = performance.getEntriesByName(
            request.url,
            "resource"
          );
          if (!sameNameEntries.length || !("toJSON" in sameNameEntries[0])) {
            return;
          }
          var candidates = sameNameEntries
            .map(function (entry) {
              return entry.toJSON();
            })
            .filter(_resourceUtils__WEBPACK_IMPORTED_MODULE_0__.toValidEntry)
            .filter(function (entry) {
              return isBetween(
                entry,
                request.startClocks.relative,
                endTime({
                  startTime: request.startClocks.relative,
                  duration: request.duration,
                })
              );
            });
          if (candidates.length === 1) {
            return candidates[0];
          }
          if (candidates.length === 2 && firstCanBeOptionRequest(candidates)) {
            return candidates[1];
          }
          return;
        }
        function firstCanBeOptionRequest(correspondingEntries) {
          return (
            endTime(correspondingEntries[0]) <=
            correspondingEntries[1].startTime
          );
        }
        function endTime(timing) {
          // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
          return timing.startTime + timing.duration;
        }
        function isBetween(timing, start, end) {
          var errorMargin = 1;
          // eslint-disable-next-line @typescript-eslint/restrict-plus-operands
          return (
            timing.startTime >= start - errorMargin &&
            endTime(timing) <= end + errorMargin
          );
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/resource/resourceCollection.ts":
      /*!*********************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/resource/resourceCollection.ts ***!
  \*********************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startResourceCollection: function () {
            return /* binding */ startResourceCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../../browser/performanceCollection */ "../rum-core/src/browser/performanceCollection.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _matchRequestTiming__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./matchRequestTiming */ "../rum-core/src/domain/rumEventsCollection/resource/matchRequestTiming.ts"
          );
        /* harmony import */ var _resourceUtils__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ./resourceUtils */ "../rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts"
          );

        function startResourceCollection(lifeCycle) {
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_3__.LifeCycleEventType
              .REQUEST_COMPLETED,
            function (request) {
              lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_3__.LifeCycleEventType
                  .RAW_RUM_EVENT_COLLECTED,
                processRequest(request)
              );
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_3__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (
                entry.entryType === "resource" &&
                !(0, _resourceUtils__WEBPACK_IMPORTED_MODULE_5__.isRequestKind)(
                  entry
                )
              ) {
                lifeCycle.notify(
                  _lifeCycle__WEBPACK_IMPORTED_MODULE_3__.LifeCycleEventType
                    .RAW_RUM_EVENT_COLLECTED,
                  processResourceEntry(entry)
                );
              }
            }
          );
        }
        function processRequest(request) {
          var type =
            request.type ===
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.RequestType.XHR
              ? _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.ResourceType
                  .XHR
              : _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.ResourceType
                  .FETCH;
          var matchingTiming = (0,
          _matchRequestTiming__WEBPACK_IMPORTED_MODULE_4__.matchRequestTiming)(
            request
          );
          var startClocks = matchingTiming
            ? (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.relativeToClocks)(
                matchingTiming.startTime
              )
            : request.startClocks;
          var correspondingTimingOverrides = matchingTiming
            ? computePerformanceEntryMetrics(matchingTiming)
            : undefined;
          var tracingInfo = computeRequestTracingInfo(request);
          var resourceEvent = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.combine)(
            {
              date: startClocks.timeStamp,
              resource: {
                id: (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.generateUUID)(),
                type: type,
                duration: (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.toServerDuration)(
                  request.duration
                ),
                method: request.method,
                status_code: request.status,
                url: request.url,
              },
              type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_2__.RumEventType
                .RESOURCE,
            },
            tracingInfo,
            correspondingTimingOverrides
          );
          return {
            startTime: startClocks.relative,
            rawRumEvent: resourceEvent,
            domainContext: {
              performanceEntry:
                matchingTiming &&
                toPerformanceEntryRepresentation(matchingTiming),
              xhr: request.xhr,
              response: request.response,
              requestInput: request.input,
              requestInit: request.init,
              error: request.error,
            },
          };
        }
        function processResourceEntry(entry) {
          var type = (0,
          _resourceUtils__WEBPACK_IMPORTED_MODULE_5__.computeResourceKind)(
            entry
          );
          var entryMetrics = computePerformanceEntryMetrics(entry);
          var tracingInfo = computeEntryTracingInfo(entry);
          var startClocks = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.relativeToClocks)(
            entry.startTime
          );
          var resourceEvent = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.combine)(
            {
              date: startClocks.timeStamp,
              resource: {
                id: (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.generateUUID)(),
                type: type,
                url: entry.name,
              },
              type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_2__.RumEventType
                .RESOURCE,
            },
            tracingInfo,
            entryMetrics
          );
          return {
            startTime: startClocks.relative,
            rawRumEvent: resourceEvent,
            domainContext: {
              performanceEntry: toPerformanceEntryRepresentation(entry),
            },
          };
        }
        function computePerformanceEntryMetrics(timing) {
          return {
            resource: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              {
                duration: (0,
                _resourceUtils__WEBPACK_IMPORTED_MODULE_5__.computePerformanceResourceDuration)(
                  timing
                ),
                size: (0,
                _resourceUtils__WEBPACK_IMPORTED_MODULE_5__.computeSize)(
                  timing
                ),
              },
              (0,
              _resourceUtils__WEBPACK_IMPORTED_MODULE_5__.computePerformanceResourceDetails)(
                timing
              )
            ),
          };
        }
        function computeRequestTracingInfo(request) {
          var hasBeenTraced = request.traceId && request.spanId;
          if (!hasBeenTraced) {
            return undefined;
          }
          return {
            _dd: {
              span_id: request.spanId.toDecimalString(),
              trace_id: request.traceId.toDecimalString(),
            },
          };
        }
        function computeEntryTracingInfo(entry) {
          return entry.traceId
            ? { _dd: { trace_id: entry.traceId } }
            : undefined;
        }
        function toPerformanceEntryRepresentation(entry) {
          if (
            (0,
            _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_1__.supportPerformanceEntry)() &&
            entry instanceof PerformanceEntry
          ) {
            entry.toJSON();
          }
          return entry;
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts":
      /*!****************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/resource/resourceUtils.ts ***!
  \****************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ FAKE_INITIAL_DOCUMENT: function () {
            return /* binding */ FAKE_INITIAL_DOCUMENT;
          },
          /* harmony export */ computeResourceKind: function () {
            return /* binding */ computeResourceKind;
          },
          /* harmony export */ isRequestKind: function () {
            return /* binding */ isRequestKind;
          },
          /* harmony export */ computePerformanceResourceDuration: function () {
            return /* binding */ computePerformanceResourceDuration;
          },
          /* harmony export */ computePerformanceResourceDetails: function () {
            return /* binding */ computePerformanceResourceDetails;
          },
          /* harmony export */ toValidEntry: function () {
            return /* binding */ toValidEntry;
          },
          /* harmony export */ computeSize: function () {
            return /* binding */ computeSize;
          },
          /* harmony export */ isAllowedRequestUrl: function () {
            return /* binding */ isAllowedRequestUrl;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/urlPolyfill.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );

        var FAKE_INITIAL_DOCUMENT = "initial_document";
        var RESOURCE_TYPES = [
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
              .DOCUMENT,
            function (initiatorType) {
              return FAKE_INITIAL_DOCUMENT === initiatorType;
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType.XHR,
            function (initiatorType) {
              return "xmlhttprequest" === initiatorType;
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
              .FETCH,
            function (initiatorType) {
              return "fetch" === initiatorType;
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
              .BEACON,
            function (initiatorType) {
              return "beacon" === initiatorType;
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType.CSS,
            function (_, path) {
              return /\.css$/i.test(path);
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType.JS,
            function (_, path) {
              return /\.js$/i.test(path);
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
              .IMAGE,
            function (initiatorType, path) {
              return (
                (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.includes)(
                  ["image", "img", "icon"],
                  initiatorType
                ) || /\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(path) !== null
              );
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
              .FONT,
            function (_, path) {
              return /\.(woff|eot|woff2|ttf)$/i.exec(path) !== null;
            },
          ],
          [
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
              .MEDIA,
            function (initiatorType, path) {
              return (
                (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.includes)(
                  ["audio", "video"],
                  initiatorType
                ) || /\.(mp3|mp4)$/i.exec(path) !== null
              );
            },
          ],
        ];
        function computeResourceKind(timing) {
          var url = timing.name;
          if (
            !(0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isValidUrl)(
              url
            )
          ) {
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addMonitoringMessage)(
              'Failed to construct URL for "' + timing.name + '"'
            );
            return _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__
              .ResourceType.OTHER;
          }
          var path = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getPathName)(url);
          for (
            var _i = 0, RESOURCE_TYPES_1 = RESOURCE_TYPES;
            _i < RESOURCE_TYPES_1.length;
            _i++
          ) {
            var _a = RESOURCE_TYPES_1[_i],
              type = _a[0],
              isType = _a[1];
            if (isType(timing.initiatorType, path)) {
              return type;
            }
          }
          return _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.ResourceType
            .OTHER;
        }
        function areInOrder() {
          var numbers = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            numbers[_i] = arguments[_i];
          }
          for (var i = 1; i < numbers.length; i += 1) {
            if (numbers[i - 1] > numbers[i]) {
              return false;
            }
          }
          return true;
        }
        function isRequestKind(timing) {
          return (
            timing.initiatorType === "xmlhttprequest" ||
            timing.initiatorType === "fetch"
          );
        }
        function computePerformanceResourceDuration(entry) {
          var duration = entry.duration,
            startTime = entry.startTime,
            responseEnd = entry.responseEnd;
          // Safari duration is always 0 on timings blocked by cross origin policies.
          if (duration === 0 && startTime < responseEnd) {
            return (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.toServerDuration)(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.elapsed)(
                startTime,
                responseEnd
              )
            );
          }
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.toServerDuration)(
            duration
          );
        }
        function computePerformanceResourceDetails(entry) {
          var validEntry = toValidEntry(entry);
          if (!validEntry) {
            return undefined;
          }
          var startTime = validEntry.startTime,
            fetchStart = validEntry.fetchStart,
            redirectStart = validEntry.redirectStart,
            redirectEnd = validEntry.redirectEnd,
            domainLookupStart = validEntry.domainLookupStart,
            domainLookupEnd = validEntry.domainLookupEnd,
            connectStart = validEntry.connectStart,
            secureConnectionStart = validEntry.secureConnectionStart,
            connectEnd = validEntry.connectEnd,
            requestStart = validEntry.requestStart,
            responseStart = validEntry.responseStart,
            responseEnd = validEntry.responseEnd;
          var details = {
            download: formatTiming(startTime, responseStart, responseEnd),
            first_byte: formatTiming(startTime, requestStart, responseStart),
          };
          // Make sure a connection occurred
          if (connectEnd !== fetchStart) {
            details.connect = formatTiming(startTime, connectStart, connectEnd);
            // Make sure a secure connection occurred
            if (areInOrder(connectStart, secureConnectionStart, connectEnd)) {
              details.ssl = formatTiming(
                startTime,
                secureConnectionStart,
                connectEnd
              );
            }
          }
          // Make sure a domain lookup occurred
          if (domainLookupEnd !== fetchStart) {
            details.dns = formatTiming(
              startTime,
              domainLookupStart,
              domainLookupEnd
            );
          }
          if (hasRedirection(entry)) {
            details.redirect = formatTiming(
              startTime,
              redirectStart,
              redirectEnd
            );
          }
          return details;
        }
        function toValidEntry(entry) {
          // Ensure timings are in the right order. On top of filtering out potential invalid
          // RumPerformanceResourceTiming, it will ignore entries from requests where timings cannot be
          // collected, for example cross origin requests without a "Timing-Allow-Origin" header allowing
          // it.
          if (
            !areInOrder(
              entry.startTime,
              entry.fetchStart,
              entry.domainLookupStart,
              entry.domainLookupEnd,
              entry.connectStart,
              entry.connectEnd,
              entry.requestStart,
              entry.responseStart,
              entry.responseEnd
            )
          ) {
            return undefined;
          }
          if (!hasRedirection(entry)) {
            return entry;
          }
          var redirectStart = entry.redirectStart,
            redirectEnd = entry.redirectEnd;
          // Firefox doesn't provide redirect timings on cross origin requests.
          // Provide a default for those.
          if (redirectStart < entry.startTime) {
            redirectStart = entry.startTime;
          }
          if (redirectEnd < entry.startTime) {
            redirectEnd = entry.fetchStart;
          }
          // Make sure redirect timings are in order
          if (
            !areInOrder(
              entry.startTime,
              redirectStart,
              redirectEnd,
              entry.fetchStart
            )
          ) {
            return undefined;
          }
          return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, entry),
            { redirectEnd: redirectEnd, redirectStart: redirectStart }
          );
        }
        function hasRedirection(entry) {
          // The only time fetchStart is different than startTime is if a redirection occurred.
          return entry.fetchStart !== entry.startTime;
        }
        function formatTiming(origin, start, end) {
          return {
            duration: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.toServerDuration)(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.elapsed)(
                start,
                end
              )
            ),
            start: (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.toServerDuration)(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.elapsed)(
                origin,
                start
              )
            ),
          };
        }
        function computeSize(entry) {
          // Make sure a request actually occurred
          if (entry.startTime < entry.responseStart) {
            return entry.decodedBodySize;
          }
          return undefined;
        }
        function isAllowedRequestUrl(configuration, url) {
          return url && !configuration.isIntakeUrl(url);
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/view/trackFirstHidden.ts":
      /*!***************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/view/trackFirstHidden.ts ***!
  \***************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ trackFirstHidden: function () {
            return /* binding */ trackFirstHidden;
          },
          /* harmony export */ resetFirstHidden: function () {
            return /* binding */ resetFirstHidden;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );

        var trackFirstHiddenSingleton;
        var stopListeners;
        function trackFirstHidden(emitter) {
          if (emitter === void 0) {
            emitter = window;
          }
          if (!trackFirstHiddenSingleton) {
            if (document.visibilityState === "hidden") {
              trackFirstHiddenSingleton = { timeStamp: 0 };
            } else {
              trackFirstHiddenSingleton = {
                timeStamp: Infinity,
              };
              stopListeners = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.addEventListener)(
                emitter,
                "pagehide" /* PAGE_HIDE */,
                function (_a) {
                  var timeStamp = _a.timeStamp;
                  trackFirstHiddenSingleton.timeStamp = timeStamp;
                },
                { capture: true, once: true }
              ).stop;
            }
          }
          return trackFirstHiddenSingleton;
        }
        function resetFirstHidden() {
          if (stopListeners) {
            stopListeners();
          }
          trackFirstHiddenSingleton = undefined;
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/view/trackInitialViewTimings.ts":
      /*!**********************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/view/trackInitialViewTimings.ts ***!
  \**********************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ TIMING_MAXIMUM_DELAY: function () {
            return /* binding */ TIMING_MAXIMUM_DELAY;
          },
          /* harmony export */ trackInitialViewTimings: function () {
            return /* binding */ trackInitialViewTimings;
          },
          /* harmony export */ trackNavigationTimings: function () {
            return /* binding */ trackNavigationTimings;
          },
          /* harmony export */ trackFirstContentfulPaintTiming: function () {
            return /* binding */ trackFirstContentfulPaintTiming;
          },
          /* harmony export */ trackLargestContentfulPaintTiming: function () {
            return /* binding */ trackLargestContentfulPaintTiming;
          },
          /* harmony export */ trackFirstInputTimings: function () {
            return /* binding */ trackFirstInputTimings;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _trackFirstHidden__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./trackFirstHidden */ "../rum-core/src/domain/rumEventsCollection/view/trackFirstHidden.ts"
          );

        // Discard LCP and FCP timings above a certain delay to avoid incorrect data
        // It happens in some cases like sleep mode or some browser implementations
        var TIMING_MAXIMUM_DELAY =
          10 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.ONE_MINUTE;
        function trackInitialViewTimings(lifeCycle, callback) {
          var timings;
          function setTimings(newTimings) {
            timings = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, timings),
              newTimings
            );
            callback(timings);
          }
          var stopNavigationTracking = trackNavigationTimings(
            lifeCycle,
            setTimings
          ).stop;
          var stopFCPTracking = trackFirstContentfulPaintTiming(
            lifeCycle,
            function (firstContentfulPaint) {
              return setTimings({ firstContentfulPaint: firstContentfulPaint });
            }
          ).stop;
          var stopLCPTracking = trackLargestContentfulPaintTiming(
            lifeCycle,
            window,
            function (largestContentfulPaint) {
              setTimings({
                largestContentfulPaint: largestContentfulPaint,
              });
            }
          ).stop;
          var stopFIDTracking = trackFirstInputTimings(
            lifeCycle,
            function (_a) {
              var firstInputDelay = _a.firstInputDelay,
                firstInputTime = _a.firstInputTime;
              setTimings({
                firstInputDelay: firstInputDelay,
                firstInputTime: firstInputTime,
              });
            }
          ).stop;
          return {
            stop: function () {
              stopNavigationTracking();
              stopFCPTracking();
              stopLCPTracking();
              stopFIDTracking();
            },
          };
        }
        function trackNavigationTimings(lifeCycle, callback) {
          var stop = lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (entry.entryType === "navigation") {
                callback({
                  domComplete: entry.domComplete,
                  domContentLoaded: entry.domContentLoadedEventEnd,
                  domInteractive: entry.domInteractive,
                  loadEvent: entry.loadEventEnd,
                });
              }
            }
          ).unsubscribe;
          return { stop: stop };
        }
        function trackFirstContentfulPaintTiming(lifeCycle, callback) {
          var firstHidden = (0,
          _trackFirstHidden__WEBPACK_IMPORTED_MODULE_2__.trackFirstHidden)();
          var stop = lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (
                entry.entryType === "paint" &&
                entry.name === "first-contentful-paint" &&
                entry.startTime < firstHidden.timeStamp &&
                entry.startTime < TIMING_MAXIMUM_DELAY
              ) {
                callback(entry.startTime);
              }
            }
          ).unsubscribe;
          return { stop: stop };
        }
        /**
         * Track the largest contentful paint (LCP) occurring during the initial View.  This can yield
         * multiple values, only the most recent one should be used.
         * Documentation: https://web.dev/lcp/
         * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getLCP.ts
         */
        function trackLargestContentfulPaintTiming(
          lifeCycle,
          emitter,
          callback
        ) {
          var firstHidden = (0,
          _trackFirstHidden__WEBPACK_IMPORTED_MODULE_2__.trackFirstHidden)();
          // Ignore entries that come after the first user interaction.  According to the documentation, the
          // browser should not send largest-contentful-paint entries after a user interact with the page,
          // but the web-vitals reference implementation uses this as a safeguard.
          var firstInteractionTimestamp = Infinity;
          var stopEventListener = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListeners)(
            emitter,
            ["pointerdown" /* POINTER_DOWN */, "keydown" /* KEY_DOWN */],
            function (event) {
              firstInteractionTimestamp = event.timeStamp;
            },
            { capture: true, once: true }
          ).stop;
          var unsubscribeLifeCycle = lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (
                entry.entryType === "largest-contentful-paint" &&
                entry.startTime < firstInteractionTimestamp &&
                entry.startTime < firstHidden.timeStamp &&
                entry.startTime < TIMING_MAXIMUM_DELAY
              ) {
                callback(entry.startTime);
              }
            }
          ).unsubscribe;
          return {
            stop: function () {
              stopEventListener();
              unsubscribeLifeCycle();
            },
          };
        }
        /**
         * Track the first input occurring during the initial View to return:
         * - First Input Delay
         * - First Input Time
         * Callback is called at most one time.
         * Documentation: https://web.dev/fid/
         * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getFID.ts
         */
        function trackFirstInputTimings(lifeCycle, callback) {
          var firstHidden = (0,
          _trackFirstHidden__WEBPACK_IMPORTED_MODULE_2__.trackFirstHidden)();
          var stop = lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (
                entry.entryType === "first-input" &&
                entry.startTime < firstHidden.timeStamp
              ) {
                var firstInputDelay = (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.elapsed)(
                  entry.startTime,
                  entry.processingStart
                );
                callback({
                  // Ensure firstInputDelay to be positive, see
                  // https://bugs.chromium.org/p/chromium/issues/detail?id=1185815
                  firstInputDelay: firstInputDelay >= 0 ? firstInputDelay : 0,
                  firstInputTime: entry.startTime,
                });
              }
            }
          ).unsubscribe;
          return {
            stop: stop,
          };
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/view/trackViewMetrics.ts":
      /*!***************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/view/trackViewMetrics.ts ***!
  \***************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ trackViewMetrics: function () {
            return /* binding */ trackViewMetrics;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../../browser/performanceCollection */ "../rum-core/src/browser/performanceCollection.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _trackEventCounts__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../../trackEventCounts */ "../rum-core/src/domain/trackEventCounts.ts"
          );
        /* harmony import */ var _waitIdlePage__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../../waitIdlePage */ "../rum-core/src/domain/waitIdlePage.ts"
          );

        function trackViewMetrics(
          lifeCycle,
          domMutationObservable,
          scheduleViewUpdate,
          loadingType
        ) {
          var viewMetrics = {
            eventCounts: {
              errorCount: 0,
              longTaskCount: 0,
              resourceCount: 0,
              userActionCount: 0,
            },
          };
          var stopEventCountsTracking = (0,
          _trackEventCounts__WEBPACK_IMPORTED_MODULE_3__.trackEventCounts)(
            lifeCycle,
            function (newEventCounts) {
              viewMetrics.eventCounts = newEventCounts;
              scheduleViewUpdate();
            }
          ).stop;
          var _a = trackLoadingTime(loadingType, function (newLoadingTime) {
              viewMetrics.loadingTime = newLoadingTime;
              scheduleViewUpdate();
            }),
            setActivityLoadingTime = _a.setActivityLoadingTime,
            setLoadEvent = _a.setLoadEvent;
          var stopActivityLoadingTimeTracking = trackActivityLoadingTime(
            lifeCycle,
            domMutationObservable,
            setActivityLoadingTime
          ).stop;
          var stopCLSTracking;
          if (isLayoutShiftSupported()) {
            viewMetrics.cumulativeLayoutShift = 0;
            stopCLSTracking = trackCumulativeLayoutShift(
              lifeCycle,
              function (cumulativeLayoutShift) {
                viewMetrics.cumulativeLayoutShift = cumulativeLayoutShift;
                scheduleViewUpdate();
              }
            ).stop;
          } else {
            stopCLSTracking =
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.noop;
          }
          return {
            stop: function () {
              stopEventCountsTracking();
              stopActivityLoadingTimeTracking();
              stopCLSTracking();
            },
            setLoadEvent: setLoadEvent,
            viewMetrics: viewMetrics,
          };
        }
        function trackLoadingTime(loadType, callback) {
          var isWaitingForLoadEvent =
            loadType ===
            _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.ViewLoadingType
              .INITIAL_LOAD;
          var isWaitingForActivityLoadingTime = true;
          var loadingTimeCandidates = [];
          function invokeCallbackIfAllCandidatesAreReceived() {
            if (
              !isWaitingForActivityLoadingTime &&
              !isWaitingForLoadEvent &&
              loadingTimeCandidates.length > 0
            ) {
              callback(Math.max.apply(Math, loadingTimeCandidates));
            }
          }
          return {
            setLoadEvent: function (loadEvent) {
              if (isWaitingForLoadEvent) {
                isWaitingForLoadEvent = false;
                loadingTimeCandidates.push(loadEvent);
                invokeCallbackIfAllCandidatesAreReceived();
              }
            },
            setActivityLoadingTime: function (activityLoadingTime) {
              if (isWaitingForActivityLoadingTime) {
                isWaitingForActivityLoadingTime = false;
                if (activityLoadingTime !== undefined) {
                  loadingTimeCandidates.push(activityLoadingTime);
                }
                invokeCallbackIfAllCandidatesAreReceived();
              }
            },
          };
        }
        function trackActivityLoadingTime(
          lifeCycle,
          domMutationObservable,
          callback
        ) {
          return (0, _waitIdlePage__WEBPACK_IMPORTED_MODULE_4__.waitIdlePage)(
            lifeCycle,
            domMutationObservable,
            function (event) {
              if (event.hadActivity) {
                callback(event.duration);
              } else {
                callback(undefined);
              }
            }
          );
        }
        /**
         * Track the cumulative layout shifts (CLS).
         * Layout shifts are grouped into session windows.
         * The minimum gap between session windows is 1 second.
         * The maximum duration of a session window is 5 second.
         * The session window layout shift value is the sum of layout shifts inside it.
         * The CLS value is the max of session windows values.
         *
         * This yields a new value whenever the CLS value is updated (a higher session window value is computed).
         *
         * See isLayoutShiftSupported to check for browser support.
         *
         * Documentation:
         * https://web.dev/cls/
         * https://web.dev/evolving-cls/
         * Reference implementation: https://github.com/GoogleChrome/web-vitals/blob/master/src/getCLS.ts
         */
        function trackCumulativeLayoutShift(lifeCycle, callback) {
          var maxClsValue = 0;
          var window = slidingSessionWindow();
          var stop = lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
              .PERFORMANCE_ENTRY_COLLECTED,
            function (entry) {
              if (entry.entryType === "layout-shift" && !entry.hadRecentInput) {
                window.update(entry);
                if (window.value() > maxClsValue) {
                  maxClsValue = window.value();
                  callback(
                    (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.round)(
                      maxClsValue,
                      4
                    )
                  );
                }
              }
            }
          ).unsubscribe;
          return {
            stop: stop,
          };
        }
        function slidingSessionWindow() {
          var value = 0;
          var startTime;
          var endTime;
          return {
            update: function (entry) {
              var shouldCreateNewWindow =
                startTime === undefined ||
                entry.startTime - endTime >=
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ONE_SECOND ||
                entry.startTime - startTime >=
                  5 *
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ONE_SECOND;
              if (shouldCreateNewWindow) {
                startTime = endTime = entry.startTime;
                value = entry.value;
              } else {
                value += entry.value;
                endTime = entry.startTime;
              }
            },
            value: function () {
              return value;
            },
          };
        }
        /**
         * Check whether `layout-shift` is supported by the browser.
         */
        function isLayoutShiftSupported() {
          return (0,
          _browser_performanceCollection__WEBPACK_IMPORTED_MODULE_0__.supportPerformanceTimingEvent)(
            "layout-shift"
          );
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/view/trackViews.ts":
      /*!*********************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/view/trackViews.ts ***!
  \*********************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ THROTTLE_VIEW_UPDATE_PERIOD: function () {
            return /* binding */ THROTTLE_VIEW_UPDATE_PERIOD;
          },
          /* harmony export */ SESSION_KEEP_ALIVE_INTERVAL: function () {
            return /* binding */ SESSION_KEEP_ALIVE_INTERVAL;
          },
          /* harmony export */ trackViews: function () {
            return /* binding */ trackViews;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _trackInitialViewTimings__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./trackInitialViewTimings */ "../rum-core/src/domain/rumEventsCollection/view/trackInitialViewTimings.ts"
          );
        /* harmony import */ var _trackViewMetrics__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./trackViewMetrics */ "../rum-core/src/domain/rumEventsCollection/view/trackViewMetrics.ts"
          );

        var THROTTLE_VIEW_UPDATE_PERIOD = 3000;
        var SESSION_KEEP_ALIVE_INTERVAL =
          5 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.ONE_MINUTE;
        function trackViews(
          location,
          lifeCycle,
          domMutationObservable,
          locationChangeObservable,
          areViewsTrackedAutomatically,
          initialViewName
        ) {
          var _a = trackInitialView(initialViewName),
            stopInitialViewTracking = _a.stop,
            initialView = _a.initialView;
          var currentView = initialView;
          var stopViewLifeCycle = startViewLifeCycle().stop;
          var locationChangeSubscription;
          if (areViewsTrackedAutomatically) {
            locationChangeSubscription = renewViewOnLocationChange(
              locationChangeObservable
            );
          }
          function trackInitialView(name) {
            var initialView = newView(
              lifeCycle,
              domMutationObservable,
              location,
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.ViewLoadingType
                .INITIAL_LOAD,
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.clocksOrigin)(),
              name
            );
            var stop = (0,
            _trackInitialViewTimings__WEBPACK_IMPORTED_MODULE_3__.trackInitialViewTimings)(
              lifeCycle,
              function (timings) {
                initialView.updateTimings(timings);
                initialView.scheduleUpdate();
              }
            ).stop;
            return { initialView: initialView, stop: stop };
          }
          function trackViewChange(startClocks, name) {
            return newView(
              lifeCycle,
              domMutationObservable,
              location,
              _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.ViewLoadingType
                .ROUTE_CHANGE,
              startClocks,
              name
            );
          }
          function startViewLifeCycle() {
            lifeCycle.subscribe(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                .SESSION_RENEWED,
              function () {
                // do not trigger view update to avoid wrong data
                currentView.end();
                // Renew view on session renewal
                currentView = trackViewChange(undefined, currentView.name);
              }
            );
            // End the current view on page unload
            lifeCycle.subscribe(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                .BEFORE_UNLOAD,
              function () {
                currentView.end();
                currentView.triggerUpdate();
              }
            );
            // Session keep alive
            var keepAliveInterval = window.setInterval(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(
                function () {
                  currentView.triggerUpdate();
                }
              ),
              SESSION_KEEP_ALIVE_INTERVAL
            );
            return {
              stop: function () {
                clearInterval(keepAliveInterval);
              },
            };
          }
          function renewViewOnLocationChange(locationChangeObservable) {
            return locationChangeObservable.subscribe(function (_a) {
              var oldLocation = _a.oldLocation,
                newLocation = _a.newLocation;
              if (areDifferentLocation(oldLocation, newLocation)) {
                currentView.end();
                currentView.triggerUpdate();
                currentView = trackViewChange();
                return;
              }
            });
          }
          return {
            addTiming: function (name, time) {
              if (time === void 0) {
                time = (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.timeStampNow)();
              }
              currentView.addTiming(name, time);
              currentView.triggerUpdate();
            },
            startView: function (name, startClocks) {
              currentView.end(startClocks);
              currentView.triggerUpdate();
              currentView = trackViewChange(startClocks, name);
            },
            stop: function () {
              locationChangeSubscription === null ||
              locationChangeSubscription === void 0
                ? void 0
                : locationChangeSubscription.unsubscribe();
              stopInitialViewTracking();
              stopViewLifeCycle();
              currentView.end();
            },
          };
        }
        function newView(
          lifeCycle,
          domMutationObservable,
          initialLocation,
          loadingType,
          startClocks,
          name
        ) {
          if (startClocks === void 0) {
            startClocks = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.clocksNow)();
          }
          // Setup initial values
          var id = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.generateUUID)();
          var timings = {};
          var customTimings = {};
          var documentVersion = 0;
          var endClocks;
          var location = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            {},
            initialLocation
          );
          lifeCycle.notify(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
              .VIEW_CREATED,
            { id: id, name: name, startClocks: startClocks }
          );
          // Update the view every time the measures are changing
          var _a = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.throttle)(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.monitor)(
                triggerViewUpdate
              ),
              THROTTLE_VIEW_UPDATE_PERIOD,
              {
                leading: false,
              }
            ),
            scheduleViewUpdate = _a.throttled,
            cancelScheduleViewUpdate = _a.cancel;
          var _b = (0,
            _trackViewMetrics__WEBPACK_IMPORTED_MODULE_4__.trackViewMetrics)(
              lifeCycle,
              domMutationObservable,
              scheduleViewUpdate,
              loadingType
            ),
            setLoadEvent = _b.setLoadEvent,
            stopViewMetricsTracking = _b.stop,
            viewMetrics = _b.viewMetrics;
          // Initial view update
          triggerViewUpdate();
          function triggerViewUpdate() {
            documentVersion += 1;
            var currentEnd =
              endClocks === undefined
                ? (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.timeStampNow)()
                : endClocks.timeStamp;
            lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                .VIEW_UPDATED,
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {},
                  viewMetrics
                ),
                {
                  customTimings: customTimings,
                  documentVersion: documentVersion,
                  id: id,
                  name: name,
                  loadingType: loadingType,
                  location: location,
                  startClocks: startClocks,
                  timings: timings,
                  duration: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.elapsed)(
                    startClocks.timeStamp,
                    currentEnd
                  ),
                  isActive: endClocks === undefined,
                }
              )
            );
          }
          return {
            name: name,
            scheduleUpdate: scheduleViewUpdate,
            end: function (clocks) {
              if (clocks === void 0) {
                clocks = (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.clocksNow)();
              }
              endClocks = clocks;
              stopViewMetricsTracking();
              lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType
                  .VIEW_ENDED,
                { endClocks: endClocks }
              );
            },
            triggerUpdate: function () {
              // cancel any pending view updates execution
              cancelScheduleViewUpdate();
              triggerViewUpdate();
            },
            updateTimings: function (newTimings) {
              timings = newTimings;
              if (newTimings.loadEvent !== undefined) {
                setLoadEvent(newTimings.loadEvent);
              }
            },
            addTiming: function (name, time) {
              var relativeTime = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.looksLikeRelativeTime)(
                time
              )
                ? time
                : (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_6__.elapsed)(
                    startClocks.timeStamp,
                    time
                  );
              customTimings[sanitizeTiming(name)] = relativeTime;
            },
          };
        }
        /**
         * Timing name is used as facet path that must contain only letters, digits, or the characters - _ . @ $
         */
        function sanitizeTiming(name) {
          var sanitized = name.replace(/[^a-zA-Z0-9-_.@$]/g, "_");
          if (sanitized !== name) {
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.display.warn(
              "Invalid timing name: " + name + ", sanitized to: " + sanitized
            );
          }
          return sanitized;
        }
        function areDifferentLocation(currentLocation, otherLocation) {
          return (
            currentLocation.pathname !== otherLocation.pathname ||
            (!isHashAnAnchor(otherLocation.hash) &&
              getPathFromHash(otherLocation.hash) !==
                getPathFromHash(currentLocation.hash))
          );
        }
        function isHashAnAnchor(hash) {
          var correspondingId = hash.substr(1);
          return !!document.getElementById(correspondingId);
        }
        function getPathFromHash(hash) {
          var index = hash.indexOf("?");
          return index < 0 ? hash : hash.slice(0, index);
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumEventsCollection/view/viewCollection.ts":
      /*!*************************************************************************!*\
  !*** ../rum-core/src/domain/rumEventsCollection/view/viewCollection.ts ***!
  \*************************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startViewCollection: function () {
            return /* binding */ startViewCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../../../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _trackViews__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./trackViews */ "../rum-core/src/domain/rumEventsCollection/view/trackViews.ts"
          );

        function startViewCollection(
          lifeCycle,
          configuration,
          location,
          domMutationObservable,
          locationChangeObservable,
          foregroundContexts,
          recorderApi,
          initialViewName
        ) {
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .VIEW_UPDATED,
            function (view) {
              return lifeCycle.notify(
                _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
                  .RAW_RUM_EVENT_COLLECTED,
                processViewUpdate(view, foregroundContexts, recorderApi)
              );
            }
          );
          return (0, _trackViews__WEBPACK_IMPORTED_MODULE_2__.trackViews)(
            location,
            lifeCycle,
            domMutationObservable,
            locationChangeObservable,
            !configuration.trackViewsManually,
            initialViewName
          );
        }
        function processViewUpdate(view, foregroundContexts, recorderApi) {
          var replayStats = recorderApi.getReplayStats(view.id);
          var viewEvent = {
            _dd: {
              document_version: view.documentVersion,
              replay_stats: replayStats,
            },
            date: view.startClocks.timeStamp,
            type: _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__.RumEventType
              .VIEW,
            view: {
              action: {
                count: view.eventCounts.userActionCount,
              },
              cumulative_layout_shift: view.cumulativeLayoutShift,
              dom_complete: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.domComplete
              ),
              dom_content_loaded: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.domContentLoaded
              ),
              dom_interactive: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.domInteractive
              ),
              error: {
                count: view.eventCounts.errorCount,
              },
              first_contentful_paint: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.firstContentfulPaint
              ),
              first_input_delay: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.firstInputDelay
              ),
              first_input_time: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.firstInputTime
              ),
              is_active: view.isActive,
              name: view.name,
              largest_contentful_paint: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.largestContentfulPaint
              ),
              load_event: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.timings.loadEvent
              ),
              loading_time: discardNegativeDuration(
                (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                  view.loadingTime
                )
              ),
              loading_type: view.loadingType,
              long_task: {
                count: view.eventCounts.longTaskCount,
              },
              resource: {
                count: view.eventCounts.resourceCount,
              },
              time_spent: (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration)(
                view.duration
              ),
              in_foreground_periods:
                foregroundContexts.selectInForegroundPeriodsFor(
                  view.startClocks.relative,
                  view.duration
                ),
            },
            session: {
              has_replay: replayStats ? true : undefined,
            },
          };
          if (
            !(0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isEmptyObject)(
              view.customTimings
            )
          ) {
            viewEvent.view.custom_timings = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.mapValues)(
              view.customTimings,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.toServerDuration
            );
          }
          return {
            rawRumEvent: viewEvent,
            startTime: view.startClocks.relative,
            domainContext: {
              location: view.location,
            },
          };
        }
        function discardNegativeDuration(duration) {
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.isNumber)(
            duration
          ) && duration < 0
            ? undefined
            : duration;
        }

        /***/
      },

    /***/ "../rum-core/src/domain/rumSession.ts":
      /*!********************************************!*\
  !*** ../rum-core/src/domain/rumSession.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ RUM_SESSION_KEY: function () {
            return /* binding */ RUM_SESSION_KEY;
          },
          /* harmony export */ RumSessionPlan: function () {
            return /* binding */ RumSessionPlan;
          },
          /* harmony export */ RumTrackingType: function () {
            return /* binding */ RumTrackingType;
          },
          /* harmony export */ startRumSession: function () {
            return /* binding */ startRumSession;
          },
          /* harmony export */ startRumSessionStub: function () {
            return /* binding */ startRumSessionStub;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/session/sessionManagement.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        var RUM_SESSION_KEY = "rum";
        var RumSessionPlan;
        (function (RumSessionPlan) {
          RumSessionPlan[(RumSessionPlan["LITE"] = 1)] = "LITE";
          RumSessionPlan[(RumSessionPlan["REPLAY"] = 2)] = "REPLAY";
        })(RumSessionPlan || (RumSessionPlan = {}));
        var RumTrackingType;
        (function (RumTrackingType) {
          RumTrackingType["NOT_TRACKED"] = "0";
          // Note: the "tracking type" value (stored in the session cookie) does not match the "session
          // plan" value (sent in RUM events). This is expected, and was done to keep retrocompatibility
          // with active sessions when upgrading the SDK.
          RumTrackingType["TRACKED_REPLAY"] = "1";
          RumTrackingType["TRACKED_LITE"] = "2";
        })(RumTrackingType || (RumTrackingType = {}));
        function startRumSession(configuration, lifeCycle) {
          var session = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.startSessionManagement)(
            configuration.cookieOptions,
            RUM_SESSION_KEY,
            function (rawTrackingType) {
              return computeSessionState(configuration, rawTrackingType);
            }
          );
          session.renewObservable.subscribe(function () {
            lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                .SESSION_EXPIRED
            );
            lifeCycle.notify(
              _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                .SESSION_RENEWED
            );
          });
          return {
            getId: session.getId,
            isTracked: function () {
              return isSessionTracked(session);
            },
            hasReplayPlan: function () {
              return (
                isSessionTracked(session) &&
                session.getTrackingType() === RumTrackingType.TRACKED_REPLAY
              );
            },
            hasLitePlan: function () {
              return (
                isSessionTracked(session) &&
                session.getTrackingType() === RumTrackingType.TRACKED_LITE
              );
            },
          };
        }
        /**
         * Start a tracked replay session stub
         * It needs to be a replay plan in order to get long tasks
         */
        function startRumSessionStub() {
          return {
            getId: function () {
              return "00000000-aaaa-0000-aaaa-000000000000";
            },
            isTracked: function () {
              return true;
            },
            hasReplayPlan: function () {
              return true;
            },
            hasLitePlan: function () {
              return false;
            },
          };
        }
        function isSessionTracked(session) {
          return (
            session.getId() !== undefined &&
            isTypeTracked(session.getTrackingType())
          );
        }
        function computeSessionState(configuration, rawTrackingType) {
          var trackingType;
          if (hasValidRumSession(rawTrackingType)) {
            trackingType = rawTrackingType;
          } else if (
            !(0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.performDraw)(
              configuration.sampleRate
            )
          ) {
            trackingType = RumTrackingType.NOT_TRACKED;
          } else if (
            !(0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.performDraw)(
              configuration.replaySampleRate
            )
          ) {
            trackingType = RumTrackingType.TRACKED_LITE;
          } else {
            trackingType = RumTrackingType.TRACKED_REPLAY;
          }
          return {
            trackingType: trackingType,
            isTracked: isTypeTracked(trackingType),
          };
        }
        function hasValidRumSession(trackingType) {
          return (
            trackingType === RumTrackingType.NOT_TRACKED ||
            trackingType === RumTrackingType.TRACKED_REPLAY ||
            trackingType === RumTrackingType.TRACKED_LITE
          );
        }
        function isTypeTracked(rumSessionType) {
          return (
            rumSessionType === RumTrackingType.TRACKED_LITE ||
            rumSessionType === RumTrackingType.TRACKED_REPLAY
          );
        }

        /***/
      },

    /***/ "../rum-core/src/domain/tracing/getDocumentTraceId.ts":
      /*!************************************************************!*\
  !*** ../rum-core/src/domain/tracing/getDocumentTraceId.ts ***!
  \************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD:
            function () {
              return /* binding */ INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD;
            },
          /* harmony export */ getDocumentTraceId: function () {
            return /* binding */ getDocumentTraceId;
          },
          /* harmony export */ getDocumentTraceDataFromMeta: function () {
            return /* binding */ getDocumentTraceDataFromMeta;
          },
          /* harmony export */ getDocumentTraceDataFromComment: function () {
            return /* binding */ getDocumentTraceDataFromComment;
          },
          /* harmony export */ createDocumentTraceData: function () {
            return /* binding */ createDocumentTraceData;
          },
          /* harmony export */ findTraceComment: function () {
            return /* binding */ findTraceComment;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );

        var INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD =
          2 * _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.ONE_MINUTE;
        function getDocumentTraceId(document) {
          var data =
            getDocumentTraceDataFromMeta(document) ||
            getDocumentTraceDataFromComment(document);
          if (
            !data ||
            data.traceTime <=
              Date.now() - INITIAL_DOCUMENT_OUTDATED_TRACE_ID_THRESHOLD
          ) {
            return undefined;
          }
          return data.traceId;
        }
        function getDocumentTraceDataFromMeta(document) {
          var traceIdMeta = document.querySelector("meta[name=dd-trace-id]");
          var traceTimeMeta = document.querySelector(
            "meta[name=dd-trace-time]"
          );
          return createDocumentTraceData(
            traceIdMeta && traceIdMeta.content,
            traceTimeMeta && traceTimeMeta.content
          );
        }
        function getDocumentTraceDataFromComment(document) {
          var comment = findTraceComment(document);
          if (!comment) {
            return undefined;
          }
          return createDocumentTraceData(
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(
              comment,
              "trace-id"
            ),
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.findCommaSeparatedValue)(
              comment,
              "trace-time"
            )
          );
        }
        function createDocumentTraceData(traceId, rawTraceTime) {
          var traceTime = rawTraceTime && Number(rawTraceTime);
          if (!traceId || !traceTime) {
            return undefined;
          }
          return {
            traceId: traceId,
            traceTime: traceTime,
          };
        }
        function findTraceComment(document) {
          // 1. Try to find the comment as a direct child of the document
          // Note: TSLint advises to use a 'for of', but TS doesn't allow to use 'for of' if the iterated
          // value is not an array or string (here, a NodeList).
          // eslint-disable-next-line @typescript-eslint/prefer-for-of
          for (var i = 0; i < document.childNodes.length; i += 1) {
            var comment = getTraceCommentFromNode(document.childNodes[i]);
            if (comment) {
              return comment;
            }
          }
          // 2. If the comment is placed after the </html> tag, but have some space or new lines before or
          // after, the DOM parser will lift it (and the surrounding text) at the end of the <body> tag.
          // Try to look for the comment at the end of the <body> by by iterating over its child nodes in
          // reverse order, stopping if we come across a non-text node.
          if (document.body) {
            for (var i = document.body.childNodes.length - 1; i >= 0; i -= 1) {
              var node = document.body.childNodes[i];
              var comment = getTraceCommentFromNode(node);
              if (comment) {
                return comment;
              }
              if (!isTextNode(node)) {
                break;
              }
            }
          }
        }
        function getTraceCommentFromNode(node) {
          if (node && isCommentNode(node)) {
            var match = /^\s*DATADOG;(.*?)\s*$/.exec(node.data);
            if (match) {
              return match[1];
            }
          }
        }
        function isCommentNode(node) {
          return node.nodeName === "#comment";
        }
        function isTextNode(node) {
          return node.nodeName === "#text";
        }

        /***/
      },

    /***/ "../rum-core/src/domain/tracing/tracer.ts":
      /*!************************************************!*\
  !*** ../rum-core/src/domain/tracing/tracer.ts ***!
  \************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ clearTracingIfNeeded: function () {
            return /* binding */ clearTracingIfNeeded;
          },
          /* harmony export */ startTracer: function () {
            return /* binding */ startTracer;
          },
          /* harmony export */ isTracingSupported: function () {
            return /* binding */ isTracingSupported;
          },
          /* harmony export */ TraceIdentifier: function () {
            return /* binding */ TraceIdentifier;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/urlPolyfill.ts"
          );

        /**
         * Clear tracing information to avoid incomplete traces. Ideally, we should do it when the the
         * request did not reach the server, but we the browser does not expose this. So, we clear tracing
         * information if the request ended with status 0 without being aborted by the application.
         *
         * Reasoning:
         *
         * * Applications are usually aborting requests after a bit of time, for example when the user is
         * typing (autocompletion) or navigating away (in a SPA). With a performant device and good
         * network conditions, the request is likely to reach the server before being canceled.
         *
         * * Requests aborted otherwise (ex: lack of internet, CORS issue, blocked by a privacy extension)
         * are likely to finish quickly and without reaching the server.
         *
         * Of course it might not be the case every time, but it should limit having incomplete traces a
         * bit..
         * */
        function clearTracingIfNeeded(context) {
          if (context.status === 0 && !context.isAborted) {
            context.traceId = undefined;
            context.spanId = undefined;
          }
        }
        function startTracer(configuration, session) {
          return {
            clearTracingIfNeeded: clearTracingIfNeeded,
            traceFetch: function (context) {
              return injectHeadersIfTracingAllowed(
                configuration,
                context,
                session,
                function (tracingHeaders) {
                  var _a;
                  if (
                    context.input instanceof Request &&
                    !((_a = context.init) === null || _a === void 0
                      ? void 0
                      : _a.headers)
                  ) {
                    context.input = new Request(context.input);
                    Object.keys(tracingHeaders).forEach(function (key) {
                      context.input.headers.append(key, tracingHeaders[key]);
                    });
                  } else {
                    context.init = (0,
                    tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                      {},
                      context.init
                    );
                    var headers_1 = [];
                    if (context.init.headers instanceof Headers) {
                      context.init.headers.forEach(function (value, key) {
                        headers_1.push([key, value]);
                      });
                    } else if (Array.isArray(context.init.headers)) {
                      context.init.headers.forEach(function (header) {
                        headers_1.push(header);
                      });
                    } else if (context.init.headers) {
                      Object.keys(context.init.headers).forEach(function (key) {
                        headers_1.push([key, context.init.headers[key]]);
                      });
                    }
                    context.init.headers = headers_1.concat(
                      (0,
                      _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.objectEntries)(
                        tracingHeaders
                      )
                    );
                  }
                }
              );
            },
            traceXhr: function (context, xhr) {
              return injectHeadersIfTracingAllowed(
                configuration,
                context,
                session,
                function (tracingHeaders) {
                  Object.keys(tracingHeaders).forEach(function (name) {
                    xhr.setRequestHeader(name, tracingHeaders[name]);
                  });
                }
              );
            },
          };
        }
        function injectHeadersIfTracingAllowed(
          configuration,
          context,
          session,
          inject
        ) {
          if (
            !isTracingSupported() ||
            !isAllowedUrl(configuration, context.url) ||
            !session.isTracked()
          ) {
            return;
          }
          context.traceId = new TraceIdentifier();
          context.spanId = new TraceIdentifier();
          inject(makeTracingHeaders(context.traceId, context.spanId));
        }
        function isAllowedUrl(configuration, requestUrl) {
          var requestOrigin = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.getOrigin)(
            requestUrl
          );
          for (
            var _i = 0, _a = configuration.allowedTracingOrigins;
            _i < _a.length;
            _i++
          ) {
            var allowedOrigin = _a[_i];
            if (
              requestOrigin === allowedOrigin ||
              (allowedOrigin instanceof RegExp &&
                allowedOrigin.test(requestOrigin))
            ) {
              return true;
            }
          }
          return false;
        }
        function isTracingSupported() {
          return getCrypto() !== undefined;
        }
        function getCrypto() {
          return window.crypto || window.msCrypto;
        }
        function makeTracingHeaders(traceId, spanId) {
          return {
            "x-datadog-origin": "rum",
            "x-datadog-parent-id": spanId.toDecimalString(),
            "x-datadog-sampled": "1",
            "x-datadog-sampling-priority": "1",
            "x-datadog-trace-id": traceId.toDecimalString(),
          };
        }
        /* eslint-disable no-bitwise */
        var TraceIdentifier = /** @class */ (function () {
          function TraceIdentifier() {
            this.buffer = new Uint8Array(8);
            getCrypto().getRandomValues(this.buffer);
            this.buffer[0] = this.buffer[0] & 0x7f; // force 63-bit
          }
          TraceIdentifier.prototype.toString = function (radix) {
            var high = this.readInt32(0);
            var low = this.readInt32(4);
            var str = "";
            while (1) {
              var mod = (high % radix) * 4294967296 + low;
              high = Math.floor(high / radix);
              low = Math.floor(mod / radix);
              str = (mod % radix).toString(radix) + str;
              if (!high && !low) {
                break;
              }
            }
            return str;
          };
          /**
           * Format used everywhere except the trace intake
           */
          TraceIdentifier.prototype.toDecimalString = function () {
            return this.toString(10);
          };
          TraceIdentifier.prototype.readInt32 = function (offset) {
            return (
              this.buffer[offset] * 16777216 +
              (this.buffer[offset + 1] << 16) +
              (this.buffer[offset + 2] << 8) +
              this.buffer[offset + 3]
            );
          };
          return TraceIdentifier;
        })();

        /* eslint-enable no-bitwise */

        /***/
      },

    /***/ "../rum-core/src/domain/trackEventCounts.ts":
      /*!**************************************************!*\
  !*** ../rum-core/src/domain/trackEventCounts.ts ***!
  \**************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ trackEventCounts: function () {
            return /* binding */ trackEventCounts;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        function trackEventCounts(lifeCycle, callback) {
          if (callback === void 0) {
            callback = _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.noop;
          }
          var eventCounts = {
            errorCount: 0,
            longTaskCount: 0,
            resourceCount: 0,
            userActionCount: 0,
          };
          var subscription = lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .RUM_EVENT_COLLECTED,
            function (_a) {
              var type = _a.type;
              switch (type) {
                case _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__
                  .RumEventType.ERROR:
                  eventCounts.errorCount += 1;
                  callback(eventCounts);
                  break;
                case _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__
                  .RumEventType.ACTION:
                  eventCounts.userActionCount += 1;
                  callback(eventCounts);
                  break;
                case _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__
                  .RumEventType.LONG_TASK:
                  eventCounts.longTaskCount += 1;
                  callback(eventCounts);
                  break;
                case _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_0__
                  .RumEventType.RESOURCE:
                  eventCounts.resourceCount += 1;
                  callback(eventCounts);
                  break;
              }
            }
          );
          return {
            stop: function () {
              subscription.unsubscribe();
            },
            eventCounts: eventCounts,
          };
        }

        /***/
      },

    /***/ "../rum-core/src/domain/urlContexts.ts":
      /*!*********************************************!*\
  !*** ../rum-core/src/domain/urlContexts.ts ***!
  \*********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ URL_CONTEXT_TIME_OUT_DELAY: function () {
            return /* binding */ URL_CONTEXT_TIME_OUT_DELAY;
          },
          /* harmony export */ startUrlContexts: function () {
            return /* binding */ startUrlContexts;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/session/sessionStore.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _contextHistory__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./contextHistory */ "../rum-core/src/domain/contextHistory.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        /**
         * We want to attach to an event:
         * - the url corresponding to its start
         * - the referrer corresponding to the previous view url (or document referrer for initial view)
         */
        var URL_CONTEXT_TIME_OUT_DELAY =
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.SESSION_TIME_OUT_DELAY;
        function startUrlContexts(
          lifeCycle,
          locationChangeObservable,
          location
        ) {
          var urlContextHistory =
            new _contextHistory__WEBPACK_IMPORTED_MODULE_0__.ContextHistory(
              URL_CONTEXT_TIME_OUT_DELAY
            );
          var previousViewUrl;
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .VIEW_ENDED,
            function (_a) {
              var endClocks = _a.endClocks;
              urlContextHistory.closeCurrent(endClocks.relative);
            }
          );
          lifeCycle.subscribe(
            _lifeCycle__WEBPACK_IMPORTED_MODULE_1__.LifeCycleEventType
              .VIEW_CREATED,
            function (_a) {
              var startClocks = _a.startClocks;
              var viewUrl = location.href;
              urlContextHistory.setCurrent(
                buildUrlContext({
                  url: viewUrl,
                  referrer: !previousViewUrl
                    ? document.referrer
                    : previousViewUrl,
                }),
                startClocks.relative
              );
              previousViewUrl = viewUrl;
            }
          );
          var locationChangeSubscription = locationChangeObservable.subscribe(
            function (_a) {
              var newLocation = _a.newLocation;
              var current = urlContextHistory.getCurrent();
              if (current) {
                var changeTime = (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.relativeNow)();
                urlContextHistory.closeCurrent(changeTime);
                urlContextHistory.setCurrent(
                  buildUrlContext({
                    url: newLocation.href,
                    referrer: current.view.referrer,
                  }),
                  changeTime
                );
              }
            }
          );
          function buildUrlContext(_a) {
            var url = _a.url,
              referrer = _a.referrer;
            return {
              view: {
                url: url,
                referrer: referrer,
              },
            };
          }
          return {
            findUrl: function (startTime) {
              return urlContextHistory.find(startTime);
            },
            stop: function () {
              locationChangeSubscription.unsubscribe();
              urlContextHistory.stop();
            },
          };
        }

        /***/
      },

    /***/ "../rum-core/src/domain/waitIdlePage.ts":
      /*!**********************************************!*\
  !*** ../rum-core/src/domain/waitIdlePage.ts ***!
  \**********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ PAGE_ACTIVITY_VALIDATION_DELAY: function () {
            return /* binding */ PAGE_ACTIVITY_VALIDATION_DELAY;
          },
          /* harmony export */ PAGE_ACTIVITY_END_DELAY: function () {
            return /* binding */ PAGE_ACTIVITY_END_DELAY;
          },
          /* harmony export */ waitIdlePage: function () {
            return /* binding */ waitIdlePage;
          },
          /* harmony export */ doWaitIdlePage: function () {
            return /* binding */ doWaitIdlePage;
          },
          /* harmony export */ createPageActivityObservable: function () {
            return /* binding */ createPageActivityObservable;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/timeUtils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/observable.ts"
          );
        /* harmony import */ var _lifeCycle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        // Delay to wait for a page activity to validate the tracking process
        var PAGE_ACTIVITY_VALIDATION_DELAY = 100;
        // Delay to wait after a page activity to end the tracking process
        var PAGE_ACTIVITY_END_DELAY = 100;
        /**
         * Wait for the next idle page time
         *
         * Detection lifecycle:
         * ```
         *                           Wait idle page
         *              .-------------------'--------------------.
         *              v                                        v
         *     [Wait for a page activity ]          [Wait for a maximum duration]
         *     [timeout: VALIDATION_DELAY]          [  timeout: maxDuration     ]
         *          /                  \                           |
         *         v                    v                          |
         *  [No page activity]   [Page activity]                   |
         *         |                   |,----------------------.   |
         *         v                   v                       |   |
         *     (Discard)     [Wait for a page activity]        |   |
         *                   [   timeout: END_DELAY   ]        |   |
         *                       /                \            |   |
         *                      v                  v           |   |
         *             [No page activity]    [Page activity]   |   |
         *                      |                 |            |   |
         *                      |                 '------------'   |
         *                      '-----------. ,--------------------'
         *                                   v
         *                                 (End)
         * ```
         *
         * Note: by assuming that maxDuration is greater than VALIDATION_DELAY, we are sure that if the
         * process is still alive after maxDuration, it has been validated.
         */
        function waitIdlePage(
          lifeCycle,
          domMutationObservable,
          idlePageCallback,
          maxDuration
        ) {
          var pageActivityObservable = createPageActivityObservable(
            lifeCycle,
            domMutationObservable
          );
          return doWaitIdlePage(
            pageActivityObservable,
            idlePageCallback,
            maxDuration
          );
        }
        function doWaitIdlePage(
          pageActivityObservable,
          idlePageCallback,
          maxDuration
        ) {
          var idleTimeoutId;
          var hasCompleted = false;
          var startTime = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.timeStampNow)();
          var validationTimeoutId = setTimeout(
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(
              function () {
                return complete({ hadActivity: false });
              }
            ),
            PAGE_ACTIVITY_VALIDATION_DELAY
          );
          var maxDurationTimeoutId =
            maxDuration &&
            setTimeout(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(
                function () {
                  return complete({
                    hadActivity: true,
                    duration: (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.elapsed)(
                      startTime,
                      (0,
                      _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.timeStampNow)()
                    ),
                  });
                }
              ),
              maxDuration
            );
          var pageActivitySubscription = pageActivityObservable.subscribe(
            function (_a) {
              var isBusy = _a.isBusy;
              clearTimeout(validationTimeoutId);
              clearTimeout(idleTimeoutId);
              var lastChangeTime = (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.timeStampNow)();
              if (!isBusy) {
                idleTimeoutId = setTimeout(
                  (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.monitor)(
                    function () {
                      return complete({
                        hadActivity: true,
                        duration: (0,
                        _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.elapsed)(
                          startTime,
                          lastChangeTime
                        ),
                      });
                    }
                  ),
                  PAGE_ACTIVITY_END_DELAY
                );
              }
            }
          );
          var stop = function () {
            hasCompleted = true;
            clearTimeout(validationTimeoutId);
            clearTimeout(idleTimeoutId);
            clearTimeout(maxDurationTimeoutId);
            pageActivitySubscription.unsubscribe();
          };
          function complete(event) {
            if (hasCompleted) {
              return;
            }
            stop();
            idlePageCallback(event);
          }
          return { stop: stop };
        }
        function createPageActivityObservable(
          lifeCycle,
          domMutationObservable
        ) {
          var observable =
            new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.Observable(
              function () {
                var subscriptions = [];
                var firstRequestIndex;
                var pendingRequestsCount = 0;
                subscriptions.push(
                  domMutationObservable.subscribe(function () {
                    return notifyPageActivity(pendingRequestsCount);
                  }),
                  lifeCycle.subscribe(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .PERFORMANCE_ENTRY_COLLECTED,
                    function (entry) {
                      if (entry.entryType !== "resource") {
                        return;
                      }
                      notifyPageActivity(pendingRequestsCount);
                    }
                  ),
                  lifeCycle.subscribe(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .REQUEST_STARTED,
                    function (startEvent) {
                      if (firstRequestIndex === undefined) {
                        firstRequestIndex = startEvent.requestIndex;
                      }
                      notifyPageActivity(++pendingRequestsCount);
                    }
                  ),
                  lifeCycle.subscribe(
                    _lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
                      .REQUEST_COMPLETED,
                    function (request) {
                      // If the request started before the tracking start, ignore it
                      if (
                        firstRequestIndex === undefined ||
                        request.requestIndex < firstRequestIndex
                      ) {
                        return;
                      }
                      notifyPageActivity(--pendingRequestsCount);
                    }
                  )
                );
                return function () {
                  return subscriptions.forEach(function (s) {
                    return s.unsubscribe();
                  });
                };
              }
            );
          function notifyPageActivity(pendingRequestsCount) {
            observable.notify({ isBusy: pendingRequestsCount > 0 });
          }
          return observable;
        }

        /***/
      },

    /***/ "../rum-core/src/index.ts":
      /*!********************************!*\
  !*** ../rum-core/src/index.ts ***!
  \********************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ makeRumPublicApi: function () {
            return /* reexport safe */ _boot_rumPublicApi__WEBPACK_IMPORTED_MODULE_0__.makeRumPublicApi;
          },
          /* harmony export */ startRum: function () {
            return /* reexport safe */ _boot_startRum__WEBPACK_IMPORTED_MODULE_1__.startRum;
          },
          /* harmony export */ LifeCycle: function () {
            return /* reexport safe */ _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycle;
          },
          /* harmony export */ LifeCycleEventType: function () {
            return /* reexport safe */ _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__.LifeCycleEventType;
          },
          /* harmony export */ RumSessionPlan: function () {
            return /* reexport safe */ _domain_rumSession__WEBPACK_IMPORTED_MODULE_3__.RumSessionPlan;
          },
          /* harmony export */ getMutationObserverConstructor: function () {
            return /* reexport safe */ _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_4__.getMutationObserverConstructor;
          },
          /* harmony export */
        });
        /* harmony import */ var _boot_rumPublicApi__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./boot/rumPublicApi */ "../rum-core/src/boot/rumPublicApi.ts"
          );
        /* harmony import */ var _boot_startRum__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./boot/startRum */ "../rum-core/src/boot/startRum.ts"
          );
        /* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./domain/lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _domain_rumSession__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./domain/rumSession */ "../rum-core/src/domain/rumSession.ts"
          );
        /* harmony import */ var _browser_domMutationObservable__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./browser/domMutationObservable */ "../rum-core/src/browser/domMutationObservable.ts"
          );

        /***/
      },

    /***/ "../rum-core/src/rawRumEvent.types.ts":
      /*!********************************************!*\
  !*** ../rum-core/src/rawRumEvent.types.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ RumEventType: function () {
            return /* binding */ RumEventType;
          },
          /* harmony export */ ViewLoadingType: function () {
            return /* binding */ ViewLoadingType;
          },
          /* harmony export */ ActionType: function () {
            return /* binding */ ActionType;
          },
          /* harmony export */
        });
        var RumEventType;
        (function (RumEventType) {
          RumEventType["ACTION"] = "action";
          RumEventType["ERROR"] = "error";
          RumEventType["LONG_TASK"] = "long_task";
          RumEventType["VIEW"] = "view";
          RumEventType["RESOURCE"] = "resource";
        })(RumEventType || (RumEventType = {}));
        var ViewLoadingType;
        (function (ViewLoadingType) {
          ViewLoadingType["INITIAL_LOAD"] = "initial_load";
          ViewLoadingType["ROUTE_CHANGE"] = "route_change";
        })(ViewLoadingType || (ViewLoadingType = {}));
        var ActionType;
        (function (ActionType) {
          ActionType["CLICK"] = "click";
          ActionType["CUSTOM"] = "custom";
        })(ActionType || (ActionType = {}));

        /***/
      },

    /***/ "../rum-core/src/transport/batch.ts":
      /*!******************************************!*\
  !*** ../rum-core/src/transport/batch.ts ***!
  \******************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startRumBatch: function () {
            return /* binding */ startRumBatch;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/batch.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/httpRequest.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../domain/lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );
        /* harmony import */ var _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../rawRumEvent.types */ "../rum-core/src/rawRumEvent.types.ts"
          );

        function startRumBatch(configuration, lifeCycle) {
          var batch = makeRumBatch(configuration, lifeCycle);
          lifeCycle.subscribe(
            _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .RUM_EVENT_COLLECTED,
            function (serverRumEvent) {
              if (
                serverRumEvent.type ===
                _rawRumEvent_types__WEBPACK_IMPORTED_MODULE_1__.RumEventType
                  .VIEW
              ) {
                batch.upsert(serverRumEvent, serverRumEvent.view.id);
              } else {
                batch.add(serverRumEvent);
              }
            }
          );
          return {
            stop: function () {
              return batch.stop();
            },
          };
        }
        function makeRumBatch(configuration, lifeCycle) {
          var primaryBatch = createRumBatch(
            configuration.rumEndpointBuilder,
            function () {
              return lifeCycle.notify(
                _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_0__
                  .LifeCycleEventType.BEFORE_UNLOAD
              );
            }
          );
          var replicaBatch;
          var replica = configuration.replica;
          if (replica !== undefined) {
            replicaBatch = createRumBatch(replica.rumEndpointBuilder);
          }
          function createRumBatch(endpointBuilder, unloadCallback) {
            return new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.Batch(
              new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.HttpRequest(
                endpointBuilder,
                configuration.batchBytesLimit
              ),
              configuration.maxBatchSize,
              configuration.batchBytesLimit,
              configuration.maxMessageSize,
              configuration.flushTimeout,
              unloadCallback
            );
          }
          function withReplicaApplicationId(message) {
            return (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.combine)(
              message,
              { application: { id: replica.applicationId } }
            );
          }
          var stopped = false;
          return {
            add: function (message) {
              if (stopped) {
                return;
              }
              primaryBatch.add(message);
              if (replicaBatch) {
                replicaBatch.add(withReplicaApplicationId(message));
              }
            },
            stop: function () {
              stopped = true;
            },
            upsert: function (message, key) {
              if (stopped) {
                return;
              }
              primaryBatch.upsert(message, key);
              if (replicaBatch) {
                replicaBatch.upsert(withReplicaApplicationId(message), key);
              }
            },
          };
        }

        /***/
      },

    /***/ "../rum-core/src/transport/startRumEventBridge.ts":
      /*!********************************************************!*\
  !*** ../rum-core/src/transport/startRumEventBridge.ts ***!
  \********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startRumEventBridge: function () {
            return /* binding */ startRumEventBridge;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/eventBridge.ts"
          );
        /* harmony import */ var _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ../domain/lifeCycle */ "../rum-core/src/domain/lifeCycle.ts"
          );

        function startRumEventBridge(lifeCycle) {
          var bridge = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.getEventBridge)();
          lifeCycle.subscribe(
            _domain_lifeCycle__WEBPACK_IMPORTED_MODULE_0__.LifeCycleEventType
              .RUM_EVENT_COLLECTED,
            function (serverRumEvent) {
              bridge.send(serverRumEvent.type, serverRumEvent);
            }
          );
        }

        /***/
      },

    /***/ "./src/boot/recorderApi.ts":
      /*!*********************************!*\
  !*** ./src/boot/recorderApi.ts ***!
  \*********************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ makeRecorderApi: function () {
            return /* binding */ makeRecorderApi;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/eventBridge.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );
        /* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-rum-core */ "../rum-core/src/index.ts"
          );
        /* harmony import */ var _domain_replayStats__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../domain/replayStats */ "./src/domain/replayStats.ts"
          );
        /* harmony import */ var _domain_segmentCollection_startDeflateWorker__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../domain/segmentCollection/startDeflateWorker */ "./src/domain/segmentCollection/startDeflateWorker.ts"
          );

        function makeRecorderApi(startRecordingImpl, startDeflateWorkerImpl) {
          if (startDeflateWorkerImpl === void 0) {
            startDeflateWorkerImpl =
              _domain_segmentCollection_startDeflateWorker__WEBPACK_IMPORTED_MODULE_2__.startDeflateWorker;
          }
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.canUseEventBridge)()
          ) {
            return {
              start: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.noop,
              stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.noop,
              getReplayStats: function () {
                return undefined;
              },
              onRumStart:
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.noop,
              isRecording: function () {
                return false;
              },
            };
          }
          var state = {
            status: 0 /* Stopped */,
          };
          var startStrategy = function () {
            state = { status: 1 /* IntentToStart */ };
          };
          var stopStrategy = function () {
            state = { status: 0 /* Stopped */ };
          };
          return {
            start: function () {
              return startStrategy();
            },
            stop: function () {
              return stopStrategy();
            },
            getReplayStats:
              _domain_replayStats__WEBPACK_IMPORTED_MODULE_1__.getReplayStats,
            onRumStart: function (
              lifeCycle,
              initConfiguration,
              configuration,
              session,
              parentContexts
            ) {
              lifeCycle.subscribe(
                _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__
                  .LifeCycleEventType.SESSION_EXPIRED,
                function () {
                  if (
                    state.status === 2 /* Starting */ ||
                    state.status === 3 /* Started */
                  ) {
                    stopStrategy();
                    state = { status: 1 /* IntentToStart */ };
                  }
                }
              );
              lifeCycle.subscribe(
                _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__
                  .LifeCycleEventType.SESSION_RENEWED,
                function () {
                  if (state.status === 1 /* IntentToStart */) {
                    startStrategy();
                  }
                }
              );
              startStrategy = function () {
                if (!session.hasReplayPlan()) {
                  state = { status: 1 /* IntentToStart */ };
                  return;
                }
                if (
                  state.status === 2 /* Starting */ ||
                  state.status === 3 /* Started */
                ) {
                  return;
                }
                state = { status: 2 /* Starting */ };
                (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.runOnReadyState)(
                  (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_5__.isExperimentalFeatureEnabled)(
                    "record-at-dom-loaded"
                  )
                    ? "interactive"
                    : "complete",
                  function () {
                    if (state.status !== 2 /* Starting */) {
                      return;
                    }
                    startDeflateWorkerImpl(function (worker) {
                      if (state.status !== 2 /* Starting */) {
                        return;
                      }
                      if (!worker) {
                        state = {
                          status: 0 /* Stopped */,
                        };
                        return;
                      }
                      var stopRecording = startRecordingImpl(
                        lifeCycle,
                        initConfiguration.applicationId,
                        configuration,
                        session,
                        parentContexts,
                        worker
                      ).stop;
                      state = {
                        status: 3 /* Started */,
                        stopRecording: stopRecording,
                      };
                    });
                  }
                );
              };
              stopStrategy = function () {
                if (state.status === 0 /* Stopped */) {
                  return;
                }
                if (state.status === 3 /* Started */) {
                  state.stopRecording();
                }
                state = {
                  status: 0 /* Stopped */,
                };
              };
              if (state.status === 1 /* IntentToStart */) {
                startStrategy();
              }
            },
            isRecording: function () {
              return state.status === 3 /* Started */;
            },
          };
        }

        /***/
      },

    /***/ "./src/boot/startRecording.ts":
      /*!************************************!*\
  !*** ./src/boot/startRecording.ts ***!
  \************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startRecording: function () {
            return /* binding */ startRecording;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-rum-core */ "../rum-core/src/index.ts"
          );
        /* harmony import */ var _domain_record__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../domain/record */ "./src/domain/record/index.ts"
          );
        /* harmony import */ var _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ../domain/segmentCollection */ "./src/domain/segmentCollection/index.ts"
          );
        /* harmony import */ var _transport_send__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ../transport/send */ "./src/transport/send.ts"
          );
        /* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(/*! ../types */ "./src/types.ts");

        function startRecording(
          lifeCycle,
          applicationId,
          configuration,
          session,
          parentContexts,
          worker
        ) {
          var _a = (0,
            _domain_segmentCollection__WEBPACK_IMPORTED_MODULE_3__.startSegmentCollection)(
              lifeCycle,
              applicationId,
              session,
              parentContexts,
              function (data, meta, rawSegmentSize, flushReason) {
                return (0, _transport_send__WEBPACK_IMPORTED_MODULE_4__.send)(
                  configuration.sessionReplayEndpointBuilder,
                  data,
                  meta,
                  rawSegmentSize,
                  flushReason
                );
              },
              worker
            ),
            addRecord = _a.addRecord,
            stopSegmentCollection = _a.stop;
          function addRawRecord(rawRecord) {
            addRecord(
              (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, rawRecord),
                { timestamp: Date.now() }
              )
            );
          }
          var _b = (0, _domain_record__WEBPACK_IMPORTED_MODULE_2__.record)({
              emit: addRawRecord,
              defaultPrivacyLevel: configuration.defaultPrivacyLevel,
            }),
            stopRecording = _b.stop,
            takeFullSnapshot = _b.takeFullSnapshot,
            flushMutations = _b.flushMutations;
          var unsubscribeViewEnded = lifeCycle.subscribe(
            _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_1__
              .LifeCycleEventType.VIEW_ENDED,
            function () {
              flushMutations();
              addRawRecord({
                type: _types__WEBPACK_IMPORTED_MODULE_5__.RecordType.ViewEnd,
              });
            }
          ).unsubscribe;
          var unsubscribeViewCreated = lifeCycle.subscribe(
            _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_1__
              .LifeCycleEventType.VIEW_CREATED,
            takeFullSnapshot
          ).unsubscribe;
          return {
            stop: function () {
              unsubscribeViewEnded();
              unsubscribeViewCreated();
              stopRecording();
              stopSegmentCollection();
            },
          };
        }

        /***/
      },

    /***/ "./src/constants.ts":
      /*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ NodePrivacyLevel: function () {
            return /* binding */ NodePrivacyLevel;
          },
          /* harmony export */ PRIVACY_ATTR_NAME: function () {
            return /* binding */ PRIVACY_ATTR_NAME;
          },
          /* harmony export */ PRIVACY_CLASS_INPUT_IGNORED: function () {
            return /* binding */ PRIVACY_CLASS_INPUT_IGNORED;
          },
          /* harmony export */ PRIVACY_CLASS_INPUT_MASKED: function () {
            return /* binding */ PRIVACY_CLASS_INPUT_MASKED;
          },
          /* harmony export */ PRIVACY_ATTR_VALUE_INPUT_IGNORED: function () {
            return /* binding */ PRIVACY_ATTR_VALUE_INPUT_IGNORED;
          },
          /* harmony export */ PRIVACY_ATTR_VALUE_INPUT_MASKED: function () {
            return /* binding */ PRIVACY_ATTR_VALUE_INPUT_MASKED;
          },
          /* harmony export */ PRIVACY_ATTR_VALUE_ALLOW: function () {
            return /* binding */ PRIVACY_ATTR_VALUE_ALLOW;
          },
          /* harmony export */ PRIVACY_ATTR_VALUE_MASK: function () {
            return /* binding */ PRIVACY_ATTR_VALUE_MASK;
          },
          /* harmony export */ PRIVACY_ATTR_VALUE_MASK_USER_INPUT: function () {
            return /* binding */ PRIVACY_ATTR_VALUE_MASK_USER_INPUT;
          },
          /* harmony export */ PRIVACY_ATTR_VALUE_HIDDEN: function () {
            return /* binding */ PRIVACY_ATTR_VALUE_HIDDEN;
          },
          /* harmony export */ PRIVACY_CLASS_ALLOW: function () {
            return /* binding */ PRIVACY_CLASS_ALLOW;
          },
          /* harmony export */ PRIVACY_CLASS_MASK: function () {
            return /* binding */ PRIVACY_CLASS_MASK;
          },
          /* harmony export */ PRIVACY_CLASS_MASK_USER_INPUT: function () {
            return /* binding */ PRIVACY_CLASS_MASK_USER_INPUT;
          },
          /* harmony export */ PRIVACY_CLASS_HIDDEN: function () {
            return /* binding */ PRIVACY_CLASS_HIDDEN;
          },
          /* harmony export */ CENSORED_STRING_MARK: function () {
            return /* binding */ CENSORED_STRING_MARK;
          },
          /* harmony export */ CENSORED_IMG_MARK: function () {
            return /* binding */ CENSORED_IMG_MARK;
          },
          /* harmony export */ FORM_PRIVATE_TAG_NAMES: function () {
            return /* binding */ FORM_PRIVATE_TAG_NAMES;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/configuration.ts"
          );

        var NodePrivacyLevel = (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
          (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
            {},
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.DefaultPrivacyLevel
          ),
          { IGNORE: "ignore", HIDDEN: "hidden" }
        );
        var PRIVACY_ATTR_NAME = "data-dd-privacy";
        // Deprecate via temporary Alias
        var PRIVACY_CLASS_INPUT_IGNORED = "dd-privacy-input-ignored"; // DEPRECATED, aliased to mask-user-input
        var PRIVACY_CLASS_INPUT_MASKED = "dd-privacy-input-masked"; // DEPRECATED, aliased to mask-user-input
        var PRIVACY_ATTR_VALUE_INPUT_IGNORED = "input-ignored"; // DEPRECATED, aliased to mask-user-input
        var PRIVACY_ATTR_VALUE_INPUT_MASKED = "input-masked"; // DEPRECATED, aliased to mask-user-input
        // Privacy Attrs
        var PRIVACY_ATTR_VALUE_ALLOW = "allow";
        var PRIVACY_ATTR_VALUE_MASK = "mask";
        var PRIVACY_ATTR_VALUE_MASK_USER_INPUT = "mask-user-input";
        var PRIVACY_ATTR_VALUE_HIDDEN = "hidden";
        // Privacy Classes - not all customers can set plain HTML attributes, so support classes too
        var PRIVACY_CLASS_ALLOW = "dd-privacy-allow";
        var PRIVACY_CLASS_MASK = "dd-privacy-mask";
        var PRIVACY_CLASS_MASK_USER_INPUT = "dd-privacy-mask-user-input";
        var PRIVACY_CLASS_HIDDEN = "dd-privacy-hidden";
        // Private Replacement Templates
        var CENSORED_STRING_MARK = "***";
        var CENSORED_IMG_MARK =
          "data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==";
        var FORM_PRIVATE_TAG_NAMES = {
          INPUT: true,
          OUTPUT: true,
          TEXTAREA: true,
          SELECT: true,
          OPTION: true,
          DATALIST: true,
          OPTGROUP: true,
        };

        /***/
      },

    /***/ "./src/domain/record/index.ts":
      /*!************************************!*\
  !*** ./src/domain/record/index.ts ***!
  \************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ record: function () {
            return /* reexport safe */ _record__WEBPACK_IMPORTED_MODULE_0__.record;
          },
          /* harmony export */
        });
        /* harmony import */ var _record__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ./record */ "./src/domain/record/record.ts");

        /***/
      },

    /***/ "./src/domain/record/mutationBatch.ts":
      /*!********************************************!*\
  !*** ./src/domain/record/mutationBatch.ts ***!
  \********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ createMutationBatch: function () {
            return /* binding */ createMutationBatch;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );

        /**
         * Maximum duration to wait before processing mutations. If the browser is idle, mutations will be
         * processed more quickly. If the browser is busy executing small tasks (ex: rendering frames), the
         * mutations will wait MUTATION_PROCESS_MAX_DELAY milliseconds before being processed. If the
         * browser is busy executing a longer task, mutations will be processed after this task.
         */
        var MUTATION_PROCESS_MAX_DELAY = 100;
        function createMutationBatch(processMutationBatch) {
          var cancelScheduledFlush =
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.noop;
          var pendingMutations = [];
          function flush() {
            cancelScheduledFlush();
            processMutationBatch(pendingMutations);
            pendingMutations = [];
          }
          return {
            addMutations: function (mutations) {
              if (pendingMutations.length === 0) {
                cancelScheduledFlush = scheduleMutationFlush(flush);
              }
              pendingMutations.push.apply(pendingMutations, mutations);
            },
            flush: flush,
            stop: function () {
              cancelScheduledFlush();
            },
          };
        }
        function scheduleMutationFlush(flush) {
          var browserWindow = window;
          // Use 'requestIdleCallback' when available: it will throttle the mutation processing if the
          // browser is busy rendering frames (ex: when frames are below 60fps). When not available, the
          // fallback on 'requestAnimationFrame' will still ensure the mutations are processed after any
          // browser rendering process (Layout, Recalculate Style, etc.), so we can serialize DOM nodes
          // efficiently.
          if (browserWindow.requestIdleCallback) {
            var id_1 = browserWindow.requestIdleCallback(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(
                flush
              ),
              { timeout: MUTATION_PROCESS_MAX_DELAY }
            );
            return function () {
              return browserWindow.cancelIdleCallback(id_1);
            };
          }
          var id = browserWindow.requestAnimationFrame(
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(
              flush
            )
          );
          return function () {
            return browserWindow.cancelAnimationFrame(id);
          };
        }

        /***/
      },

    /***/ "./src/domain/record/mutationObserver.ts":
      /*!***********************************************!*\
  !*** ./src/domain/record/mutationObserver.ts ***!
  \***********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startMutationObserver: function () {
            return /* binding */ startMutationObserver;
          },
          /* harmony export */ MutationController: function () {
            return /* binding */ MutationController;
          },
          /* harmony export */ sortAddedAndMovedNodes: function () {
            return /* binding */ sortAddedAndMovedNodes;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-rum-core */ "../rum-core/src/index.ts"
          );
        /* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! ../../constants */ "./src/constants.ts");
        /* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./privacy */ "./src/domain/record/privacy.ts"
          );
        /* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./serializationUtils */ "./src/domain/record/serializationUtils.ts"
          );
        /* harmony import */ var _serialize__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./serialize */ "./src/domain/record/serialize.ts"
          );
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(/*! ./utils */ "./src/domain/record/utils.ts");
        /* harmony import */ var _mutationBatch__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ./mutationBatch */ "./src/domain/record/mutationBatch.ts"
          );

        /**
         * Buffers and aggregate mutations generated by a MutationObserver into MutationPayload
         */
        function startMutationObserver(
          controller,
          mutationCallback,
          defaultPrivacyLevel
        ) {
          var MutationObserver = (0,
          _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.getMutationObserverConstructor)();
          if (!MutationObserver) {
            return {
              stop: _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.noop,
            };
          }
          var mutationBatch = (0,
          _mutationBatch__WEBPACK_IMPORTED_MODULE_6__.createMutationBatch)(
            function (mutations) {
              processMutations(
                mutations.concat(observer.takeRecords()),
                mutationCallback,
                defaultPrivacyLevel
              );
            }
          );
          var observer = new MutationObserver(
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.monitor)(
              mutationBatch.addMutations
            )
          );
          observer.observe(document, {
            attributeOldValue: true,
            attributes: true,
            characterData: true,
            characterDataOldValue: true,
            childList: true,
            subtree: true,
          });
          controller.onFlush(mutationBatch.flush);
          return {
            stop: function () {
              observer.disconnect();
              mutationBatch.stop();
            },
          };
        }
        /**
         * Controls how mutations are processed, allowing to flush pending mutations.
         */
        var MutationController = /** @class */ (function () {
          function MutationController() {}
          MutationController.prototype.flush = function () {
            var _a;
            (_a = this.flushListener) === null || _a === void 0
              ? void 0
              : _a.call(this);
          };
          MutationController.prototype.onFlush = function (listener) {
            this.flushListener = listener;
          };
          return MutationController;
        })();

        function processMutations(
          mutations,
          mutationCallback,
          defaultPrivacyLevel
        ) {
          // Discard any mutation with a 'target' node that:
          // * isn't injected in the current document or isn't known/serialized yet: those nodes are likely
          // part of a mutation occurring in a parent Node
          // * should be hidden or ignored
          var filteredMutations = mutations.filter(function (mutation) {
            return (
              document.contains(mutation.target) &&
              (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.nodeAndAncestorsHaveSerializedNode)(
                mutation.target
              ) &&
              (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
                mutation.target,
                defaultPrivacyLevel
              ) !==
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN
            );
          });
          var _a = processChildListMutations(
              filteredMutations.filter(function (mutation) {
                return mutation.type === "childList";
              }),
              defaultPrivacyLevel
            ),
            adds = _a.adds,
            removes = _a.removes,
            hasBeenSerialized = _a.hasBeenSerialized;
          var texts = processCharacterDataMutations(
            filteredMutations.filter(function (mutation) {
              return (
                mutation.type === "characterData" &&
                !hasBeenSerialized(mutation.target)
              );
            }),
            defaultPrivacyLevel
          );
          var attributes = processAttributesMutations(
            filteredMutations.filter(function (mutation) {
              return (
                mutation.type === "attributes" &&
                !hasBeenSerialized(mutation.target)
              );
            }),
            defaultPrivacyLevel
          );
          if (
            !texts.length &&
            !attributes.length &&
            !removes.length &&
            !adds.length
          ) {
            return;
          }
          mutationCallback({
            adds: adds,
            removes: removes,
            texts: texts,
            attributes: attributes,
          });
        }
        function processChildListMutations(mutations, defaultPrivacyLevel) {
          // First, we iterate over mutations to collect:
          //
          // * nodes that have been added in the document and not removed by a subsequent mutation
          // * nodes that have been removed from the document but were not added in a previous mutation
          //
          // For this second category, we also collect their previous parent (mutation.target) because we'll
          // need it to emit a 'remove' mutation.
          //
          // Those two categories may overlap: if a node moved from a position to another, it is reported as
          // two mutation records, one with a "removedNodes" and the other with "addedNodes". In this case,
          // the node will be in both sets.
          var addedAndMovedNodes = new Set();
          var removedNodes = new Map();
          var _loop_1 = function (mutation) {
            (0, _utils__WEBPACK_IMPORTED_MODULE_5__.forEach)(
              mutation.addedNodes,
              function (node) {
                addedAndMovedNodes.add(node);
              }
            );
            (0, _utils__WEBPACK_IMPORTED_MODULE_5__.forEach)(
              mutation.removedNodes,
              function (node) {
                if (!addedAndMovedNodes.has(node)) {
                  removedNodes.set(node, mutation.target);
                }
                addedAndMovedNodes.delete(node);
              }
            );
          };
          for (
            var _i = 0, mutations_1 = mutations;
            _i < mutations_1.length;
            _i++
          ) {
            var mutation = mutations_1[_i];
            _loop_1(mutation);
          }
          // Then, we sort nodes that are still in the document by topological order, for two reasons:
          //
          // * We will serialize each added nodes with their descendants. We don't want to serialize a node
          // twice, so we need to iterate over the parent nodes first and skip any node that is contained in
          // a precedent node.
          //
          // * To emit "add" mutations, we need references to the parent and potential next sibling of each
          // added node. So we need to iterate over the parent nodes first, and when multiple nodes are
          // siblings, we want to iterate from last to first. This will ensure that any "next" node is
          // already serialized and have an id.
          var sortedAddedAndMovedNodes = Array.from(addedAndMovedNodes);
          sortAddedAndMovedNodes(sortedAddedAndMovedNodes);
          // Then, we iterate over our sorted node sets to emit mutations. We collect the newly serialized
          // node ids in a set to be able to skip subsequent related mutations.
          var serializedNodeIds = new Set();
          var addedNodeMutations = [];
          for (
            var _a = 0, sortedAddedAndMovedNodes_1 = sortedAddedAndMovedNodes;
            _a < sortedAddedAndMovedNodes_1.length;
            _a++
          ) {
            var node = sortedAddedAndMovedNodes_1[_a];
            if (hasBeenSerialized(node)) {
              continue;
            }
            var parentNodePrivacyLevel = (0,
            _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
              node.parentNode,
              defaultPrivacyLevel
            );
            if (
              parentNodePrivacyLevel ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel
                  .HIDDEN ||
              parentNodePrivacyLevel ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE
            ) {
              continue;
            }
            var serializedNode = (0,
            _serialize__WEBPACK_IMPORTED_MODULE_4__.serializeNodeWithId)(node, {
              document: document,
              serializedNodeIds: serializedNodeIds,
              parentNodePrivacyLevel: parentNodePrivacyLevel,
            });
            if (!serializedNode) {
              continue;
            }
            addedNodeMutations.push({
              nextId: getNextSibling(node),
              parentId: (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                node.parentNode
              ),
              node: serializedNode,
            });
          }
          // Finally, we emit remove mutations.
          var removedNodeMutations = [];
          removedNodes.forEach(function (parent, node) {
            if (
              (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                node
              )
            ) {
              removedNodeMutations.push({
                parentId: (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                  parent
                ),
                id: (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                  node
                ),
              });
            }
          });
          return {
            adds: addedNodeMutations,
            removes: removedNodeMutations,
            hasBeenSerialized: hasBeenSerialized,
          };
          function hasBeenSerialized(node) {
            return (
              (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                node
              ) &&
              serializedNodeIds.has(
                (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                  node
                )
              )
            );
          }
          function getNextSibling(node) {
            var nextSibling = node.nextSibling;
            while (nextSibling) {
              if (
                (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                  nextSibling
                )
              ) {
                return (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                  nextSibling
                );
              }
              nextSibling = nextSibling.nextSibling;
            }
            return null;
          }
        }
        function processCharacterDataMutations(mutations, defaultPrivacyLevel) {
          var _a;
          var textMutations = [];
          // Deduplicate mutations based on their target node
          var handledNodes = new Set();
          var filteredMutations = mutations.filter(function (mutation) {
            if (handledNodes.has(mutation.target)) {
              return false;
            }
            handledNodes.add(mutation.target);
            return true;
          });
          // Emit mutations
          for (
            var _i = 0, filteredMutations_1 = filteredMutations;
            _i < filteredMutations_1.length;
            _i++
          ) {
            var mutation = filteredMutations_1[_i];
            var value = mutation.target.textContent;
            if (value === mutation.oldValue) {
              continue;
            }
            var parentNodePrivacyLevel = (0,
            _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
              mutation.target.parentNode,
              defaultPrivacyLevel
            );
            if (
              parentNodePrivacyLevel ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel
                  .HIDDEN ||
              parentNodePrivacyLevel ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE
            ) {
              continue;
            }
            textMutations.push({
              id: (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                mutation.target
              ),
              // TODO: pass a valid "ignoreWhiteSpace" argument
              value:
                (_a = (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.getTextContent)(
                  mutation.target,
                  false,
                  parentNodePrivacyLevel
                )) !== null && _a !== void 0
                  ? _a
                  : null,
            });
          }
          return textMutations;
        }
        function processAttributesMutations(mutations, defaultPrivacyLevel) {
          var attributeMutations = [];
          // Deduplicate mutations based on their target node and changed attribute
          var handledElements = new Map();
          var filteredMutations = mutations.filter(function (mutation) {
            var handledAttributes = handledElements.get(mutation.target);
            if (
              handledAttributes === null || handledAttributes === void 0
                ? void 0
                : handledAttributes.has(mutation.attributeName)
            ) {
              return false;
            }
            if (!handledAttributes) {
              handledElements.set(
                mutation.target,
                new Set([mutation.attributeName])
              );
            } else {
              handledAttributes.add(mutation.attributeName);
            }
            return true;
          });
          // Emit mutations
          var emittedMutations = new Map();
          for (
            var _i = 0, filteredMutations_2 = filteredMutations;
            _i < filteredMutations_2.length;
            _i++
          ) {
            var mutation = filteredMutations_2[_i];
            var uncensoredValue = mutation.target.getAttribute(
              mutation.attributeName
            );
            if (uncensoredValue === mutation.oldValue) {
              continue;
            }
            var privacyLevel = (0,
            _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
              mutation.target,
              defaultPrivacyLevel
            );
            var attributeValue = (0,
            _serialize__WEBPACK_IMPORTED_MODULE_4__.serializeAttribute)(
              mutation.target,
              privacyLevel,
              mutation.attributeName
            );
            var transformedValue = void 0;
            if (mutation.attributeName === "value") {
              var inputValue = (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(
                mutation.target,
                privacyLevel
              );
              if (inputValue === undefined) {
                continue;
              }
              transformedValue = inputValue;
            } else if (attributeValue && typeof attributeValue === "string") {
              transformedValue = attributeValue;
            } else {
              transformedValue = null;
            }
            var emittedMutation = emittedMutations.get(mutation.target);
            if (!emittedMutation) {
              emittedMutation = {
                id: (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                  mutation.target
                ),
                attributes: {},
              };
              attributeMutations.push(emittedMutation);
              emittedMutations.set(mutation.target, emittedMutation);
            }
            emittedMutation.attributes[mutation.attributeName] =
              transformedValue;
          }
          return attributeMutations;
        }
        function sortAddedAndMovedNodes(nodes) {
          nodes.sort(function (a, b) {
            var position = a.compareDocumentPosition(b);
            /* eslint-disable no-bitwise */
            if (position & Node.DOCUMENT_POSITION_CONTAINED_BY) {
              return -1;
            } else if (position & Node.DOCUMENT_POSITION_CONTAINS) {
              return 1;
            } else if (position & Node.DOCUMENT_POSITION_FOLLOWING) {
              return 1;
            } else if (position & Node.DOCUMENT_POSITION_PRECEDING) {
              return -1;
            }
            /* eslint-enable no-bitwise */
            return 0;
          });
        }

        /***/
      },

    /***/ "./src/domain/record/observer.ts":
      /*!***************************************!*\
  !*** ./src/domain/record/observer.ts ***!
  \***************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ initObservers: function () {
            return /* binding */ initObservers;
          },
          /* harmony export */ INPUT_TAGS: function () {
            return /* binding */ INPUT_TAGS;
          },
          /* harmony export */ initInputObserver: function () {
            return /* binding */ initInputObserver;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! ../../constants */ "./src/constants.ts");
        /* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./privacy */ "./src/domain/record/privacy.ts"
          );
        /* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./serializationUtils */ "./src/domain/record/serializationUtils.ts"
          );
        /* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(/*! ./types */ "./src/domain/record/types.ts");
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(/*! ./utils */ "./src/domain/record/utils.ts");
        /* harmony import */ var _mutationObserver__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ./mutationObserver */ "./src/domain/record/mutationObserver.ts"
          );
        /* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! ./viewports */ "./src/domain/record/viewports.ts"
          );
        var _a;

        var MOUSE_MOVE_OBSERVER_THRESHOLD = 50;
        var SCROLL_OBSERVER_THRESHOLD = 100;
        var VISUAL_VIEWPORT_OBSERVER_THRESHOLD = 200;
        function initObservers(o) {
          var mutationHandler = initMutationObserver(
            o.mutationController,
            o.mutationCb,
            o.defaultPrivacyLevel
          );
          var mousemoveHandler = initMoveObserver(o.mousemoveCb);
          var mouseInteractionHandler = initMouseInteractionObserver(
            o.mouseInteractionCb,
            o.defaultPrivacyLevel
          );
          var scrollHandler = initScrollObserver(
            o.scrollCb,
            o.defaultPrivacyLevel
          );
          var viewportResizeHandler = initViewportResizeObserver(
            o.viewportResizeCb
          );
          var inputHandler = initInputObserver(
            o.inputCb,
            o.defaultPrivacyLevel
          );
          var mediaInteractionHandler = initMediaInteractionObserver(
            o.mediaInteractionCb,
            o.defaultPrivacyLevel
          );
          var styleSheetObserver = initStyleSheetObserver(o.styleSheetRuleCb);
          var focusHandler = initFocusObserver(o.focusCb);
          var visualViewportResizeHandler = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.isExperimentalFeatureEnabled)(
            "visualviewport"
          )
            ? initVisualViewportResizeObserver(o.visualViewportResizeCb)
            : _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.noop;
          return function () {
            mutationHandler();
            mousemoveHandler();
            mouseInteractionHandler();
            scrollHandler();
            viewportResizeHandler();
            inputHandler();
            mediaInteractionHandler();
            styleSheetObserver();
            focusHandler();
            visualViewportResizeHandler();
          };
        }
        function initMutationObserver(
          mutationController,
          cb,
          defaultPrivacyLevel
        ) {
          return (0,
          _mutationObserver__WEBPACK_IMPORTED_MODULE_6__.startMutationObserver)(
            mutationController,
            cb,
            defaultPrivacyLevel
          ).stop;
        }
        function initMoveObserver(cb) {
          var updatePosition = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.throttle)(
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.monitor)(
              function (event) {
                var target = event.target;
                if (
                  (0,
                  _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                    target
                  )
                ) {
                  var _a = (0,
                    _utils__WEBPACK_IMPORTED_MODULE_5__.isTouchEvent)(event)
                      ? event.changedTouches[0]
                      : event,
                    clientX = _a.clientX,
                    clientY = _a.clientY;
                  var position = {
                    id: (0,
                    _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                      target
                    ),
                    timeOffset: 0,
                    x: clientX,
                    y: clientY,
                  };
                  if (
                    (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.isExperimentalFeatureEnabled)(
                      "visualviewport"
                    ) &&
                    window.visualViewport
                  ) {
                    var _b = (0,
                      _viewports__WEBPACK_IMPORTED_MODULE_7__.convertMouseEventToLayoutCoordinates)(
                        clientX,
                        clientY
                      ),
                      visualViewportX = _b.visualViewportX,
                      visualViewportY = _b.visualViewportY;
                    position.x = visualViewportX;
                    position.y = visualViewportY;
                  }
                  cb(
                    [position],
                    (0, _utils__WEBPACK_IMPORTED_MODULE_5__.isTouchEvent)(event)
                      ? _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                          .TouchMove
                      : _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                          .MouseMove
                  );
                }
              }
            ),
            MOUSE_MOVE_OBSERVER_THRESHOLD,
            {
              trailing: false,
            }
          ).throttled;
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListeners)(
            document,
            ["mousemove" /* MOUSE_MOVE */, "touchmove" /* TOUCH_MOVE */],
            updatePosition,
            {
              capture: true,
              passive: true,
            }
          ).stop;
        }
        var eventTypeToMouseInteraction =
          ((_a = {}),
          (_a["mouseup" /* MOUSE_UP */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.MouseUp),
          (_a["mousedown" /* MOUSE_DOWN */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.MouseDown),
          (_a["click" /* CLICK */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.Click),
          (_a["contextmenu" /* CONTEXT_MENU */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.ContextMenu),
          (_a["dblclick" /* DBL_CLICK */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.DblClick),
          (_a["focus" /* FOCUS */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.Focus),
          (_a["blur" /* BLUR */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.Blur),
          (_a["touchstart" /* TOUCH_START */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.TouchStart),
          (_a["touchend" /* TOUCH_END */] =
            _types__WEBPACK_IMPORTED_MODULE_4__.MouseInteractions.TouchEnd),
          _a);
        function initMouseInteractionObserver(cb, defaultPrivacyLevel) {
          var handler = function (event) {
            var target = event.target;
            if (
              (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
                target,
                defaultPrivacyLevel
              ) ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel
                  .HIDDEN ||
              !(0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                target
              )
            ) {
              return;
            }
            var _a = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.isTouchEvent)(
                event
              )
                ? event.changedTouches[0]
                : event,
              clientX = _a.clientX,
              clientY = _a.clientY;
            var position = {
              id: (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                target
              ),
              type: eventTypeToMouseInteraction[event.type],
              x: clientX,
              y: clientY,
            };
            if (
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.isExperimentalFeatureEnabled)(
                "visualviewport"
              ) &&
              window.visualViewport
            ) {
              var _b = (0,
                _viewports__WEBPACK_IMPORTED_MODULE_7__.convertMouseEventToLayoutCoordinates)(
                  clientX,
                  clientY
                ),
                visualViewportX = _b.visualViewportX,
                visualViewportY = _b.visualViewportY;
              position.x = visualViewportX;
              position.y = visualViewportY;
            }
            cb(position);
          };
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListeners)(
            document,
            Object.keys(eventTypeToMouseInteraction),
            handler,
            {
              capture: true,
              passive: true,
            }
          ).stop;
        }
        function initScrollObserver(cb, defaultPrivacyLevel) {
          var updatePosition = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.throttle)(
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.monitor)(
              function (event) {
                var target = event.target;
                if (
                  !target ||
                  (0,
                  _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
                    target,
                    defaultPrivacyLevel
                  ) ===
                    _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel
                      .HIDDEN ||
                  !(0,
                  _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                    target
                  )
                ) {
                  return;
                }
                var id = (0,
                _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                  target
                );
                if (target === document) {
                  if (
                    (0,
                    _datadog_browser_core__WEBPACK_IMPORTED_MODULE_8__.isExperimentalFeatureEnabled)(
                      "visualviewport"
                    )
                  ) {
                    cb({
                      id: id,
                      x: (0,
                      _viewports__WEBPACK_IMPORTED_MODULE_7__.getScrollX)(),
                      y: (0,
                      _viewports__WEBPACK_IMPORTED_MODULE_7__.getScrollY)(),
                    });
                  } else {
                    var scrollEl =
                      document.scrollingElement || document.documentElement;
                    cb({
                      id: id,
                      x: scrollEl.scrollLeft,
                      y: scrollEl.scrollTop,
                    });
                  }
                } else {
                  cb({
                    id: id,
                    x: target.scrollLeft,
                    y: target.scrollTop,
                  });
                }
              }
            ),
            SCROLL_OBSERVER_THRESHOLD
          ).throttled;
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListener)(
            document,
            "scroll" /* SCROLL */,
            updatePosition,
            { capture: true, passive: true }
          ).stop;
        }
        function initViewportResizeObserver(cb) {
          var updateDimension = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.throttle)(
            (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.monitor)(
              function () {
                var height = (0,
                _viewports__WEBPACK_IMPORTED_MODULE_7__.getWindowHeight)();
                var width = (0,
                _viewports__WEBPACK_IMPORTED_MODULE_7__.getWindowWidth)();
                cb({
                  height: Number(height),
                  width: Number(width),
                });
              }
            ),
            200
          ).throttled;
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListener)(
            window,
            "resize" /* RESIZE */,
            updateDimension,
            { capture: true, passive: true }
          ).stop;
        }
        var INPUT_TAGS = ["INPUT", "TEXTAREA", "SELECT"];
        var lastInputStateMap = new WeakMap();
        function initInputObserver(cb, defaultPrivacyLevel) {
          function eventHandler(event) {
            var target = event.target;
            var nodePrivacyLevel = (0,
            _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
              target,
              defaultPrivacyLevel
            );
            if (
              !target ||
              !target.tagName ||
              !(0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.includes)(
                INPUT_TAGS,
                target.tagName
              ) ||
              nodePrivacyLevel ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN
            ) {
              return;
            }
            var type = target.type;
            var inputState;
            if (type === "radio" || type === "checkbox") {
              if (
                (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.shouldMaskNode)(
                  target,
                  nodePrivacyLevel
                )
              ) {
                return;
              }
              inputState = { isChecked: target.checked };
            } else {
              var value = (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getElementInputValue)(
                target,
                nodePrivacyLevel
              );
              if (value === undefined) {
                return;
              }
              inputState = { text: value };
            }
            // Can be multiple changes on the same node within the same batched mutation observation.
            cbWithDedup(target, inputState);
            // If a radio was checked, other radios with the same name attribute will be unchecked.
            var name = target.name;
            if (type === "radio" && name && target.checked) {
              (0, _utils__WEBPACK_IMPORTED_MODULE_5__.forEach)(
                document.querySelectorAll(
                  'input[type="radio"][name="' + name + '"]'
                ),
                function (el) {
                  if (el !== target) {
                    // TODO: Consider the privacy implications for various differing input privacy levels
                    cbWithDedup(el, { isChecked: false });
                  }
                }
              );
            }
          }
          /**
           * There can be multiple changes on the same node within the same batched mutation observation.
           */
          function cbWithDedup(target, inputState) {
            if (
              !(0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                target
              )
            ) {
              return;
            }
            var lastInputState = lastInputStateMap.get(target);
            if (
              !lastInputState ||
              lastInputState.text !== inputState.text ||
              lastInputState.isChecked !== inputState.isChecked
            ) {
              lastInputStateMap.set(target, inputState);
              cb(
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                    {},
                    inputState
                  ),
                  {
                    id: (0,
                    _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                      target
                    ),
                  }
                )
              );
            }
          }
          var stopEventListeners = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListeners)(
            document,
            ["input" /* INPUT */, "change" /* CHANGE */],
            eventHandler,
            {
              capture: true,
              passive: true,
            }
          ).stop;
          var propertyDescriptor = Object.getOwnPropertyDescriptor(
            HTMLInputElement.prototype,
            "value"
          );
          var hookProperties = [
            [HTMLInputElement.prototype, "value"],
            [HTMLInputElement.prototype, "checked"],
            [HTMLSelectElement.prototype, "value"],
            [HTMLTextAreaElement.prototype, "value"],
            // Some UI library use selectedIndex to set select value
            [HTMLSelectElement.prototype, "selectedIndex"],
          ];
          var hookResetters = [];
          if (propertyDescriptor && propertyDescriptor.set) {
            hookResetters.push.apply(
              hookResetters,
              hookProperties.map(function (p) {
                return (0,
                _utils__WEBPACK_IMPORTED_MODULE_5__.hookSetter)(p[0], p[1], {
                  set: (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.monitor)(
                    function () {
                      // mock to a normal event
                      eventHandler({ target: this });
                    }
                  ),
                });
              })
            );
          }
          return function () {
            hookResetters.forEach(function (h) {
              return h();
            });
            stopEventListeners();
          };
        }
        function initStyleSheetObserver(cb) {
          // eslint-disable-next-line @typescript-eslint/unbound-method
          var insertRule = CSSStyleSheet.prototype.insertRule;
          CSSStyleSheet.prototype.insertRule = function (rule, index) {
            var _this = this;
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.callMonitored)(
              function () {
                if (
                  (0,
                  _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                    _this.ownerNode
                  )
                ) {
                  cb({
                    id: (0,
                    _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                      _this.ownerNode
                    ),
                    adds: [{ rule: rule, index: index }],
                  });
                }
              }
            );
            return insertRule.call(this, rule, index);
          };
          // eslint-disable-next-line @typescript-eslint/unbound-method
          var deleteRule = CSSStyleSheet.prototype.deleteRule;
          CSSStyleSheet.prototype.deleteRule = function (index) {
            var _this = this;
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.callMonitored)(
              function () {
                if (
                  (0,
                  _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                    _this.ownerNode
                  )
                ) {
                  cb({
                    id: (0,
                    _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                      _this.ownerNode
                    ),
                    removes: [{ index: index }],
                  });
                }
              }
            );
            return deleteRule.call(this, index);
          };
          return function () {
            CSSStyleSheet.prototype.insertRule = insertRule;
            CSSStyleSheet.prototype.deleteRule = deleteRule;
          };
        }
        function initMediaInteractionObserver(
          mediaInteractionCb,
          defaultPrivacyLevel
        ) {
          var handler = function (event) {
            var target = event.target;
            if (
              !target ||
              (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodePrivacyLevel)(
                target,
                defaultPrivacyLevel
              ) ===
                _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel
                  .HIDDEN ||
              !(0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.hasSerializedNode)(
                target
              )
            ) {
              return;
            }
            mediaInteractionCb({
              id: (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_3__.getSerializedNodeId)(
                target
              ),
              type:
                event.type === "play" /* PLAY */
                  ? _types__WEBPACK_IMPORTED_MODULE_4__.MediaInteractions.Play
                  : _types__WEBPACK_IMPORTED_MODULE_4__.MediaInteractions.Pause,
            });
          };
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListeners)(
            document,
            ["play" /* PLAY */, "pause" /* PAUSE */],
            handler,
            { capture: true, passive: true }
          ).stop;
        }
        function initFocusObserver(focusCb) {
          return (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListeners)(
            window,
            ["focus" /* FOCUS */, "blur" /* BLUR */],
            function () {
              focusCb({ has_focus: document.hasFocus() });
            }
          ).stop;
        }
        function initVisualViewportResizeObserver(cb) {
          if (!window.visualViewport) {
            return _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.noop;
          }
          var _a = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.throttle)(
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_10__.monitor)(
                function () {
                  cb(
                    (0,
                    _viewports__WEBPACK_IMPORTED_MODULE_7__.getVisualViewport)()
                  );
                }
              ),
              VISUAL_VIEWPORT_OBSERVER_THRESHOLD,
              {
                trailing: false,
              }
            ),
            updateDimension = _a.throttled,
            cancelThrottle = _a.cancel;
          var removeListener = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_9__.addEventListeners)(
            window.visualViewport,
            ["resize" /* RESIZE */, "scroll" /* SCROLL */],
            updateDimension,
            {
              capture: true,
              passive: true,
            }
          ).stop;
          return function stop() {
            removeListener();
            cancelThrottle();
          };
        }

        /***/
      },

    /***/ "./src/domain/record/privacy.ts":
      /*!**************************************!*\
  !*** ./src/domain/record/privacy.ts ***!
  \**************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ MAX_ATTRIBUTE_VALUE_CHAR_LENGTH: function () {
            return /* binding */ MAX_ATTRIBUTE_VALUE_CHAR_LENGTH;
          },
          /* harmony export */ getNodePrivacyLevel: function () {
            return /* binding */ getNodePrivacyLevel;
          },
          /* harmony export */ reducePrivacyLevel: function () {
            return /* binding */ reducePrivacyLevel;
          },
          /* harmony export */ getNodeSelfPrivacyLevel: function () {
            return /* binding */ getNodeSelfPrivacyLevel;
          },
          /* harmony export */ shouldMaskNode: function () {
            return /* binding */ shouldMaskNode;
          },
          /* harmony export */ censorText: function () {
            return /* binding */ censorText;
          },
          /* harmony export */ getTextContent: function () {
            return /* binding */ getTextContent;
          },
          /* harmony export */
        });
        /* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ../../constants */ "./src/constants.ts");
        /* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./serializationUtils */ "./src/domain/record/serializationUtils.ts"
          );
        /* harmony import */ var _serialize__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./serialize */ "./src/domain/record/serialize.ts"
          );

        var MAX_ATTRIBUTE_VALUE_CHAR_LENGTH = 100000;

        var TEXT_MASKING_CHAR = "x";
        /**
         * Get node privacy level by iterating over its ancestors. When the direct parent privacy level is
         * know, it is best to use something like:
         *
         * derivePrivacyLevelGivenParent(getNodeSelfPrivacyLevel(node), parentNodePrivacyLevel)
         */
        function getNodePrivacyLevel(node, defaultPrivacyLevel) {
          var parentNodePrivacyLevel = node.parentNode
            ? getNodePrivacyLevel(node.parentNode, defaultPrivacyLevel)
            : defaultPrivacyLevel;
          var selfNodePrivacyLevel = getNodeSelfPrivacyLevel(node);
          return reducePrivacyLevel(
            selfNodePrivacyLevel,
            parentNodePrivacyLevel
          );
        }
        /**
         * Reduces the next privacy level based on self + parent privacy levels
         */
        function reducePrivacyLevel(childPrivacyLevel, parentNodePrivacyLevel) {
          switch (parentNodePrivacyLevel) {
            // These values cannot be overridden
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .HIDDEN:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .IGNORE:
              return parentNodePrivacyLevel;
          }
          switch (childPrivacyLevel) {
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.ALLOW:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .MASK_USER_INPUT:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .HIDDEN:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .IGNORE:
              return childPrivacyLevel;
            default:
              return parentNodePrivacyLevel;
          }
        }
        /**
         * Determines the node's own privacy level without checking for ancestors.
         */
        function getNodeSelfPrivacyLevel(node) {
          // Only Element types can be have a privacy level set
          if (!isElement(node)) {
            return;
          }
          var privAttr = node.getAttribute(
            _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_NAME
          );
          // Overrules to enforce end-user protection
          if (node.tagName === "BASE") {
            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .ALLOW;
          }
          if (node.tagName === "INPUT") {
            var inputElement = node;
            if (
              inputElement.type === "password" ||
              inputElement.type === "email" ||
              inputElement.type === "tel"
            ) {
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .MASK;
            }
            if (inputElement.type === "hidden") {
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .MASK;
            }
            var autocomplete = inputElement.getAttribute("autocomplete");
            // Handle input[autocomplete=cc-number/cc-csc/cc-exp/cc-exp-month/cc-exp-year]
            if (autocomplete && autocomplete.indexOf("cc-") === 0) {
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .MASK;
            }
          }
          // Check HTML privacy attributes
          switch (privAttr) {
            case _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_ALLOW:
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .ALLOW;
            case _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_MASK:
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .MASK;
            case _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_MASK_USER_INPUT:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_INPUT_IGNORED: // Deprecated, now aliased
            case _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_INPUT_MASKED: // Deprecated, now aliased
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .MASK_USER_INPUT;
            case _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_ATTR_VALUE_HIDDEN:
              return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
                .HIDDEN;
          }
          // Check HTML privacy classes
          if (
            node.classList.contains(
              _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_ALLOW
            )
          ) {
            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .ALLOW;
          } else if (
            node.classList.contains(
              _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_MASK
            )
          ) {
            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .MASK;
          } else if (
            node.classList.contains(
              _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_HIDDEN
            )
          ) {
            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .HIDDEN;
          } else if (
            node.classList.contains(
              _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_MASK_USER_INPUT
            ) ||
            node.classList.contains(
              _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_INPUT_MASKED
            ) || // Deprecated, now aliased
            node.classList.contains(
              _constants__WEBPACK_IMPORTED_MODULE_0__.PRIVACY_CLASS_INPUT_IGNORED
            ) // Deprecated, now aliased
          ) {
            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .MASK_USER_INPUT;
          } else if (
            (0, _serialize__WEBPACK_IMPORTED_MODULE_2__.shouldIgnoreElement)(
              node
            )
          ) {
            // such as for scripts
            return _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .IGNORE;
          }
        }
        /**
         * Helper aiming to unify `mask` and `mask-user-input` privacy levels:
         *
         * In the `mask` case, it is trivial: we should mask the element.
         *
         * In the `mask-user-input` case, we should mask the element only if it is a "form" element or the
         * direct parent is a form element for text nodes).
         *
         * Other `shouldMaskNode` cases are edge cases that should not matter too much (ex: should we mask a
         * node if it is ignored or hidden? it doesn't matter since it won't be serialized).
         */
        function shouldMaskNode(node, privacyLevel) {
          switch (privacyLevel) {
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.MASK:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .HIDDEN:
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .IGNORE:
              return true;
            case _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel
              .MASK_USER_INPUT:
              return isTextNode(node)
                ? isFormElement(node.parentNode)
                : isFormElement(node);
            default:
              return false;
          }
        }
        function isElement(node) {
          return node.nodeType === node.ELEMENT_NODE;
        }
        function isTextNode(node) {
          return node.nodeType === node.TEXT_NODE;
        }
        function isFormElement(node) {
          if (!node || node.nodeType !== node.ELEMENT_NODE) {
            return false;
          }
          var element = node;
          if (element.tagName === "INPUT") {
            switch (element.type) {
              case "button":
              case "color":
              case "reset":
              case "submit":
                return false;
            }
          }
          return !!_constants__WEBPACK_IMPORTED_MODULE_0__
            .FORM_PRIVATE_TAG_NAMES[element.tagName];
        }
        /**
         * Text censoring non-destructively maintains whitespace characters in order to preserve text shape
         * during replay.
         */
        var censorText = function (text) {
          return text.replace(/\S/g, TEXT_MASKING_CHAR);
        };
        function getTextContent(
          textNode,
          ignoreWhiteSpace,
          parentNodePrivacyLevel
        ) {
          var _a;
          // The parent node may not be a html element which has a tagName attribute.
          // So just let it be undefined which is ok in this use case.
          var parentTagName =
            (_a = textNode.parentElement) === null || _a === void 0
              ? void 0
              : _a.tagName;
          var textContent = textNode.textContent || "";
          if (ignoreWhiteSpace && !textContent.trim()) {
            return;
          }
          var nodePrivacyLevel = parentNodePrivacyLevel;
          var isStyle = parentTagName === "STYLE" ? true : undefined;
          var isScript = parentTagName === "SCRIPT";
          if (isScript) {
            // For perf reasons, we don't record script (heuristic)
            textContent =
              _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;
          } else if (
            nodePrivacyLevel ===
            _constants__WEBPACK_IMPORTED_MODULE_0__.NodePrivacyLevel.HIDDEN
          ) {
            // Should never occur, but just in case, we set to CENSORED_MARK.
            textContent =
              _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;
          } else if (shouldMaskNode(textNode, nodePrivacyLevel)) {
            if (isStyle) {
              // Style tags are `overruled` (Use `hide` to enforce privacy)
              textContent = (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_1__.makeStylesheetUrlsAbsolute)(
                textContent,
                location.href
              );
            } else if (
              // Scrambling the child list breaks text nodes for DATALIST/SELECT/OPTGROUP
              parentTagName === "DATALIST" ||
              parentTagName === "SELECT" ||
              parentTagName === "OPTGROUP"
            ) {
              if (!textContent.trim()) {
                return;
              }
            } else if (parentTagName === "OPTION") {
              // <Option> has low entropy in charset + text length, so use `CENSORED_STRING_MARK` when masked
              textContent =
                _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;
            } else {
              textContent = censorText(textContent);
            }
          }
          return textContent;
        }

        /***/
      },

    /***/ "./src/domain/record/record.ts":
      /*!*************************************!*\
  !*** ./src/domain/record/record.ts ***!
  \*************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ record: function () {
            return /* binding */ record;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );
        /* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! ../../types */ "./src/types.ts");
        /* harmony import */ var _serialize__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./serialize */ "./src/domain/record/serialize.ts"
          );
        /* harmony import */ var _observer__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! ./observer */ "./src/domain/record/observer.ts"
          );
        /* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(/*! ./types */ "./src/domain/record/types.ts");
        /* harmony import */ var _mutationObserver__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(
            /*! ./mutationObserver */ "./src/domain/record/mutationObserver.ts"
          );
        /* harmony import */ var _viewports__WEBPACK_IMPORTED_MODULE_6__ =
          __webpack_require__(
            /*! ./viewports */ "./src/domain/record/viewports.ts"
          );

        function record(options) {
          var emit = options.emit;
          // runtime checks for user options
          if (!emit) {
            throw new Error("emit function is required");
          }
          var mutationController =
            new _mutationObserver__WEBPACK_IMPORTED_MODULE_5__.MutationController();
          var takeFullSnapshot = function () {
            mutationController.flush(); // process any pending mutation before taking a full snapshot
            emit({
              data: {
                height: (0,
                _viewports__WEBPACK_IMPORTED_MODULE_6__.getWindowHeight)(),
                href: window.location.href,
                width: (0,
                _viewports__WEBPACK_IMPORTED_MODULE_6__.getWindowWidth)(),
              },
              type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.Meta,
            });
            emit({
              data: {
                has_focus: document.hasFocus(),
              },
              type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.Focus,
            });
            emit({
              data: {
                node: (0,
                _serialize__WEBPACK_IMPORTED_MODULE_2__.serializeDocument)(
                  document,
                  options.defaultPrivacyLevel
                ),
                initialOffset: {
                  left: (0,
                  _viewports__WEBPACK_IMPORTED_MODULE_6__.getScrollX)(),
                  top: (0,
                  _viewports__WEBPACK_IMPORTED_MODULE_6__.getScrollY)(),
                },
              },
              type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.FullSnapshot,
            });
            if (
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_7__.isExperimentalFeatureEnabled)(
                "visualviewport"
              ) &&
              window.visualViewport
            ) {
              emit({
                data: (0,
                _viewports__WEBPACK_IMPORTED_MODULE_6__.getVisualViewport)(),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .VisualViewport,
              });
            }
          };
          takeFullSnapshot();
          var stopObservers = (0,
          _observer__WEBPACK_IMPORTED_MODULE_3__.initObservers)({
            mutationController: mutationController,
            defaultPrivacyLevel: options.defaultPrivacyLevel,
            inputCb: function (v) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .Input,
                  },
                  v
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            mediaInteractionCb: function (p) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .MediaInteraction,
                  },
                  p
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            mouseInteractionCb: function (d) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .MouseInteraction,
                  },
                  d
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            mousemoveCb: function (positions, source) {
              return emit({
                data: {
                  positions: positions,
                  source: source,
                },
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            mutationCb: function (m) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .Mutation,
                  },
                  m
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            scrollCb: function (p) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .Scroll,
                  },
                  p
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            styleSheetRuleCb: function (r) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .StyleSheetRule,
                  },
                  r
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            viewportResizeCb: function (d) {
              return emit({
                data: (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                  {
                    source:
                      _types__WEBPACK_IMPORTED_MODULE_4__.IncrementalSource
                        .ViewportResize,
                  },
                  d
                ),
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .IncrementalSnapshot,
              });
            },
            focusCb: function (data) {
              return emit({
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.Focus,
                data: data,
              });
            },
            visualViewportResizeCb: function (data) {
              emit({
                data: data,
                type: _types__WEBPACK_IMPORTED_MODULE_1__.RecordType
                  .VisualViewport,
              });
            },
          });
          return {
            stop: stopObservers,
            takeFullSnapshot: takeFullSnapshot,
            flushMutations: function () {
              return mutationController.flush();
            },
          };
        }

        /***/
      },

    /***/ "./src/domain/record/serializationUtils.ts":
      /*!*************************************************!*\
  !*** ./src/domain/record/serializationUtils.ts ***!
  \*************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ hasSerializedNode: function () {
            return /* binding */ hasSerializedNode;
          },
          /* harmony export */ nodeAndAncestorsHaveSerializedNode: function () {
            return /* binding */ nodeAndAncestorsHaveSerializedNode;
          },
          /* harmony export */ getSerializedNodeId: function () {
            return /* binding */ getSerializedNodeId;
          },
          /* harmony export */ setSerializedNodeId: function () {
            return /* binding */ setSerializedNodeId;
          },
          /* harmony export */ makeStylesheetUrlsAbsolute: function () {
            return /* binding */ makeStylesheetUrlsAbsolute;
          },
          /* harmony export */ makeSrcsetUrlsAbsolute: function () {
            return /* binding */ makeSrcsetUrlsAbsolute;
          },
          /* harmony export */ makeUrlAbsolute: function () {
            return /* binding */ makeUrlAbsolute;
          },
          /* harmony export */ getElementInputValue: function () {
            return /* binding */ getElementInputValue;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/urlPolyfill.ts"
          );
        /* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(/*! ../../constants */ "./src/constants.ts");
        /* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ./privacy */ "./src/domain/record/privacy.ts"
          );

        var serializedNodeIds = new WeakMap();
        function hasSerializedNode(node) {
          return serializedNodeIds.has(node);
        }
        function nodeAndAncestorsHaveSerializedNode(node) {
          var current = node;
          while (current) {
            if (!hasSerializedNode(current)) {
              return false;
            }
            current = current.parentNode;
          }
          return true;
        }
        function getSerializedNodeId(node) {
          return serializedNodeIds.get(node);
        }
        function setSerializedNodeId(node, serializeNodeId) {
          serializedNodeIds.set(node, serializeNodeId);
        }
        var URL_IN_CSS_REF = /url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm;
        var ABSOLUTE_URL = /^[A-Za-z]+:|^\/\//;
        var DATA_URI = /^data:.*,/i;
        function makeStylesheetUrlsAbsolute(cssText, baseUrl) {
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)(
              "base-tag"
            )
          ) {
            return cssText;
          }
          return cssText.replace(
            URL_IN_CSS_REF,
            function (origin, quote1, path1, quote2, path2, path3) {
              var filePath = path1 || path2 || path3;
              if (
                !filePath ||
                ABSOLUTE_URL.test(filePath) ||
                DATA_URI.test(filePath)
              ) {
                return origin;
              }
              var maybeQuote = quote1 || quote2 || "";
              return (
                "url(" +
                maybeQuote +
                makeUrlAbsolute(filePath, baseUrl) +
                maybeQuote +
                ")"
              );
            }
          );
        }
        var SRCSET_URLS = /(^\s*|,\s*)([^\s,]+)/g;
        function makeSrcsetUrlsAbsolute(attributeValue, baseUrl) {
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)(
              "base-tag"
            )
          ) {
            return attributeValue;
          }
          return attributeValue.replace(SRCSET_URLS, function (_, prefix, url) {
            return "" + prefix + makeUrlAbsolute(url, baseUrl);
          });
        }
        function makeUrlAbsolute(url, baseUrl) {
          try {
            if (
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.isExperimentalFeatureEnabled)(
                "base-tag"
              )
            ) {
              return url;
            }
            return (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.buildUrl)(
              url.trim(),
              baseUrl
            ).href;
          } catch (_) {
            return url;
          }
        }
        /**
         * Get the element "value" to be serialized as an attribute or an input update record. It respects
         * the input privacy mode of the element.
         * PERFROMANCE OPTIMIZATION: Assumes that privacy level `HIDDEN` is never encountered because of earlier checks.
         */
        function getElementInputValue(element, nodePrivacyLevel) {
          /*
     BROWSER SPEC NOTE: <input>, <select>
     For some <input> elements, the `value` is an exceptional property/attribute that has the
     value synced between el.value and el.getAttribute()
     input[type=button,checkbox,hidden,image,radio,reset,submit]
     */
          var tagName = element.tagName;
          var value = element.value;
          if (
            (0, _privacy__WEBPACK_IMPORTED_MODULE_1__.shouldMaskNode)(
              element,
              nodePrivacyLevel
            )
          ) {
            var type = element.type;
            if (
              tagName === "INPUT" &&
              (type === "button" || type === "submit" || type === "reset")
            ) {
              // Overrule `MASK` privacy level for button-like element values, as they are used during replay
              // to display their label. They can still be hidden via the "hidden" privacy attribute or class name.
              return value;
            } else if (!value || tagName === "OPTION") {
              // <Option> value provides no benefit
              return;
            }
            return _constants__WEBPACK_IMPORTED_MODULE_0__.CENSORED_STRING_MARK;
          }
          if (tagName === "OPTION" || tagName === "SELECT") {
            return element.value;
          }
          if (tagName !== "INPUT" && tagName !== "TEXTAREA") {
            return;
          }
          return value;
        }

        /***/
      },

    /***/ "./src/domain/record/serialize.ts":
      /*!****************************************!*\
  !*** ./src/domain/record/serialize.ts ***!
  \****************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ serializeDocument: function () {
            return /* binding */ serializeDocument;
          },
          /* harmony export */ serializeNodeWithId: function () {
            return /* binding */ serializeNodeWithId;
          },
          /* harmony export */ serializeDocumentNode: function () {
            return /* binding */ serializeDocumentNode;
          },
          /* harmony export */ serializeElementNode: function () {
            return /* binding */ serializeElementNode;
          },
          /* harmony export */ shouldIgnoreElement: function () {
            return /* binding */ shouldIgnoreElement;
          },
          /* harmony export */ serializeChildNodes: function () {
            return /* binding */ serializeChildNodes;
          },
          /* harmony export */ serializeAttribute: function () {
            return /* binding */ serializeAttribute;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! ../../constants */ "./src/constants.ts");
        /* harmony import */ var _privacy__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./privacy */ "./src/domain/record/privacy.ts"
          );
        /* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(/*! ./types */ "./src/domain/record/types.ts");
        /* harmony import */ var _serializationUtils__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! ./serializationUtils */ "./src/domain/record/serializationUtils.ts"
          );
        /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ =
          __webpack_require__(/*! ./utils */ "./src/domain/record/utils.ts");

        function serializeDocument(document, defaultPrivacyLevel) {
          // We are sure that Documents are never ignored, so this function never returns null
          return serializeNodeWithId(document, {
            document: document,
            parentNodePrivacyLevel: defaultPrivacyLevel,
          });
        }
        function serializeNodeWithId(node, options) {
          var serializedNode = serializeNode(node, options);
          if (!serializedNode) {
            return null;
          }
          // Try to reuse the previous id
          var id =
            (0,
            _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.getSerializedNodeId)(
              node
            ) || generateNextId();
          var serializedNodeWithId = serializedNode;
          serializedNodeWithId.id = id;
          (0,
          _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.setSerializedNodeId)(
            node,
            id
          );
          if (options.serializedNodeIds) {
            options.serializedNodeIds.add(id);
          }
          return serializedNodeWithId;
        }
        function serializeNode(node, options) {
          switch (node.nodeType) {
            case node.DOCUMENT_NODE:
              return serializeDocumentNode(node, options);
            case node.DOCUMENT_TYPE_NODE:
              return serializeDocumentTypeNode(node);
            case node.ELEMENT_NODE:
              return serializeElementNode(node, options);
            case node.TEXT_NODE:
              return serializeTextNode(node, options);
            case node.CDATA_SECTION_NODE:
              return serializeCDataNode();
          }
        }
        function serializeDocumentNode(document, options) {
          return {
            type: _types__WEBPACK_IMPORTED_MODULE_3__.NodeType.Document,
            childNodes: serializeChildNodes(document, options),
          };
        }
        function serializeDocumentTypeNode(documentType) {
          return {
            type: _types__WEBPACK_IMPORTED_MODULE_3__.NodeType.DocumentType,
            name: documentType.name,
            publicId: documentType.publicId,
            systemId: documentType.systemId,
          };
        }
        /**
         * Serialzing Element nodes involves capturing:
         * 1. HTML ATTRIBUTES:
         * 2. JS STATE:
         * - scroll offsets
         * - Form fields (input value, checkbox checked, otpion selection, range)
         * - Canvas state,
         * - Media (video/audio) play mode + currentTime
         * - iframe contents
         * - webcomponents
         * 3. CUSTOM PROPERTIES:
         * - height+width for when `hidden` to cover the element
         * 4. EXCLUDED INTERACTION STATE:
         * - focus (possible, but not worth perf impact)
         * - hover (tracked only via mouse activity)
         * - fullscreen mode
         */
        function serializeElementNode(element, options) {
          var _a;
          var tagName = getValidTagName(element.tagName);
          var isSVG = isSVGElement(element) || undefined;
          // For performance reason, we don't use getNodePrivacyLevel directly: we leverage the
          // parentNodePrivacyLevel option to avoid iterating over all parents
          var nodePrivacyLevel = (0,
          _privacy__WEBPACK_IMPORTED_MODULE_2__.reducePrivacyLevel)(
            (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.getNodeSelfPrivacyLevel)(
              element
            ),
            options.parentNodePrivacyLevel
          );
          if (
            nodePrivacyLevel ===
            _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN
          ) {
            var _b = element.getBoundingClientRect(),
              width = _b.width,
              height = _b.height;
            return {
              type: _types__WEBPACK_IMPORTED_MODULE_3__.NodeType.Element,
              tagName: tagName,
              attributes:
                ((_a = {
                  rr_width: width + "px",
                  rr_height: height + "px",
                }),
                (_a[_constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_NAME] =
                  _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_VALUE_HIDDEN),
                _a),
              childNodes: [],
              isSVG: isSVG,
            };
          }
          // Ignore Elements like Script and some Link, Metas
          if (
            nodePrivacyLevel ===
            _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.IGNORE
          ) {
            return;
          }
          var attributes = getAttributesForPrivacyLevel(
            element,
            nodePrivacyLevel
          );
          var childNodes = [];
          if (element.childNodes.length) {
            // OBJECT POOLING OPTIMIZATION:
            // We should not create a new object systematically as it could impact performances. Try to reuse
            // the same object as much as possible, and clone it only if we need to.
            var childNodesSerializationOptions = void 0;
            if (
              options.parentNodePrivacyLevel === nodePrivacyLevel &&
              options.ignoreWhiteSpace === (tagName === "head")
            ) {
              childNodesSerializationOptions = options;
            } else {
              childNodesSerializationOptions = (0,
              tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, options),
                {
                  parentNodePrivacyLevel: nodePrivacyLevel,
                  ignoreWhiteSpace: tagName === "head",
                }
              );
            }
            childNodes = serializeChildNodes(
              element,
              childNodesSerializationOptions
            );
          }
          return {
            type: _types__WEBPACK_IMPORTED_MODULE_3__.NodeType.Element,
            tagName: tagName,
            attributes: attributes,
            childNodes: childNodes,
            isSVG: isSVG,
          };
        }
        /**
         * TODO: Preserve CSS element order, and record the presence of the tag, just don't render
         * We don't need this logic on the recorder side.
         * For security related meta's, customer can mask themmanually given they
         * are easy to identify in the HEAD tag.
         */
        function shouldIgnoreElement(element) {
          if (element.nodeName === "SCRIPT") {
            return true;
          }
          if (element.nodeName === "LINK") {
            var relAttribute = getLowerCaseAttribute("rel");
            return (
              // Scripts
              (relAttribute === "preload" &&
                getLowerCaseAttribute("as") === "script") ||
              // Favicons
              relAttribute === "shortcut icon" ||
              relAttribute === "icon"
            );
          }
          if (element.nodeName === "META") {
            var nameAttribute = getLowerCaseAttribute("name");
            var relAttribute = getLowerCaseAttribute("rel");
            var propertyAttribute = getLowerCaseAttribute("property");
            return (
              // Favicons
              /^msapplication-tile(image|color)$/.test(nameAttribute) ||
              nameAttribute === "application-name" ||
              relAttribute === "icon" ||
              relAttribute === "apple-touch-icon" ||
              relAttribute === "shortcut icon" ||
              // Description
              nameAttribute === "keywords" ||
              nameAttribute === "description" ||
              // Social
              /^(og|twitter|fb):/.test(propertyAttribute) ||
              /^(og|twitter):/.test(nameAttribute) ||
              nameAttribute === "pinterest" ||
              // Robots
              nameAttribute === "robots" ||
              nameAttribute === "googlebot" ||
              nameAttribute === "bingbot" ||
              // Http headers. Ex: X-UA-Compatible, Content-Type, Content-Language, cache-control,
              // X-Translated-By
              element.hasAttribute("http-equiv") ||
              // Authorship
              nameAttribute === "author" ||
              nameAttribute === "generator" ||
              nameAttribute === "framework" ||
              nameAttribute === "publisher" ||
              nameAttribute === "progid" ||
              /^article:/.test(propertyAttribute) ||
              /^product:/.test(propertyAttribute) ||
              // Verification
              nameAttribute === "google-site-verification" ||
              nameAttribute === "yandex-verification" ||
              nameAttribute === "csrf-token" ||
              nameAttribute === "p:domain_verify" ||
              nameAttribute === "verify-v1" ||
              nameAttribute === "verification" ||
              nameAttribute === "shopify-checkout-api-token"
            );
          }
          function getLowerCaseAttribute(name) {
            return (element.getAttribute(name) || "").toLowerCase();
          }
          return false;
        }
        /**
         * Text Nodes are dependant on Element nodes
         * Privacy levels are set on elements so we check the parentElement of a text node
         * for privacy level.
         */
        function serializeTextNode(textNode, options) {
          var _a;
          // The parent node may not be a html element which has a tagName attribute.
          // So just let it be undefined which is ok in this use case.
          var parentTagName =
            (_a = textNode.parentElement) === null || _a === void 0
              ? void 0
              : _a.tagName;
          var textContent = (0,
          _privacy__WEBPACK_IMPORTED_MODULE_2__.getTextContent)(
            textNode,
            options.ignoreWhiteSpace || false,
            options.parentNodePrivacyLevel
          );
          if (!textContent) {
            return;
          }
          return {
            type: _types__WEBPACK_IMPORTED_MODULE_3__.NodeType.Text,
            textContent: textContent,
            isStyle: parentTagName === "STYLE" ? true : undefined,
          };
        }
        function serializeCDataNode() {
          return {
            type: _types__WEBPACK_IMPORTED_MODULE_3__.NodeType.CDATA,
            textContent: "",
          };
        }
        function serializeChildNodes(node, options) {
          var result = [];
          (0, _utils__WEBPACK_IMPORTED_MODULE_5__.forEach)(
            node.childNodes,
            function (childNode) {
              var serializedChildNode = serializeNodeWithId(childNode, options);
              if (serializedChildNode) {
                result.push(serializedChildNode);
              }
            }
          );
          return result;
        }
        function serializeAttribute(element, nodePrivacyLevel, attributeName) {
          var _a, _b, _c;
          if (
            nodePrivacyLevel ===
            _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN
          ) {
            // dup condition for direct access case
            return null;
          }
          var attributeValue = element.getAttribute(attributeName);
          if (
            nodePrivacyLevel ===
            _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.MASK
          ) {
            var tagName = element.tagName;
            switch (attributeName) {
              // Mask Attribute text content
              case "title":
              case "alt":
                return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;
            }
            // mask image URLs
            if (tagName === "IMG" || tagName === "SOURCE") {
              if (attributeName === "src" || attributeName === "srcset") {
                return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_IMG_MARK;
              }
            }
            // mask <a> URLs
            if (tagName === "A" && attributeName === "href") {
              return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;
            }
            // mask data-* attributes
            if (
              attributeValue &&
              attributeName.indexOf("data-") === 0 &&
              attributeName !==
                _constants__WEBPACK_IMPORTED_MODULE_1__.PRIVACY_ATTR_NAME
            ) {
              // Exception: it's safe to reveal the `${PRIVACY_ATTR_NAME}` attr
              return _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;
            }
          }
          if (!attributeValue || typeof attributeValue !== "string") {
            return attributeValue;
          }
          // Minimum Fix for customer.
          if (
            attributeValue.length >
              _privacy__WEBPACK_IMPORTED_MODULE_2__.MAX_ATTRIBUTE_VALUE_CHAR_LENGTH &&
            attributeValue.slice(0, 5) === "data:"
          ) {
            return "data:truncated";
          }
          // Rebuild absolute URLs from relative (without using <base> tag)
          var doc = element.ownerDocument;
          switch (attributeName) {
            case "src":
            case "href":
              return (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.makeUrlAbsolute)(
                attributeValue,
                (_a = doc.location) === null || _a === void 0 ? void 0 : _a.href
              );
            case "srcset":
              return (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.makeSrcsetUrlsAbsolute)(
                attributeValue,
                (_b = doc.location) === null || _b === void 0 ? void 0 : _b.href
              );
            case "style":
              return (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.makeStylesheetUrlsAbsolute)(
                attributeValue,
                (_c = doc.location) === null || _c === void 0 ? void 0 : _c.href
              );
            default:
              return attributeValue;
          }
        }
        var _nextId = 1;
        function generateNextId() {
          return _nextId++;
        }
        var TAG_NAME_REGEX = /[^a-z1-6-_]/;
        function getValidTagName(tagName) {
          var processedTagName = tagName.toLowerCase().trim();
          if (TAG_NAME_REGEX.test(processedTagName)) {
            // if the tag name is odd and we cannot extract
            // anything from the string, then we return a
            // generic div
            return "div";
          }
          return processedTagName;
        }
        function getCssRulesString(s) {
          try {
            var rules = s.rules || s.cssRules;
            return rules
              ? Array.from(rules).map(getCssRuleString).join("")
              : null;
          } catch (error) {
            return null;
          }
        }
        function getCssRuleString(rule) {
          return isCSSImportRule(rule)
            ? getCssRulesString(rule.styleSheet) || ""
            : rule.cssText;
        }
        function isCSSImportRule(rule) {
          return "styleSheet" in rule;
        }
        function isSVGElement(el) {
          return el.tagName === "svg" || el instanceof SVGElement;
        }
        function getAttributesForPrivacyLevel(element, nodePrivacyLevel) {
          if (
            nodePrivacyLevel ===
            _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.HIDDEN
          ) {
            return {};
          }
          var safeAttrs = {};
          var tagName = getValidTagName(element.tagName);
          var doc = element.ownerDocument;
          for (var i = 0; i < element.attributes.length; i += 1) {
            var attribute = element.attributes.item(i);
            var attributeName = attribute.name;
            var attributeValue = serializeAttribute(
              element,
              nodePrivacyLevel,
              attributeName
            );
            if (attributeValue !== null) {
              safeAttrs[attributeName] = attributeValue;
            }
          }
          if (
            element.value &&
            (tagName === "textarea" ||
              tagName === "select" ||
              tagName === "option" ||
              tagName === "input")
          ) {
            var formValue = (0,
            _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.getElementInputValue)(
              element,
              nodePrivacyLevel
            );
            if (formValue !== undefined) {
              safeAttrs.value = formValue;
            }
          }
          /**
           * <Option> can be selected, which occurs if its `value` matches ancestor `<Select>.value`
           */
          if (
            tagName === "option" &&
            nodePrivacyLevel ===
              _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.ALLOW
          ) {
            // For privacy=`MASK`, all the values would be the same, so skip.
            var optionElement = element;
            if (optionElement.selected) {
              safeAttrs.selected = optionElement.selected;
            }
          }
          // remote css
          if (tagName === "link") {
            var stylesheet = Array.from(doc.styleSheets).find(function (s) {
              return s.href === element.href;
            });
            var cssText = getCssRulesString(stylesheet);
            if (cssText && stylesheet) {
              delete safeAttrs.rel;
              delete safeAttrs.href;
              safeAttrs._cssText = (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.makeStylesheetUrlsAbsolute)(
                cssText,
                stylesheet.href
              );
            }
          }
          // dynamic stylesheet
          if (
            tagName === "style" &&
            element.sheet &&
            // TODO: Currently we only try to get dynamic stylesheet when it is an empty style element
            !(element.innerText || element.textContent || "").trim().length
          ) {
            var cssText = getCssRulesString(element.sheet);
            if (cssText) {
              safeAttrs._cssText = (0,
              _serializationUtils__WEBPACK_IMPORTED_MODULE_4__.makeStylesheetUrlsAbsolute)(
                cssText,
                location.href
              );
            }
          }
          /**
           * Forms: input[type=checkbox,radio]
           * The `checked` property for <input> is a little bit special:
           * 1. el.checked is a setter that returns if truthy.
           * 2. getAttribute returns the string value
           * getAttribute('checked') does not sync with `Element.checked`, so use JS property
           * NOTE: `checked` property exists on `HTMLInputElement`. For serializer assumptions, we check for type=radio|check.
           */
          var inputElement = element;
          if (
            tagName === "input" &&
            (inputElement.type === "radio" || inputElement.type === "checkbox")
          ) {
            if (
              nodePrivacyLevel ===
              _constants__WEBPACK_IMPORTED_MODULE_1__.NodePrivacyLevel.ALLOW
            ) {
              safeAttrs.checked = !!inputElement.checked;
            } else if (
              (0, _privacy__WEBPACK_IMPORTED_MODULE_2__.shouldMaskNode)(
                inputElement,
                nodePrivacyLevel
              )
            ) {
              safeAttrs.checked =
                _constants__WEBPACK_IMPORTED_MODULE_1__.CENSORED_STRING_MARK;
            }
          }
          /**
           * Serialize the media playback state
           */
          if (tagName === "audio" || tagName === "video") {
            var mediaElement = element;
            safeAttrs.rr_mediaState = mediaElement.paused ? "paused" : "played";
          }
          /**
           * Serialize the scroll state for each element
           */
          if (element.scrollLeft) {
            safeAttrs.rr_scrollLeft = Math.round(element.scrollLeft);
          }
          if (element.scrollTop) {
            safeAttrs.rr_scrollTop = Math.round(element.scrollTop);
          }
          return safeAttrs;
        }

        /***/
      },

    /***/ "./src/domain/record/types.ts":
      /*!************************************!*\
  !*** ./src/domain/record/types.ts ***!
  \************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ IncrementalSource: function () {
            return /* binding */ IncrementalSource;
          },
          /* harmony export */ MouseInteractions: function () {
            return /* binding */ MouseInteractions;
          },
          /* harmony export */ MediaInteractions: function () {
            return /* binding */ MediaInteractions;
          },
          /* harmony export */ NodeType: function () {
            return /* binding */ NodeType;
          },
          /* harmony export */
        });
        var IncrementalSource;
        (function (IncrementalSource) {
          IncrementalSource[(IncrementalSource["Mutation"] = 0)] = "Mutation";
          IncrementalSource[(IncrementalSource["MouseMove"] = 1)] = "MouseMove";
          IncrementalSource[(IncrementalSource["MouseInteraction"] = 2)] =
            "MouseInteraction";
          IncrementalSource[(IncrementalSource["Scroll"] = 3)] = "Scroll";
          IncrementalSource[(IncrementalSource["ViewportResize"] = 4)] =
            "ViewportResize";
          IncrementalSource[(IncrementalSource["Input"] = 5)] = "Input";
          IncrementalSource[(IncrementalSource["TouchMove"] = 6)] = "TouchMove";
          IncrementalSource[(IncrementalSource["MediaInteraction"] = 7)] =
            "MediaInteraction";
          IncrementalSource[(IncrementalSource["StyleSheetRule"] = 8)] =
            "StyleSheetRule";
          // CanvasMutation = 9,
          // Font = 10,
        })(IncrementalSource || (IncrementalSource = {}));
        var MouseInteractions = {
          MouseUp: 0,
          MouseDown: 1,
          Click: 2,
          ContextMenu: 3,
          DblClick: 4,
          Focus: 5,
          Blur: 6,
          TouchStart: 7,
          TouchEnd: 9,
        };
        var MediaInteractions = {
          Play: 0,
          Pause: 1,
        };
        var NodeType;
        (function (NodeType) {
          NodeType[(NodeType["Document"] = 0)] = "Document";
          NodeType[(NodeType["DocumentType"] = 1)] = "DocumentType";
          NodeType[(NodeType["Element"] = 2)] = "Element";
          NodeType[(NodeType["Text"] = 3)] = "Text";
          NodeType[(NodeType["CDATA"] = 4)] = "CDATA";
          NodeType[(NodeType["Comment"] = 5)] = "Comment";
        })(NodeType || (NodeType = {}));

        /***/
      },

    /***/ "./src/domain/record/utils.ts":
      /*!************************************!*\
  !*** ./src/domain/record/utils.ts ***!
  \************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ hookSetter: function () {
            return /* binding */ hookSetter;
          },
          /* harmony export */ isTouchEvent: function () {
            return /* binding */ isTouchEvent;
          },
          /* harmony export */ forEach: function () {
            return /* binding */ forEach;
          },
          /* harmony export */
        });
        function hookSetter(target, key, d) {
          var original = Object.getOwnPropertyDescriptor(target, key);
          Object.defineProperty(target, key, {
            set: function (value) {
              var _this = this;
              // put hooked setter into event loop to avoid of set latency
              setTimeout(function () {
                d.set.call(_this, value);
              }, 0);
              if (original && original.set) {
                original.set.call(this, value);
              }
            },
          });
          return function () {
            Object.defineProperty(target, key, original || {});
          };
        }
        function isTouchEvent(event) {
          return Boolean(event.changedTouches);
        }
        function forEach(list, callback) {
          Array.prototype.forEach.call(list, callback);
        }

        /***/
      },

    /***/ "./src/domain/record/viewports.ts":
      /*!****************************************!*\
  !*** ./src/domain/record/viewports.ts ***!
  \****************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ convertMouseEventToLayoutCoordinates:
            function () {
              return /* binding */ convertMouseEventToLayoutCoordinates;
            },
          /* harmony export */ getVisualViewport: function () {
            return /* binding */ getVisualViewport;
          },
          /* harmony export */ getWindowWidth: function () {
            return /* binding */ getWindowWidth;
          },
          /* harmony export */ getWindowHeight: function () {
            return /* binding */ getWindowHeight;
          },
          /* harmony export */ getScrollX: function () {
            return /* binding */ getScrollX;
          },
          /* harmony export */ getScrollY: function () {
            return /* binding */ getScrollY;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/configuration/experimentalFeatures.ts"
          );
        /**
         * Browsers have not standardized various dimension properties. Mobile devices typically report
         * dimensions in reference to the visual viewport, while desktop uses the layout viewport. For example,
         * Mobile Chrome will change innerWidth when a pinch zoom takes place, while Chrome Desktop (mac) will not.
         *
         * With the new Viewport API, we now calculate and normalize dimension properties to the layout viewport.
         * If the VisualViewport API is not supported by a browser, it isn't reasonably possible to detect or normalize
         * which viewport is being measured. Therefore these exported functions will fallback to assuming that the layout
         * viewport is being measured by the browser
         */

        // Scrollbar widths vary across properties on different devices and browsers
        var TOLERANCE = 25;
        /**
         * Use the Visual Viewport API's properties to measure scrollX/Y in reference to the layout viewport
         * in order to determine if window.scrollX/Y is measuring the layout or visual viewport.
         * This finding corresponds to which viewport mouseEvent.clientX/Y and window.innerWidth/Height measures.
         */
        function isVisualViewportFactoredIn() {
          var visual = window.visualViewport;
          return (
            Math.abs(visual.pageTop - visual.offsetTop - window.scrollY) >
              TOLERANCE ||
            Math.abs(visual.pageLeft - visual.offsetLeft - window.scrollX) >
              TOLERANCE
          );
        }
        var convertMouseEventToLayoutCoordinates = function (clientX, clientY) {
          var visual = window.visualViewport;
          var normalised = {
            layoutViewportX: clientX,
            layoutViewportY: clientY,
            visualViewportX: clientX,
            visualViewportY: clientY,
          };
          if (!visual) {
            // On old browsers, we cannot normalise, so fallback to clientX/Y
            return normalised;
          } else if (isVisualViewportFactoredIn()) {
            // Typically Mobile Devices
            normalised.layoutViewportX = Math.round(
              clientX + visual.offsetLeft
            );
            normalised.layoutViewportY = Math.round(clientY + visual.offsetTop);
          } else {
            // Typically Desktop Devices
            normalised.visualViewportX = Math.round(
              clientX - visual.offsetLeft
            );
            normalised.visualViewportY = Math.round(clientY - visual.offsetTop);
          }
          return normalised;
        };
        var getVisualViewport = function () {
          var visual = window.visualViewport;
          return {
            scale: visual.scale,
            offsetLeft: visual.offsetLeft,
            offsetTop: visual.offsetTop,
            pageLeft: visual.pageLeft,
            pageTop: visual.pageTop,
            height: visual.height,
            width: visual.width,
          };
        };
        // excludes the width of any rendered classic scrollbar that is fixed to the visual viewport
        function getWindowWidth() {
          var visual = window.visualViewport;
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)(
              "visualviewport"
            ) &&
            visual
          ) {
            return visual.width * visual.scale;
          }
          return window.innerWidth || 0;
        }
        // excludes the height of any rendered classic scrollbar that is fixed to the visual viewport
        function getWindowHeight() {
          var visual = window.visualViewport;
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)(
              "visualviewport"
            ) &&
            visual
          ) {
            return visual.height * visual.scale;
          }
          return window.innerHeight || 0;
        }
        function getScrollX() {
          var visual = window.visualViewport;
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)(
              "visualviewport"
            ) &&
            visual
          ) {
            return visual.pageLeft - visual.offsetLeft;
          }
          if (window.scrollX !== undefined) {
            return window.scrollX;
          }
          return window.pageXOffset || 0;
        }
        function getScrollY() {
          var visual = window.visualViewport;
          if (
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.isExperimentalFeatureEnabled)(
              "visualviewport"
            ) &&
            visual
          ) {
            return visual.pageTop - visual.offsetTop;
          }
          if (window.scrollY !== undefined) {
            return window.scrollY;
          }
          return window.pageYOffset || 0;
        }

        /***/
      },

    /***/ "./src/domain/replayStats.ts":
      /*!***********************************!*\
  !*** ./src/domain/replayStats.ts ***!
  \***********************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ MAX_STATS_HISTORY: function () {
            return /* binding */ MAX_STATS_HISTORY;
          },
          /* harmony export */ addSegment: function () {
            return /* binding */ addSegment;
          },
          /* harmony export */ addRecord: function () {
            return /* binding */ addRecord;
          },
          /* harmony export */ addWroteData: function () {
            return /* binding */ addWroteData;
          },
          /* harmony export */ getReplayStats: function () {
            return /* binding */ getReplayStats;
          },
          /* harmony export */ resetReplayStats: function () {
            return /* binding */ resetReplayStats;
          },
          /* harmony export */
        });
        var MAX_STATS_HISTORY = 10;
        var statsPerView;
        function addSegment(viewId) {
          getOrCreateReplayStats(viewId).segments_count += 1;
        }
        function addRecord(viewId) {
          getOrCreateReplayStats(viewId).records_count += 1;
        }
        function addWroteData(viewId, additionalRawSize) {
          getOrCreateReplayStats(viewId).segments_total_raw_size +=
            additionalRawSize;
        }
        function getReplayStats(viewId) {
          return statsPerView === null || statsPerView === void 0
            ? void 0
            : statsPerView.get(viewId);
        }
        function resetReplayStats() {
          statsPerView = undefined;
        }
        function getOrCreateReplayStats(viewId) {
          if (!statsPerView) {
            statsPerView = new Map();
          }
          var replayStats;
          if (statsPerView.has(viewId)) {
            replayStats = statsPerView.get(viewId);
          } else {
            replayStats = {
              records_count: 0,
              segments_count: 0,
              segments_total_raw_size: 0,
            };
            statsPerView.set(viewId, replayStats);
            if (statsPerView.size > MAX_STATS_HISTORY) {
              deleteOldestStats();
            }
          }
          return replayStats;
        }
        function deleteOldestStats() {
          if (!statsPerView) {
            return;
          }
          if (statsPerView.keys) {
            statsPerView.delete(statsPerView.keys().next().value);
          } else {
            // IE11 doesn't support map.keys
            var isFirst_1 = true;
            statsPerView.forEach(function (_value, key) {
              if (isFirst_1) {
                statsPerView.delete(key);
                isFirst_1 = false;
              }
            });
          }
        }

        /***/
      },

    /***/ "./src/domain/segmentCollection/index.ts":
      /*!***********************************************!*\
  !*** ./src/domain/segmentCollection/index.ts ***!
  \***********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startSegmentCollection: function () {
            return /* reexport safe */ _segmentCollection__WEBPACK_IMPORTED_MODULE_0__.startSegmentCollection;
          },
          /* harmony export */
        });
        /* harmony import */ var _segmentCollection__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./segmentCollection */ "./src/domain/segmentCollection/segmentCollection.ts"
          );

        /***/
      },

    /***/ "./src/domain/segmentCollection/segment.ts":
      /*!*************************************************!*\
  !*** ./src/domain/segmentCollection/segment.ts ***!
  \*************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ Segment: function () {
            return /* binding */ Segment;
          },
          /* harmony export */
        });
        /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! tslib */ "../../node_modules/tslib/tslib.es6.js"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(/*! ../../types */ "./src/types.ts");
        /* harmony import */ var _replayStats__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ../replayStats */ "./src/domain/replayStats.ts"
          );

        var nextId = 0;
        var Segment = /** @class */ (function () {
          function Segment(
            worker,
            context,
            creationReason,
            initialRecord,
            onWrote,
            onFlushed
          ) {
            var _this = this;
            this.worker = worker;
            this.context = context;
            this.creationReason = creationReason;
            this.isFlushed = false;
            this.id = nextId++;
            this.start = initialRecord.timestamp;
            this.end = initialRecord.timestamp;
            this.recordsCount = 1;
            this.hasFullSnapshot =
              initialRecord.type ===
              _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.FullSnapshot;
            var viewId = this.context.view.id;
            _replayStats__WEBPACK_IMPORTED_MODULE_2__.addSegment(viewId);
            _replayStats__WEBPACK_IMPORTED_MODULE_2__.addRecord(viewId);
            var listener = (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.monitor)(
              function (_a) {
                var data = _a.data;
                if (data.type === "errored" || data.type === "initialized") {
                  return;
                }
                if (data.id === _this.id) {
                  _replayStats__WEBPACK_IMPORTED_MODULE_2__.addWroteData(
                    viewId,
                    data.additionalRawSize
                  );
                  if (data.type === "flushed") {
                    onFlushed(data.result, data.rawSize);
                    worker.removeEventListener("message", listener);
                  } else {
                    onWrote(data.compressedSize);
                  }
                } else if (data.id > _this.id) {
                  // Messages should be received in the same order as they are sent, so if we receive a
                  // message with an id superior to this Segment instance id, we know that another, more
                  // recent Segment instance is being used.
                  //
                  // In theory, a "flush" response should have been received at this point, so the listener
                  // should already have been removed. But if something goes wrong and we didn't receive a
                  // "flush" response, remove the listener to avoid any leak, and send a monitor message to
                  // help investigate the issue.
                  worker.removeEventListener("message", listener);
                  (0,
                  _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addMonitoringMessage)(
                    "Segment did not receive a 'flush' response before being replaced."
                  );
                }
              }
            );
            worker.addEventListener("message", listener);
            this.worker.postMessage({
              data: '{"records":[' + JSON.stringify(initialRecord),
              id: this.id,
              action: "write",
            });
          }
          Segment.prototype.addRecord = function (record) {
            this.end = record.timestamp;
            this.recordsCount += 1;
            _replayStats__WEBPACK_IMPORTED_MODULE_2__.addRecord(
              this.context.view.id
            );
            this.hasFullSnapshot ||
              (this.hasFullSnapshot =
                record.type ===
                _types__WEBPACK_IMPORTED_MODULE_1__.RecordType.FullSnapshot);
            this.worker.postMessage({
              data: "," + JSON.stringify(record),
              id: this.id,
              action: "write",
            });
          };
          Segment.prototype.flush = function (reason) {
            this.worker.postMessage({
              data: "]," + JSON.stringify(this.meta).slice(1) + "\n",
              id: this.id,
              action: "flush",
            });
            this.isFlushed = true;
            this.flushReason = reason;
          };
          Object.defineProperty(Segment.prototype, "meta", {
            get: function () {
              return (0, tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)(
                {
                  creation_reason: this.creationReason,
                  end: this.end,
                  has_full_snapshot: this.hasFullSnapshot,
                  records_count: this.recordsCount,
                  start: this.start,
                },
                this.context
              );
            },
            enumerable: false,
            configurable: true,
          });
          return Segment;
        })();

        /***/
      },

    /***/ "./src/domain/segmentCollection/segmentCollection.ts":
      /*!***********************************************************!*\
  !*** ./src/domain/segmentCollection/segmentCollection.ts ***!
  \***********************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ MAX_SEGMENT_DURATION: function () {
            return /* binding */ MAX_SEGMENT_DURATION;
          },
          /* harmony export */ startSegmentCollection: function () {
            return /* binding */ startSegmentCollection;
          },
          /* harmony export */ doStartSegmentCollection: function () {
            return /* binding */ doStartSegmentCollection;
          },
          /* harmony export */ computeSegmentContext: function () {
            return /* binding */ computeSegmentContext;
          },
          /* harmony export */ setMaxSegmentSize: function () {
            return /* binding */ setMaxSegmentSize;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-rum-core */ "../rum-core/src/index.ts"
          );
        /* harmony import */ var _transport_send__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! ../../transport/send */ "./src/transport/send.ts"
          );
        /* harmony import */ var _segment__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! ./segment */ "./src/domain/segmentCollection/segment.ts"
          );

        var MAX_SEGMENT_DURATION = 30000;
        var MAX_SEGMENT_SIZE =
          _transport_send__WEBPACK_IMPORTED_MODULE_1__.SEND_BEACON_BYTE_LENGTH_LIMIT;
        // Segments are the main data structure for session replays. They contain context information used
        // for indexing or UI needs, and a list of records (RRWeb 'events', renamed to avoid confusing
        // namings). They are stored without any processing from the intake, and fetched one after the
        // other while a session is being replayed. Their encoding (deflate) are carefully crafted to allow
        // concatenating multiple segments together. Segments have a size overhead (meta), so our goal is to
        // build segments containing as much records as possible while complying with the various flush
        // strategies to guarantee a good replay quality.
        //
        // When the recording starts, a segment is initially created.  The segment is flushed (finalized and
        // sent) based on various events (non-exhaustive list):
        //
        // * the page visibility change or becomes to unload
        // * the segment duration reaches a limit
        // * the encoded segment size reaches a limit
        // * ...
        //
        // A segment cannot be created without its context.  If the RUM session ends and no session id is
        // available when creating a new segment, records will be ignored, until the session is renewed and
        // a new session id is available.
        //
        // Empty segments (segments with no record) aren't useful and should be ignored.
        //
        // To help investigate session replays issues, each segment is created with a "creation reason",
        // indicating why the session has been created.
        function startSegmentCollection(
          lifeCycle,
          applicationId,
          session,
          parentContexts,
          send,
          worker
        ) {
          return doStartSegmentCollection(
            lifeCycle,
            function () {
              return computeSegmentContext(
                applicationId,
                session,
                parentContexts
              );
            },
            send,
            worker
          );
        }
        function doStartSegmentCollection(
          lifeCycle,
          getSegmentContext,
          send,
          worker,
          emitter
        ) {
          if (emitter === void 0) {
            emitter = window;
          }
          var state = {
            status: 0 /* WaitingForInitialRecord */,
            nextSegmentCreationReason: "init",
          };
          var unsubscribeViewCreated = lifeCycle.subscribe(
            _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__
              .LifeCycleEventType.VIEW_CREATED,
            function () {
              flushSegment("view_change");
            }
          ).unsubscribe;
          var unsubscribeBeforeUnload = lifeCycle.subscribe(
            _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__
              .LifeCycleEventType.BEFORE_UNLOAD,
            function () {
              flushSegment("before_unload");
            }
          ).unsubscribe;
          var unsubscribeVisibilityChange = (0,
          _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.addEventListener)(
            emitter,
            "visibilitychange" /* VISIBILITY_CHANGE */,
            function () {
              if (document.visibilityState === "hidden") {
                flushSegment("visibility_hidden");
              }
            },
            { capture: true }
          ).stop;
          function flushSegment(nextSegmentCreationReason) {
            if (state.status === 1 /* SegmentPending */) {
              state.segment.flush(nextSegmentCreationReason || "sdk_stopped");
              clearTimeout(state.expirationTimeoutId);
            }
            if (nextSegmentCreationReason) {
              state = {
                status: 0 /* WaitingForInitialRecord */,
                nextSegmentCreationReason: nextSegmentCreationReason,
              };
            } else {
              state = {
                status: 2 /* Stopped */,
              };
            }
          }
          function createNewSegment(creationReason, initialRecord) {
            var context = getSegmentContext();
            if (!context) {
              return;
            }
            var segment = new _segment__WEBPACK_IMPORTED_MODULE_2__.Segment(
              worker,
              context,
              creationReason,
              initialRecord,
              function (compressedSegmentSize) {
                if (
                  !segment.isFlushed &&
                  compressedSegmentSize > MAX_SEGMENT_SIZE
                ) {
                  flushSegment("max_size");
                }
              },
              function (data, rawSegmentSize) {
                send(data, segment.meta, rawSegmentSize, segment.flushReason);
              }
            );
            state = {
              status: 1 /* SegmentPending */,
              segment: segment,
              expirationTimeoutId: setTimeout(
                (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.monitor)(
                  function () {
                    flushSegment("max_duration");
                  }
                ),
                MAX_SEGMENT_DURATION
              ),
            };
          }
          return {
            addRecord: function (record) {
              switch (state.status) {
                case 0 /* WaitingForInitialRecord */:
                  createNewSegment(state.nextSegmentCreationReason, record);
                  break;
                case 1 /* SegmentPending */:
                  state.segment.addRecord(record);
                  break;
              }
            },
            stop: function () {
              flushSegment();
              unsubscribeViewCreated();
              unsubscribeBeforeUnload();
              unsubscribeVisibilityChange();
            },
          };
        }
        function computeSegmentContext(applicationId, session, parentContexts) {
          if (!session.isTracked()) {
            return undefined;
          }
          var viewContext = parentContexts.findView();
          if (
            !(viewContext === null || viewContext === void 0
              ? void 0
              : viewContext.session.id) ||
            viewContext.session.id !== session.getId()
          ) {
            return undefined;
          }
          return {
            application: {
              id: applicationId,
            },
            session: {
              id: viewContext.session.id,
            },
            view: {
              id: viewContext.view.id,
            },
          };
        }
        function setMaxSegmentSize(newSize) {
          if (newSize === void 0) {
            newSize =
              _transport_send__WEBPACK_IMPORTED_MODULE_1__.SEND_BEACON_BYTE_LENGTH_LIMIT;
          }
          MAX_SEGMENT_SIZE = newSize;
        }

        /***/
      },

    /***/ "./src/domain/segmentCollection/startDeflateWorker.ts":
      /*!************************************************************!*\
  !*** ./src/domain/segmentCollection/startDeflateWorker.ts ***!
  \************************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ startDeflateWorker: function () {
            return /* binding */ startDeflateWorker;
          },
          /* harmony export */ resetDeflateWorkerState: function () {
            return /* binding */ resetDeflateWorkerState;
          },
          /* harmony export */ doStartDeflateWorker: function () {
            return /* binding */ doStartDeflateWorker;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/domain/internalMonitoring.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/display.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );
        /* harmony import */ var _deflateWorker__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./deflateWorker */ "./src/domain/segmentCollection/deflateWorker.js"
          );

        var state = { status: 0 /* Nil */ };
        function startDeflateWorker(callback, createDeflateWorkerImpl) {
          if (createDeflateWorkerImpl === void 0) {
            createDeflateWorkerImpl =
              _deflateWorker__WEBPACK_IMPORTED_MODULE_0__.createDeflateWorker;
          }
          switch (state.status) {
            case 0 /* Nil */:
              state = { status: 1 /* Loading */, callbacks: [callback] };
              doStartDeflateWorker(createDeflateWorkerImpl);
              break;
            case 1 /* Loading */:
              state.callbacks.push(callback);
              break;
            case 2 /* Error */:
              callback();
              break;
            case 3 /* Initialized */:
              callback(state.worker);
              break;
          }
        }
        function resetDeflateWorkerState() {
          state = { status: 0 /* Nil */ };
        }
        /**
         * Starts the deflate worker and handle messages and errors
         *
         * The spec allow browsers to handle worker errors differently:
         * - Chromium throws an exception
         * - Firefox fires an error event
         *
         * more details: https://bugzilla.mozilla.org/show_bug.cgi?id=1736865#c2
         */
        function doStartDeflateWorker(createDeflateWorkerImpl) {
          if (createDeflateWorkerImpl === void 0) {
            createDeflateWorkerImpl =
              _deflateWorker__WEBPACK_IMPORTED_MODULE_0__.createDeflateWorker;
          }
          try {
            var worker_1 = createDeflateWorkerImpl();
            worker_1.addEventListener(
              "error",
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(
                onError
              )
            );
            worker_1.addEventListener(
              "message",
              (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.monitor)(
                function (_a) {
                  var data = _a.data;
                  if (data.type === "errored") {
                    onError(data.error);
                  } else if (data.type === "initialized") {
                    onInitialized(worker_1);
                  }
                }
              )
            );
            worker_1.postMessage({ action: "init" });
            return worker_1;
          } catch (error) {
            onError(error);
          }
        }
        function onInitialized(worker) {
          if (state.status === 1 /* Loading */) {
            state.callbacks.forEach(function (callback) {
              return callback(worker);
            });
            state = { status: 3 /* Initialized */, worker: worker };
          }
        }
        function onError(error) {
          if (state.status === 1 /* Loading */) {
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error(
              "Session Replay recording failed to start: an error occurred while creating the Worker:",
              error
            );
            if (
              error instanceof Event ||
              (error instanceof Error &&
                (0,
                _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.includes)(
                  error.message,
                  "Content Security Policy"
                ))
            ) {
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_2__.display.error(
                "Please make sure CSP is correctly configured " +
                  "https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"
              );
            } else {
              (0,
              _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addErrorToMonitoringBatch)(
                error
              );
            }
            state.callbacks.forEach(function (callback) {
              return callback();
            });
            state = { status: 2 /* Error */ };
          } else {
            (0,
            _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.addErrorToMonitoringBatch)(
              error
            );
          }
        }

        /***/
      },

    /***/ "./src/transport/send.ts":
      /*!*******************************!*\
  !*** ./src/transport/send.ts ***!
  \*******************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ SEND_BEACON_BYTE_LENGTH_LIMIT: function () {
            return /* binding */ SEND_BEACON_BYTE_LENGTH_LIMIT;
          },
          /* harmony export */ send: function () {
            return /* binding */ send;
          },
          /* harmony export */ toFormEntries: function () {
            return /* binding */ toFormEntries;
          },
          /* harmony export */
        });
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/transport/httpRequest.ts"
          );
        /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__ =
          __webpack_require__(
            /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
          );

        var SEND_BEACON_BYTE_LENGTH_LIMIT = 60000;
        function send(
          endpointBuilder,
          data,
          meta,
          rawSegmentSize,
          flushReason
        ) {
          var formData = new FormData();
          formData.append(
            "segment",
            new Blob([data], {
              type: "application/octet-stream",
            }),
            meta.session.id + "-" + meta.start
          );
          toFormEntries(meta, function (key, value) {
            return formData.append(key, value);
          });
          formData.append("raw_segment_size", rawSegmentSize.toString());
          var request =
            new _datadog_browser_core__WEBPACK_IMPORTED_MODULE_0__.HttpRequest(
              endpointBuilder,
              SEND_BEACON_BYTE_LENGTH_LIMIT
            );
          request.send(formData, data.byteLength, flushReason);
        }
        function toFormEntries(input, onEntry, prefix) {
          if (prefix === void 0) {
            prefix = "";
          }
          (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_1__.objectEntries)(
            input
          ).forEach(function (_a) {
            var key = _a[0],
              value = _a[1];
            if (typeof value === "object" && value !== null) {
              toFormEntries(value, onEntry, "" + prefix + key + ".");
            } else {
              onEntry("" + prefix + key, String(value));
            }
          });
        }

        /***/
      },

    /***/ "./src/types.ts":
      /*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ IncrementalSource: function () {
            return /* reexport safe */ _domain_record_types__WEBPACK_IMPORTED_MODULE_0__.IncrementalSource;
          },
          /* harmony export */ RecordType: function () {
            return /* binding */ RecordType;
          },
          /* harmony export */
        });
        /* harmony import */ var _domain_record_types__WEBPACK_IMPORTED_MODULE_0__ =
          __webpack_require__(
            /*! ./domain/record/types */ "./src/domain/record/types.ts"
          );

        var RecordType = {
          FullSnapshot: 2,
          IncrementalSnapshot: 3,
          Meta: 4,
          Focus: 6,
          ViewEnd: 7,
          VisualViewport: 8,
        };

        /***/
      },

    /***/ "./src/domain/segmentCollection/deflateWorker.js":
      /*!*******************************************************!*\
  !*** ./src/domain/segmentCollection/deflateWorker.js ***!
  \*******************************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ createDeflateWorker: function () {
            return /* binding */ createDeflateWorker;
          },
          /* harmony export */
        });
        /* eslint-disable */
        var workerURL;
        function createDeflateWorker() {
          // Lazily compute the worker URL to allow importing the SDK in NodeJS
          if (!workerURL) {
            workerURL = URL.createObjectURL(
              new Blob(["(" + workerCodeFn + ")(self)"])
            );
          }
          return new Worker(workerURL);
        }
        function workerCodeFn() {
          monitor(function () {
            var _a = makePakoDeflate(),
              Deflate = _a.Deflate,
              constants = _a.constants;
            var deflate = new Deflate();
            var rawSize = 0;
            self.addEventListener(
              "message",
              monitor(function (event) {
                var data = event.data;
                switch (data.action) {
                  case "init":
                    self.postMessage({
                      type: "initialized",
                    });
                    break;
                  case "write":
                    var additionalRawSize = pushData(data.data);
                    self.postMessage({
                      type: "wrote",
                      id: data.id,
                      compressedSize: deflate.chunks.reduce(function (
                        total,
                        chunk
                      ) {
                        return total + chunk.length;
                      },
                      0),
                      additionalRawSize: additionalRawSize,
                    });
                    break;
                  case "flush":
                    var additionalRawSize = data.data ? pushData(data.data) : 0;
                    deflate.push("", constants.Z_FINISH);
                    self.postMessage({
                      type: "flushed",
                      id: data.id,
                      result: deflate.result,
                      additionalRawSize: additionalRawSize,
                      rawSize: rawSize,
                    });
                    deflate = new Deflate();
                    rawSize = 0;
                    break;
                }
              })
            );
            function pushData(data) {
              var binaryData = new TextEncoder().encode(data);
              deflate.push(binaryData, constants.Z_SYNC_FLUSH);
              rawSize += binaryData.length;
              return binaryData.length;
            }
          })();
          function monitor(fn) {
            return function () {
              try {
                return fn.apply(this, arguments);
              } catch (e) {
                try {
                  self.postMessage({
                    type: "errored",
                    error: e,
                  });
                } catch (_) {
                  // DATA_CLONE_ERR, cf https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm
                  self.postMessage({
                    type: "errored",
                    error: "" + e,
                  });
                }
              }
            };
          }
          // https://github.com/nodeca/pako/blob/034669ba0f1a4c0590e45f7c2820128200f972b3/dist/pako_deflate.es5.js
          function makePakoDeflate() {
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            /* eslint-disable space-unary-ops */
            /* Public constants ========================================================== */
            /* =========================================================================== */
            // const Z_FILTERED          = 1;
            // const Z_HUFFMAN_ONLY      = 2;
            // const Z_RLE               = 3;
            var Z_FIXED = 4; // const Z_DEFAULT_STRATEGY  = 0;
            /* Possible values of the data_type field (though see inflate()) */
            var Z_BINARY = 0;
            var Z_TEXT = 1; // const Z_ASCII             = 1; // = Z_TEXT
            var Z_UNKNOWN = 2;
            /* ============================================================================ */
            function zero(buf) {
              var len = buf.length;
              while (--len >= 0) {
                buf[len] = 0;
              }
            } // From zutil.h
            var STORED_BLOCK = 0;
            var STATIC_TREES = 1;
            var DYN_TREES = 2;
            /* The three kinds of block type */
            var MIN_MATCH = 3;
            var MAX_MATCH = 258;
            /* The minimum and maximum match lengths */
            // From deflate.h
            /* ===========================================================================
             * Internal compression state.
             */
            var LENGTH_CODES = 29;
            /* number of length codes, not counting the special END_BLOCK code */
            var LITERALS = 256;
            /* number of literal bytes 0..255 */
            var L_CODES = LITERALS + 1 + LENGTH_CODES;
            /* number of Literal or Length codes, including the END_BLOCK code */
            var D_CODES = 30;
            /* number of distance codes */
            var BL_CODES = 19;
            /* number of codes used to transfer the bit lengths */
            var HEAP_SIZE = 2 * L_CODES + 1;
            /* maximum heap size */
            var MAX_BITS = 15;
            /* All codes must not exceed MAX_BITS bits */
            var Buf_size = 16;
            /* size of bit buffer in bi_buf */
            /* ===========================================================================
             * Constants
             */
            var MAX_BL_BITS = 7;
            /* Bit length codes must not exceed MAX_BL_BITS bits */
            var END_BLOCK = 256;
            /* end of block literal code */
            var REP_3_6 = 16;
            /* repeat previous bit length 3-6 times (2 bits of repeat count) */
            var REPZ_3_10 = 17;
            /* repeat a zero length 3-10 times  (3 bits of repeat count) */
            var REPZ_11_138 = 18;
            /* repeat a zero length 11-138 times  (7 bits of repeat count) */
            /* eslint-disable comma-spacing,array-bracket-spacing */
            var extra_lbits =
              /* extra bits for each length code */
              new Uint8Array([
                0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4,
                4, 4, 4, 5, 5, 5, 5, 0,
              ]);
            var extra_dbits =
              /* extra bits for each distance code */
              new Uint8Array([
                0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9,
                9, 10, 10, 11, 11, 12, 12, 13, 13,
              ]);
            var extra_blbits =
              /* extra bits for each bit length code */
              new Uint8Array([
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7,
              ]);
            var bl_order = new Uint8Array([
              16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15,
            ]);
            /* eslint-enable comma-spacing,array-bracket-spacing */
            /* The lengths of the bit length codes are sent in order of decreasing
             * probability, to avoid transmitting the lengths for unused bit length codes.
             */
            /* ===========================================================================
             * Local data. These are initialized only once.
             */
            // We pre-fill arrays with 0 to avoid uninitialized gaps
            var DIST_CODE_LEN = 512;
            /* see definition of array dist_code below */
            // !!!! Use flat array instead of structure, Freq = i*2, Len = i*2+1
            var static_ltree = new Array((L_CODES + 2) * 2);
            zero(static_ltree);
            /* The static literal tree. Since the bit lengths are imposed, there is no
             * need for the L_CODES extra codes used during heap construction. However
             * The codes 286 and 287 are needed to build a canonical tree (see _tr_init
             * below).
             */
            var static_dtree = new Array(D_CODES * 2);
            zero(static_dtree);
            /* The static distance tree. (Actually a trivial tree since all codes use
             * 5 bits.)
             */
            var _dist_code = new Array(DIST_CODE_LEN);
            zero(_dist_code);
            /* Distance codes. The first 256 values correspond to the distances
             * 3 .. 258, the last 256 values correspond to the top 8 bits of
             * the 15 bit distances.
             */
            var _length_code = new Array(MAX_MATCH - MIN_MATCH + 1);
            zero(_length_code);
            /* length code for each normalized match length (0 == MIN_MATCH) */
            var base_length = new Array(LENGTH_CODES);
            zero(base_length);
            /* First normalized length for each code (0 = MIN_MATCH) */
            var base_dist = new Array(D_CODES);
            zero(base_dist);
            /* First normalized distance for each code (0 = distance of 1) */
            function StaticTreeDesc(
              static_tree,
              extra_bits,
              extra_base,
              elems,
              max_length
            ) {
              this.static_tree = static_tree;
              /* static tree or NULL */
              this.extra_bits = extra_bits;
              /* extra bits for each code or NULL */
              this.extra_base = extra_base;
              /* base index for extra_bits */
              this.elems = elems;
              /* max number of elements in the tree */
              this.max_length = max_length;
              /* max bit length for the codes */
              // show if `static_tree` has data or dummy - needed for monomorphic objects
              this.has_stree = static_tree && static_tree.length;
            }
            var static_l_desc;
            var static_d_desc;
            var static_bl_desc;
            function TreeDesc(dyn_tree, stat_desc) {
              this.dyn_tree = dyn_tree;
              /* the dynamic tree */
              this.max_code = 0;
              /* largest code with non zero frequency */
              this.stat_desc = stat_desc;
              /* the corresponding static tree */
            }
            var d_code = function d_code(dist) {
              return dist < 256
                ? _dist_code[dist]
                : _dist_code[256 + (dist >>> 7)];
            };
            /* ===========================================================================
             * Output a short LSB first on the stream.
             * IN assertion: there is enough room in pendingBuf.
             */
            var put_short = function put_short(s, w) {
              //    put_byte(s, (uch)((w) & 0xff));
              //    put_byte(s, (uch)((ush)(w) >> 8));
              s.pending_buf[s.pending++] = w & 0xff;
              s.pending_buf[s.pending++] = (w >>> 8) & 0xff;
            };
            /* ===========================================================================
             * Send a value on a given number of bits.
             * IN assertion: length <= 16 and value fits in length bits.
             */
            var send_bits = function send_bits(s, value, length) {
              if (s.bi_valid > Buf_size - length) {
                s.bi_buf |= (value << s.bi_valid) & 0xffff;
                put_short(s, s.bi_buf);
                s.bi_buf = value >> (Buf_size - s.bi_valid);
                s.bi_valid += length - Buf_size;
              } else {
                s.bi_buf |= (value << s.bi_valid) & 0xffff;
                s.bi_valid += length;
              }
            };
            var send_code = function send_code(s, c, tree) {
              send_bits(
                s,
                tree[c * 2],
                /* .Code */
                tree[c * 2 + 1]
                /* .Len */
              );
            };
            /* ===========================================================================
             * Reverse the first len bits of a code, using straightforward code (a faster
             * method would use a table)
             * IN assertion: 1 <= len <= 15
             */
            var bi_reverse = function bi_reverse(code, len) {
              var res = 0;
              do {
                res |= code & 1;
                code >>>= 1;
                res <<= 1;
              } while (--len > 0);
              return res >>> 1;
            };
            /* ===========================================================================
             * Flush the bit buffer, keeping at most 7 bits in it.
             */
            var bi_flush = function bi_flush(s) {
              if (s.bi_valid === 16) {
                put_short(s, s.bi_buf);
                s.bi_buf = 0;
                s.bi_valid = 0;
              } else if (s.bi_valid >= 8) {
                s.pending_buf[s.pending++] = s.bi_buf & 0xff;
                s.bi_buf >>= 8;
                s.bi_valid -= 8;
              }
            };
            /* ===========================================================================
             * Compute the optimal bit lengths for a tree and update the total bit length
             * for the current block.
             * IN assertion: the fields freq and dad are set, heap[heap_max] and
             *    above are the tree nodes sorted by increasing frequency.
             * OUT assertions: the field len is set to the optimal bit length, the
             *     array bl_count contains the frequencies for each bit length.
             *     The length opt_len is updated; static_len is also updated if stree is
             *     not null.
             */
            var gen_bitlen = function gen_bitlen(
              s,
              desc //    deflate_state *s; //    tree_desc *desc;    /* the tree descriptor */
            ) {
              var tree = desc.dyn_tree;
              var max_code = desc.max_code;
              var stree = desc.stat_desc.static_tree;
              var has_stree = desc.stat_desc.has_stree;
              var extra = desc.stat_desc.extra_bits;
              var base = desc.stat_desc.extra_base;
              var max_length = desc.stat_desc.max_length;
              var h;
              /* heap index */
              var n;
              var m;
              /* iterate over the tree elements */
              var bits;
              /* bit length */
              var xbits;
              /* extra bits */
              var f;
              /* frequency */
              var overflow = 0;
              /* number of elements with bit length too large */
              for (bits = 0; bits <= MAX_BITS; bits++) {
                s.bl_count[bits] = 0;
              }
              /* In a first pass, compute the optimal bit lengths (which may
               * overflow in the case of the bit length tree).
               */
              tree[s.heap[s.heap_max] * 2 + 1] =
                /* .Len */
                0;
              /* root of the heap */
              for (h = s.heap_max + 1; h < HEAP_SIZE; h++) {
                n = s.heap[h];
                bits =
                  tree[
                    tree[n * 2 + 1] *
                      /* .Dad */
                      2 +
                      1
                  ] +
                  /* .Len */
                  1;
                if (bits > max_length) {
                  bits = max_length;
                  overflow++;
                }
                tree[n * 2 + 1] =
                  /* .Len */
                  bits;
                /* We overwrite tree[n].Dad which is no longer needed */
                if (n > max_code) {
                  continue;
                }
                /* not a leaf node */
                s.bl_count[bits]++;
                xbits = 0;
                if (n >= base) {
                  xbits = extra[n - base];
                }
                f = tree[n * 2];
                /* .Freq */
                s.opt_len += f * (bits + xbits);
                if (has_stree) {
                  s.static_len +=
                    f *
                    (stree[n * 2 + 1] +
                      /* .Len */
                      xbits);
                }
              }
              if (overflow === 0) {
                return;
              } // Trace((stderr,"\nbit length overflow\n"));
              /* This happens for example on obj2 and pic of the Calgary corpus */
              /* Find the first bit length which could increase: */
              do {
                bits = max_length - 1;
                while (s.bl_count[bits] === 0) {
                  bits--;
                }
                s.bl_count[bits]--;
                /* move one leaf down the tree */
                s.bl_count[bits + 1] += 2;
                /* move one overflow item as its brother */
                s.bl_count[max_length]--;
                /* The brother of the overflow item also moves one step up,
                 * but this does not affect bl_count[max_length]
                 */
                overflow -= 2;
              } while (overflow > 0);
              /* Now recompute all bit lengths, scanning in increasing frequency.
               * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all
               * lengths instead of fixing only the wrong ones. This idea is taken
               * from 'ar' written by Haruhiko Okumura.)
               */
              for (bits = max_length; bits !== 0; bits--) {
                n = s.bl_count[bits];
                while (n !== 0) {
                  m = s.heap[--h];
                  if (m > max_code) {
                    continue;
                  }
                  if (
                    tree[m * 2 + 1] !==
                    /* .Len */
                    bits
                  ) {
                    // Trace((stderr,"code %d bits %d->%d\n", m, tree[m].Len, bits));
                    s.opt_len +=
                      (bits - tree[m * 2 + 1]) *
                      /* .Len */
                      tree[m * 2];
                    /* .Freq */
                    tree[m * 2 + 1] =
                      /* .Len */
                      bits;
                  }
                  n--;
                }
              }
            };
            /* ===========================================================================
             * Generate the codes for a given tree and bit counts (which need not be
             * optimal).
             * IN assertion: the array bl_count contains the bit length statistics for
             * the given tree and the field len is set for all tree elements.
             * OUT assertion: the field code is set for all tree elements of non
             *     zero code length.
             */
            var gen_codes = function gen_codes(
              tree,
              max_code,
              bl_count //    ct_data *tree;             /* the tree to decorate */ //    int max_code;              /* largest code with non zero frequency */ //    ushf *bl_count;            /* number of codes at each bit length */
            ) {
              var next_code = new Array(MAX_BITS + 1);
              /* next code value for each bit length */
              var code = 0;
              /* running code value */
              var bits;
              /* bit index */
              var n;
              /* code index */
              /* The distribution counts are first used to generate the code values
               * without bit reversal.
               */
              for (bits = 1; bits <= MAX_BITS; bits++) {
                next_code[bits] = code = (code + bl_count[bits - 1]) << 1;
              }
              /* Check that the bit counts in bl_count are consistent. The last code
               * must be all ones.
               */
              // Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,
              //        "inconsistent bit counts");
              // Tracev((stderr,"\ngen_codes: max_code %d ", max_code));
              for (n = 0; n <= max_code; n++) {
                var len = tree[n * 2 + 1];
                /* .Len */
                if (len === 0) {
                  continue;
                }
                /* Now reverse the bits */
                tree[n * 2] =
                  /* .Code */
                  bi_reverse(next_code[len]++, len); // Tracecv(tree != static_ltree, (stderr,"\nn %3d %c l %2d c %4x (%x) ",
                //     n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));
              }
            };
            /* ===========================================================================
             * Initialize the various 'constant' tables.
             */
            var tr_static_init = function tr_static_init() {
              var n;
              /* iterates over tree elements */
              var bits;
              /* bit counter */
              var length;
              /* length value */
              var code;
              /* code value */
              var dist;
              /* distance index */
              var bl_count = new Array(MAX_BITS + 1);
              /* number of codes at each bit length for an optimal tree */
              // do check in _tr_init()
              // if (static_init_done) return;
              /* For some embedded targets, global variables are not initialized: */
              /* #ifdef NO_INIT_GLOBAL_POINTERS
            static_l_desc.static_tree = static_ltree;
            static_l_desc.extra_bits = extra_lbits;
            static_d_desc.static_tree = static_dtree;
            static_d_desc.extra_bits = extra_dbits;
            static_bl_desc.extra_bits = extra_blbits;
          #endif */
              /* Initialize the mapping length (0..255) -> length code (0..28) */
              length = 0;
              for (code = 0; code < LENGTH_CODES - 1; code++) {
                base_length[code] = length;
                for (n = 0; n < 1 << extra_lbits[code]; n++) {
                  _length_code[length++] = code;
                }
              } // Assert (length == 256, "tr_static_init: length != 256");
              /* Note that the length 255 (match length 258) can be represented
               * in two different ways: code 284 + 5 bits or code 285, so we
               * overwrite length_code[255] to use the best encoding:
               */
              _length_code[length - 1] = code;
              /* Initialize the mapping dist (0..32K) -> dist code (0..29) */
              dist = 0;
              for (code = 0; code < 16; code++) {
                base_dist[code] = dist;
                for (n = 0; n < 1 << extra_dbits[code]; n++) {
                  _dist_code[dist++] = code;
                }
              } // Assert (dist == 256, "tr_static_init: dist != 256");
              dist >>= 7;
              /* from now on, all distances are divided by 128 */
              for (; code < D_CODES; code++) {
                base_dist[code] = dist << 7;
                for (n = 0; n < 1 << (extra_dbits[code] - 7); n++) {
                  _dist_code[256 + dist++] = code;
                }
              } // Assert (dist == 256, "tr_static_init: 256+dist != 512");
              /* Construct the codes of the static literal tree */
              for (bits = 0; bits <= MAX_BITS; bits++) {
                bl_count[bits] = 0;
              }
              n = 0;
              while (n <= 143) {
                static_ltree[n * 2 + 1] =
                  /* .Len */
                  8;
                n++;
                bl_count[8]++;
              }
              while (n <= 255) {
                static_ltree[n * 2 + 1] =
                  /* .Len */
                  9;
                n++;
                bl_count[9]++;
              }
              while (n <= 279) {
                static_ltree[n * 2 + 1] =
                  /* .Len */
                  7;
                n++;
                bl_count[7]++;
              }
              while (n <= 287) {
                static_ltree[n * 2 + 1] =
                  /* .Len */
                  8;
                n++;
                bl_count[8]++;
              }
              /* Codes 286 and 287 do not exist, but we must include them in the
               * tree construction to get a canonical Huffman tree (longest code
               * all ones)
               */
              gen_codes(static_ltree, L_CODES + 1, bl_count);
              /* The static distance tree is trivial: */
              for (n = 0; n < D_CODES; n++) {
                static_dtree[n * 2 + 1] =
                  /* .Len */
                  5;
                static_dtree[n * 2] =
                  /* .Code */
                  bi_reverse(n, 5);
              } // Now data ready and we can init static trees
              static_l_desc = new StaticTreeDesc(
                static_ltree,
                extra_lbits,
                LITERALS + 1,
                L_CODES,
                MAX_BITS
              );
              static_d_desc = new StaticTreeDesc(
                static_dtree,
                extra_dbits,
                0,
                D_CODES,
                MAX_BITS
              );
              static_bl_desc = new StaticTreeDesc(
                new Array(0),
                extra_blbits,
                0,
                BL_CODES,
                MAX_BL_BITS
              ); // static_init_done = true;
            };
            /* ===========================================================================
             * Initialize a new block.
             */
            var init_block = function init_block(s) {
              var n;
              /* iterates over tree elements */
              /* Initialize the trees. */
              for (n = 0; n < L_CODES; n++) {
                s.dyn_ltree[n * 2] =
                  /* .Freq */
                  0;
              }
              for (n = 0; n < D_CODES; n++) {
                s.dyn_dtree[n * 2] =
                  /* .Freq */
                  0;
              }
              for (n = 0; n < BL_CODES; n++) {
                s.bl_tree[n * 2] =
                  /* .Freq */
                  0;
              }
              s.dyn_ltree[END_BLOCK * 2] =
                /* .Freq */
                1;
              s.opt_len = s.static_len = 0;
              s.last_lit = s.matches = 0;
            };
            /* ===========================================================================
             * Flush the bit buffer and align the output on a byte boundary
             */
            var bi_windup = function bi_windup(s) {
              if (s.bi_valid > 8) {
                put_short(s, s.bi_buf);
              } else if (s.bi_valid > 0) {
                // put_byte(s, (Byte)s->bi_buf);
                s.pending_buf[s.pending++] = s.bi_buf;
              }
              s.bi_buf = 0;
              s.bi_valid = 0;
            };
            /* ===========================================================================
             * Copy a stored block, storing first the length and its
             * one's complement if requested.
             */
            var copy_block = function copy_block(
              s,
              buf,
              len,
              header // DeflateState *s; //charf    *buf;    /* the input data */ //unsigned len;     /* its length */ //int      header;  /* true if block header must be written */
            ) {
              bi_windup(s);
              /* align on byte boundary */
              if (header) {
                put_short(s, len);
                put_short(s, ~len);
              } //  while (len--) {
              //    put_byte(s, *buf++);
              //  }
              s.pending_buf.set(s.window.subarray(buf, buf + len), s.pending);
              s.pending += len;
            };
            /* ===========================================================================
             * Compares to subtrees, using the tree depth as tie breaker when
             * the subtrees have equal frequency. This minimizes the worst case length.
             */
            var smaller = function smaller(tree, n, m, depth) {
              var _n2 = n * 2;
              var _m2 = m * 2;
              return (
                tree[_n2] <
                  /* .Freq */
                  tree[_m2] ||
                /* .Freq */
                (tree[_n2] ===
                  /* .Freq */
                  tree[_m2] &&
                  /* .Freq */
                  depth[n] <= depth[m])
              );
            };
            /* ===========================================================================
             * Restore the heap property by moving down the tree starting at node k,
             * exchanging a node with the smallest of its two sons if necessary, stopping
             * when the heap property is re-established (each father smaller than its
             * two sons).
             */
            var pqdownheap = function pqdownheap(
              s,
              tree,
              k //    deflate_state *s; //    ct_data *tree;  /* the tree to restore */ //    int k;               /* node to move down */
            ) {
              var v = s.heap[k];
              var j = k << 1;
              /* left son of k */
              while (j <= s.heap_len) {
                /* Set j to the smallest of the two sons: */
                if (
                  j < s.heap_len &&
                  smaller(tree, s.heap[j + 1], s.heap[j], s.depth)
                ) {
                  j++;
                }
                /* Exit if v is smaller than both sons */
                if (smaller(tree, v, s.heap[j], s.depth)) {
                  break;
                }
                /* Exchange v with the smallest son */
                s.heap[k] = s.heap[j];
                k = j;
                /* And continue down the tree, setting j to the left son of k */
                j <<= 1;
              }
              s.heap[k] = v;
            }; // inlined manually
            // const SMALLEST = 1;
            /* ===========================================================================
             * Send the block data compressed using the given Huffman trees
             */
            var compress_block = function compress_block(
              s,
              ltree,
              dtree //    deflate_state *s; //    const ct_data *ltree; /* literal tree */ //    const ct_data *dtree; /* distance tree */
            ) {
              var dist;
              /* distance of matched string */
              var lc;
              /* match length or unmatched char (if dist == 0) */
              var lx = 0;
              /* running index in l_buf */
              var code;
              /* the code to send */
              var extra;
              /* number of extra bits to send */
              if (s.last_lit !== 0) {
                do {
                  dist =
                    (s.pending_buf[s.d_buf + lx * 2] << 8) |
                    s.pending_buf[s.d_buf + lx * 2 + 1];
                  lc = s.pending_buf[s.l_buf + lx];
                  lx++;
                  if (dist === 0) {
                    send_code(s, lc, ltree);
                    /* send a literal byte */
                    // Tracecv(isgraph(lc), (stderr," '%c' ", lc));
                  } else {
                    /* Here, lc is the match length - MIN_MATCH */
                    code = _length_code[lc];
                    send_code(s, code + LITERALS + 1, ltree);
                    /* send the length code */
                    extra = extra_lbits[code];
                    if (extra !== 0) {
                      lc -= base_length[code];
                      send_bits(s, lc, extra);
                      /* send the extra length bits */
                    }
                    dist--;
                    /* dist is now the match distance - 1 */
                    code = d_code(dist); // Assert (code < D_CODES, "bad d_code");
                    send_code(s, code, dtree);
                    /* send the distance code */
                    extra = extra_dbits[code];
                    if (extra !== 0) {
                      dist -= base_dist[code];
                      send_bits(s, dist, extra);
                      /* send the extra distance bits */
                    }
                  }
                  /* literal or match pair ? */
                  /* Check that the overlay between pending_buf and d_buf+l_buf is ok: */
                  // Assert((uInt)(s->pending) < s->lit_bufsize + 2*lx,
                  //       "pendingBuf overflow");
                } while (lx < s.last_lit);
              }
              send_code(s, END_BLOCK, ltree);
            };
            /* ===========================================================================
             * Construct one Huffman tree and assigns the code bit strings and lengths.
             * Update the total bit length for the current block.
             * IN assertion: the field freq is set for all tree elements.
             * OUT assertions: the fields len and code are set to the optimal bit length
             *     and corresponding code. The length opt_len is updated; static_len is
             *     also updated if stree is not null. The field max_code is set.
             */
            var build_tree = function build_tree(
              s,
              desc //    deflate_state *s; //    tree_desc *desc; /* the tree descriptor */
            ) {
              var tree = desc.dyn_tree;
              var stree = desc.stat_desc.static_tree;
              var has_stree = desc.stat_desc.has_stree;
              var elems = desc.stat_desc.elems;
              var n;
              var m;
              /* iterate over heap elements */
              var max_code = -1;
              /* largest code with non zero frequency */
              var node;
              /* new node being created */
              /* Construct the initial heap, with least frequent element in
               * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].
               * heap[0] is not used.
               */
              s.heap_len = 0;
              s.heap_max = HEAP_SIZE;
              for (n = 0; n < elems; n++) {
                if (
                  tree[n * 2] !==
                  /* .Freq */
                  0
                ) {
                  s.heap[++s.heap_len] = max_code = n;
                  s.depth[n] = 0;
                } else {
                  tree[n * 2 + 1] =
                    /* .Len */
                    0;
                }
              }
              /* The pkzip format requires that at least one distance code exists,
               * and that at least one bit should be sent even if there is only one
               * possible code. So to avoid special checks later on we force at least
               * two codes of non zero frequency.
               */
              while (s.heap_len < 2) {
                node = s.heap[++s.heap_len] = max_code < 2 ? ++max_code : 0;
                tree[node * 2] =
                  /* .Freq */
                  1;
                s.depth[node] = 0;
                s.opt_len--;
                if (has_stree) {
                  s.static_len -= stree[node * 2 + 1];
                  /* .Len */
                }
                /* node is 0 or 1 so it does not have extra bits */
              }
              desc.max_code = max_code;
              /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,
               * establish sub-heaps of increasing lengths:
               */
              for (
                n = s.heap_len >> 1;
                /* int /2 */
                n >= 1;
                n--
              ) {
                pqdownheap(s, tree, n);
              }
              /* Construct the Huffman tree by repeatedly combining the least two
               * frequent nodes.
               */
              node = elems;
              /* next internal node of the tree */
              do {
                // pqremove(s, tree, n);  /* n = node of least frequency */
                /** * pqremove ** */
                n = s.heap[1];
                /* SMALLEST */
                s.heap[1] = s.heap[s.heap_len--];
                /* SMALLEST */
                pqdownheap(
                  s,
                  tree,
                  1
                  /* SMALLEST */
                );
                /***/
                m = s.heap[1];
                /* SMALLEST */
                /* m = node of next least frequency */
                s.heap[--s.heap_max] = n;
                /* keep the nodes sorted by frequency */
                s.heap[--s.heap_max] = m;
                /* Create a new node father of n and m */
                tree[node * 2] =
                  /* .Freq */
                  tree[n * 2] +
                  /* .Freq */
                  tree[m * 2];
                /* .Freq */
                s.depth[node] =
                  (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;
                tree[n * 2 + 1] =
                  /* .Dad */
                  tree[m * 2 + 1] =
                    /* .Dad */
                    node;
                /* and insert the new node in the heap */
                s.heap[1] = node++;
                /* SMALLEST */
                pqdownheap(
                  s,
                  tree,
                  1
                  /* SMALLEST */
                );
              } while (s.heap_len >= 2);
              s.heap[--s.heap_max] = s.heap[1];
              /* SMALLEST */
              /* At this point, the fields freq and dad are set. We can now
               * generate the bit lengths.
               */
              gen_bitlen(s, desc);
              /* The field len is now set, we can generate the bit codes */
              gen_codes(tree, max_code, s.bl_count);
            };
            /* ===========================================================================
             * Scan a literal or distance tree to determine the frequencies of the codes
             * in the bit length tree.
             */
            var scan_tree = function scan_tree(
              s,
              tree,
              max_code //    deflate_state *s; //    ct_data *tree;   /* the tree to be scanned */ //    int max_code;    /* and its largest code of non zero frequency */
            ) {
              var n;
              /* iterates over all tree elements */
              var prevlen = -1;
              /* last emitted length */
              var curlen;
              /* length of current code */
              var nextlen = tree[0 * 2 + 1];
              /* .Len */
              /* length of next code */
              var count = 0;
              /* repeat count of the current code */
              var max_count = 7;
              /* max repeat count */
              var min_count = 4;
              /* min repeat count */
              if (nextlen === 0) {
                max_count = 138;
                min_count = 3;
              }
              tree[(max_code + 1) * 2 + 1] =
                /* .Len */
                0xffff;
              /* guard */
              for (n = 0; n <= max_code; n++) {
                curlen = nextlen;
                nextlen = tree[(n + 1) * 2 + 1];
                /* .Len */
                if (++count < max_count && curlen === nextlen) {
                  continue;
                } else if (count < min_count) {
                  s.bl_tree[curlen * 2] +=
                    /* .Freq */
                    count;
                } else if (curlen !== 0) {
                  if (curlen !== prevlen) {
                    s.bl_tree[curlen * 2] /* .Freq */++;
                  }
                  s.bl_tree[REP_3_6 * 2] /* .Freq */++;
                } else if (count <= 10) {
                  s.bl_tree[REPZ_3_10 * 2] /* .Freq */++;
                } else {
                  s.bl_tree[REPZ_11_138 * 2] /* .Freq */++;
                }
                count = 0;
                prevlen = curlen;
                if (nextlen === 0) {
                  max_count = 138;
                  min_count = 3;
                } else if (curlen === nextlen) {
                  max_count = 6;
                  min_count = 3;
                } else {
                  max_count = 7;
                  min_count = 4;
                }
              }
            };
            /* ===========================================================================
             * Send a literal or distance tree in compressed form, using the codes in
             * bl_tree.
             */
            var send_tree = function send_tree(
              s,
              tree,
              max_code //    deflate_state *s; //    ct_data *tree; /* the tree to be scanned */ //    int max_code;       /* and its largest code of non zero frequency */
            ) {
              var n;
              /* iterates over all tree elements */
              var prevlen = -1;
              /* last emitted length */
              var curlen;
              /* length of current code */
              var nextlen = tree[0 * 2 + 1];
              /* .Len */
              /* length of next code */
              var count = 0;
              /* repeat count of the current code */
              var max_count = 7;
              /* max repeat count */
              var min_count = 4;
              /* min repeat count */
              /* tree[max_code+1].Len = -1; */
              /* guard already set */
              if (nextlen === 0) {
                max_count = 138;
                min_count = 3;
              }
              for (n = 0; n <= max_code; n++) {
                curlen = nextlen;
                nextlen = tree[(n + 1) * 2 + 1];
                /* .Len */
                if (++count < max_count && curlen === nextlen) {
                  continue;
                } else if (count < min_count) {
                  do {
                    send_code(s, curlen, s.bl_tree);
                  } while (--count !== 0);
                } else if (curlen !== 0) {
                  if (curlen !== prevlen) {
                    send_code(s, curlen, s.bl_tree);
                    count--;
                  } // Assert(count >= 3 && count <= 6, " 3_6?");
                  send_code(s, REP_3_6, s.bl_tree);
                  send_bits(s, count - 3, 2);
                } else if (count <= 10) {
                  send_code(s, REPZ_3_10, s.bl_tree);
                  send_bits(s, count - 3, 3);
                } else {
                  send_code(s, REPZ_11_138, s.bl_tree);
                  send_bits(s, count - 11, 7);
                }
                count = 0;
                prevlen = curlen;
                if (nextlen === 0) {
                  max_count = 138;
                  min_count = 3;
                } else if (curlen === nextlen) {
                  max_count = 6;
                  min_count = 3;
                } else {
                  max_count = 7;
                  min_count = 4;
                }
              }
            };
            /* ===========================================================================
             * Construct the Huffman tree for the bit lengths and return the index in
             * bl_order of the last bit length code to send.
             */
            var build_bl_tree = function build_bl_tree(s) {
              var max_blindex;
              /* index of last bit length code of non zero freq */
              /* Determine the bit length frequencies for literal and distance trees */
              scan_tree(s, s.dyn_ltree, s.l_desc.max_code);
              scan_tree(s, s.dyn_dtree, s.d_desc.max_code);
              /* Build the bit length tree: */
              build_tree(s, s.bl_desc);
              /* opt_len now includes the length of the tree representations, except
               * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.
               */
              /* Determine the number of bit length codes to send. The pkzip format
               * requires that at least 4 bit length codes be sent. (appnote.txt says
               * 3 but the actual value used is 4.)
               */
              for (
                max_blindex = BL_CODES - 1;
                max_blindex >= 3;
                max_blindex--
              ) {
                if (
                  s.bl_tree[bl_order[max_blindex] * 2 + 1] !==
                  /* .Len */
                  0
                ) {
                  break;
                }
              }
              /* Update opt_len to include the bit length tree and counts */
              s.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4; // Tracev((stderr, "\ndyn trees: dyn %ld, stat %ld",
              //        s->opt_len, s->static_len));
              return max_blindex;
            };
            /* ===========================================================================
             * Send the header for a block using dynamic Huffman trees: the counts, the
             * lengths of the bit length codes, the literal tree and the distance tree.
             * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.
             */
            var send_all_trees = function send_all_trees(
              s,
              lcodes,
              dcodes,
              blcodes //    deflate_state *s; //    int lcodes, dcodes, blcodes; /* number of codes for each tree */
            ) {
              var rank;
              /* index in bl_order */
              // Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, "not enough codes");
              // Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,
              //        "too many codes");
              // Tracev((stderr, "\nbl counts: "));
              send_bits(s, lcodes - 257, 5);
              /* not +255 as stated in appnote.txt */
              send_bits(s, dcodes - 1, 5);
              send_bits(s, blcodes - 4, 4);
              /* not -3 as stated in appnote.txt */
              for (rank = 0; rank < blcodes; rank++) {
                // Tracev((stderr, "\nbl code %2d ", bl_order[rank]));
                send_bits(
                  s,
                  s.bl_tree[bl_order[rank] * 2 + 1],
                  /* .Len */
                  3
                );
              } // Tracev((stderr, "\nbl tree: sent %ld", s->bits_sent));
              send_tree(s, s.dyn_ltree, lcodes - 1);
              /* literal tree */
              // Tracev((stderr, "\nlit tree: sent %ld", s->bits_sent));
              send_tree(s, s.dyn_dtree, dcodes - 1);
              /* distance tree */
              // Tracev((stderr, "\ndist tree: sent %ld", s->bits_sent));
            };
            /* ===========================================================================
             * Check if the data type is TEXT or BINARY, using the following algorithm:
             * - TEXT if the two conditions below are satisfied:
             *    a) There are no non-portable control characters belonging to the
             *       "black list" (0..6, 14..25, 28..31).
             *    b) There is at least one printable character belonging to the
             *       "white list" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).
             * - BINARY otherwise.
             * - The following partially-portable control characters form a
             *   "gray list" that is ignored in this detection algorithm:
             *   (7 {BEL}, 8 {BS}, 11 {VT}, 12 {FF}, 26 {SUB}, 27 {ESC}).
             * IN assertion: the fields Freq of dyn_ltree are set.
             */
            var detect_data_type = function detect_data_type(s) {
              /* black_mask is the bit mask of black-listed bytes
               * set bits 0..6, 14..25, and 28..31
               * 0xf3ffc07f = binary 11110011111111111100000001111111
               */
              var black_mask = 0xf3ffc07f;
              var n;
              /* Check for non-textual ("black-listed") bytes. */
              for (n = 0; n <= 31; n++, black_mask >>>= 1) {
                if (
                  black_mask & 1 &&
                  s.dyn_ltree[n * 2] !==
                    /* .Freq */
                    0
                ) {
                  return Z_BINARY;
                }
              }
              /* Check for textual ("white-listed") bytes. */
              if (
                s.dyn_ltree[9 * 2] !==
                  /* .Freq */
                  0 ||
                s.dyn_ltree[10 * 2] !==
                  /* .Freq */
                  0 ||
                s.dyn_ltree[13 * 2] !==
                  /* .Freq */
                  0
              ) {
                return Z_TEXT;
              }
              for (n = 32; n < LITERALS; n++) {
                if (
                  s.dyn_ltree[n * 2] !==
                  /* .Freq */
                  0
                ) {
                  return Z_TEXT;
                }
              }
              /* There are no "black-listed" or "white-listed" bytes:
               * this stream either is empty or has tolerated ("gray-listed") bytes only.
               */
              return Z_BINARY;
            };
            var static_init_done = false;
            /* ===========================================================================
             * Initialize the tree data structures for a new zlib stream.
             */
            var _tr_init = function _tr_init(s) {
              if (!static_init_done) {
                tr_static_init();
                static_init_done = true;
              }
              s.l_desc = new TreeDesc(s.dyn_ltree, static_l_desc);
              s.d_desc = new TreeDesc(s.dyn_dtree, static_d_desc);
              s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);
              s.bi_buf = 0;
              s.bi_valid = 0;
              /* Initialize the first block of the first file: */
              init_block(s);
            };
            /* ===========================================================================
             * Send a stored block
             */
            var _tr_stored_block = function _tr_stored_block(
              s,
              buf,
              stored_len,
              last // DeflateState *s; //charf *buf;       /* input block */ //ulg stored_len;   /* length of input block */ //int last;         /* one if this is the last block for a file */
            ) {
              send_bits(s, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);
              /* send block type */
              copy_block(s, buf, stored_len, true);
              /* with header */
            };
            /* ===========================================================================
             * Send one empty static block to give enough lookahead for inflate.
             * This takes 10 bits, of which 7 may remain in the bit buffer.
             */
            var _tr_align = function _tr_align(s) {
              send_bits(s, STATIC_TREES << 1, 3);
              send_code(s, END_BLOCK, static_ltree);
              bi_flush(s);
            };
            /* ===========================================================================
             * Determine the best encoding for the current block: dynamic trees, static
             * trees or store, and output the encoded block to the zip file.
             */
            var _tr_flush_block = function _tr_flush_block(
              s,
              buf,
              stored_len,
              last // DeflateState *s; //charf *buf;       /* input block, or NULL if too old */ //ulg stored_len;   /* length of input block */ //int last;         /* one if this is the last block for a file */
            ) {
              var opt_lenb;
              var static_lenb;
              /* opt_len and static_len in bytes */
              var max_blindex = 0;
              /* index of last bit length code of non zero freq */
              /* Build the Huffman trees unless a stored block is forced */
              if (s.level > 0) {
                /* Check if the file is binary or text */
                if (s.strm.data_type === Z_UNKNOWN) {
                  s.strm.data_type = detect_data_type(s);
                }
                /* Construct the literal and distance trees */
                build_tree(s, s.l_desc); // Tracev((stderr, "\nlit data: dyn %ld, stat %ld", s->opt_len,
                //        s->static_len));
                build_tree(s, s.d_desc); // Tracev((stderr, "\ndist data: dyn %ld, stat %ld", s->opt_len,
                //        s->static_len));
                /* At this point, opt_len and static_len are the total bit lengths of
                 * the compressed block data, excluding the tree representations.
                 */
                /* Build the bit length tree for the above two trees, and get the index
                 * in bl_order of the last bit length code to send.
                 */
                max_blindex = build_bl_tree(s);
                /* Determine the best encoding. Compute the block lengths in bytes. */
                opt_lenb = (s.opt_len + 3 + 7) >>> 3;
                static_lenb = (s.static_len + 3 + 7) >>> 3; // Tracev((stderr, "\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u ",
                //        opt_lenb, s->opt_len, static_lenb, s->static_len, stored_len,
                //        s->last_lit));
                if (static_lenb <= opt_lenb) {
                  opt_lenb = static_lenb;
                }
              } else {
                // Assert(buf != (char*)0, "lost buf");
                opt_lenb = static_lenb = stored_len + 5;
                /* force a stored block */
              }
              if (stored_len + 4 <= opt_lenb && buf !== -1) {
                /* 4: two words for the lengths */
                /* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.
                 * Otherwise we can't have processed more than WSIZE input bytes since
                 * the last block flush, because compression would have been
                 * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to
                 * transform a block into a stored block.
                 */
                _tr_stored_block(s, buf, stored_len, last);
              } else if (s.strategy === Z_FIXED || static_lenb === opt_lenb) {
                send_bits(s, (STATIC_TREES << 1) + (last ? 1 : 0), 3);
                compress_block(s, static_ltree, static_dtree);
              } else {
                send_bits(s, (DYN_TREES << 1) + (last ? 1 : 0), 3);
                send_all_trees(
                  s,
                  s.l_desc.max_code + 1,
                  s.d_desc.max_code + 1,
                  max_blindex + 1
                );
                compress_block(s, s.dyn_ltree, s.dyn_dtree);
              } // Assert (s->compressed_len == s->bits_sent, "bad compressed size");
              /* The above check is made mod 2^32, for files larger than 512 MB
               * and uLong implemented on 32 bits.
               */
              init_block(s);
              if (last) {
                bi_windup(s);
              } // Tracev((stderr,"\ncomprlen %lu(%lu) ", s->compressed_len>>3,
              //       s->compressed_len-7*last));
            };
            /* ===========================================================================
             * Save the match info and tally the frequency counts. Return true if
             * the current block must be flushed.
             */
            var _tr_tally = function _tr_tally(
              s,
              dist,
              lc //    deflate_state *s; //    unsigned dist;  /* distance of matched string */ //    unsigned lc;    /* match length-MIN_MATCH or unmatched char (if dist==0) */
            ) {
              // let out_length, in_length, dcode;
              s.pending_buf[s.d_buf + s.last_lit * 2] = (dist >>> 8) & 0xff;
              s.pending_buf[s.d_buf + s.last_lit * 2 + 1] = dist & 0xff;
              s.pending_buf[s.l_buf + s.last_lit] = lc & 0xff;
              s.last_lit++;
              if (dist === 0) {
                /* lc is the unmatched char */
                s.dyn_ltree[lc * 2] /* .Freq */++;
              } else {
                s.matches++;
                /* Here, lc is the match length - MIN_MATCH */
                dist--;
                /* dist = match distance - 1 */
                // Assert((ush)dist < (ush)MAX_DIST(s) &&
                //       (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&
                //       (ush)d_code(dist) < (ush)D_CODES,  "_tr_tally: bad match");
                s.dyn_ltree[
                  (_length_code[lc] + LITERALS + 1) * 2
                ] /* .Freq */++;
                s.dyn_dtree[d_code(dist) * 2] /* .Freq */++;
              } // (!) This block is disabled in zlib defaults,
              // don't enable it for binary compatibility
              // #ifdef TRUNCATE_BLOCK
              //  /* Try to guess if it is profitable to stop the current block here */
              //  if ((s.last_lit & 0x1fff) === 0 && s.level > 2) {
              //    /* Compute an upper bound for the compressed length */
              //    out_length = s.last_lit*8;
              //    in_length = s.strstart - s.block_start;
              //
              //    for (dcode = 0; dcode < D_CODES; dcode++) {
              //      out_length += s.dyn_dtree[dcode*2]/*.Freq*/ * (5 + extra_dbits[dcode]);
              //    }
              //    out_length >>>= 3;
              //    //Tracev((stderr,"\nlast_lit %u, in %ld, out ~%ld(%ld%%) ",
              //    //       s->last_lit, in_length, out_length,
              //    //       100L - out_length*100L/in_length));
              //    if (s.matches < (s.last_lit>>1)/*int /2*/ && out_length < (in_length>>1)/*int /2*/) {
              //      return true;
              //    }
              //  }
              // #endif
              return s.last_lit === s.lit_bufsize - 1;
              /* We avoid equality with lit_bufsize because of wraparound at 64K
               * on 16 bit machines and because stored blocks are restricted to
               * 64K-1 bytes.
               */
            };
            var _tr_init_1 = _tr_init;
            var _tr_stored_block_1 = _tr_stored_block;
            var _tr_flush_block_1 = _tr_flush_block;
            var _tr_tally_1 = _tr_tally;
            var _tr_align_1 = _tr_align;
            var trees = {
              _tr_init: _tr_init_1,
              _tr_stored_block: _tr_stored_block_1,
              _tr_flush_block: _tr_flush_block_1,
              _tr_tally: _tr_tally_1,
              _tr_align: _tr_align_1,
            };
            // It isn't worth it to make additional optimizations as in original.
            // Small size is preferable.
            // (C) 1995-2013 Jean-loup Gailly and Mark Adler
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            var adler32 = function adler32(adler, buf, len, pos) {
              var s1 = (adler & 0xffff) | 0;
              var s2 = ((adler >>> 16) & 0xffff) | 0;
              var n = 0;
              while (len !== 0) {
                // Set limit ~ twice less than 5552, to keep
                // s2 in 31-bits, because we force signed ints.
                // in other case %= will fail.
                n = len > 2000 ? 2000 : len;
                len -= n;
                do {
                  s1 = (s1 + buf[pos++]) | 0;
                  s2 = (s2 + s1) | 0;
                } while (--n);
                s1 %= 65521;
                s2 %= 65521;
              }
              return s1 | (s2 << 16) | 0;
            };
            var adler32_1 = adler32;
            // So write code to minimize size - no pregenerated tables
            // and array tools dependencies.
            // (C) 1995-2013 Jean-loup Gailly and Mark Adler
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            // Use ordinary array, since untyped makes no boost here
            var makeTable = function makeTable() {
              var c;
              var table = [];
              for (var n = 0; n < 256; n++) {
                c = n;
                for (var k = 0; k < 8; k++) {
                  c = c & 1 ? 0xedb88320 ^ (c >>> 1) : c >>> 1;
                }
                table[n] = c;
              }
              return table;
            }; // Create table on load. Just 255 signed longs. Not a problem.
            var crcTable = new Uint32Array(makeTable());
            var crc32 = function crc32(crc, buf, len, pos) {
              var t = crcTable;
              var end = pos + len;
              crc ^= -1;
              for (var i = pos; i < end; i++) {
                crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xff];
              }
              return crc ^ -1; // >>> 0;
            };
            var crc32_1 = crc32;
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            var messages = {
              2: "need dictionary",
              /* Z_NEED_DICT       2  */
              1: "stream end",
              /* Z_STREAM_END      1  */
              0: "",
              /* Z_OK              0  */
              "-1": "file error",
              /* Z_ERRNO         (-1) */
              "-2": "stream error",
              /* Z_STREAM_ERROR  (-2) */
              "-3": "data error",
              /* Z_DATA_ERROR    (-3) */
              "-4": "insufficient memory",
              /* Z_MEM_ERROR     (-4) */
              "-5": "buffer error",
              /* Z_BUF_ERROR     (-5) */
              "-6": "incompatible version",
            };
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            var constants = {
              /* Allowed flush values; see deflate() and inflate() below for details */
              Z_NO_FLUSH: 0,
              Z_PARTIAL_FLUSH: 1,
              Z_SYNC_FLUSH: 2,
              Z_FULL_FLUSH: 3,
              Z_FINISH: 4,
              Z_BLOCK: 5,
              Z_TREES: 6,
              /* Return codes for the compression/decompression functions. Negative values
               * are errors, positive values are used for special but normal events.
               */
              Z_OK: 0,
              Z_STREAM_END: 1,
              Z_NEED_DICT: 2,
              Z_ERRNO: -1,
              Z_STREAM_ERROR: -2,
              Z_DATA_ERROR: -3,
              Z_MEM_ERROR: -4,
              Z_BUF_ERROR: -5,
              // Z_VERSION_ERROR: -6,
              /* compression levels */
              Z_NO_COMPRESSION: 0,
              Z_BEST_SPEED: 1,
              Z_BEST_COMPRESSION: 9,
              Z_DEFAULT_COMPRESSION: -1,
              Z_FILTERED: 1,
              Z_HUFFMAN_ONLY: 2,
              Z_RLE: 3,
              Z_FIXED: 4,
              Z_DEFAULT_STRATEGY: 0,
              /* Possible values of the data_type field (though see inflate()) */
              Z_BINARY: 0,
              Z_TEXT: 1,
              // Z_ASCII:                1, // = Z_TEXT (deprecated)
              Z_UNKNOWN: 2,
              /* The deflate compression method */
              Z_DEFLATED: 8,
            };
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            var _tr_init$1 = trees._tr_init;
            var _tr_stored_block$1 = trees._tr_stored_block;
            var _tr_flush_block$1 = trees._tr_flush_block;
            var _tr_tally$1 = trees._tr_tally;
            var _tr_align$1 = trees._tr_align;
            /* Public constants ========================================================== */
            /* =========================================================================== */
            var Z_NO_FLUSH = constants.Z_NO_FLUSH;
            var Z_PARTIAL_FLUSH = constants.Z_PARTIAL_FLUSH;
            var Z_FULL_FLUSH = constants.Z_FULL_FLUSH;
            var Z_FINISH = constants.Z_FINISH;
            var Z_BLOCK = constants.Z_BLOCK;
            var Z_OK = constants.Z_OK;
            var Z_STREAM_END = constants.Z_STREAM_END;
            var Z_STREAM_ERROR = constants.Z_STREAM_ERROR;
            var Z_DATA_ERROR = constants.Z_DATA_ERROR;
            var Z_BUF_ERROR = constants.Z_BUF_ERROR;
            var Z_DEFAULT_COMPRESSION = constants.Z_DEFAULT_COMPRESSION;
            var Z_FILTERED = constants.Z_FILTERED;
            var Z_HUFFMAN_ONLY = constants.Z_HUFFMAN_ONLY;
            var Z_RLE = constants.Z_RLE;
            var Z_FIXED$1 = constants.Z_FIXED;
            var Z_DEFAULT_STRATEGY = constants.Z_DEFAULT_STRATEGY;
            var Z_UNKNOWN$1 = constants.Z_UNKNOWN;
            var Z_DEFLATED = constants.Z_DEFLATED;
            /* ============================================================================ */
            var MAX_MEM_LEVEL = 9;
            /* Maximum value for memLevel in deflateInit2 */
            var MAX_WBITS = 15;
            /* 32K LZ77 window */
            var DEF_MEM_LEVEL = 8;
            var LENGTH_CODES$1 = 29;
            /* number of length codes, not counting the special END_BLOCK code */
            var LITERALS$1 = 256;
            /* number of literal bytes 0..255 */
            var L_CODES$1 = LITERALS$1 + 1 + LENGTH_CODES$1;
            /* number of Literal or Length codes, including the END_BLOCK code */
            var D_CODES$1 = 30;
            /* number of distance codes */
            var BL_CODES$1 = 19;
            /* number of codes used to transfer the bit lengths */
            var HEAP_SIZE$1 = 2 * L_CODES$1 + 1;
            /* maximum heap size */
            var MAX_BITS$1 = 15;
            /* All codes must not exceed MAX_BITS bits */
            var MIN_MATCH$1 = 3;
            var MAX_MATCH$1 = 258;
            var MIN_LOOKAHEAD = MAX_MATCH$1 + MIN_MATCH$1 + 1;
            var PRESET_DICT = 0x20;
            var INIT_STATE = 42;
            var EXTRA_STATE = 69;
            var NAME_STATE = 73;
            var COMMENT_STATE = 91;
            var HCRC_STATE = 103;
            var BUSY_STATE = 113;
            var FINISH_STATE = 666;
            var BS_NEED_MORE = 1;
            /* block not completed, need more input or more output */
            var BS_BLOCK_DONE = 2;
            /* block flush performed */
            var BS_FINISH_STARTED = 3;
            /* finish started, need only more output at next deflate */
            var BS_FINISH_DONE = 4;
            /* finish done, accept no more input or output */
            var OS_CODE = 0x03; // Unix :) . Don't detect, use this default.
            var err = function err(strm, errorCode) {
              strm.msg = messages[errorCode];
              return errorCode;
            };
            var rank = function rank(f) {
              return (f << 1) - (f > 4 ? 9 : 0);
            };
            var zero$1 = function zero(buf) {
              var len = buf.length;
              while (--len >= 0) {
                buf[len] = 0;
              }
            };
            /* eslint-disable new-cap */
            var HASH_ZLIB = function HASH_ZLIB(s, prev, data) {
              return ((prev << s.hash_shift) ^ data) & s.hash_mask;
            }; // This hash causes less collisions, https://github.com/nodeca/pako/issues/135
            // But breaks binary compatibility
            // let HASH_FAST = (s, prev, data) => ((prev << 8) + (prev >> 8) + (data << 4)) & s.hash_mask;
            var HASH = HASH_ZLIB;
            /* =========================================================================
             * Flush as much pending output as possible. All deflate() output goes
             * through this function so some applications may wish to modify it
             * to avoid allocating a large strm->output buffer and copying into it.
             * (See also read_buf()).
             */
            var flush_pending = function flush_pending(strm) {
              var s = strm.state; // _tr_flush_bits(s);
              var len = s.pending;
              if (len > strm.avail_out) {
                len = strm.avail_out;
              }
              if (len === 0) {
                return;
              }
              strm.output.set(
                s.pending_buf.subarray(s.pending_out, s.pending_out + len),
                strm.next_out
              );
              strm.next_out += len;
              s.pending_out += len;
              strm.total_out += len;
              strm.avail_out -= len;
              s.pending -= len;
              if (s.pending === 0) {
                s.pending_out = 0;
              }
            };
            var flush_block_only = function flush_block_only(s, last) {
              _tr_flush_block$1(
                s,
                s.block_start >= 0 ? s.block_start : -1,
                s.strstart - s.block_start,
                last
              );
              s.block_start = s.strstart;
              flush_pending(s.strm);
            };
            var put_byte = function put_byte(s, b) {
              s.pending_buf[s.pending++] = b;
            };
            /* =========================================================================
             * Put a short in the pending buffer. The 16-bit value is put in MSB order.
             * IN assertion: the stream state is correct and there is enough room in
             * pending_buf.
             */
            var putShortMSB = function putShortMSB(s, b) {
              //  put_byte(s, (Byte)(b >> 8));
              //  put_byte(s, (Byte)(b & 0xff));
              s.pending_buf[s.pending++] = (b >>> 8) & 0xff;
              s.pending_buf[s.pending++] = b & 0xff;
            };
            /* ===========================================================================
             * Read a new buffer from the current input stream, update the adler32
             * and total number of bytes read.  All deflate() input goes through
             * this function so some applications may wish to modify it to avoid
             * allocating a large strm->input buffer and copying from it.
             * (See also flush_pending()).
             */
            var read_buf = function read_buf(strm, buf, start, size) {
              var len = strm.avail_in;
              if (len > size) {
                len = size;
              }
              if (len === 0) {
                return 0;
              }
              strm.avail_in -= len; // zmemcpy(buf, strm->next_in, len);
              buf.set(
                strm.input.subarray(strm.next_in, strm.next_in + len),
                start
              );
              if (strm.state.wrap === 1) {
                strm.adler = adler32_1(strm.adler, buf, len, start);
              } else if (strm.state.wrap === 2) {
                strm.adler = crc32_1(strm.adler, buf, len, start);
              }
              strm.next_in += len;
              strm.total_in += len;
              return len;
            };
            /* ===========================================================================
             * Set match_start to the longest match starting at the given string and
             * return its length. Matches shorter or equal to prev_length are discarded,
             * in which case the result is equal to prev_length and match_start is
             * garbage.
             * IN assertions: cur_match is the head of the hash chain for the current
             *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1
             * OUT assertion: the match length is not greater than s->lookahead.
             */
            var longest_match = function longest_match(s, cur_match) {
              var chain_length = s.max_chain_length;
              /* max hash chain length */
              var scan = s.strstart;
              /* current string */
              var match;
              /* matched string */
              var len;
              /* length of current match */
              var best_len = s.prev_length;
              /* best match length so far */
              var nice_match = s.nice_match;
              /* stop if match long enough */
              var limit =
                s.strstart > s.w_size - MIN_LOOKAHEAD
                  ? s.strstart - (s.w_size - MIN_LOOKAHEAD)
                  : 0;
              /* NIL */
              var _win = s.window; // shortcut
              var wmask = s.w_mask;
              var prev = s.prev;
              /* Stop when cur_match becomes <= limit. To simplify the code,
               * we prevent matches with the string of window index 0.
               */
              var strend = s.strstart + MAX_MATCH$1;
              var scan_end1 = _win[scan + best_len - 1];
              var scan_end = _win[scan + best_len];
              /* The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of 16.
               * It is easy to get rid of this optimization if necessary.
               */
              // Assert(s->hash_bits >= 8 && MAX_MATCH == 258, "Code too clever");
              /* Do not waste too much time if we already have a good match: */
              if (s.prev_length >= s.good_match) {
                chain_length >>= 2;
              }
              /* Do not look for matches beyond the end of the input. This is necessary
               * to make deflate deterministic.
               */
              if (nice_match > s.lookahead) {
                nice_match = s.lookahead;
              } // Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, "need lookahead");
              do {
                // Assert(cur_match < s->strstart, "no future");
                match = cur_match;
                /* Skip to next match if the match length cannot increase
                 * or if the match length is less than 2.  Note that the checks below
                 * for insufficient lookahead only occur occasionally for performance
                 * reasons.  Therefore uninitialized memory will be accessed, and
                 * conditional jumps will be made that depend on those values.
                 * However the length of the match is limited to the lookahead, so
                 * the output of deflate is not affected by the uninitialized values.
                 */
                if (
                  _win[match + best_len] !== scan_end ||
                  _win[match + best_len - 1] !== scan_end1 ||
                  _win[match] !== _win[scan] ||
                  _win[++match] !== _win[scan + 1]
                ) {
                  continue;
                }
                /* The check at best_len-1 can be removed because it will be made
                 * again later. (This heuristic is not always a win.)
                 * It is not necessary to compare scan[2] and match[2] since they
                 * are always equal when the other bytes match, given that
                 * the hash keys are equal and that HASH_BITS >= 8.
                 */
                scan += 2;
                match++; // Assert(*scan == *match, "match[2]?");
                /* We check for insufficient lookahead only every 8th comparison;
                 * the 256th check will be made at strstart+258.
                 */
                do {
                  /* jshint noempty:false */
                } while (
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  _win[++scan] === _win[++match] &&
                  scan < strend
                ); // Assert(scan <= s->window+(unsigned)(s->window_size-1), "wild scan");
                len = MAX_MATCH$1 - (strend - scan);
                scan = strend - MAX_MATCH$1;
                if (len > best_len) {
                  s.match_start = cur_match;
                  best_len = len;
                  if (len >= nice_match) {
                    break;
                  }
                  scan_end1 = _win[scan + best_len - 1];
                  scan_end = _win[scan + best_len];
                }
              } while (
                (cur_match = prev[cur_match & wmask]) > limit &&
                --chain_length !== 0
              );
              if (best_len <= s.lookahead) {
                return best_len;
              }
              return s.lookahead;
            };
            /* ===========================================================================
             * Fill the window when the lookahead becomes insufficient.
             * Updates strstart and lookahead.
             *
             * IN assertion: lookahead < MIN_LOOKAHEAD
             * OUT assertions: strstart <= window_size-MIN_LOOKAHEAD
             *    At least one byte has been read, or avail_in == 0; reads are
             *    performed for at least two bytes (required for the zip translate_eol
             *    option -- not supported here).
             */
            var fill_window = function fill_window(s) {
              var _w_size = s.w_size;
              var p;
              var n;
              var m;
              var more;
              var str; // Assert(s->lookahead < MIN_LOOKAHEAD, "already enough lookahead");
              do {
                more = s.window_size - s.lookahead - s.strstart; // JS ints have 32 bit, block below not needed
                /* Deal with !@#$% 64K limit: */
                // if (sizeof(int) <= 2) {
                //    if (more == 0 && s->strstart == 0 && s->lookahead == 0) {
                //        more = wsize;
                //
                //  } else if (more == (unsigned)(-1)) {
                //        /* Very unlikely, but possible on 16 bit machine if
                //         * strstart == 0 && lookahead == 1 (input done a byte at time)
                //         */
                //        more--;
                //    }
                // }
                /* If the window is almost full and there is insufficient lookahead,
                 * move the upper half to the lower one to make room in the upper half.
                 */
                if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {
                  s.window.set(
                    s.window.subarray(_w_size, _w_size + _w_size),
                    0
                  );
                  s.match_start -= _w_size;
                  s.strstart -= _w_size;
                  /* we now have strstart >= MAX_DIST */
                  s.block_start -= _w_size;
                  /* Slide the hash table (could be avoided with 32 bit values
                   at the expense of memory usage). We slide even when level == 0
                   to keep the hash table consistent if we switch back to level > 0
                   later. (Using level 0 permanently is not an optimal usage of
                   zlib, so we don't care about this pathological case.)
                   */
                  n = s.hash_size;
                  p = n;
                  do {
                    m = s.head[--p];
                    s.head[p] = m >= _w_size ? m - _w_size : 0;
                  } while (--n);
                  n = _w_size;
                  p = n;
                  do {
                    m = s.prev[--p];
                    s.prev[p] = m >= _w_size ? m - _w_size : 0;
                    /* If n is not on any hash chain, prev[n] is garbage but
                     * its value will never be used.
                     */
                  } while (--n);
                  more += _w_size;
                }
                if (s.strm.avail_in === 0) {
                  break;
                }
                /* If there was no sliding:
                 *    strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&
                 *    more == window_size - lookahead - strstart
                 * => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)
                 * => more >= window_size - 2*WSIZE + 2
                 * In the BIG_MEM or MMAP case (not yet supported),
                 *   window_size == input_size + MIN_LOOKAHEAD  &&
                 *   strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.
                 * Otherwise, window_size == 2*WSIZE so more >= 2.
                 * If there was sliding, more >= WSIZE. So in all cases, more >= 2.
                 */
                // Assert(more >= 2, "more < 2");
                n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);
                s.lookahead += n;
                /* Initialize the hash value now that we have some input: */
                if (s.lookahead + s.insert >= MIN_MATCH$1) {
                  str = s.strstart - s.insert;
                  s.ins_h = s.window[str];
                  /* UPDATE_HASH(s, s->ins_h, s->window[str + 1]); */
                  s.ins_h = HASH(s, s.ins_h, s.window[str + 1]); // #if MIN_MATCH != 3
                  //        Call update_hash() MIN_MATCH-3 more times
                  // #endif
                  while (s.insert) {
                    /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */
                    s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH$1 - 1]);
                    s.prev[str & s.w_mask] = s.head[s.ins_h];
                    s.head[s.ins_h] = str;
                    str++;
                    s.insert--;
                    if (s.lookahead + s.insert < MIN_MATCH$1) {
                      break;
                    }
                  }
                }
                /* If the whole input has less than MIN_MATCH bytes, ins_h is garbage,
                 * but this is not important since only literal bytes will be emitted.
                 */
              } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);
              /* If the WIN_INIT bytes after the end of the current data have never been
               * written, then zero those bytes in order to avoid memory check reports of
               * the use of uninitialized (or uninitialised as Julian writes) bytes by
               * the longest match routines.  Update the high water mark for the next
               * time through here.  WIN_INIT is set to MAX_MATCH since the longest match
               * routines allow scanning to strstart + MAX_MATCH, ignoring lookahead.
               */
              //  if (s.high_water < s.window_size) {
              //    const curr = s.strstart + s.lookahead;
              //    let init = 0;
              //
              //    if (s.high_water < curr) {
              //      /* Previous high water mark below current data -- zero WIN_INIT
              //       * bytes or up to end of window, whichever is less.
              //       */
              //      init = s.window_size - curr;
              //      if (init > WIN_INIT)
              //        init = WIN_INIT;
              //      zmemzero(s->window + curr, (unsigned)init);
              //      s->high_water = curr + init;
              //    }
              //    else if (s->high_water < (ulg)curr + WIN_INIT) {
              //      /* High water mark at or above current data, but below current data
              //       * plus WIN_INIT -- zero out to current data plus WIN_INIT, or up
              //       * to end of window, whichever is less.
              //       */
              //      init = (ulg)curr + WIN_INIT - s->high_water;
              //      if (init > s->window_size - s->high_water)
              //        init = s->window_size - s->high_water;
              //      zmemzero(s->window + s->high_water, (unsigned)init);
              //      s->high_water += init;
              //    }
              //  }
              //
              //  Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,
              //    "not enough room for search");
            };
            /* ===========================================================================
             * Copy without compression as much as possible from the input stream, return
             * the current block state.
             * This function does not insert new strings in the dictionary since
             * uncompressible data is probably not useful. This function is used
             * only for the level=0 compression option.
             * NOTE: this function should be optimized to avoid extra copying from
             * window to pending_buf.
             */
            var deflate_stored = function deflate_stored(s, flush) {
              /* Stored blocks are limited to 0xffff bytes, pending_buf is limited
               * to pending_buf_size, and each stored block has a 5 byte header:
               */
              var max_block_size = 0xffff;
              if (max_block_size > s.pending_buf_size - 5) {
                max_block_size = s.pending_buf_size - 5;
              }
              /* Copy as much as possible from input to output: */
              for (;;) {
                /* Fill the window as much as possible: */
                if (s.lookahead <= 1) {
                  // Assert(s->strstart < s->w_size+MAX_DIST(s) ||
                  //  s->block_start >= (long)s->w_size, "slide too late");
                  //      if (!(s.strstart < s.w_size + (s.w_size - MIN_LOOKAHEAD) ||
                  //        s.block_start >= s.w_size)) {
                  //        throw  new Error("slide too late");
                  //      }
                  fill_window(s);
                  if (s.lookahead === 0 && flush === Z_NO_FLUSH) {
                    return BS_NEED_MORE;
                  }
                  if (s.lookahead === 0) {
                    break;
                  }
                  /* flush the current block */
                } // Assert(s->block_start >= 0L, "block gone");
                //    if (s.block_start < 0) throw new Error("block gone");
                s.strstart += s.lookahead;
                s.lookahead = 0;
                /* Emit a stored block if pending_buf will be full: */
                var max_start = s.block_start + max_block_size;
                if (s.strstart === 0 || s.strstart >= max_start) {
                  /* strstart == 0 is possible when wraparound on 16-bit machine */
                  s.lookahead = s.strstart - max_start;
                  s.strstart = max_start;
                  /** * FLUSH_BLOCK(s, 0); ** */
                  flush_block_only(s, false);
                  if (s.strm.avail_out === 0) {
                    return BS_NEED_MORE;
                  }
                  /***/
                }
                /* Flush if we may have to slide, otherwise block_start may become
                 * negative and the data will be gone:
                 */
                if (s.strstart - s.block_start >= s.w_size - MIN_LOOKAHEAD) {
                  /** * FLUSH_BLOCK(s, 0); ** */
                  flush_block_only(s, false);
                  if (s.strm.avail_out === 0) {
                    return BS_NEED_MORE;
                  }
                  /***/
                }
              }
              s.insert = 0;
              if (flush === Z_FINISH) {
                /** * FLUSH_BLOCK(s, 1); ** */
                flush_block_only(s, true);
                if (s.strm.avail_out === 0) {
                  return BS_FINISH_STARTED;
                }
                /***/
                return BS_FINISH_DONE;
              }
              if (s.strstart > s.block_start) {
                /** * FLUSH_BLOCK(s, 0); ** */
                flush_block_only(s, false);
                if (s.strm.avail_out === 0) {
                  return BS_NEED_MORE;
                }
                /***/
              }
              return BS_NEED_MORE;
            };
            /* ===========================================================================
             * Compress as much as possible from the input stream, return the current
             * block state.
             * This function does not perform lazy evaluation of matches and inserts
             * new strings in the dictionary only for unmatched strings or for short
             * matches. It is used only for the fast compression options.
             */
            var deflate_fast = function deflate_fast(s, flush) {
              var hash_head;
              /* head of the hash chain */
              var bflush;
              /* set if current block must be flushed */
              for (;;) {
                /* Make sure that we always have enough lookahead, except
                 * at the end of the input file. We need MAX_MATCH bytes
                 * for the next match, plus MIN_MATCH bytes to insert the
                 * string following the next match.
                 */
                if (s.lookahead < MIN_LOOKAHEAD) {
                  fill_window(s);
                  if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
                    return BS_NEED_MORE;
                  }
                  if (s.lookahead === 0) {
                    break;
                    /* flush the current block */
                  }
                }
                /* Insert the string window[strstart .. strstart+2] in the
                 * dictionary, and set hash_head to the head of the hash chain:
                 */
                hash_head = 0;
                /* NIL */
                if (s.lookahead >= MIN_MATCH$1) {
                  /** * INSERT_STRING(s, s.strstart, hash_head); ** */
                  s.ins_h = HASH(
                    s,
                    s.ins_h,
                    s.window[s.strstart + MIN_MATCH$1 - 1]
                  );
                  hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
                  s.head[s.ins_h] = s.strstart;
                  /***/
                }
                /* Find the longest match, discarding those <= prev_length.
                 * At this point we have always match_length < MIN_MATCH
                 */
                if (
                  hash_head !== 0 &&
                  /* NIL */
                  s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD
                ) {
                  /* To simplify the code, we prevent matches with the string
                   * of window index 0 (in particular we have to avoid a match
                   * of the string with itself at the start of the input file).
                   */
                  s.match_length = longest_match(s, hash_head);
                  /* longest_match() sets match_start */
                }
                if (s.match_length >= MIN_MATCH$1) {
                  // check_match(s, s.strstart, s.match_start, s.match_length); // for debug only
                  /** * _tr_tally_dist(s, s.strstart - s.match_start,
                                 s.match_length - MIN_MATCH, bflush); ** */
                  bflush = _tr_tally$1(
                    s,
                    s.strstart - s.match_start,
                    s.match_length - MIN_MATCH$1
                  );
                  s.lookahead -= s.match_length;
                  /* Insert new strings in the hash table only if the match length
                   * is not too large. This saves time but degrades compression.
                   */
                  if (
                    s.match_length <= s.max_lazy_match &&
                    /* max_insert_length */
                    s.lookahead >= MIN_MATCH$1
                  ) {
                    s.match_length--;
                    /* string at strstart already in table */
                    do {
                      s.strstart++;
                      /** * INSERT_STRING(s, s.strstart, hash_head); ** */
                      s.ins_h = HASH(
                        s,
                        s.ins_h,
                        s.window[s.strstart + MIN_MATCH$1 - 1]
                      );
                      hash_head = s.prev[s.strstart & s.w_mask] =
                        s.head[s.ins_h];
                      s.head[s.ins_h] = s.strstart;
                      /***/
                      /* strstart never exceeds WSIZE-MAX_MATCH, so there are
                       * always MIN_MATCH bytes ahead.
                       */
                    } while (--s.match_length !== 0);
                    s.strstart++;
                  } else {
                    s.strstart += s.match_length;
                    s.match_length = 0;
                    s.ins_h = s.window[s.strstart];
                    /* UPDATE_HASH(s, s.ins_h, s.window[s.strstart+1]); */
                    s.ins_h = HASH(s, s.ins_h, s.window[s.strstart + 1]); // #if MIN_MATCH != 3
                    //                Call UPDATE_HASH() MIN_MATCH-3 more times
                    // #endif
                    /* If lookahead < MIN_MATCH, ins_h is garbage, but it does not
                     * matter since it will be recomputed at next deflate call.
                     */
                  }
                } else {
                  /* No match, output a literal byte */
                  // Tracevv((stderr,"%c", s.window[s.strstart]));
                  /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */
                  bflush = _tr_tally$1(s, 0, s.window[s.strstart]);
                  s.lookahead--;
                  s.strstart++;
                }
                if (bflush) {
                  /** * FLUSH_BLOCK(s, 0); ** */
                  flush_block_only(s, false);
                  if (s.strm.avail_out === 0) {
                    return BS_NEED_MORE;
                  }
                  /***/
                }
              }
              s.insert =
                s.strstart < MIN_MATCH$1 - 1 ? s.strstart : MIN_MATCH$1 - 1;
              if (flush === Z_FINISH) {
                /** * FLUSH_BLOCK(s, 1); ** */
                flush_block_only(s, true);
                if (s.strm.avail_out === 0) {
                  return BS_FINISH_STARTED;
                }
                /***/
                return BS_FINISH_DONE;
              }
              if (s.last_lit) {
                /** * FLUSH_BLOCK(s, 0); ** */
                flush_block_only(s, false);
                if (s.strm.avail_out === 0) {
                  return BS_NEED_MORE;
                }
                /***/
              }
              return BS_BLOCK_DONE;
            };
            /* ===========================================================================
             * Same as above, but achieves better compression. We use a lazy
             * evaluation for matches: a match is finally adopted only if there is
             * no better match at the next window position.
             */
            var deflate_slow = function deflate_slow(s, flush) {
              var hash_head;
              /* head of hash chain */
              var bflush;
              /* set if current block must be flushed */
              var max_insert;
              /* Process the input block. */
              for (;;) {
                /* Make sure that we always have enough lookahead, except
                 * at the end of the input file. We need MAX_MATCH bytes
                 * for the next match, plus MIN_MATCH bytes to insert the
                 * string following the next match.
                 */
                if (s.lookahead < MIN_LOOKAHEAD) {
                  fill_window(s);
                  if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
                    return BS_NEED_MORE;
                  }
                  if (s.lookahead === 0) {
                    break;
                  }
                  /* flush the current block */
                }
                /* Insert the string window[strstart .. strstart+2] in the
                 * dictionary, and set hash_head to the head of the hash chain:
                 */
                hash_head = 0;
                /* NIL */
                if (s.lookahead >= MIN_MATCH$1) {
                  /** * INSERT_STRING(s, s.strstart, hash_head); ** */
                  s.ins_h = HASH(
                    s,
                    s.ins_h,
                    s.window[s.strstart + MIN_MATCH$1 - 1]
                  );
                  hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
                  s.head[s.ins_h] = s.strstart;
                  /***/
                }
                /* Find the longest match, discarding those <= prev_length.
                 */
                s.prev_length = s.match_length;
                s.prev_match = s.match_start;
                s.match_length = MIN_MATCH$1 - 1;
                if (
                  hash_head !== 0 &&
                  /* NIL */
                  s.prev_length < s.max_lazy_match &&
                  s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD
                  /* MAX_DIST(s) */
                ) {
                  /* To simplify the code, we prevent matches with the string
                   * of window index 0 (in particular we have to avoid a match
                   * of the string with itself at the start of the input file).
                   */
                  s.match_length = longest_match(s, hash_head);
                  /* longest_match() sets match_start */
                  if (
                    s.match_length <= 5 &&
                    (s.strategy === Z_FILTERED ||
                      (s.match_length === MIN_MATCH$1 &&
                        s.strstart - s.match_start > 4096))
                    /* TOO_FAR */
                  ) {
                    /* If prev_match is also MIN_MATCH, match_start is garbage
                     * but we will ignore the current match anyway.
                     */
                    s.match_length = MIN_MATCH$1 - 1;
                  }
                }
                /* If there was a match at the previous step and the current
                 * match is not better, output the previous match:
                 */
                if (
                  s.prev_length >= MIN_MATCH$1 &&
                  s.match_length <= s.prev_length
                ) {
                  max_insert = s.strstart + s.lookahead - MIN_MATCH$1;
                  /* Do not insert strings in hash table beyond this. */
                  // check_match(s, s.strstart-1, s.prev_match, s.prev_length);
                  /** *_tr_tally_dist(s, s.strstart - 1 - s.prev_match,
                                 s.prev_length - MIN_MATCH, bflush);** */
                  bflush = _tr_tally$1(
                    s,
                    s.strstart - 1 - s.prev_match,
                    s.prev_length - MIN_MATCH$1
                  );
                  /* Insert in hash table all strings up to the end of the match.
                   * strstart-1 and strstart are already inserted. If there is not
                   * enough lookahead, the last two strings are not inserted in
                   * the hash table.
                   */
                  s.lookahead -= s.prev_length - 1;
                  s.prev_length -= 2;
                  do {
                    if (++s.strstart <= max_insert) {
                      /** * INSERT_STRING(s, s.strstart, hash_head); ** */
                      s.ins_h = HASH(
                        s,
                        s.ins_h,
                        s.window[s.strstart + MIN_MATCH$1 - 1]
                      );
                      hash_head = s.prev[s.strstart & s.w_mask] =
                        s.head[s.ins_h];
                      s.head[s.ins_h] = s.strstart;
                      /***/
                    }
                  } while (--s.prev_length !== 0);
                  s.match_available = 0;
                  s.match_length = MIN_MATCH$1 - 1;
                  s.strstart++;
                  if (bflush) {
                    /** * FLUSH_BLOCK(s, 0); ** */
                    flush_block_only(s, false);
                    if (s.strm.avail_out === 0) {
                      return BS_NEED_MORE;
                    }
                    /***/
                  }
                } else if (s.match_available) {
                  /* If there was no match at the previous position, output a
                   * single literal. If there was a match but the current match
                   * is longer, truncate the previous match to a single literal.
                   */
                  // Tracevv((stderr,"%c", s->window[s->strstart-1]));
                  /** * _tr_tally_lit(s, s.window[s.strstart-1], bflush); ** */
                  bflush = _tr_tally$1(s, 0, s.window[s.strstart - 1]);
                  if (bflush) {
                    /** * FLUSH_BLOCK_ONLY(s, 0) ** */
                    flush_block_only(s, false);
                    /***/
                  }
                  s.strstart++;
                  s.lookahead--;
                  if (s.strm.avail_out === 0) {
                    return BS_NEED_MORE;
                  }
                } else {
                  /* There is no previous match to compare with, wait for
                   * the next step to decide.
                   */
                  s.match_available = 1;
                  s.strstart++;
                  s.lookahead--;
                }
              } // Assert (flush != Z_NO_FLUSH, "no flush?");
              if (s.match_available) {
                // Tracevv((stderr,"%c", s->window[s->strstart-1]));
                /** * _tr_tally_lit(s, s.window[s.strstart-1], bflush); ** */
                bflush = _tr_tally$1(s, 0, s.window[s.strstart - 1]);
                s.match_available = 0;
              }
              s.insert =
                s.strstart < MIN_MATCH$1 - 1 ? s.strstart : MIN_MATCH$1 - 1;
              if (flush === Z_FINISH) {
                /** * FLUSH_BLOCK(s, 1); ** */
                flush_block_only(s, true);
                if (s.strm.avail_out === 0) {
                  return BS_FINISH_STARTED;
                }
                /***/
                return BS_FINISH_DONE;
              }
              if (s.last_lit) {
                /** * FLUSH_BLOCK(s, 0); ** */
                flush_block_only(s, false);
                if (s.strm.avail_out === 0) {
                  return BS_NEED_MORE;
                }
                /***/
              }
              return BS_BLOCK_DONE;
            };
            /* ===========================================================================
             * For Z_RLE, simply look for runs of bytes, generate matches only of distance
             * one.  Do not maintain a hash table.  (It will be regenerated if this run of
             * deflate switches away from Z_RLE.)
             */
            var deflate_rle = function deflate_rle(s, flush) {
              var bflush;
              /* set if current block must be flushed */
              var prev;
              /* byte at distance one to match */
              var scan;
              var strend;
              /* scan goes up to strend for length of run */
              var _win = s.window;
              for (;;) {
                /* Make sure that we always have enough lookahead, except
                 * at the end of the input file. We need MAX_MATCH bytes
                 * for the longest run, plus one for the unrolled loop.
                 */
                if (s.lookahead <= MAX_MATCH$1) {
                  fill_window(s);
                  if (s.lookahead <= MAX_MATCH$1 && flush === Z_NO_FLUSH) {
                    return BS_NEED_MORE;
                  }
                  if (s.lookahead === 0) {
                    break;
                  }
                  /* flush the current block */
                }
                /* See how many times the previous byte repeats */
                s.match_length = 0;
                if (s.lookahead >= MIN_MATCH$1 && s.strstart > 0) {
                  scan = s.strstart - 1;
                  prev = _win[scan];
                  if (
                    prev === _win[++scan] &&
                    prev === _win[++scan] &&
                    prev === _win[++scan]
                  ) {
                    strend = s.strstart + MAX_MATCH$1;
                    do {
                      /* jshint noempty:false */
                    } while (
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      prev === _win[++scan] &&
                      scan < strend
                    );
                    s.match_length = MAX_MATCH$1 - (strend - scan);
                    if (s.match_length > s.lookahead) {
                      s.match_length = s.lookahead;
                    }
                  } // Assert(scan <= s->window+(uInt)(s->window_size-1), "wild scan");
                }
                /* Emit match if have run of MIN_MATCH or longer, else emit literal */
                if (s.match_length >= MIN_MATCH$1) {
                  // check_match(s, s.strstart, s.strstart - 1, s.match_length);
                  /** * _tr_tally_dist(s, 1, s.match_length - MIN_MATCH, bflush); ** */
                  bflush = _tr_tally$1(s, 1, s.match_length - MIN_MATCH$1);
                  s.lookahead -= s.match_length;
                  s.strstart += s.match_length;
                  s.match_length = 0;
                } else {
                  /* No match, output a literal byte */
                  // Tracevv((stderr,"%c", s->window[s->strstart]));
                  /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */
                  bflush = _tr_tally$1(s, 0, s.window[s.strstart]);
                  s.lookahead--;
                  s.strstart++;
                }
                if (bflush) {
                  /** * FLUSH_BLOCK(s, 0); ** */
                  flush_block_only(s, false);
                  if (s.strm.avail_out === 0) {
                    return BS_NEED_MORE;
                  }
                  /***/
                }
              }
              s.insert = 0;
              if (flush === Z_FINISH) {
                /** * FLUSH_BLOCK(s, 1); ** */
                flush_block_only(s, true);
                if (s.strm.avail_out === 0) {
                  return BS_FINISH_STARTED;
                }
                /***/
                return BS_FINISH_DONE;
              }
              if (s.last_lit) {
                /** * FLUSH_BLOCK(s, 0); ** */
                flush_block_only(s, false);
                if (s.strm.avail_out === 0) {
                  return BS_NEED_MORE;
                }
                /***/
              }
              return BS_BLOCK_DONE;
            };
            /* ===========================================================================
             * For Z_HUFFMAN_ONLY, do not look for matches.  Do not maintain a hash table.
             * (It will be regenerated if this run of deflate switches away from Huffman.)
             */
            var deflate_huff = function deflate_huff(s, flush) {
              var bflush;
              /* set if current block must be flushed */
              for (;;) {
                /* Make sure that we have a literal to write. */
                if (s.lookahead === 0) {
                  fill_window(s);
                  if (s.lookahead === 0) {
                    if (flush === Z_NO_FLUSH) {
                      return BS_NEED_MORE;
                    }
                    break;
                    /* flush the current block */
                  }
                }
                /* Output a literal byte */
                s.match_length = 0; // Tracevv((stderr,"%c", s->window[s->strstart]));
                /** * _tr_tally_lit(s, s.window[s.strstart], bflush); ** */
                bflush = _tr_tally$1(s, 0, s.window[s.strstart]);
                s.lookahead--;
                s.strstart++;
                if (bflush) {
                  /** * FLUSH_BLOCK(s, 0); ** */
                  flush_block_only(s, false);
                  if (s.strm.avail_out === 0) {
                    return BS_NEED_MORE;
                  }
                  /***/
                }
              }
              s.insert = 0;
              if (flush === Z_FINISH) {
                /** * FLUSH_BLOCK(s, 1); ** */
                flush_block_only(s, true);
                if (s.strm.avail_out === 0) {
                  return BS_FINISH_STARTED;
                }
                /***/
                return BS_FINISH_DONE;
              }
              if (s.last_lit) {
                /** * FLUSH_BLOCK(s, 0); ** */
                flush_block_only(s, false);
                if (s.strm.avail_out === 0) {
                  return BS_NEED_MORE;
                }
                /***/
              }
              return BS_BLOCK_DONE;
            };
            /* Values for max_lazy_match, good_match and max_chain_length, depending on
             * the desired pack level (0..9). The values given below have been tuned to
             * exclude worst case performance for pathological files. Better values may be
             * found for specific files.
             */
            function Config(
              good_length,
              max_lazy,
              nice_length,
              max_chain,
              func
            ) {
              this.good_length = good_length;
              this.max_lazy = max_lazy;
              this.nice_length = nice_length;
              this.max_chain = max_chain;
              this.func = func;
            }
            var configuration_table = [
              /*      good lazy nice chain */
              new Config(0, 0, 0, 0, deflate_stored),
              /* 0 store only */
              new Config(4, 4, 8, 4, deflate_fast),
              /* 1 max speed, no lazy matches */
              new Config(4, 5, 16, 8, deflate_fast),
              /* 2 */
              new Config(4, 6, 32, 32, deflate_fast),
              /* 3 */
              new Config(4, 4, 16, 16, deflate_slow),
              /* 4 lazy matches */
              new Config(8, 16, 32, 32, deflate_slow),
              /* 5 */
              new Config(8, 16, 128, 128, deflate_slow),
              /* 6 */
              new Config(8, 32, 128, 256, deflate_slow),
              /* 7 */
              new Config(32, 128, 258, 1024, deflate_slow),
              /* 8 */
              new Config(32, 258, 258, 4096, deflate_slow),
            ];
            /* ===========================================================================
             * Initialize the "longest match" routines for a new zlib stream
             */
            var lm_init = function lm_init(s) {
              s.window_size = 2 * s.w_size;
              /** * CLEAR_HASH(s); ** */
              zero$1(s.head); // Fill with NIL (= 0);
              /* Set the default configuration parameters:
               */
              s.max_lazy_match = configuration_table[s.level].max_lazy;
              s.good_match = configuration_table[s.level].good_length;
              s.nice_match = configuration_table[s.level].nice_length;
              s.max_chain_length = configuration_table[s.level].max_chain;
              s.strstart = 0;
              s.block_start = 0;
              s.lookahead = 0;
              s.insert = 0;
              s.match_length = s.prev_length = MIN_MATCH$1 - 1;
              s.match_available = 0;
              s.ins_h = 0;
            };
            function DeflateState() {
              this.strm = null;
              /* pointer back to this zlib stream */
              this.status = 0;
              /* as the name implies */
              this.pending_buf = null;
              /* output still pending */
              this.pending_buf_size = 0;
              /* size of pending_buf */
              this.pending_out = 0;
              /* next pending byte to output to the stream */
              this.pending = 0;
              /* nb of bytes in the pending buffer */
              this.wrap = 0;
              /* bit 0 true for zlib, bit 1 true for gzip */
              this.gzhead = null;
              /* gzip header information to write */
              this.gzindex = 0;
              /* where in extra, name, or comment */
              this.method = Z_DEFLATED;
              /* can only be DEFLATED */
              this.last_flush = -1;
              /* value of flush param for previous deflate call */
              this.w_size = 0;
              /* LZ77 window size (32K by default) */
              this.w_bits = 0;
              /* log2(w_size)  (8..16) */
              this.w_mask = 0;
              /* w_size - 1 */
              this.window = null;
              /* Sliding window. Input bytes are read into the second half of the window,
               * and move to the first half later to keep a dictionary of at least wSize
               * bytes. With this organization, matches are limited to a distance of
               * wSize-MAX_MATCH bytes, but this ensures that IO is always
               * performed with a length multiple of the block size.
               */
              this.window_size = 0;
              /* Actual size of window: 2*wSize, except when the user input buffer
               * is directly used as sliding window.
               */
              this.prev = null;
              /* Link to older string with same hash index. To limit the size of this
               * array to 64K, this link is maintained only for the last 32K strings.
               * An index in this array is thus a window index modulo 32K.
               */
              this.head = null;
              /* Heads of the hash chains or NIL. */
              this.ins_h = 0;
              /* hash index of string to be inserted */
              this.hash_size = 0;
              /* number of elements in hash table */
              this.hash_bits = 0;
              /* log2(hash_size) */
              this.hash_mask = 0;
              /* hash_size-1 */
              this.hash_shift = 0;
              /* Number of bits by which ins_h must be shifted at each input
               * step. It must be such that after MIN_MATCH steps, the oldest
               * byte no longer takes part in the hash key, that is:
               *   hash_shift * MIN_MATCH >= hash_bits
               */
              this.block_start = 0;
              /* Window position at the beginning of the current output block. Gets
               * negative when the window is moved backwards.
               */
              this.match_length = 0;
              /* length of best match */
              this.prev_match = 0;
              /* previous match */
              this.match_available = 0;
              /* set if previous match exists */
              this.strstart = 0;
              /* start of string to insert */
              this.match_start = 0;
              /* start of matching string */
              this.lookahead = 0;
              /* number of valid bytes ahead in window */
              this.prev_length = 0;
              /* Length of the best match at previous step. Matches not greater than this
               * are discarded. This is used in the lazy match evaluation.
               */
              this.max_chain_length = 0;
              /* To speed up deflation, hash chains are never searched beyond this
               * length.  A higher limit improves compression ratio but degrades the
               * speed.
               */
              this.max_lazy_match = 0;
              /* Attempt to find a better match only when the current match is strictly
               * smaller than this value. This mechanism is used only for compression
               * levels >= 4.
               */
              // That's alias to max_lazy_match, don't use directly
              // this.max_insert_length = 0;
              /* Insert new strings in the hash table only if the match length is not
               * greater than this length. This saves time but degrades compression.
               * max_insert_length is used only for compression levels <= 3.
               */
              this.level = 0;
              /* compression level (1..9) */
              this.strategy = 0;
              /* favor or force Huffman coding */
              this.good_match = 0;
              /* Use a faster search when the previous match is longer than this */
              this.nice_match = 0;
              /* Stop searching when current match exceeds this */
              /* used by trees.c: */
              /* Didn't use ct_data typedef below to suppress compiler warning */
              // struct ct_data_s dyn_ltree[HEAP_SIZE];   /* literal and length tree */
              // struct ct_data_s dyn_dtree[2*D_CODES+1]; /* distance tree */
              // struct ct_data_s bl_tree[2*BL_CODES+1];  /* Huffman tree for bit lengths */
              // Use flat array of DOUBLE size, with interleaved fata,
              // because JS does not support effective
              this.dyn_ltree = new Uint16Array(HEAP_SIZE$1 * 2);
              this.dyn_dtree = new Uint16Array((2 * D_CODES$1 + 1) * 2);
              this.bl_tree = new Uint16Array((2 * BL_CODES$1 + 1) * 2);
              zero$1(this.dyn_ltree);
              zero$1(this.dyn_dtree);
              zero$1(this.bl_tree);
              this.l_desc = null;
              /* desc. for literal tree */
              this.d_desc = null;
              /* desc. for distance tree */
              this.bl_desc = null;
              /* desc. for bit length tree */
              // ush bl_count[MAX_BITS+1];
              this.bl_count = new Uint16Array(MAX_BITS$1 + 1);
              /* number of codes at each bit length for an optimal tree */
              // int heap[2*L_CODES+1];      /* heap used to build the Huffman trees */
              this.heap = new Uint16Array(2 * L_CODES$1 + 1);
              /* heap used to build the Huffman trees */
              zero$1(this.heap);
              this.heap_len = 0;
              /* number of elements in the heap */
              this.heap_max = 0;
              /* element of largest frequency */
              /* The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.
               * The same heap array is used to build all trees.
               */
              this.depth = new Uint16Array(2 * L_CODES$1 + 1); // uch depth[2*L_CODES+1];
              zero$1(this.depth);
              /* Depth of each subtree used as tie breaker for trees of equal frequency
               */
              this.l_buf = 0;
              /* buffer index for literals or lengths */
              this.lit_bufsize = 0;
              /* Size of match buffer for literals/lengths.  There are 4 reasons for
               * limiting lit_bufsize to 64K:
               *   - frequencies can be kept in 16 bit counters
               *   - if compression is not successful for the first block, all input
               *     data is still in the window so we can still emit a stored block even
               *     when input comes from standard input.  (This can also be done for
               *     all blocks if lit_bufsize is not greater than 32K.)
               *   - if compression is not successful for a file smaller than 64K, we can
               *     even emit a stored file instead of a stored block (saving 5 bytes).
               *     This is applicable only for zip (not gzip or zlib).
               *   - creating new Huffman trees less frequently may not provide fast
               *     adaptation to changes in the input data statistics. (Take for
               *     example a binary file with poorly compressible code followed by
               *     a highly compressible string table.) Smaller buffer sizes give
               *     fast adaptation but have of course the overhead of transmitting
               *     trees more frequently.
               *   - I can't count above 4
               */
              this.last_lit = 0;
              /* running index in l_buf */
              this.d_buf = 0;
              /* Buffer index for distances. To simplify the code, d_buf and l_buf have
               * the same number of elements. To use different lengths, an extra flag
               * array would be necessary.
               */
              this.opt_len = 0;
              /* bit length of current block with optimal trees */
              this.static_len = 0;
              /* bit length of current block with static trees */
              this.matches = 0;
              /* number of string matches in current block */
              this.insert = 0;
              /* bytes at end of window left to insert */
              this.bi_buf = 0;
              /* Output buffer. bits are inserted starting at the bottom (least
               * significant bits).
               */
              this.bi_valid = 0;
              /* Number of valid bits in bi_buf.  All bits above the last valid bit
               * are always zero.
               */
              // Used for window memory init. We safely ignore it for JS. That makes
              // sense only for pointers and memory check tools.
              // this.high_water = 0;
              /* High water mark offset in window for initialized bytes -- bytes above
               * this are set to zero in order to avoid memory check warnings when
               * longest match routines access bytes past the input.  This is then
               * updated to the new high water mark.
               */
            }
            var deflateResetKeep = function deflateResetKeep(strm) {
              if (!strm || !strm.state) {
                return err(strm, Z_STREAM_ERROR);
              }
              strm.total_in = strm.total_out = 0;
              strm.data_type = Z_UNKNOWN$1;
              var s = strm.state;
              s.pending = 0;
              s.pending_out = 0;
              if (s.wrap < 0) {
                s.wrap = -s.wrap;
                /* was made negative by deflate(..., Z_FINISH); */
              }
              s.status = s.wrap ? INIT_STATE : BUSY_STATE;
              strm.adler =
                s.wrap === 2
                  ? 0 // crc32(0, Z_NULL, 0)
                  : 1; // adler32(0, Z_NULL, 0)
              s.last_flush = Z_NO_FLUSH;
              _tr_init$1(s);
              return Z_OK;
            };
            var deflateReset = function deflateReset(strm) {
              var ret = deflateResetKeep(strm);
              if (ret === Z_OK) {
                lm_init(strm.state);
              }
              return ret;
            };
            var deflateSetHeader = function deflateSetHeader(strm, head) {
              if (!strm || !strm.state) {
                return Z_STREAM_ERROR;
              }
              if (strm.state.wrap !== 2) {
                return Z_STREAM_ERROR;
              }
              strm.state.gzhead = head;
              return Z_OK;
            };
            var deflateInit2 = function deflateInit2(
              strm,
              level,
              method,
              windowBits,
              memLevel,
              strategy
            ) {
              if (!strm) {
                // === Z_NULL
                return Z_STREAM_ERROR;
              }
              var wrap = 1;
              if (level === Z_DEFAULT_COMPRESSION) {
                level = 6;
              }
              if (windowBits < 0) {
                /* suppress zlib wrapper */
                wrap = 0;
                windowBits = -windowBits;
              } else if (windowBits > 15) {
                wrap = 2;
                /* write gzip wrapper instead */
                windowBits -= 16;
              }
              if (
                memLevel < 1 ||
                memLevel > MAX_MEM_LEVEL ||
                method !== Z_DEFLATED ||
                windowBits < 8 ||
                windowBits > 15 ||
                level < 0 ||
                level > 9 ||
                strategy < 0 ||
                strategy > Z_FIXED$1
              ) {
                return err(strm, Z_STREAM_ERROR);
              }
              if (windowBits === 8) {
                windowBits = 9;
              }
              /* until 256-byte window bug fixed */
              var s = new DeflateState();
              strm.state = s;
              s.strm = strm;
              s.wrap = wrap;
              s.gzhead = null;
              s.w_bits = windowBits;
              s.w_size = 1 << s.w_bits;
              s.w_mask = s.w_size - 1;
              s.hash_bits = memLevel + 7;
              s.hash_size = 1 << s.hash_bits;
              s.hash_mask = s.hash_size - 1;
              s.hash_shift = ~~((s.hash_bits + MIN_MATCH$1 - 1) / MIN_MATCH$1);
              s.window = new Uint8Array(s.w_size * 2);
              s.head = new Uint16Array(s.hash_size);
              s.prev = new Uint16Array(s.w_size); // Don't need mem init magic for JS.
              // s.high_water = 0;  /* nothing written to s->window yet */
              s.lit_bufsize = 1 << (memLevel + 6);
              /* 16K elements by default */
              s.pending_buf_size = s.lit_bufsize * 4; // overlay = (ushf *) ZALLOC(strm, s->lit_bufsize, sizeof(ush)+2);
              // s->pending_buf = (uchf *) overlay;
              s.pending_buf = new Uint8Array(s.pending_buf_size); // It is offset from `s.pending_buf` (size is `s.lit_bufsize * 2`)
              // s->d_buf = overlay + s->lit_bufsize/sizeof(ush);
              s.d_buf = 1 * s.lit_bufsize; // s->l_buf = s->pending_buf + (1+sizeof(ush))*s->lit_bufsize;
              s.l_buf = (1 + 2) * s.lit_bufsize;
              s.level = level;
              s.strategy = strategy;
              s.method = method;
              return deflateReset(strm);
            };
            var deflateInit = function deflateInit(strm, level) {
              return deflateInit2(
                strm,
                level,
                Z_DEFLATED,
                MAX_WBITS,
                DEF_MEM_LEVEL,
                Z_DEFAULT_STRATEGY
              );
            };
            var deflate = function deflate(strm, flush) {
              var beg;
              var val; // for gzip header write only
              if (!strm || !strm.state || flush > Z_BLOCK || flush < 0) {
                return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;
              }
              var s = strm.state;
              if (
                !strm.output ||
                (!strm.input && strm.avail_in !== 0) ||
                (s.status === FINISH_STATE && flush !== Z_FINISH)
              ) {
                return err(
                  strm,
                  strm.avail_out === 0 ? Z_BUF_ERROR : Z_STREAM_ERROR
                );
              }
              s.strm = strm;
              /* just in case */
              var old_flush = s.last_flush;
              s.last_flush = flush;
              /* Write the header */
              if (s.status === INIT_STATE) {
                if (s.wrap === 2) {
                  // GZIP header
                  strm.adler = 0; // crc32(0L, Z_NULL, 0);
                  put_byte(s, 31);
                  put_byte(s, 139);
                  put_byte(s, 8);
                  if (!s.gzhead) {
                    // s->gzhead == Z_NULL
                    put_byte(s, 0);
                    put_byte(s, 0);
                    put_byte(s, 0);
                    put_byte(s, 0);
                    put_byte(s, 0);
                    put_byte(
                      s,
                      s.level === 9
                        ? 2
                        : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2
                        ? 4
                        : 0
                    );
                    put_byte(s, OS_CODE);
                    s.status = BUSY_STATE;
                  } else {
                    put_byte(
                      s,
                      (s.gzhead.text ? 1 : 0) +
                        (s.gzhead.hcrc ? 2 : 0) +
                        (!s.gzhead.extra ? 0 : 4) +
                        (!s.gzhead.name ? 0 : 8) +
                        (!s.gzhead.comment ? 0 : 16)
                    );
                    put_byte(s, s.gzhead.time & 0xff);
                    put_byte(s, (s.gzhead.time >> 8) & 0xff);
                    put_byte(s, (s.gzhead.time >> 16) & 0xff);
                    put_byte(s, (s.gzhead.time >> 24) & 0xff);
                    put_byte(
                      s,
                      s.level === 9
                        ? 2
                        : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2
                        ? 4
                        : 0
                    );
                    put_byte(s, s.gzhead.os & 0xff);
                    if (s.gzhead.extra && s.gzhead.extra.length) {
                      put_byte(s, s.gzhead.extra.length & 0xff);
                      put_byte(s, (s.gzhead.extra.length >> 8) & 0xff);
                    }
                    if (s.gzhead.hcrc) {
                      strm.adler = crc32_1(
                        strm.adler,
                        s.pending_buf,
                        s.pending,
                        0
                      );
                    }
                    s.gzindex = 0;
                    s.status = EXTRA_STATE;
                  }
                } // DEFLATE header
                else {
                  var header = (Z_DEFLATED + ((s.w_bits - 8) << 4)) << 8;
                  var level_flags = -1;
                  if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {
                    level_flags = 0;
                  } else if (s.level < 6) {
                    level_flags = 1;
                  } else if (s.level === 6) {
                    level_flags = 2;
                  } else {
                    level_flags = 3;
                  }
                  header |= level_flags << 6;
                  if (s.strstart !== 0) {
                    header |= PRESET_DICT;
                  }
                  header += 31 - (header % 31);
                  s.status = BUSY_STATE;
                  putShortMSB(s, header);
                  /* Save the adler32 of the preset dictionary: */
                  if (s.strstart !== 0) {
                    putShortMSB(s, strm.adler >>> 16);
                    putShortMSB(s, strm.adler & 0xffff);
                  }
                  strm.adler = 1; // adler32(0L, Z_NULL, 0);
                }
              } // #ifdef GZIP
              if (s.status === EXTRA_STATE) {
                if (
                  s.gzhead.extra
                  /* != Z_NULL */
                ) {
                  beg = s.pending;
                  /* start of bytes to update crc */
                  while (s.gzindex < (s.gzhead.extra.length & 0xffff)) {
                    if (s.pending === s.pending_buf_size) {
                      if (s.gzhead.hcrc && s.pending > beg) {
                        strm.adler = crc32_1(
                          strm.adler,
                          s.pending_buf,
                          s.pending - beg,
                          beg
                        );
                      }
                      flush_pending(strm);
                      beg = s.pending;
                      if (s.pending === s.pending_buf_size) {
                        break;
                      }
                    }
                    put_byte(s, s.gzhead.extra[s.gzindex] & 0xff);
                    s.gzindex++;
                  }
                  if (s.gzhead.hcrc && s.pending > beg) {
                    strm.adler = crc32_1(
                      strm.adler,
                      s.pending_buf,
                      s.pending - beg,
                      beg
                    );
                  }
                  if (s.gzindex === s.gzhead.extra.length) {
                    s.gzindex = 0;
                    s.status = NAME_STATE;
                  }
                } else {
                  s.status = NAME_STATE;
                }
              }
              if (s.status === NAME_STATE) {
                if (
                  s.gzhead.name
                  /* != Z_NULL */
                ) {
                  beg = s.pending;
                  /* start of bytes to update crc */
                  // int val;
                  do {
                    if (s.pending === s.pending_buf_size) {
                      if (s.gzhead.hcrc && s.pending > beg) {
                        strm.adler = crc32_1(
                          strm.adler,
                          s.pending_buf,
                          s.pending - beg,
                          beg
                        );
                      }
                      flush_pending(strm);
                      beg = s.pending;
                      if (s.pending === s.pending_buf_size) {
                        val = 1;
                        break;
                      }
                    } // JS specific: little magic to add zero terminator to end of string
                    if (s.gzindex < s.gzhead.name.length) {
                      val = s.gzhead.name.charCodeAt(s.gzindex++) & 0xff;
                    } else {
                      val = 0;
                    }
                    put_byte(s, val);
                  } while (val !== 0);
                  if (s.gzhead.hcrc && s.pending > beg) {
                    strm.adler = crc32_1(
                      strm.adler,
                      s.pending_buf,
                      s.pending - beg,
                      beg
                    );
                  }
                  if (val === 0) {
                    s.gzindex = 0;
                    s.status = COMMENT_STATE;
                  }
                } else {
                  s.status = COMMENT_STATE;
                }
              }
              if (s.status === COMMENT_STATE) {
                if (
                  s.gzhead.comment
                  /* != Z_NULL */
                ) {
                  beg = s.pending;
                  /* start of bytes to update crc */
                  // int val;
                  do {
                    if (s.pending === s.pending_buf_size) {
                      if (s.gzhead.hcrc && s.pending > beg) {
                        strm.adler = crc32_1(
                          strm.adler,
                          s.pending_buf,
                          s.pending - beg,
                          beg
                        );
                      }
                      flush_pending(strm);
                      beg = s.pending;
                      if (s.pending === s.pending_buf_size) {
                        val = 1;
                        break;
                      }
                    } // JS specific: little magic to add zero terminator to end of string
                    if (s.gzindex < s.gzhead.comment.length) {
                      val = s.gzhead.comment.charCodeAt(s.gzindex++) & 0xff;
                    } else {
                      val = 0;
                    }
                    put_byte(s, val);
                  } while (val !== 0);
                  if (s.gzhead.hcrc && s.pending > beg) {
                    strm.adler = crc32_1(
                      strm.adler,
                      s.pending_buf,
                      s.pending - beg,
                      beg
                    );
                  }
                  if (val === 0) {
                    s.status = HCRC_STATE;
                  }
                } else {
                  s.status = HCRC_STATE;
                }
              }
              if (s.status === HCRC_STATE) {
                if (s.gzhead.hcrc) {
                  if (s.pending + 2 > s.pending_buf_size) {
                    flush_pending(strm);
                  }
                  if (s.pending + 2 <= s.pending_buf_size) {
                    put_byte(s, strm.adler & 0xff);
                    put_byte(s, (strm.adler >> 8) & 0xff);
                    strm.adler = 0; // crc32(0L, Z_NULL, 0);
                    s.status = BUSY_STATE;
                  }
                } else {
                  s.status = BUSY_STATE;
                }
              } // #endif
              /* Flush as much pending output as possible */
              if (s.pending !== 0) {
                flush_pending(strm);
                if (strm.avail_out === 0) {
                  /* Since avail_out is 0, deflate will be called again with
                   * more output space, but possibly with both pending and
                   * avail_in equal to zero. There won't be anything to do,
                   * but this is not an error situation so make sure we
                   * return OK instead of BUF_ERROR at next call of deflate:
                   */
                  s.last_flush = -1;
                  return Z_OK;
                }
                /* Make sure there is something to do and avoid duplicate consecutive
                 * flushes. For repeated and useless calls with Z_FINISH, we keep
                 * returning Z_STREAM_END instead of Z_BUF_ERROR.
                 */
              } else if (
                strm.avail_in === 0 &&
                rank(flush) <= rank(old_flush) &&
                flush !== Z_FINISH
              ) {
                return err(strm, Z_BUF_ERROR);
              }
              /* User must not provide more input after the first FINISH: */
              if (s.status === FINISH_STATE && strm.avail_in !== 0) {
                return err(strm, Z_BUF_ERROR);
              }
              /* Start a new block or continue the current one.
               */
              if (
                strm.avail_in !== 0 ||
                s.lookahead !== 0 ||
                (flush !== Z_NO_FLUSH && s.status !== FINISH_STATE)
              ) {
                var bstate =
                  s.strategy === Z_HUFFMAN_ONLY
                    ? deflate_huff(s, flush)
                    : s.strategy === Z_RLE
                    ? deflate_rle(s, flush)
                    : configuration_table[s.level].func(s, flush);
                if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {
                  s.status = FINISH_STATE;
                }
                if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {
                  if (strm.avail_out === 0) {
                    s.last_flush = -1;
                    /* avoid BUF_ERROR next call, see above */
                  }
                  return Z_OK;
                  /* If flush != Z_NO_FLUSH && avail_out == 0, the next call
                   * of deflate should use the same flush parameter to make sure
                   * that the flush is complete. So we don't have to output an
                   * empty block here, this will be done at next call. This also
                   * ensures that for a very small output buffer, we emit at most
                   * one empty block.
                   */
                }
                if (bstate === BS_BLOCK_DONE) {
                  if (flush === Z_PARTIAL_FLUSH) {
                    _tr_align$1(s);
                  } else if (flush !== Z_BLOCK) {
                    /* FULL_FLUSH or SYNC_FLUSH */
                    _tr_stored_block$1(s, 0, 0, false);
                    /* For a full flush, this empty block will be recognized
                     * as a special marker by inflate_sync().
                     */
                    if (flush === Z_FULL_FLUSH) {
                      /** * CLEAR_HASH(s); ** */
                      /* forget history */
                      zero$1(s.head); // Fill with NIL (= 0);
                      if (s.lookahead === 0) {
                        s.strstart = 0;
                        s.block_start = 0;
                        s.insert = 0;
                      }
                    }
                  }
                  flush_pending(strm);
                  if (strm.avail_out === 0) {
                    s.last_flush = -1;
                    /* avoid BUF_ERROR at next call, see above */
                    return Z_OK;
                  }
                }
              } // Assert(strm->avail_out > 0, "bug2");
              // if (strm.avail_out <= 0) { throw new Error("bug2");}
              if (flush !== Z_FINISH) {
                return Z_OK;
              }
              if (s.wrap <= 0) {
                return Z_STREAM_END;
              }
              /* Write the trailer */
              if (s.wrap === 2) {
                put_byte(s, strm.adler & 0xff);
                put_byte(s, (strm.adler >> 8) & 0xff);
                put_byte(s, (strm.adler >> 16) & 0xff);
                put_byte(s, (strm.adler >> 24) & 0xff);
                put_byte(s, strm.total_in & 0xff);
                put_byte(s, (strm.total_in >> 8) & 0xff);
                put_byte(s, (strm.total_in >> 16) & 0xff);
                put_byte(s, (strm.total_in >> 24) & 0xff);
              } else {
                putShortMSB(s, strm.adler >>> 16);
                putShortMSB(s, strm.adler & 0xffff);
              }
              flush_pending(strm);
              /* If avail_out is zero, the application will call deflate again
               * to flush the rest.
               */
              if (s.wrap > 0) {
                s.wrap = -s.wrap;
              }
              /* write the trailer only once! */
              return s.pending !== 0 ? Z_OK : Z_STREAM_END;
            };
            var deflateEnd = function deflateEnd(strm) {
              if (
                !strm ||
                /* == Z_NULL */
                !strm.state
                /* == Z_NULL */
              ) {
                return Z_STREAM_ERROR;
              }
              var status = strm.state.status;
              if (
                status !== INIT_STATE &&
                status !== EXTRA_STATE &&
                status !== NAME_STATE &&
                status !== COMMENT_STATE &&
                status !== HCRC_STATE &&
                status !== BUSY_STATE &&
                status !== FINISH_STATE
              ) {
                return err(strm, Z_STREAM_ERROR);
              }
              strm.state = null;
              return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;
            };
            /* =========================================================================
             * Initializes the compression dictionary from the given byte
             * sequence without producing any compressed output.
             */
            var deflateSetDictionary = function deflateSetDictionary(
              strm,
              dictionary
            ) {
              var dictLength = dictionary.length;
              if (
                !strm ||
                /* == Z_NULL */
                !strm.state
                /* == Z_NULL */
              ) {
                return Z_STREAM_ERROR;
              }
              var s = strm.state;
              var wrap = s.wrap;
              if (
                wrap === 2 ||
                (wrap === 1 && s.status !== INIT_STATE) ||
                s.lookahead
              ) {
                return Z_STREAM_ERROR;
              }
              /* when using zlib wrappers, compute Adler-32 for provided dictionary */
              if (wrap === 1) {
                /* adler32(strm->adler, dictionary, dictLength); */
                strm.adler = adler32_1(strm.adler, dictionary, dictLength, 0);
              }
              s.wrap = 0;
              /* avoid computing Adler-32 in read_buf */
              /* if dictionary would fill window, just replace the history */
              if (dictLength >= s.w_size) {
                if (wrap === 0) {
                  /* already empty otherwise */
                  /** * CLEAR_HASH(s); ** */
                  zero$1(s.head); // Fill with NIL (= 0);
                  s.strstart = 0;
                  s.block_start = 0;
                  s.insert = 0;
                }
                /* use the tail */
                // dictionary = dictionary.slice(dictLength - s.w_size);
                var tmpDict = new Uint8Array(s.w_size);
                tmpDict.set(
                  dictionary.subarray(dictLength - s.w_size, dictLength),
                  0
                );
                dictionary = tmpDict;
                dictLength = s.w_size;
              }
              /* insert dictionary into window and hash */
              var avail = strm.avail_in;
              var next = strm.next_in;
              var input = strm.input;
              strm.avail_in = dictLength;
              strm.next_in = 0;
              strm.input = dictionary;
              fill_window(s);
              while (s.lookahead >= MIN_MATCH$1) {
                var str = s.strstart;
                var n = s.lookahead - (MIN_MATCH$1 - 1);
                do {
                  /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */
                  s.ins_h = HASH(s, s.ins_h, s.window[str + MIN_MATCH$1 - 1]);
                  s.prev[str & s.w_mask] = s.head[s.ins_h];
                  s.head[s.ins_h] = str;
                  str++;
                } while (--n);
                s.strstart = str;
                s.lookahead = MIN_MATCH$1 - 1;
                fill_window(s);
              }
              s.strstart += s.lookahead;
              s.block_start = s.strstart;
              s.insert = s.lookahead;
              s.lookahead = 0;
              s.match_length = s.prev_length = MIN_MATCH$1 - 1;
              s.match_available = 0;
              strm.next_in = next;
              strm.input = input;
              strm.avail_in = avail;
              s.wrap = wrap;
              return Z_OK;
            };
            var deflateInit_1 = deflateInit;
            var deflateInit2_1 = deflateInit2;
            var deflateReset_1 = deflateReset;
            var deflateResetKeep_1 = deflateResetKeep;
            var deflateSetHeader_1 = deflateSetHeader;
            var deflate_2 = deflate;
            var deflateEnd_1 = deflateEnd;
            var deflateSetDictionary_1 = deflateSetDictionary;
            var deflateInfo = "pako deflate (from Nodeca project)";
            /* Not implemented
      module.exports.deflateBound = deflateBound;
      module.exports.deflateCopy = deflateCopy;
      module.exports.deflateParams = deflateParams;
      module.exports.deflatePending = deflatePending;
      module.exports.deflatePrime = deflatePrime;
      module.exports.deflateTune = deflateTune;
      */
            var deflate_1 = {
              deflateInit: deflateInit_1,
              deflateInit2: deflateInit2_1,
              deflateReset: deflateReset_1,
              deflateResetKeep: deflateResetKeep_1,
              deflateSetHeader: deflateSetHeader_1,
              deflate: deflate_2,
              deflateEnd: deflateEnd_1,
              deflateSetDictionary: deflateSetDictionary_1,
              deflateInfo: deflateInfo,
            };
            function _typeof(obj) {
              "@babel/helpers - typeof";
              if (
                typeof Symbol === "function" &&
                typeof Symbol.iterator === "symbol"
              ) {
                _typeof = function (obj) {
                  return typeof obj;
                };
              } else {
                _typeof = function (obj) {
                  return obj &&
                    typeof Symbol === "function" &&
                    obj.constructor === Symbol &&
                    obj !== Symbol.prototype
                    ? "symbol"
                    : typeof obj;
                };
              }
              return _typeof(obj);
            }
            var _has = function _has(obj, key) {
              return Object.prototype.hasOwnProperty.call(obj, key);
            };
            var assign = function assign(
              obj
              /* from1, from2, from3, ... */
            ) {
              var sources = Array.prototype.slice.call(arguments, 1);
              while (sources.length) {
                var source = sources.shift();
                if (!source) {
                  continue;
                }
                if (_typeof(source) !== "object") {
                  throw new TypeError(source + "must be non-object");
                }
                for (var p in source) {
                  if (_has(source, p)) {
                    obj[p] = source[p];
                  }
                }
              }
              return obj;
            }; // Join array of chunks to single array.
            var flattenChunks = function flattenChunks(chunks) {
              // calculate data length
              var len = 0;
              for (var i = 0, l = chunks.length; i < l; i++) {
                len += chunks[i].length;
              } // join chunks
              var result = new Uint8Array(len);
              for (var _i = 0, pos = 0, _l = chunks.length; _i < _l; _i++) {
                var chunk = chunks[_i];
                result.set(chunk, pos);
                pos += chunk.length;
              }
              return result;
            };
            var common = {
              assign: assign,
              flattenChunks: flattenChunks,
            };
            // String encode/decode helpers
            //
            // - apply(Array) can fail on Android 2.2
            // - apply(Uint8Array) can fail on iOS 5.1 Safari
            //
            var STR_APPLY_UIA_OK = true;
            try {
              String.fromCharCode.apply(null, new Uint8Array(1));
            } catch (__) {
              STR_APPLY_UIA_OK = false;
            } // Table with utf8 lengths (calculated by first byte of sequence)
            // Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,
            // because max possible codepoint is 0x10ffff
            var _utf8len = new Uint8Array(256);
            for (var q = 0; q < 256; q++) {
              _utf8len[q] =
                q >= 252
                  ? 6
                  : q >= 248
                  ? 5
                  : q >= 240
                  ? 4
                  : q >= 224
                  ? 3
                  : q >= 192
                  ? 2
                  : 1;
            }
            _utf8len[254] = _utf8len[254] = 1; // Invalid sequence start
            // convert string to array (typed, when possible)
            // (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin
            //
            // This software is provided 'as-is', without any express or implied
            // warranty. In no event will the authors be held liable for any damages
            // arising from the use of this software.
            //
            // Permission is granted to anyone to use this software for any purpose,
            // including commercial applications, and to alter it and redistribute it
            // freely, subject to the following restrictions:
            //
            // 1. The origin of this software must not be misrepresented; you must not
            //   claim that you wrote the original software. If you use this software
            //   in a product, an acknowledgment in the product documentation would be
            //   appreciated but is not required.
            // 2. Altered source versions must be plainly marked as such, and must not be
            //   misrepresented as being the original software.
            // 3. This notice may not be removed or altered from any source distribution.
            function ZStream() {
              /* next input byte */
              this.input = null; // JS specific, because we have no pointers
              this.next_in = 0;
              /* number of bytes available at input */
              this.avail_in = 0;
              /* total number of input bytes read so far */
              this.total_in = 0;
              /* next output byte should be put there */
              this.output = null; // JS specific, because we have no pointers
              this.next_out = 0;
              /* remaining free space at output */
              this.avail_out = 0;
              /* total number of bytes output so far */
              this.total_out = 0;
              /* last error message, NULL if no error */
              this.msg = "";
              /* Z_NULL */
              /* not visible by applications */
              this.state = null;
              /* best guess about the data type: binary or text */
              this.data_type = 2;
              /* Z_UNKNOWN */
              /* adler32 value of the uncompressed data */
              this.adler = 0;
            }
            var zstream = ZStream;
            // eslint-disable-next-line @typescript-eslint/unbound-method
            var toString = Object.prototype.toString;
            /* Public constants ========================================================== */
            /* =========================================================================== */
            var Z_NO_FLUSH$1 = constants.Z_NO_FLUSH;
            var Z_SYNC_FLUSH = constants.Z_SYNC_FLUSH;
            var Z_FULL_FLUSH$1 = constants.Z_FULL_FLUSH;
            var Z_FINISH$1 = constants.Z_FINISH;
            var Z_OK$1 = constants.Z_OK;
            var Z_STREAM_END$1 = constants.Z_STREAM_END;
            var Z_DEFAULT_COMPRESSION$1 = constants.Z_DEFAULT_COMPRESSION;
            var Z_DEFAULT_STRATEGY$1 = constants.Z_DEFAULT_STRATEGY;
            var Z_DEFLATED$1 = constants.Z_DEFLATED;
            /* =========================================================================== */
            /**
             * class Deflate
             *
             * Generic JS-style wrapper for zlib calls. If you don't need
             * streaming behaviour - use more simple functions: [[deflate]],
             * [[deflateRaw]] and [[gzip]].
             * */
            /* internal
             * Deflate.chunks -> Array
             *
             * Chunks of output data, if [[Deflate#onData]] not overridden.
             * */
            /**
             * Deflate.result -> Uint8Array
             *
             * Compressed result, generated by default [[Deflate#onData]]
             * and [[Deflate#onEnd]] handlers. Filled after you push last chunk
             * (call [[Deflate#push]] with `Z_FINISH` / `true` param).
             * */
            /**
             * Deflate.err -> Number
             *
             * Error code after deflate finished. 0 (Z_OK) on success.
             * You will not need it in real life, because deflate errors
             * are possible only on wrong options or bad `onData` / `onEnd`
             * custom handlers.
             * */
            /**
             * Deflate.msg -> String
             *
             * Error message, if [[Deflate.err]] != 0
             * */
            /**
             * new Deflate(options)
             * - options (Object): zlib deflate options.
             *
             * Creates new deflator instance with specified params. Throws exception
             * on bad params. Supported options:
             *
             * - `level`
             * - `windowBits`
             * - `memLevel`
             * - `strategy`
             * - `dictionary`
             *
             * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)
             * for more information on these.
             *
             * Additional options, for internal needs:
             *
             * - `chunkSize` - size of generated data chunks (16K by default)
             * - `raw` (Boolean) - do raw deflate
             * - `gzip` (Boolean) - create gzip wrapper
             * - `header` (Object) - custom header for gzip
             *   - `text` (Boolean) - true if compressed data believed to be text
             *   - `time` (Number) - modification time, unix timestamp
             *   - `os` (Number) - operation system code
             *   - `extra` (Array) - array of bytes with extra data (max 65536)
             *   - `name` (String) - file name (binary string)
             *   - `comment` (String) - comment (binary string)
             *   - `hcrc` (Boolean) - true if header crc should be added
             *
             * ##### Example:
             *
             * ```javascript
             * const pako = require('pako')
             *   , chunk1 = new Uint8Array([1,2,3,4,5,6,7,8,9])
             *   , chunk2 = new Uint8Array([10,11,12,13,14,15,16,17,18,19]);
             *
             * const deflate = new pako.Deflate({ level: 3});
             *
             * deflate.push(chunk1, false);
             * deflate.push(chunk2, true);  // true -> last chunk
             *
             * if (deflate.err) { throw new Error(deflate.err); }
             *
             * console.log(deflate.result);
             * ```
             * */
            function Deflate(options) {
              this.options = common.assign(
                {
                  level: Z_DEFAULT_COMPRESSION$1,
                  method: Z_DEFLATED$1,
                  chunkSize: 16384,
                  windowBits: 15,
                  memLevel: 8,
                  strategy: Z_DEFAULT_STRATEGY$1,
                },
                options || {}
              );
              var opt = this.options;
              if (opt.raw && opt.windowBits > 0) {
                opt.windowBits = -opt.windowBits;
              } else if (
                opt.gzip &&
                opt.windowBits > 0 &&
                opt.windowBits < 16
              ) {
                opt.windowBits += 16;
              }
              this.err = 0; // error code, if happens (0 = Z_OK)
              this.msg = ""; // error message
              this.ended = false; // used to avoid multiple onEnd() calls
              this.chunks = []; // chunks of compressed data
              this.strm = new zstream();
              this.strm.avail_out = 0;
              var status = deflate_1.deflateInit2(
                this.strm,
                opt.level,
                opt.method,
                opt.windowBits,
                opt.memLevel,
                opt.strategy
              );
              if (status !== Z_OK$1) {
                throw new Error(messages[status]);
              }
              if (opt.header) {
                deflate_1.deflateSetHeader(this.strm, opt.header);
              }
              if (opt.dictionary) {
                var dict; // Convert data if needed
                if (toString.call(opt.dictionary) === "[object ArrayBuffer]") {
                  dict = new Uint8Array(opt.dictionary);
                } else {
                  dict = opt.dictionary;
                }
                status = deflate_1.deflateSetDictionary(this.strm, dict);
                if (status !== Z_OK$1) {
                  throw new Error(messages[status]);
                }
                this._dict_set = true;
              }
            }
            /**
             * Deflate#push(data[, flush_mode]) -> Boolean
             * - data (Uint8Array|ArrayBuffer|String): input data. Strings will be
             *   converted to utf8 byte sequence.
             * - flush_mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.
             *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.
             *
             * Sends input data to deflate pipe, generating [[Deflate#onData]] calls with
             * new compressed chunks. Returns `true` on success. The last data block must
             * have `flush_mode` Z_FINISH (or `true`). That will flush internal pending
             * buffers and call [[Deflate#onEnd]].
             *
             * On fail call [[Deflate#onEnd]] with error code and return false.
             *
             * ##### Example
             *
             * ```javascript
             * push(chunk, false); // push one of data chunks
             * ...
             * push(chunk, true);  // push last chunk
             * ```
             * */
            Deflate.prototype.push = function (data, flush_mode) {
              var strm = this.strm;
              var chunkSize = this.options.chunkSize;
              var status;
              var _flush_mode;
              if (this.ended) {
                return false;
              }
              if (flush_mode === ~~flush_mode) {
                _flush_mode = flush_mode;
              } else {
                _flush_mode = flush_mode === true ? Z_FINISH$1 : Z_NO_FLUSH$1;
              } // Convert data if needed
              if (toString.call(data) === "[object ArrayBuffer]") {
                strm.input = new Uint8Array(data);
              } else {
                strm.input = data;
              }
              strm.next_in = 0;
              strm.avail_in = strm.input.length;
              for (;;) {
                if (strm.avail_out === 0) {
                  strm.output = new Uint8Array(chunkSize);
                  strm.next_out = 0;
                  strm.avail_out = chunkSize;
                } // Make sure avail_out > 6 to avoid repeating markers
                if (
                  (_flush_mode === Z_SYNC_FLUSH ||
                    _flush_mode === Z_FULL_FLUSH$1) &&
                  strm.avail_out <= 6
                ) {
                  this.onData(strm.output.subarray(0, strm.next_out));
                  strm.avail_out = 0;
                  continue;
                }
                status = deflate_1.deflate(strm, _flush_mode); // Ended => flush and finish
                if (status === Z_STREAM_END$1) {
                  if (strm.next_out > 0) {
                    this.onData(strm.output.subarray(0, strm.next_out));
                  }
                  status = deflate_1.deflateEnd(this.strm);
                  this.onEnd(status);
                  this.ended = true;
                  return status === Z_OK$1;
                } // Flush if out buffer full
                if (strm.avail_out === 0) {
                  this.onData(strm.output);
                  continue;
                } // Flush if requested and has data
                if (_flush_mode > 0 && strm.next_out > 0) {
                  this.onData(strm.output.subarray(0, strm.next_out));
                  strm.avail_out = 0;
                  continue;
                }
                if (strm.avail_in === 0) {
                  break;
                }
              }
              return true;
            };
            /**
             * Deflate#onData(chunk) -> Void
             * - chunk (Uint8Array): output data.
             *
             * By default, stores data blocks in `chunks[]` property and glue
             * those in `onEnd`. Override this handler, if you need another behaviour.
             * */
            Deflate.prototype.onData = function (chunk) {
              this.chunks.push(chunk);
            };
            /**
             * Deflate#onEnd(status) -> Void
             * - status (Number): deflate status. 0 (Z_OK) on success,
             *   other if not.
             *
             * Called once after you tell deflate that the input stream is
             * complete (Z_FINISH). By default - join collected chunks,
             * free memory and fill `results` / `err` properties.
             * */
            Deflate.prototype.onEnd = function (status) {
              // On success - join
              if (status === Z_OK$1) {
                this.result = common.flattenChunks(this.chunks);
              }
              this.chunks = [];
              this.err = status;
              this.msg = this.strm.msg;
            };
            /**
             * deflate(data[, options]) -> Uint8Array
             * - data (Uint8Array|String): input data to compress.
             * - options (Object): zlib deflate options.
             *
             * Compress `data` with deflate algorithm and `options`.
             *
             * Supported options are:
             *
             * - level
             * - windowBits
             * - memLevel
             * - strategy
             * - dictionary
             *
             * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)
             * for more information on these.
             *
             * Sugar (options):
             *
             * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify
             *   negative windowBits implicitly.
             *
             * ##### Example:
             *
             * ```javascript
             * const pako = require('pako')
             * const data = new Uint8Array([1,2,3,4,5,6,7,8,9]);
             *
             * console.log(pako.deflate(data));
             * ```
             * */
            function deflate$1(input, options) {
              var deflator = new Deflate(options);
              deflator.push(input, true); // That will never happens, if you don't cheat with options :)
              if (deflator.err) {
                throw deflator.msg || messages[deflator.err];
              }
              return deflator.result;
            }
            /**
             * deflateRaw(data[, options]) -> Uint8Array
             * - data (Uint8Array|String): input data to compress.
             * - options (Object): zlib deflate options.
             *
             * The same as [[deflate]], but creates raw data, without wrapper
             * (header and adler32 crc).
             * */
            // eslint-disable-next-line @typescript-eslint/no-unused-vars
            function deflateRaw(input, options) {
              options = options || {};
              options.raw = true;
              return deflate$1(input, options);
            }
            /**
             * gzip(data[, options]) -> Uint8Array
             * - data (Uint8Array|String): input data to compress.
             * - options (Object): zlib deflate options.
             *
             * The same as [[deflate]], but create gzip wrapper instead of
             * deflate one.
             * */
            // eslint-disable-next-line @typescript-eslint/no-unused-vars
            function gzip(input, options) {
              options = options || {};
              options.gzip = true;
              return deflate$1(input, options);
            }
            return { Deflate: Deflate, constants: constants };
          }
        }

        /***/
      },

    /***/ "../../node_modules/tslib/tslib.es6.js":
      /*!*********************************************!*\
  !*** ../../node_modules/tslib/tslib.es6.js ***!
  \*********************************************/
      /***/ function (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__
      ) {
        __webpack_require__.r(__webpack_exports__);
        /* harmony export */ __webpack_require__.d(__webpack_exports__, {
          /* harmony export */ __extends: function () {
            return /* binding */ __extends;
          },
          /* harmony export */ __assign: function () {
            return /* binding */ __assign;
          },
          /* harmony export */ __rest: function () {
            return /* binding */ __rest;
          },
          /* harmony export */ __decorate: function () {
            return /* binding */ __decorate;
          },
          /* harmony export */ __param: function () {
            return /* binding */ __param;
          },
          /* harmony export */ __metadata: function () {
            return /* binding */ __metadata;
          },
          /* harmony export */ __awaiter: function () {
            return /* binding */ __awaiter;
          },
          /* harmony export */ __generator: function () {
            return /* binding */ __generator;
          },
          /* harmony export */ __exportStar: function () {
            return /* binding */ __exportStar;
          },
          /* harmony export */ __values: function () {
            return /* binding */ __values;
          },
          /* harmony export */ __read: function () {
            return /* binding */ __read;
          },
          /* harmony export */ __spread: function () {
            return /* binding */ __spread;
          },
          /* harmony export */ __spreadArrays: function () {
            return /* binding */ __spreadArrays;
          },
          /* harmony export */ __await: function () {
            return /* binding */ __await;
          },
          /* harmony export */ __asyncGenerator: function () {
            return /* binding */ __asyncGenerator;
          },
          /* harmony export */ __asyncDelegator: function () {
            return /* binding */ __asyncDelegator;
          },
          /* harmony export */ __asyncValues: function () {
            return /* binding */ __asyncValues;
          },
          /* harmony export */ __makeTemplateObject: function () {
            return /* binding */ __makeTemplateObject;
          },
          /* harmony export */ __importStar: function () {
            return /* binding */ __importStar;
          },
          /* harmony export */ __importDefault: function () {
            return /* binding */ __importDefault;
          },
          /* harmony export */
        });
        /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
        /* global Reflect, Promise */

        var extendStatics = function (d, b) {
          extendStatics =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (d, b) {
                d.__proto__ = b;
              }) ||
            function (d, b) {
              for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
            };
          return extendStatics(d, b);
        };

        function __extends(d, b) {
          extendStatics(d, b);
          function __() {
            this.constructor = d;
          }
          d.prototype =
            b === null
              ? Object.create(b)
              : ((__.prototype = b.prototype), new __());
        }

        var __assign = function () {
          __assign =
            Object.assign ||
            function __assign(t) {
              for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                  if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
              }
              return t;
            };
          return __assign.apply(this, arguments);
        };

        function __rest(s, e) {
          var t = {};
          for (var p in s)
            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
              t[p] = s[p];
          if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (
              var i = 0, p = Object.getOwnPropertySymbols(s);
              i < p.length;
              i++
            ) {
              if (
                e.indexOf(p[i]) < 0 &&
                Object.prototype.propertyIsEnumerable.call(s, p[i])
              )
                t[p[i]] = s[p[i]];
            }
          return t;
        }

        function __decorate(decorators, target, key, desc) {
          var c = arguments.length,
            r =
              c < 3
                ? target
                : desc === null
                ? (desc = Object.getOwnPropertyDescriptor(target, key))
                : desc,
            d;
          if (
            typeof Reflect === "object" &&
            typeof Reflect.decorate === "function"
          )
            r = Reflect.decorate(decorators, target, key, desc);
          else
            for (var i = decorators.length - 1; i >= 0; i--)
              if ((d = decorators[i]))
                r =
                  (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) ||
                  r;
          return c > 3 && r && Object.defineProperty(target, key, r), r;
        }

        function __param(paramIndex, decorator) {
          return function (target, key) {
            decorator(target, key, paramIndex);
          };
        }

        function __metadata(metadataKey, metadataValue) {
          if (
            typeof Reflect === "object" &&
            typeof Reflect.metadata === "function"
          )
            return Reflect.metadata(metadataKey, metadataValue);
        }

        function __awaiter(thisArg, _arguments, P, generator) {
          return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) {
              try {
                step(generator.next(value));
              } catch (e) {
                reject(e);
              }
            }
            function rejected(value) {
              try {
                step(generator["throw"](value));
              } catch (e) {
                reject(e);
              }
            }
            function step(result) {
              result.done
                ? resolve(result.value)
                : new P(function (resolve) {
                    resolve(result.value);
                  }).then(fulfilled, rejected);
            }
            step(
              (generator = generator.apply(thisArg, _arguments || [])).next()
            );
          });
        }

        function __generator(thisArg, body) {
          var _ = {
              label: 0,
              sent: function () {
                if (t[0] & 1) throw t[1];
                return t[1];
              },
              trys: [],
              ops: [],
            },
            f,
            y,
            t,
            g;
          return (
            (g = { next: verb(0), throw: verb(1), return: verb(2) }),
            typeof Symbol === "function" &&
              (g[Symbol.iterator] = function () {
                return this;
              }),
            g
          );
          function verb(n) {
            return function (v) {
              return step([n, v]);
            };
          }
          function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_)
              try {
                if (
                  ((f = 1),
                  y &&
                    (t =
                      op[0] & 2
                        ? y["return"]
                        : op[0]
                        ? y["throw"] || ((t = y["return"]) && t.call(y), 0)
                        : y.next) &&
                    !(t = t.call(y, op[1])).done)
                )
                  return t;
                if (((y = 0), t)) op = [op[0] & 2, t.value];
                switch (op[0]) {
                  case 0:
                  case 1:
                    t = op;
                    break;
                  case 4:
                    _.label++;
                    return { value: op[1], done: false };
                  case 5:
                    _.label++;
                    y = op[1];
                    op = [0];
                    continue;
                  case 7:
                    op = _.ops.pop();
                    _.trys.pop();
                    continue;
                  default:
                    if (
                      !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&
                      (op[0] === 6 || op[0] === 2)
                    ) {
                      _ = 0;
                      continue;
                    }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                      _.label = op[1];
                      break;
                    }
                    if (op[0] === 6 && _.label < t[1]) {
                      _.label = t[1];
                      t = op;
                      break;
                    }
                    if (t && _.label < t[2]) {
                      _.label = t[2];
                      _.ops.push(op);
                      break;
                    }
                    if (t[2]) _.ops.pop();
                    _.trys.pop();
                    continue;
                }
                op = body.call(thisArg, _);
              } catch (e) {
                op = [6, e];
                y = 0;
              } finally {
                f = t = 0;
              }
            if (op[0] & 5) throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
          }
        }

        function __exportStar(m, exports) {
          for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
        }

        function __values(o) {
          var m = typeof Symbol === "function" && o[Symbol.iterator],
            i = 0;
          if (m) return m.call(o);
          return {
            next: function () {
              if (o && i >= o.length) o = void 0;
              return { value: o && o[i++], done: !o };
            },
          };
        }

        function __read(o, n) {
          var m = typeof Symbol === "function" && o[Symbol.iterator];
          if (!m) return o;
          var i = m.call(o),
            r,
            ar = [],
            e;
          try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
              ar.push(r.value);
          } catch (error) {
            e = { error: error };
          } finally {
            try {
              if (r && !r.done && (m = i["return"])) m.call(i);
            } finally {
              if (e) throw e.error;
            }
          }
          return ar;
        }

        function __spread() {
          for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
          return ar;
        }

        function __spreadArrays() {
          for (var s = 0, i = 0, il = arguments.length; i < il; i++)
            s += arguments[i].length;
          for (var r = Array(s), k = 0, i = 0; i < il; i++)
            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
              r[k] = a[j];
          return r;
        }

        function __await(v) {
          return this instanceof __await
            ? ((this.v = v), this)
            : new __await(v);
        }

        function __asyncGenerator(thisArg, _arguments, generator) {
          if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
          var g = generator.apply(thisArg, _arguments || []),
            i,
            q = [];
          return (
            (i = {}),
            verb("next"),
            verb("throw"),
            verb("return"),
            (i[Symbol.asyncIterator] = function () {
              return this;
            }),
            i
          );
          function verb(n) {
            if (g[n])
              i[n] = function (v) {
                return new Promise(function (a, b) {
                  q.push([n, v, a, b]) > 1 || resume(n, v);
                });
              };
          }
          function resume(n, v) {
            try {
              step(g[n](v));
            } catch (e) {
              settle(q[0][3], e);
            }
          }
          function step(r) {
            r.value instanceof __await
              ? Promise.resolve(r.value.v).then(fulfill, reject)
              : settle(q[0][2], r);
          }
          function fulfill(value) {
            resume("next", value);
          }
          function reject(value) {
            resume("throw", value);
          }
          function settle(f, v) {
            if ((f(v), q.shift(), q.length)) resume(q[0][0], q[0][1]);
          }
        }

        function __asyncDelegator(o) {
          var i, p;
          return (
            (i = {}),
            verb("next"),
            verb("throw", function (e) {
              throw e;
            }),
            verb("return"),
            (i[Symbol.iterator] = function () {
              return this;
            }),
            i
          );
          function verb(n, f) {
            i[n] = o[n]
              ? function (v) {
                  return (p = !p)
                    ? { value: __await(o[n](v)), done: n === "return" }
                    : f
                    ? f(v)
                    : v;
                }
              : f;
          }
        }

        function __asyncValues(o) {
          if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
          var m = o[Symbol.asyncIterator],
            i;
          return m
            ? m.call(o)
            : ((o =
                typeof __values === "function"
                  ? __values(o)
                  : o[Symbol.iterator]()),
              (i = {}),
              verb("next"),
              verb("throw"),
              verb("return"),
              (i[Symbol.asyncIterator] = function () {
                return this;
              }),
              i);
          function verb(n) {
            i[n] =
              o[n] &&
              function (v) {
                return new Promise(function (resolve, reject) {
                  (v = o[n](v)), settle(resolve, reject, v.done, v.value);
                });
              };
          }
          function settle(resolve, reject, d, v) {
            Promise.resolve(v).then(function (v) {
              resolve({ value: v, done: d });
            }, reject);
          }
        }

        function __makeTemplateObject(cooked, raw) {
          if (Object.defineProperty) {
            Object.defineProperty(cooked, "raw", { value: raw });
          } else {
            cooked.raw = raw;
          }
          return cooked;
        }

        function __importStar(mod) {
          if (mod && mod.__esModule) return mod;
          var result = {};
          if (mod != null)
            for (var k in mod)
              if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
          result.default = mod;
          return result;
        }

        function __importDefault(mod) {
          return mod && mod.__esModule ? mod : { default: mod };
        }

        /***/
      },

    /******/
  };
  /************************************************************************/
  /******/ // The module cache
  /******/ var __webpack_module_cache__ = {};
  /******/
  /******/ // The require function
  /******/ function __webpack_require__(moduleId) {
    /******/ // Check if module is in cache
    /******/ var cachedModule = __webpack_module_cache__[moduleId];
    /******/ if (cachedModule !== undefined) {
      /******/ return cachedModule.exports;
      /******/
    }
    /******/ // Create a new module (and put it into the cache)
    /******/ var module = (__webpack_module_cache__[moduleId] = {
      /******/ // no module.id needed
      /******/ // no module.loaded needed
      /******/ exports: {},
      /******/
    });
    /******/
    /******/ // Execute the module function
    /******/ __webpack_modules__[moduleId](
      module,
      module.exports,
      __webpack_require__
    );
    /******/
    /******/ // Return the exports of the module
    /******/ return module.exports;
    /******/
  }
  /******/
  /************************************************************************/
  /******/ /* webpack/runtime/define property getters */
  /******/ !(function () {
    /******/ // define getter functions for harmony exports
    /******/ __webpack_require__.d = function (exports, definition) {
      /******/ for (var key in definition) {
        /******/ if (
          __webpack_require__.o(definition, key) &&
          !__webpack_require__.o(exports, key)
        ) {
          /******/ Object.defineProperty(exports, key, {
            enumerable: true,
            get: definition[key],
          });
          /******/
        }
        /******/
      }
      /******/
    };
    /******/
  })();
  /******/
  /******/ /* webpack/runtime/hasOwnProperty shorthand */
  /******/ !(function () {
    /******/ __webpack_require__.o = function (obj, prop) {
      return Object.prototype.hasOwnProperty.call(obj, prop);
    };
    /******/
  })();
  /******/
  /******/ /* webpack/runtime/make namespace object */
  /******/ !(function () {
    /******/ // define __esModule on exports
    /******/ __webpack_require__.r = function (exports) {
      /******/ if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
        /******/ Object.defineProperty(exports, Symbol.toStringTag, {
          value: "Module",
        });
        /******/
      }
      /******/ Object.defineProperty(exports, "__esModule", { value: true });
      /******/
    };
    /******/
  })();
  /******/
  /************************************************************************/
  var __webpack_exports__ = {};
  // This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
  !(function () {
    /*!*******************************!*\
  !*** ./src/boot/rum.entry.ts ***!
  \*******************************/
    __webpack_require__.r(__webpack_exports__);
    /* harmony export */ __webpack_require__.d(__webpack_exports__, {
      /* harmony export */ datadogRum: function () {
        return /* binding */ datadogRum;
      },
      /* harmony export */
    });
    /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__ =
      __webpack_require__(
        /*! @datadog/browser-core */ "../core/src/boot/init.ts"
      );
    /* harmony import */ var _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__ =
      __webpack_require__(
        /*! @datadog/browser-core */ "../core/src/tools/utils.ts"
      );
    /* harmony import */ var _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__ =
      __webpack_require__(
        /*! @datadog/browser-rum-core */ "../rum-core/src/index.ts"
      );
    /* harmony import */ var _startRecording__WEBPACK_IMPORTED_MODULE_1__ =
      __webpack_require__(
        /*! ./startRecording */ "./src/boot/startRecording.ts"
      );
    /* harmony import */ var _recorderApi__WEBPACK_IMPORTED_MODULE_2__ =
      __webpack_require__(/*! ./recorderApi */ "./src/boot/recorderApi.ts");

    var recorderApi = (0,
    _recorderApi__WEBPACK_IMPORTED_MODULE_2__.makeRecorderApi)(
      _startRecording__WEBPACK_IMPORTED_MODULE_1__.startRecording
    );
    var datadogRum = (0,
    _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.makeRumPublicApi)(
      _datadog_browser_rum_core__WEBPACK_IMPORTED_MODULE_0__.startRum,
      recorderApi
    );
    (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_3__.defineGlobal)(
      (0, _datadog_browser_core__WEBPACK_IMPORTED_MODULE_4__.getGlobalObject)(),
      "DD_RUM",
      datadogRum
    );
  })();
  /******/
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy9ib290L2luaXQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvYnJvd3Nlci9jb29raWUudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvYnJvd3Nlci9mZXRjaE9ic2VydmFibGUudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvYnJvd3Nlci94aHJPYnNlcnZhYmxlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL2RvbWFpbi9jb25maWd1cmF0aW9uL2NvbmZpZ3VyYXRpb24udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvZG9tYWluL2NvbmZpZ3VyYXRpb24vZW5kcG9pbnRCdWlsZGVyLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL2RvbWFpbi9jb25maWd1cmF0aW9uL2V4cGVyaW1lbnRhbEZlYXR1cmVzLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL2RvbWFpbi9jb25maWd1cmF0aW9uL3RyYW5zcG9ydENvbmZpZ3VyYXRpb24udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvZG9tYWluL2Vycm9yL3RyYWNrQ29uc29sZUVycm9yLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL2RvbWFpbi9lcnJvci90cmFja1J1bnRpbWVFcnJvci50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy9kb21haW4vaW50ZXJuYWxNb25pdG9yaW5nLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL2RvbWFpbi9zZXNzaW9uL29sZENvb2tpZXNNaWdyYXRpb24udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvZG9tYWluL3Nlc3Npb24vc2Vzc2lvbk1hbmFnZW1lbnQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvZG9tYWluL3Nlc3Npb24vc2Vzc2lvblN0b3JlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL2RvbWFpbi90cmFjZWtpdC9jb21wdXRlU3RhY2tUcmFjZS50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy9kb21haW4vdHJhY2VraXQvdHJhY2VraXQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvdG9vbHMvYm91bmRlZEJ1ZmZlci50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy9icm93c2VyRGV0ZWN0aW9uLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL3Rvb2xzL2NhdGNoVXNlckVycm9ycy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy9jb250ZXh0TWFuYWdlci50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy9jcmVhdGVFdmVudFJhdGVMaW1pdGVyLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL3Rvb2xzL2Rpc3BsYXkudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvdG9vbHMvZXJyb3IudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvdG9vbHMvaW5zdHJ1bWVudE1ldGhvZC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy9saW1pdE1vZGlmaWNhdGlvbi50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy9vYnNlcnZhYmxlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL3Rvb2xzL3RpbWVVdGlscy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy91cmxQb2x5ZmlsbC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90b29scy91dGlscy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9jb3JlL3NyYy90cmFuc3BvcnQvYmF0Y2gudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vY29yZS9zcmMvdHJhbnNwb3J0L2V2ZW50QnJpZGdlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL2NvcmUvc3JjL3RyYW5zcG9ydC9odHRwUmVxdWVzdC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvYm9vdC9idWlsZEVudi50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvYm9vdC9ydW1QdWJsaWNBcGkudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2Jvb3Qvc3RhcnRSdW0udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2Jyb3dzZXIvZG9tTXV0YXRpb25PYnNlcnZhYmxlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9icm93c2VyL2xvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9hc3NlbWJseS50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL2NvbnRleHRIaXN0b3J5LnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vZm9yZWdyb3VuZENvbnRleHRzLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vaW50ZXJuYWxDb250ZXh0LnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vbGlmZUN5Y2xlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vcGFyZW50Q29udGV4dHMudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9yZXF1ZXN0Q29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2FjdGlvbkNvbGxlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi9nZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2FjdGlvbi90cmFja0FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL2Vycm9yQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vbG9uZ1Rhc2svbG9uZ1Rhc2tDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9tYXRjaFJlcXVlc3RUaW1pbmcudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL3Jlc291cmNlQ29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VVdGlscy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja0ZpcnN0SGlkZGVuLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3RyYWNrSW5pdGlhbFZpZXdUaW1pbmdzLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3RyYWNrVmlld01ldHJpY3MudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3ZpZXcvdHJhY2tWaWV3cy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy92aWV3Q29sbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3J1bVNlc3Npb24udHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL2RvbWFpbi90cmFjaW5nL2dldERvY3VtZW50VHJhY2VJZC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3RyYWNpbmcvdHJhY2VyLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vdHJhY2tFdmVudENvdW50cy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvZG9tYWluL3VybENvbnRleHRzLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9kb21haW4vd2FpdElkbGVQYWdlLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4uL3J1bS1jb3JlL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvcmF3UnVtRXZlbnQudHlwZXMudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vcnVtLWNvcmUvc3JjL3RyYW5zcG9ydC9iYXRjaC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uLi9ydW0tY29yZS9zcmMvdHJhbnNwb3J0L3N0YXJ0UnVtRXZlbnRCcmlkZ2UudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvYm9vdC9yZWNvcmRlckFwaS50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uL3NyYy9ib290L3N0YXJ0UmVjb3JkaW5nLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uL3NyYy9kb21haW4vcmVjb3JkL2luZGV4LnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4vc3JjL2RvbWFpbi9yZWNvcmQvbXV0YXRpb25CYXRjaC50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uL3NyYy9kb21haW4vcmVjb3JkL211dGF0aW9uT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3JlY29yZC9vYnNlcnZlci50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uL3NyYy9kb21haW4vcmVjb3JkL3ByaXZhY3kudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3JlY29yZC9yZWNvcmQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3JlY29yZC9zZXJpYWxpemF0aW9uVXRpbHMudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3JlY29yZC9zZXJpYWxpemUudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3JlY29yZC90eXBlcy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uL3NyYy9kb21haW4vcmVjb3JkL3V0aWxzLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4vc3JjL2RvbWFpbi9yZWNvcmQvdmlld3BvcnRzLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4vc3JjL2RvbWFpbi9yZXBsYXlTdGF0cy50cyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS8uL3NyYy9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL3NlZ21lbnQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL3NlZ21lbnRDb2xsZWN0aW9uLnRzIiwid2VicGFjazovL0BkYXRhZG9nL2Jyb3dzZXItcnVtLy4vc3JjL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbi9zdGFydERlZmxhdGVXb3JrZXIudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvdHJhbnNwb3J0L3NlbmQudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi9zcmMvZG9tYWluL3NlZ21lbnRDb2xsZWN0aW9uL2RlZmxhdGVXb3JrZXIuanMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQGRhdGFkb2cvYnJvd3Nlci1ydW0vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9AZGF0YWRvZy9icm93c2VyLXJ1bS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL0BkYXRhZG9n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QUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxjQUFjLENBQUM7WUFDdEMsa0JBQWtCO1lBQ2xCLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUM7WUFDcEMsa0NBQWtDO1lBQ2xDLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUM7WUFDckMsT0FBTztZQUNQLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxZQUFZLENBQUM7WUFDdEMsT0FBTztZQUNQLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxZQUFZLENBQUM7WUFDdEMsb0JBQW9CO1lBQ3BCLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxZQUFZLENBQUM7WUFDdkMsT0FBTztZQUNQLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxZQUFZLENBQUM7WUFDekMsT0FBTztZQUNQLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxZQUFZLENBQUM7WUFDekMsT0FBTztZQUNQLElBQUksTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxZQUFZLENBQUM7WUFDNUMsT0FBTztZQUNQLElBQUksTUFBTSxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxZQUFZLENBQUM7U0FFN0M7UUFDRDs7V0FFRztRQUVILElBQUksT0FBTyxHQUFHLFNBQVMsT0FBTyxDQUFDLENBQUM7WUFDOUIsQ0FBQyxDQUFDLFdBQVcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU07WUFDNUIsMEJBQTBCO1lBRTFCLE1B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QUMsRUFBRSxDQUFDLENBQUM7d0JBQ2QsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2QsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2QsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2QsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQ2QsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLGNBQWMsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3BGLFFBQVEsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDO3dCQUNwQixDQUFDLENBQUMsTUFBTSxHQUFHLFVBQVU7cUJBQ3RCO3lCQUFNO3dCQUNMLFFBQVEsQ0FDTixDQUFDLEVBQ0QsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ3JCLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUN2QixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUN4QixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQy9CO3dCQUNELFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO3dCQUNqQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO3dCQUN4QyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO3dCQUN6QyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDO3dCQUN6QyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksY0FBYyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDcEYsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUM7d0JBRS9CLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFOzRCQUMzQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7NEJBQ3pDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO3lCQUNqRDt3QkFFRCxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFOzRCQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FB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LHNDQUFzQyxVQUFVLG9CQUFvQixFQUFFLEVBQUUsVUFBVTtBQUM5SDs7QUFFTztBQUNQLGdDQUFnQyx1Q0FBdUMsYUFBYSxFQUFFLEVBQUUsT0FBTyxrQkFBa0I7QUFDakg7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQLDRDQUE0QztBQUM1Qzs7Ozs7OztVQ25NQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHdDQUF3Qyx5Q0FBeUM7V0FDakY7V0FDQTtXQUNBLEU7Ozs7O1dDUEEsNkNBQTZDLHdEQUF3RCxFOzs7OztXQ0FyRztXQUNBO1dBQ0E7V0FDQSxzREFBc0Qsa0JBQWtCO1dBQ3hFO1dBQ0EsK0NBQStDLGNBQWM7V0FDN0QsRTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05xRTtBQUNlO0FBRW5DO0FBQ0Y7QUFFL0MsSUFBTSxXQUFXLEdBQUcsNkRBQWUsQ0FBQywyREFBYyxDQUFDO0FBQzVDLElBQU0sVUFBVSxHQUFHLDJFQUFnQixDQUFDLCtEQUFRLEVBQUUsV0FBVyxDQUFDO0FBS2pFLG1FQUFZLENBQUMsc0VBQWUsRUFBaUIsRUFBRSxRQUFRLEVBQUUsVUFBVSxDQUFDIiwiZmlsZSI6ImRhdGFkb2ctcnVtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnVpbGRDb25maWd1cmF0aW9uLCBJbml0Q29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9jb25maWd1cmF0aW9uJ1xuaW1wb3J0IHsgc2V0RGVidWdNb2RlLCBzdGFydEludGVybmFsTW9uaXRvcmluZyB9IGZyb20gJy4uL2RvbWFpbi9pbnRlcm5hbE1vbml0b3JpbmcnXG5pbXBvcnQgeyBjYXRjaFVzZXJFcnJvcnMgfSBmcm9tICcuLi90b29scy9jYXRjaFVzZXJFcnJvcnMnXG5pbXBvcnQgeyB1cGRhdGVFeHBlcmltZW50YWxGZWF0dXJlcyB9IGZyb20gJy4uL2RvbWFpbi9jb25maWd1cmF0aW9uL2V4cGVyaW1lbnRhbEZlYXR1cmVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVB1YmxpY0FwaTxUPihzdHViOiBUKTogVCAmIHsgb25SZWFkeShjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQgfSB7XG4gIGNvbnN0IHB1YmxpY0FwaSA9IHtcbiAgICAuLi5zdHViLFxuXG4gICAgLy8gVGhpcyBBUEkgbWV0aG9kIGlzIGludGVudGlvbmFsbHkgbm90IG1vbml0b3JlZCwgc2luY2UgdGhlIG9ubHkgdGhpbmcgZXhlY3V0ZWQgaXMgdGhlXG4gICAgLy8gdXNlci1wcm92aWRlZCAnY2FsbGJhY2snLiAgQWxsIFNESyB1c2FnZXMgZXhlY3V0ZWQgaW4gdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBtb25pdG9yZWQsIGFuZFxuICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gaW50ZXJmZXJlIHdpdGggdGhlIHVzZXIgdW5jYXVnaHQgZXhjZXB0aW9ucy5cbiAgICBvblJlYWR5KGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfSxcbiAgfVxuXG4gIC8vIEFkZCBhbiBcImhpZGRlblwiIHByb3BlcnR5IHRvIHNldCBkZWJ1ZyBtb2RlLiBXZSBkZWZpbmUgaXQgdGhhdCB3YXkgdG8gaGlkZSBpdFxuICAvLyBhcyBtdWNoIGFzIHBvc3NpYmxlIGJ1dCBvZiBjb3Vyc2UgaXQncyBub3QgYSByZWFsIHByb3RlY3Rpb24uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwdWJsaWNBcGksICdfc2V0RGVidWcnLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHNldERlYnVnTW9kZVxuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gIH0pXG5cbiAgcmV0dXJuIHB1YmxpY0FwaVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lR2xvYmFsPEdsb2JhbCwgTmFtZSBleHRlbmRzIGtleW9mIEdsb2JhbD4oZ2xvYmFsOiBHbG9iYWwsIG5hbWU6IE5hbWUsIGFwaTogR2xvYmFsW05hbWVdKSB7XG4gIGNvbnN0IGV4aXN0aW5nR2xvYmFsVmFyaWFibGU6IHsgcT86IEFycmF5PCgpID0+IHZvaWQ+IH0gfCB1bmRlZmluZWQgPSBnbG9iYWxbbmFtZV1cbiAgZ2xvYmFsW25hbWVdID0gYXBpXG4gIGlmIChleGlzdGluZ0dsb2JhbFZhcmlhYmxlICYmIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUucSkge1xuICAgIGV4aXN0aW5nR2xvYmFsVmFyaWFibGUucS5mb3JFYWNoKChmbikgPT4gY2F0Y2hVc2VyRXJyb3JzKGZuLCAnb25SZWFkeSBjYWxsYmFjayB0aHJldyBhbiBlcnJvcjonKSgpKVxuICB9XG59XG5cbmV4cG9ydCBlbnVtIEJ1aWxkTW9kZSB7XG4gIFJFTEVBU0UgPSAncmVsZWFzZScsXG4gIFNUQUdJTkcgPSAnc3RhZ2luZycsXG4gIENBTkFSWSA9ICdjYW5hcnknLFxuICBFMkVfVEVTVCA9ICdlMmUtdGVzdCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRFbnYge1xuICBidWlsZE1vZGU6IEJ1aWxkTW9kZVxuICBzZGtWZXJzaW9uOiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbkluaXQoaW5pdENvbmZpZ3VyYXRpb246IEluaXRDb25maWd1cmF0aW9uLCBidWlsZEVudjogQnVpbGRFbnYpIHtcbiAgdXBkYXRlRXhwZXJpbWVudGFsRmVhdHVyZXMoaW5pdENvbmZpZ3VyYXRpb24uZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXMpXG4gIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBidWlsZENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24sIGJ1aWxkRW52KVxuICBjb25zdCBpbnRlcm5hbE1vbml0b3JpbmcgPSBzdGFydEludGVybmFsTW9uaXRvcmluZyhjb25maWd1cmF0aW9uKVxuXG4gIHJldHVybiB7XG4gICAgY29uZmlndXJhdGlvbixcbiAgICBpbnRlcm5hbE1vbml0b3JpbmcsXG4gIH1cbn1cbiIsImltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi90b29scy9kaXNwbGF5J1xuaW1wb3J0IHsgZmluZENvbW1hU2VwYXJhdGVkVmFsdWUsIGdlbmVyYXRlVVVJRCwgT05FX1NFQ09ORCB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzJ1xuXG5leHBvcnQgY29uc3QgQ09PS0lFX0FDQ0VTU19ERUxBWSA9IE9ORV9TRUNPTkRcblxuZXhwb3J0IGludGVyZmFjZSBDb29raWVPcHRpb25zIHtcbiAgc2VjdXJlPzogYm9vbGVhblxuICBjcm9zc1NpdGU/OiBib29sZWFuXG4gIGRvbWFpbj86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvb2tpZUNhY2hlIHtcbiAgZ2V0OiAoKSA9PiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgc2V0OiAodmFsdWU6IHN0cmluZywgZXhwaXJlRGVsYXk6IG51bWJlcikgPT4gdm9pZFxuICBjbGVhckNhY2hlOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZUNvb2tpZUFjY2VzcyhuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpOiBDb29raWVDYWNoZSB7XG4gIGxldCB0aW1lb3V0OiBudW1iZXJcbiAgbGV0IGNhY2hlOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgbGV0IGhhc0NhY2hlID0gZmFsc2VcblxuICBjb25zdCBjYWNoZUFjY2VzcyA9ICgpID0+IHtcbiAgICBoYXNDYWNoZSA9IHRydWVcbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBoYXNDYWNoZSA9IGZhbHNlXG4gICAgfSwgQ09PS0lFX0FDQ0VTU19ERUxBWSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0OiAoKSA9PiB7XG4gICAgICBpZiAoaGFzQ2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlXG4gICAgICB9XG4gICAgICBjYWNoZSA9IGdldENvb2tpZShuYW1lKVxuICAgICAgY2FjaGVBY2Nlc3MoKVxuICAgICAgcmV0dXJuIGNhY2hlXG4gICAgfSxcbiAgICBzZXQ6ICh2YWx1ZTogc3RyaW5nLCBleHBpcmVEZWxheTogbnVtYmVyKSA9PiB7XG4gICAgICBzZXRDb29raWUobmFtZSwgdmFsdWUsIGV4cGlyZURlbGF5LCBvcHRpb25zKVxuICAgICAgY2FjaGUgPSB2YWx1ZVxuICAgICAgY2FjaGVBY2Nlc3MoKVxuICAgIH0sXG4gICAgY2xlYXJDYWNoZTogKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICBoYXNDYWNoZSA9IGZhbHNlXG4gICAgfSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29va2llKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJlRGVsYXk6IG51bWJlciwgb3B0aW9ucz86IENvb2tpZU9wdGlvbnMpIHtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgZXhwaXJlRGVsYXkpXG4gIGNvbnN0IGV4cGlyZXMgPSBgZXhwaXJlcz0ke2RhdGUudG9VVENTdHJpbmcoKX1gXG4gIGNvbnN0IHNhbWVTaXRlID0gb3B0aW9ucyAmJiBvcHRpb25zLmNyb3NzU2l0ZSA/ICdub25lJyA6ICdzdHJpY3QnXG4gIGNvbnN0IGRvbWFpbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kb21haW4gPyBgO2RvbWFpbj0ke29wdGlvbnMuZG9tYWlufWAgOiAnJ1xuICBjb25zdCBzZWN1cmUgPSBvcHRpb25zICYmIG9wdGlvbnMuc2VjdXJlID8gYDtzZWN1cmVgIDogJydcbiAgZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09JHt2YWx1ZX07JHtleHBpcmVzfTtwYXRoPS87c2FtZXNpdGU9JHtzYW1lU2l0ZX0ke2RvbWFpbn0ke3NlY3VyZX1gXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWUobmFtZTogc3RyaW5nKSB7XG4gIHJldHVybiBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZShkb2N1bWVudC5jb29raWUsIG5hbWUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDb29raWUobmFtZTogc3RyaW5nLCBvcHRpb25zPzogQ29va2llT3B0aW9ucykge1xuICBzZXRDb29raWUobmFtZSwgJycsIDAsIG9wdGlvbnMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVDb29raWVzQXV0aG9yaXplZChvcHRpb25zOiBDb29raWVPcHRpb25zKTogYm9vbGVhbiB7XG4gIGlmIChkb2N1bWVudC5jb29raWUgPT09IHVuZGVmaW5lZCB8fCBkb2N1bWVudC5jb29raWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICB0cnkge1xuICAgIC8vIFVzZSBhIHVuaXF1ZSBjb29raWUgbmFtZSB0byBhdm9pZCBpc3N1ZXMgd2hlbiB0aGUgU0RLIGlzIGluaXRpYWxpemVkIG11bHRpcGxlIHRpbWVzIGR1cmluZ1xuICAgIC8vIHRoZSB0ZXN0IGNvb2tpZSBsaWZldGltZVxuICAgIGNvbnN0IHRlc3RDb29raWVOYW1lID0gYGRkX2Nvb2tpZV90ZXN0XyR7Z2VuZXJhdGVVVUlEKCl9YFxuICAgIGNvbnN0IHRlc3RDb29raWVWYWx1ZSA9ICd0ZXN0J1xuICAgIHNldENvb2tpZSh0ZXN0Q29va2llTmFtZSwgdGVzdENvb2tpZVZhbHVlLCBPTkVfU0VDT05ELCBvcHRpb25zKVxuICAgIGNvbnN0IGlzQ29va2llQ29ycmVjdGx5U2V0ID0gZ2V0Q29va2llKHRlc3RDb29raWVOYW1lKSA9PT0gdGVzdENvb2tpZVZhbHVlXG4gICAgZGVsZXRlQ29va2llKHRlc3RDb29raWVOYW1lLCBvcHRpb25zKVxuICAgIHJldHVybiBpc0Nvb2tpZUNvcnJlY3RseVNldFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGRpc3BsYXkuZXJyb3IoZXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBObyBBUEkgdG8gcmV0cmlldmUgaXQsIG51bWJlciBvZiBsZXZlbHMgZm9yIHN1YmRvbWFpbiBhbmQgc3VmZml4IGFyZSB1bmtub3duXG4gKiBzdHJhdGVneTogZmluZCB0aGUgbWluaW1hbCBkb21haW4gb24gd2hpY2ggY29va2llcyBhcmUgYWxsb3dlZCB0byBiZSBzZXRcbiAqIGh0dHBzOi8vd2ViLmRldi9zYW1lLXNpdGUtc2FtZS1vcmlnaW4vI3NpdGVcbiAqL1xubGV0IGdldEN1cnJlbnRTaXRlQ2FjaGU6IHN0cmluZyB8IHVuZGVmaW5lZFxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTaXRlKCkge1xuICBpZiAoZ2V0Q3VycmVudFNpdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gVXNlIGEgdW5pcXVlIGNvb2tpZSBuYW1lIHRvIGF2b2lkIGlzc3VlcyB3aGVuIHRoZSBTREsgaXMgaW5pdGlhbGl6ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nXG4gICAgLy8gdGhlIHRlc3QgY29va2llIGxpZmV0aW1lXG4gICAgY29uc3QgdGVzdENvb2tpZU5hbWUgPSBgZGRfc2l0ZV90ZXN0XyR7Z2VuZXJhdGVVVUlEKCl9YFxuICAgIGNvbnN0IHRlc3RDb29raWVWYWx1ZSA9ICd0ZXN0J1xuXG4gICAgY29uc3QgZG9tYWluTGV2ZWxzID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnNwbGl0KCcuJylcbiAgICBsZXQgY2FuZGlkYXRlRG9tYWluID0gZG9tYWluTGV2ZWxzLnBvcCgpIVxuICAgIHdoaWxlIChkb21haW5MZXZlbHMubGVuZ3RoICYmICFnZXRDb29raWUodGVzdENvb2tpZU5hbWUpKSB7XG4gICAgICBjYW5kaWRhdGVEb21haW4gPSBgJHtkb21haW5MZXZlbHMucG9wKCkhfS4ke2NhbmRpZGF0ZURvbWFpbn1gXG4gICAgICBzZXRDb29raWUodGVzdENvb2tpZU5hbWUsIHRlc3RDb29raWVWYWx1ZSwgT05FX1NFQ09ORCwgeyBkb21haW46IGNhbmRpZGF0ZURvbWFpbiB9KVxuICAgIH1cbiAgICBkZWxldGVDb29raWUodGVzdENvb2tpZU5hbWUsIHsgZG9tYWluOiBjYW5kaWRhdGVEb21haW4gfSlcbiAgICBnZXRDdXJyZW50U2l0ZUNhY2hlID0gY2FuZGlkYXRlRG9tYWluXG4gIH1cbiAgcmV0dXJuIGdldEN1cnJlbnRTaXRlQ2FjaGVcbn1cbiIsImltcG9ydCB7IG1vbml0b3IsIGNhbGxNb25pdG9yZWQgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxNb25pdG9yaW5nJ1xuaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UgfSBmcm9tICcuLi9kb21haW4vdHJhY2VraXQnXG5pbXBvcnQgeyB0b1N0YWNrVHJhY2VTdHJpbmcgfSBmcm9tICcuLi90b29scy9lcnJvcidcbmltcG9ydCB7IGluc3RydW1lbnRNZXRob2QgfSBmcm9tICcuLi90b29scy9pbnN0cnVtZW50TWV0aG9kJ1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3Rvb2xzL29ic2VydmFibGUnXG5pbXBvcnQgeyBEdXJhdGlvbiwgZWxhcHNlZCwgQ2xvY2tzU3RhdGUsIGNsb2Nrc05vdywgdGltZVN0YW1wTm93IH0gZnJvbSAnLi4vdG9vbHMvdGltZVV0aWxzJ1xuaW1wb3J0IHsgbm9ybWFsaXplVXJsIH0gZnJvbSAnLi4vdG9vbHMvdXJsUG9seWZpbGwnXG5cbmludGVyZmFjZSBGZXRjaENvbnRleHRCYXNlIHtcbiAgbWV0aG9kOiBzdHJpbmdcbiAgc3RhcnRDbG9ja3M6IENsb2Nrc1N0YXRlXG4gIGlucHV0OiBSZXF1ZXN0SW5mb1xuICBpbml0PzogUmVxdWVzdEluaXRcbiAgdXJsOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZXRjaFN0YXJ0Q29udGV4dCBleHRlbmRzIEZldGNoQ29udGV4dEJhc2Uge1xuICBzdGF0ZTogJ3N0YXJ0J1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZldGNoQ29tcGxldGVDb250ZXh0IGV4dGVuZHMgRmV0Y2hDb250ZXh0QmFzZSB7XG4gIHN0YXRlOiAnY29tcGxldGUnXG4gIGR1cmF0aW9uOiBEdXJhdGlvblxuICBzdGF0dXM6IG51bWJlclxuICByZXNwb25zZT86IFJlc3BvbnNlXG4gIHJlc3BvbnNlVGV4dDogc3RyaW5nXG4gIHJlc3BvbnNlVHlwZT86IHN0cmluZ1xuICBpc0Fib3J0ZWQ6IGJvb2xlYW5cbiAgZXJyb3I/OiBFcnJvclxufVxuXG5leHBvcnQgdHlwZSBGZXRjaENvbnRleHQgPSBGZXRjaFN0YXJ0Q29udGV4dCB8IEZldGNoQ29tcGxldGVDb250ZXh0XG5cbmxldCBmZXRjaE9ic2VydmFibGU6IE9ic2VydmFibGU8RmV0Y2hDb250ZXh0PiB8IHVuZGVmaW5lZFxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEZldGNoT2JzZXJ2YWJsZSgpIHtcbiAgaWYgKCFmZXRjaE9ic2VydmFibGUpIHtcbiAgICBmZXRjaE9ic2VydmFibGUgPSBjcmVhdGVGZXRjaE9ic2VydmFibGUoKVxuICB9XG4gIHJldHVybiBmZXRjaE9ic2VydmFibGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmV0Y2hPYnNlcnZhYmxlKCkge1xuICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8RmV0Y2hDb250ZXh0PigoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZmV0Y2gpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHsgc3RvcCB9ID0gaW5zdHJ1bWVudE1ldGhvZChcbiAgICAgIHdpbmRvdyxcbiAgICAgICdmZXRjaCcsXG4gICAgICAob3JpZ2luYWxGZXRjaCkgPT5cbiAgICAgICAgZnVuY3Rpb24gKGlucHV0LCBpbml0KSB7XG4gICAgICAgICAgbGV0IHJlc3BvbnNlUHJvbWlzZTogUHJvbWlzZTxSZXNwb25zZT5cblxuICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYWxsTW9uaXRvcmVkKGJlZm9yZVNlbmQsIG51bGwsIFtvYnNlcnZhYmxlLCBpbnB1dCwgaW5pdF0pXG4gICAgICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBjb250ZXh0LmlucHV0LCBjb250ZXh0LmluaXQpXG4gICAgICAgICAgICBjYWxsTW9uaXRvcmVkKGFmdGVyU2VuZCwgbnVsbCwgW29ic2VydmFibGUsIHJlc3BvbnNlUHJvbWlzZSwgY29udGV4dF0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IG9yaWdpbmFsRmV0Y2guY2FsbCh0aGlzLCBpbnB1dCwgaW5pdClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2VQcm9taXNlXG4gICAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gc3RvcFxuICB9KVxuXG4gIHJldHVybiBvYnNlcnZhYmxlXG59XG5cbmZ1bmN0aW9uIGJlZm9yZVNlbmQob2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxGZXRjaENvbnRleHQ+LCBpbnB1dDogUmVxdWVzdEluZm8sIGluaXQ/OiBSZXF1ZXN0SW5pdCkge1xuICBjb25zdCBtZXRob2QgPSAoaW5pdCAmJiBpbml0Lm1ldGhvZCkgfHwgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQubWV0aG9kKSB8fCAnR0VUJ1xuICBjb25zdCB1cmwgPSBub3JtYWxpemVVcmwoKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQudXJsKSB8fCAoaW5wdXQgYXMgc3RyaW5nKSlcbiAgY29uc3Qgc3RhcnRDbG9ja3MgPSBjbG9ja3NOb3coKVxuXG4gIGNvbnN0IGNvbnRleHQ6IEZldGNoU3RhcnRDb250ZXh0ID0ge1xuICAgIHN0YXRlOiAnc3RhcnQnLFxuICAgIGluaXQsXG4gICAgaW5wdXQsXG4gICAgbWV0aG9kLFxuICAgIHN0YXJ0Q2xvY2tzLFxuICAgIHVybCxcbiAgfVxuXG4gIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpXG5cbiAgcmV0dXJuIGNvbnRleHRcbn1cblxuZnVuY3Rpb24gYWZ0ZXJTZW5kKFxuICBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPEZldGNoQ29udGV4dD4sXG4gIHJlc3BvbnNlUHJvbWlzZTogUHJvbWlzZTxSZXNwb25zZT4sXG4gIHN0YXJ0Q29udGV4dDogRmV0Y2hTdGFydENvbnRleHRcbikge1xuICBjb25zdCByZXBvcnRGZXRjaCA9IGFzeW5jIChyZXNwb25zZTogUmVzcG9uc2UgfCBFcnJvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSAoc3RhcnRDb250ZXh0IGFzIHVua25vd24pIGFzIEZldGNoQ29tcGxldGVDb250ZXh0XG4gICAgY29udGV4dC5zdGF0ZSA9ICdjb21wbGV0ZSdcbiAgICBjb250ZXh0LmR1cmF0aW9uID0gZWxhcHNlZChjb250ZXh0LnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCwgdGltZVN0YW1wTm93KCkpXG5cbiAgICBpZiAoJ3N0YWNrJyBpbiByZXNwb25zZSB8fCByZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjb250ZXh0LnN0YXR1cyA9IDBcbiAgICAgIGNvbnRleHQucmVzcG9uc2VUZXh0ID0gdG9TdGFja1RyYWNlU3RyaW5nKGNvbXB1dGVTdGFja1RyYWNlKHJlc3BvbnNlKSlcbiAgICAgIGNvbnRleHQuaXNBYm9ydGVkID0gcmVzcG9uc2UgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgcmVzcG9uc2UuY29kZSA9PT0gRE9NRXhjZXB0aW9uLkFCT1JUX0VSUlxuICAgICAgY29udGV4dC5lcnJvciA9IHJlc3BvbnNlXG5cbiAgICAgIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpXG4gICAgfSBlbHNlIGlmICgnc3RhdHVzJyBpbiByZXNwb25zZSkge1xuICAgICAgbGV0IHRleHQ6IHN0cmluZ1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLmNsb25lKCkudGV4dCgpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRleHQgPSBgVW5hYmxlIHRvIHJldHJpZXZlIHJlc3BvbnNlOiAke2UgYXMgc3RyaW5nfWBcbiAgICAgIH1cbiAgICAgIGNvbnRleHQucmVzcG9uc2UgPSByZXNwb25zZVxuICAgICAgY29udGV4dC5yZXNwb25zZVRleHQgPSB0ZXh0XG4gICAgICBjb250ZXh0LnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlLnR5cGVcbiAgICAgIGNvbnRleHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzXG4gICAgICBjb250ZXh0LmlzQWJvcnRlZCA9IGZhbHNlXG5cbiAgICAgIG9ic2VydmFibGUubm90aWZ5KGNvbnRleHQpXG4gICAgfVxuICB9XG4gIHJlc3BvbnNlUHJvbWlzZS50aGVuKG1vbml0b3IocmVwb3J0RmV0Y2gpLCBtb25pdG9yKHJlcG9ydEZldGNoKSlcbn1cbiIsImltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxNb25pdG9yaW5nJ1xuaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJy4uL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdG9vbHMvb2JzZXJ2YWJsZSdcbmltcG9ydCB7IER1cmF0aW9uLCBlbGFwc2VkLCByZWxhdGl2ZU5vdywgUmVsYXRpdmVUaW1lLCBDbG9ja3NTdGF0ZSwgY2xvY2tzTm93LCB0aW1lU3RhbXBOb3cgfSBmcm9tICcuLi90b29scy90aW1lVXRpbHMnXG5pbXBvcnQgeyBub3JtYWxpemVVcmwgfSBmcm9tICcuLi90b29scy91cmxQb2x5ZmlsbCdcblxuaW50ZXJmYWNlIEJyb3dzZXJYSFI8VD4gZXh0ZW5kcyBYTUxIdHRwUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB0aGlzIHByb3BlcnR5IGlzIHNoYXJlZCBieSBib3RoIGxvZ3MgYW5kIHJ1bSBhbmQgY2FuIGJlIHVzZWQgYnkgZGlmZmVyZW50IGNvZGVcbiAgICogdmVyc2lvbnMgZGVwZW5kaW5nIG9uIGN1c3RvbWVyIHNldHVwLiBUbyBpbXByb3ZlIHJlbGlhYmlsaXR5IGFuZCBtYWtlIFNES3MgaW5kZXBlbmRlbnQsIHRoaXNcbiAgICogcHJvcGVydHkgc2hvdWxkIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgYnV0IHRoaXMgd291bGQgYmUgYSBicmVha2luZyBjaGFuZ2Ugc2luY2Ugc29tZVxuICAgKiBjdXN0b21lcnMgYXJlIHVzaW5nIGl0LlxuICAgKlxuICAgKiBUT0RPKHY0KTogcmVwbGFjZSB0aGlzIHByb3BlcnR5IHdpdGggYSB3ZWFrbWFwIGluZGV4XG4gICAqL1xuICBfZGF0YWRvZ194aHI/OiBUXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgWGhyT3BlbkNvbnRleHQge1xuICBzdGF0ZTogJ29wZW4nXG4gIG1ldGhvZDogc3RyaW5nXG4gIHVybDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgWGhyU3RhcnRDb250ZXh0IGV4dGVuZHMgT21pdDxYaHJPcGVuQ29udGV4dCwgJ3N0YXRlJz4ge1xuICBzdGF0ZTogJ3N0YXJ0J1xuICBzdGFydFRpbWU6IFJlbGF0aXZlVGltZSAvLyBkZXByZWNhdGVkXG4gIHN0YXJ0Q2xvY2tzOiBDbG9ja3NTdGF0ZVxuICBpc0Fib3J0ZWQ6IGJvb2xlYW5cbiAgeGhyOiBYTUxIdHRwUmVxdWVzdFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFhockNvbXBsZXRlQ29udGV4dCBleHRlbmRzIE9taXQ8WGhyU3RhcnRDb250ZXh0LCAnc3RhdGUnPiB7XG4gIHN0YXRlOiAnY29tcGxldGUnXG4gIGR1cmF0aW9uOiBEdXJhdGlvblxuICBzdGF0dXM6IG51bWJlclxuICByZXNwb25zZVRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgdHlwZSBYaHJDb250ZXh0ID0gWGhyT3BlbkNvbnRleHQgfCBYaHJTdGFydENvbnRleHQgfCBYaHJDb21wbGV0ZUNvbnRleHRcblxubGV0IHhock9ic2VydmFibGU6IE9ic2VydmFibGU8WGhyQ29udGV4dD4gfCB1bmRlZmluZWRcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRYaHJPYnNlcnZhYmxlKCkge1xuICBpZiAoIXhock9ic2VydmFibGUpIHtcbiAgICB4aHJPYnNlcnZhYmxlID0gY3JlYXRlWGhyT2JzZXJ2YWJsZSgpXG4gIH1cbiAgcmV0dXJuIHhock9ic2VydmFibGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlWGhyT2JzZXJ2YWJsZSgpIHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFhockNvbnRleHQ+KCgpID0+IHtcbiAgICBjb25zdCB7IHN0b3A6IHN0b3BJbnN0cnVtZW50aW5nU3RhcnQgfSA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLCAnb3BlbicsIHtcbiAgICAgIGJlZm9yZTogb3BlblhocixcbiAgICB9KVxuXG4gICAgY29uc3QgeyBzdG9wOiBzdG9wSW5zdHJ1bWVudGluZ1NlbmQgfSA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLCAnc2VuZCcsIHtcbiAgICAgIGJlZm9yZSgpIHtcbiAgICAgICAgc2VuZFhoci5jYWxsKHRoaXMsIG9ic2VydmFibGUpXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBjb25zdCB7IHN0b3A6IHN0b3BJbnN0cnVtZW50aW5nQWJvcnQgfSA9IGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwoWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLCAnYWJvcnQnLCB7XG4gICAgICBiZWZvcmU6IGFib3J0WGhyLFxuICAgIH0pXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RvcEluc3RydW1lbnRpbmdTdGFydCgpXG4gICAgICBzdG9wSW5zdHJ1bWVudGluZ1NlbmQoKVxuICAgICAgc3RvcEluc3RydW1lbnRpbmdBYm9ydCgpXG4gICAgfVxuICB9KVxuICByZXR1cm4gb2JzZXJ2YWJsZVxufVxuXG5mdW5jdGlvbiBvcGVuWGhyKHRoaXM6IEJyb3dzZXJYSFI8WGhyT3BlbkNvbnRleHQ+LCBtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcpIHtcbiAgLy8gV0FSTjogc2luY2UgdGhpcyBkYXRhIHN0cnVjdHVyZSBpcyB0aWVkIHRvIHRoZSBpbnN0YW5jZSwgaXQgaXMgc2hhcmVkIGJ5IGJvdGggbG9ncyBhbmQgcnVtXG4gIC8vIGFuZCBjYW4gYmUgdXNlZCBieSBkaWZmZXJlbnQgY29kZSB2ZXJzaW9ucyBkZXBlbmRpbmcgb24gY3VzdG9tZXIgc2V0dXBcbiAgLy8gc28gaXQgc2hvdWxkIHN0YXkgY29tcGF0aWJsZSB3aXRoIG9sZGVyIHZlcnNpb25zXG4gIHRoaXMuX2RhdGFkb2dfeGhyID0ge1xuICAgIHN0YXRlOiAnb3BlbicsXG4gICAgbWV0aG9kLFxuICAgIHVybDogbm9ybWFsaXplVXJsKHVybCksXG4gIH1cbn1cblxuZnVuY3Rpb24gc2VuZFhocih0aGlzOiBCcm93c2VyWEhSPFhoclN0YXJ0Q29udGV4dD4sIG9ic2VydmFibGU6IE9ic2VydmFibGU8WGhyQ29udGV4dD4pIHtcbiAgaWYgKCF0aGlzLl9kYXRhZG9nX3hocikge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3Qgc3RhcnRDb250ZXh0ID0gdGhpcy5fZGF0YWRvZ194aHJcbiAgc3RhcnRDb250ZXh0LnN0YXRlID0gJ3N0YXJ0J1xuICBzdGFydENvbnRleHQuc3RhcnRUaW1lID0gcmVsYXRpdmVOb3coKVxuICBzdGFydENvbnRleHQuc3RhcnRDbG9ja3MgPSBjbG9ja3NOb3coKVxuICBzdGFydENvbnRleHQuaXNBYm9ydGVkID0gZmFsc2VcbiAgc3RhcnRDb250ZXh0LnhociA9IHRoaXNcblxuICBsZXQgaGFzQmVlblJlcG9ydGVkID0gZmFsc2VcblxuICBjb25zdCB7IHN0b3A6IHN0b3BJbnN0cnVtZW50aW5nT25SZWFkeVN0YXRlQ2hhbmdlIH0gPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKHRoaXMsICdvbnJlYWR5c3RhdGVjaGFuZ2UnLCB7XG4gICAgYmVmb3JlKCkge1xuICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICAvLyBUcnkgdG8gcmVwb3J0IHRoZSBYSFIgYXMgc29vbiBhcyBwb3NzaWJsZSwgYmVjYXVzZSB0aGUgWEhSIG1heSBiZSBtdXRhdGVkIGJ5IHRoZVxuICAgICAgICAvLyBhcHBsaWNhdGlvbiBkdXJpbmcgYSBmdXR1cmUgZXZlbnQuIEZvciBleGFtcGxlLCBBbmd1bGFyIGlzIGNhbGxpbmcgLmFib3J0KCkgb25cbiAgICAgICAgLy8gY29tcGxldGVkIHJlcXVlc3RzIGR1cmluZyBhIG9ucmVhZHlzdGF0ZWNoYW5nZSBldmVudCwgc28gdGhlIHN0YXR1cyBiZWNvbWVzICcwJ1xuICAgICAgICAvLyBiZWZvcmUgdGhlIHJlcXVlc3QgaXMgY29sbGVjdGVkLlxuICAgICAgICBvbkVuZCgpXG4gICAgICB9XG4gICAgfSxcbiAgfSlcblxuICBjb25zdCBvbkVuZCA9IG1vbml0b3IoKCkgPT4ge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIG9uRW5kKVxuICAgIHN0b3BJbnN0cnVtZW50aW5nT25SZWFkeVN0YXRlQ2hhbmdlKClcbiAgICBpZiAoaGFzQmVlblJlcG9ydGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaGFzQmVlblJlcG9ydGVkID0gdHJ1ZVxuXG4gICAgY29uc3QgY29tcGxldGVDb250ZXh0ID0gKHRoaXMuX2RhdGFkb2dfeGhyISBhcyB1bmtub3duKSBhcyBYaHJDb21wbGV0ZUNvbnRleHRcbiAgICBjb21wbGV0ZUNvbnRleHQuc3RhdGUgPSAnY29tcGxldGUnXG4gICAgY29tcGxldGVDb250ZXh0LmR1cmF0aW9uID0gZWxhcHNlZChzdGFydENvbnRleHQuc3RhcnRDbG9ja3MudGltZVN0YW1wLCB0aW1lU3RhbXBOb3coKSlcbiAgICBjb21wbGV0ZUNvbnRleHQucmVzcG9uc2VUZXh0ID0gdGhpcy5yZXNwb25zZSBhcyBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICBjb21wbGV0ZUNvbnRleHQuc3RhdHVzID0gdGhpcy5zdGF0dXNcbiAgICBvYnNlcnZhYmxlLm5vdGlmeSh7IC4uLmNvbXBsZXRlQ29udGV4dCB9KVxuICB9KVxuICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBvbkVuZClcbiAgb2JzZXJ2YWJsZS5ub3RpZnkoc3RhcnRDb250ZXh0KVxufVxuXG5mdW5jdGlvbiBhYm9ydFhocih0aGlzOiBCcm93c2VyWEhSPFhoclN0YXJ0Q29udGV4dD4pIHtcbiAgaWYgKHRoaXMuX2RhdGFkb2dfeGhyKSB7XG4gICAgdGhpcy5fZGF0YWRvZ194aHIuaXNBYm9ydGVkID0gdHJ1ZVxuICB9XG59XG4iLCJpbXBvcnQgeyBCdWlsZEVudiB9IGZyb20gJy4uLy4uL2Jvb3QvaW5pdCdcbmltcG9ydCB7IENvb2tpZU9wdGlvbnMsIGdldEN1cnJlbnRTaXRlIH0gZnJvbSAnLi4vLi4vYnJvd3Nlci9jb29raWUnXG5pbXBvcnQgeyBjYXRjaFVzZXJFcnJvcnMgfSBmcm9tICcuLi8uLi90b29scy9jYXRjaFVzZXJFcnJvcnMnXG5pbXBvcnQgeyBvYmplY3RIYXNWYWx1ZSwgT05FX0tJTE9fQllURSwgT05FX1NFQ09ORCB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJ1xuaW1wb3J0IHsgY29tcHV0ZVRyYW5zcG9ydENvbmZpZ3VyYXRpb24sIFRyYW5zcG9ydENvbmZpZ3VyYXRpb24gfSBmcm9tICcuL3RyYW5zcG9ydENvbmZpZ3VyYXRpb24nXG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UHJpdmFjeUxldmVsID0ge1xuICBBTExPVzogJ2FsbG93JyxcbiAgTUFTSzogJ21hc2snLFxuICBNQVNLX1VTRVJfSU5QVVQ6ICdtYXNrLXVzZXItaW5wdXQnLFxufSBhcyBjb25zdFxuZXhwb3J0IHR5cGUgRGVmYXVsdFByaXZhY3lMZXZlbCA9IHR5cGVvZiBEZWZhdWx0UHJpdmFjeUxldmVsW2tleW9mIHR5cGVvZiBEZWZhdWx0UHJpdmFjeUxldmVsXVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9DT05GSUdVUkFUSU9OID0ge1xuICBhbGxvd2VkVHJhY2luZ09yaWdpbnM6IFtdIGFzIEFycmF5PHN0cmluZyB8IFJlZ0V4cD4sXG4gIG1heEVycm9yc1Blck1pbnV0ZTogMzAwMCxcbiAgbWF4QWN0aW9uc1Blck1pbnV0ZTogMzAwMCxcbiAgbWF4SW50ZXJuYWxNb25pdG9yaW5nTWVzc2FnZXNQZXJQYWdlOiAxNSxcbiAgc2FtcGxlUmF0ZTogMTAwLFxuICByZXBsYXlTYW1wbGVSYXRlOiAxMDAsXG4gIHNpbGVudE11bHRpcGxlSW5pdDogZmFsc2UsXG4gIHRyYWNrSW50ZXJhY3Rpb25zOiBmYWxzZSxcbiAgdHJhY2tWaWV3c01hbnVhbGx5OiBmYWxzZSxcbiAgZGVmYXVsdFByaXZhY3lMZXZlbDogRGVmYXVsdFByaXZhY3lMZXZlbC5NQVNLX1VTRVJfSU5QVVQgYXMgRGVmYXVsdFByaXZhY3lMZXZlbCxcblxuICAvKipcbiAgICogYXJiaXRyYXJ5IHZhbHVlLCBieXRlIHByZWNpc2lvbiBub3QgbmVlZGVkXG4gICAqL1xuICByZXF1ZXN0RXJyb3JSZXNwb25zZUxlbmd0aExpbWl0OiAzMiAqIE9ORV9LSUxPX0JZVEUsXG5cbiAgLyoqXG4gICAqIGZsdXNoIGF1dG9tYXRpY2FsbHksIGFpbSB0byBiZSBsb3dlciB0aGFuIEFMQiBjb25uZWN0aW9uIHRpbWVvdXRcbiAgICogdG8gbWF4aW1pemUgY29ubmVjdGlvbiByZXVzZS5cbiAgICovXG4gIGZsdXNoVGltZW91dDogMzAgKiBPTkVfU0VDT05ELFxuXG4gIC8qKlxuICAgKiBMb2dzIGludGFrZSBsaW1pdFxuICAgKi9cbiAgbWF4QmF0Y2hTaXplOiA1MCxcbiAgbWF4TWVzc2FnZVNpemU6IDI1NiAqIE9ORV9LSUxPX0JZVEUsXG5cbiAgLyoqXG4gICAqIGJlYWNvbiBwYXlsb2FkIG1heCBxdWV1ZSBzaXplIGltcGxlbWVudGF0aW9uIGlzIDY0a2JcbiAgICogZW5zdXJlIHRoYXQgd2UgbGVhdmUgcm9vbSBmb3IgbG9ncywgcnVtIGFuZCBwb3RlbnRpYWwgb3RoZXIgdXNlcnNcbiAgICovXG4gIGJhdGNoQnl0ZXNMaW1pdDogMTYgKiBPTkVfS0lMT19CWVRFLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluaXRDb25maWd1cmF0aW9uIHtcbiAgY2xpZW50VG9rZW46IHN0cmluZ1xuICBhcHBsaWNhdGlvbklkPzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGFjdGlvbk5hbWVBdHRyaWJ1dGU/OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgaW50ZXJuYWxNb25pdG9yaW5nQXBpS2V5Pzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGFsbG93ZWRUcmFjaW5nT3JpZ2lucz86IEFycmF5PHN0cmluZyB8IFJlZ0V4cD4gfCB1bmRlZmluZWRcbiAgc2FtcGxlUmF0ZT86IG51bWJlciB8IHVuZGVmaW5lZFxuICByZXBsYXlTYW1wbGVSYXRlPzogbnVtYmVyIHwgdW5kZWZpbmVkXG4gIHNpdGU/OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgZW5hYmxlRXhwZXJpbWVudGFsRmVhdHVyZXM/OiBzdHJpbmdbXSB8IHVuZGVmaW5lZFxuICBzaWxlbnRNdWx0aXBsZUluaXQ/OiBib29sZWFuIHwgdW5kZWZpbmVkXG4gIHRyYWNrSW50ZXJhY3Rpb25zPzogYm9vbGVhbiB8IHVuZGVmaW5lZFxuICB0cmFja1ZpZXdzTWFudWFsbHk/OiBib29sZWFuIHwgdW5kZWZpbmVkXG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEZhdm9yIHByb3h5VXJsIG9wdGlvblxuICAgKi9cbiAgcHJveHlIb3N0Pzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIHByb3h5VXJsPzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGJlZm9yZVNlbmQ/OiBCZWZvcmVTZW5kQ2FsbGJhY2sgfCB1bmRlZmluZWRcbiAgZGVmYXVsdFByaXZhY3lMZXZlbD86IERlZmF1bHRQcml2YWN5TGV2ZWwgfCB1bmRlZmluZWRcblxuICBzZXJ2aWNlPzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGVudj86IHN0cmluZyB8IHVuZGVmaW5lZFxuICB2ZXJzaW9uPzogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgdXNlQWx0ZXJuYXRlSW50YWtlRG9tYWlucz86IGJvb2xlYW4gfCB1bmRlZmluZWRcbiAgaW50YWtlQXBpVmVyc2lvbj86IDEgfCAyIHwgdW5kZWZpbmVkXG5cbiAgdXNlQ3Jvc3NTaXRlU2Vzc2lvbkNvb2tpZT86IGJvb2xlYW4gfCB1bmRlZmluZWRcbiAgdXNlU2VjdXJlU2Vzc2lvbkNvb2tpZT86IGJvb2xlYW4gfCB1bmRlZmluZWRcbiAgdHJhY2tTZXNzaW9uQWNyb3NzU3ViZG9tYWlucz86IGJvb2xlYW4gfCB1bmRlZmluZWRcblxuICAvLyBvbmx5IG9uIHN0YWdpbmcgYnVpbGQgbW9kZVxuICByZXBsaWNhPzogUmVwbGljYVVzZXJDb25maWd1cmF0aW9uIHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCB0eXBlIEJlZm9yZVNlbmRDYWxsYmFjayA9IChldmVudDogYW55LCBjb250ZXh0PzogYW55KSA9PiB1bmtub3duXG5cbmludGVyZmFjZSBSZXBsaWNhVXNlckNvbmZpZ3VyYXRpb24ge1xuICBhcHBsaWNhdGlvbklkPzogc3RyaW5nXG4gIGNsaWVudFRva2VuOiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbiA9IHR5cGVvZiBERUZBVUxUX0NPTkZJR1VSQVRJT04gJlxuICBUcmFuc3BvcnRDb25maWd1cmF0aW9uICYge1xuICAgIGNvb2tpZU9wdGlvbnM6IENvb2tpZU9wdGlvbnNcblxuICAgIHNlcnZpY2U/OiBzdHJpbmdcbiAgICBiZWZvcmVTZW5kPzogQmVmb3JlU2VuZENhbGxiYWNrXG5cbiAgICBhY3Rpb25OYW1lQXR0cmlidXRlPzogc3RyaW5nXG4gIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbjogSW5pdENvbmZpZ3VyYXRpb24sIGJ1aWxkRW52OiBCdWlsZEVudik6IENvbmZpZ3VyYXRpb24ge1xuICBjb25zdCBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0ge1xuICAgIGJlZm9yZVNlbmQ6XG4gICAgICBpbml0Q29uZmlndXJhdGlvbi5iZWZvcmVTZW5kICYmIGNhdGNoVXNlckVycm9ycyhpbml0Q29uZmlndXJhdGlvbi5iZWZvcmVTZW5kLCAnYmVmb3JlU2VuZCB0aHJldyBhbiBlcnJvcjonKSxcbiAgICBjb29raWVPcHRpb25zOiBidWlsZENvb2tpZU9wdGlvbnMoaW5pdENvbmZpZ3VyYXRpb24pLFxuICAgIHNlcnZpY2U6IGluaXRDb25maWd1cmF0aW9uLnNlcnZpY2UsXG4gICAgLi4uY29tcHV0ZVRyYW5zcG9ydENvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24sIGJ1aWxkRW52KSxcbiAgICAuLi5ERUZBVUxUX0NPTkZJR1VSQVRJT04sXG4gIH1cblxuICBpZiAoJ2FsbG93ZWRUcmFjaW5nT3JpZ2lucycgaW4gaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucyA9IGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucyFcbiAgfVxuXG4gIGlmICgnc2FtcGxlUmF0ZScgaW4gaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25maWd1cmF0aW9uLnNhbXBsZVJhdGUgPSBpbml0Q29uZmlndXJhdGlvbi5zYW1wbGVSYXRlIVxuICB9XG5cbiAgaWYgKCdyZXBsYXlTYW1wbGVSYXRlJyBpbiBpbml0Q29uZmlndXJhdGlvbikge1xuICAgIGNvbmZpZ3VyYXRpb24ucmVwbGF5U2FtcGxlUmF0ZSA9IGluaXRDb25maWd1cmF0aW9uLnJlcGxheVNhbXBsZVJhdGUhXG4gIH1cblxuICBpZiAoJ3RyYWNrSW50ZXJhY3Rpb25zJyBpbiBpbml0Q29uZmlndXJhdGlvbikge1xuICAgIGNvbmZpZ3VyYXRpb24udHJhY2tJbnRlcmFjdGlvbnMgPSAhIWluaXRDb25maWd1cmF0aW9uLnRyYWNrSW50ZXJhY3Rpb25zXG4gIH1cblxuICBpZiAoJ3RyYWNrVmlld3NNYW51YWxseScgaW4gaW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgICBjb25maWd1cmF0aW9uLnRyYWNrVmlld3NNYW51YWxseSA9ICEhaW5pdENvbmZpZ3VyYXRpb24udHJhY2tWaWV3c01hbnVhbGx5XG4gIH1cblxuICBpZiAoJ2FjdGlvbk5hbWVBdHRyaWJ1dGUnIGluIGluaXRDb25maWd1cmF0aW9uKSB7XG4gICAgY29uZmlndXJhdGlvbi5hY3Rpb25OYW1lQXR0cmlidXRlID0gaW5pdENvbmZpZ3VyYXRpb24uYWN0aW9uTmFtZUF0dHJpYnV0ZVxuICB9XG5cbiAgaWYgKG9iamVjdEhhc1ZhbHVlKERlZmF1bHRQcml2YWN5TGV2ZWwsIGluaXRDb25maWd1cmF0aW9uLmRlZmF1bHRQcml2YWN5TGV2ZWwpKSB7XG4gICAgY29uZmlndXJhdGlvbi5kZWZhdWx0UHJpdmFjeUxldmVsID0gaW5pdENvbmZpZ3VyYXRpb24uZGVmYXVsdFByaXZhY3lMZXZlbFxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZ3VyYXRpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbjogSW5pdENvbmZpZ3VyYXRpb24pIHtcbiAgY29uc3QgY29va2llT3B0aW9uczogQ29va2llT3B0aW9ucyA9IHt9XG5cbiAgY29va2llT3B0aW9ucy5zZWN1cmUgPSBtdXN0VXNlU2VjdXJlQ29va2llKGluaXRDb25maWd1cmF0aW9uKVxuICBjb29raWVPcHRpb25zLmNyb3NzU2l0ZSA9ICEhaW5pdENvbmZpZ3VyYXRpb24udXNlQ3Jvc3NTaXRlU2Vzc2lvbkNvb2tpZVxuXG4gIGlmICghIWluaXRDb25maWd1cmF0aW9uLnRyYWNrU2Vzc2lvbkFjcm9zc1N1YmRvbWFpbnMpIHtcbiAgICBjb29raWVPcHRpb25zLmRvbWFpbiA9IGdldEN1cnJlbnRTaXRlKClcbiAgfVxuXG4gIHJldHVybiBjb29raWVPcHRpb25zXG59XG5cbmZ1bmN0aW9uIG11c3RVc2VTZWN1cmVDb29raWUoaW5pdENvbmZpZ3VyYXRpb246IEluaXRDb25maWd1cmF0aW9uKSB7XG4gIHJldHVybiAhIWluaXRDb25maWd1cmF0aW9uLnVzZVNlY3VyZVNlc3Npb25Db29raWUgfHwgISFpbml0Q29uZmlndXJhdGlvbi51c2VDcm9zc1NpdGVTZXNzaW9uQ29va2llXG59XG4iLCJpbXBvcnQgeyBCdWlsZEVudiB9IGZyb20gJy4uLy4uL2Jvb3QvaW5pdCdcbmltcG9ydCB7IHRpbWVTdGFtcE5vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3RpbWVVdGlscydcbmltcG9ydCB7IGdlbmVyYXRlVVVJRCwgaW5jbHVkZXMgfSBmcm9tICcuLi8uLi90b29scy91dGlscydcbmltcG9ydCB7IEluaXRDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9jb25maWd1cmF0aW9uJ1xuXG5leHBvcnQgY29uc3QgRU5EUE9JTlRTID0ge1xuICBhbHRlcm5hdGU6IHtcbiAgICBsb2dzOiAnbG9ncycsXG4gICAgcnVtOiAncnVtJyxcbiAgICBzZXNzaW9uUmVwbGF5OiAnc2Vzc2lvbi1yZXBsYXknLFxuICB9LFxuICBjbGFzc2ljOiB7XG4gICAgbG9nczogJ2Jyb3dzZXInLFxuICAgIHJ1bTogJ3J1bScsXG4gICAgLy8gc2Vzc2lvbi1yZXBsYXkgaGFzIG5vIGNsYXNzaWMgZW5kcG9pbnRcbiAgICBzZXNzaW9uUmVwbGF5OiB1bmRlZmluZWQsXG4gIH0sXG59XG5cbmNvbnN0IElOVEFLRV9UUkFDS1MgPSB7XG4gIGxvZ3M6ICdsb2dzJyxcbiAgcnVtOiAncnVtJyxcbiAgc2Vzc2lvblJlcGxheTogJ3JlcGxheScsXG59XG5cbmV4cG9ydCB0eXBlIEVuZHBvaW50VHlwZSA9IGtleW9mIHR5cGVvZiBFTkRQT0lOVFNbSW50YWtlVHlwZV1cblxuZXhwb3J0IGNvbnN0IElOVEFLRV9TSVRFX1VTID0gJ2RhdGFkb2docS5jb20nXG5jb25zdCBJTlRBS0VfU0lURV9VUzMgPSAndXMzLmRhdGFkb2docS5jb20nXG5jb25zdCBJTlRBS0VfU0lURV9HT1YgPSAnZGRvZy1nb3YuY29tJ1xuY29uc3QgSU5UQUtFX1NJVEVfRVUgPSAnZGF0YWRvZ2hxLmV1J1xuXG5jb25zdCBDTEFTU0lDX0FMTE9XRURfU0lURVMgPSBbSU5UQUtFX1NJVEVfVVMsIElOVEFLRV9TSVRFX0VVXVxuY29uc3QgSU5UQUtFX1YxX0FMTE9XRURfU0lURVMgPSBbSU5UQUtFX1NJVEVfVVMsIElOVEFLRV9TSVRFX1VTMywgSU5UQUtFX1NJVEVfRVUsIElOVEFLRV9TSVRFX0dPVl1cblxudHlwZSBJbnRha2VUeXBlID0ga2V5b2YgdHlwZW9mIEVORFBPSU5UU1xuZXhwb3J0IHR5cGUgRW5kcG9pbnRCdWlsZGVyID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlRW5kcG9pbnRCdWlsZGVyPlxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW5kcG9pbnRCdWlsZGVyKFxuICBpbml0Q29uZmlndXJhdGlvbjogSW5pdENvbmZpZ3VyYXRpb24sXG4gIGJ1aWxkRW52OiBCdWlsZEVudixcbiAgZW5kcG9pbnRUeXBlOiBFbmRwb2ludFR5cGUsXG4gIHNvdXJjZT86IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHNka1ZlcnNpb24gPSBidWlsZEVudi5zZGtWZXJzaW9uXG4gIGNvbnN0IHtcbiAgICBzaXRlID0gSU5UQUtFX1NJVEVfVVMsXG4gICAgY2xpZW50VG9rZW4sXG4gICAgZW52LFxuICAgIHByb3h5SG9zdCxcbiAgICBwcm94eVVybCxcbiAgICBzZXJ2aWNlLFxuICAgIHZlcnNpb24sXG4gICAgaW50YWtlQXBpVmVyc2lvbixcbiAgICB1c2VBbHRlcm5hdGVJbnRha2VEb21haW5zLFxuICB9ID0gaW5pdENvbmZpZ3VyYXRpb25cblxuICBjb25zdCBob3N0ID0gYnVpbGRIb3N0KGVuZHBvaW50VHlwZSlcbiAgY29uc3QgcGF0aCA9IGJ1aWxkUGF0aChlbmRwb2ludFR5cGUpXG5cbiAgZnVuY3Rpb24gYnVpbGQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBxdWVyeVBhcmFtZXRlcnMgPSBidWlsZFF1ZXJ5UGFyYW1ldGVycyhlbmRwb2ludFR5cGUsIHNvdXJjZSlcbiAgICBjb25zdCBlbmRwb2ludCA9IGBodHRwczovLyR7aG9zdH0ke3BhdGh9PyR7cXVlcnlQYXJhbWV0ZXJzfWBcbiAgICBpZiAocHJveHlVcmwpIHtcbiAgICAgIHJldHVybiBgJHtwcm94eVVybH0/ZGRmb3J3YXJkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGVuZHBvaW50KX1gXG4gICAgfSBlbHNlIGlmIChwcm94eUhvc3QpIHtcbiAgICAgIHJldHVybiBgaHR0cHM6Ly8ke3Byb3h5SG9zdH0ke3BhdGh9P2RkaG9zdD0ke2hvc3R9JiR7cXVlcnlQYXJhbWV0ZXJzfWBcbiAgICB9XG4gICAgcmV0dXJuIGVuZHBvaW50XG4gIH1cblxuICBmdW5jdGlvbiBidWlsZEludGFrZVVybCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gYnVpbGQoKVxuICAgIHJldHVybiBlbmRwb2ludC5zbGljZSgwLCBlbmRwb2ludC5pbmRleE9mKCc/JykpXG4gIH1cblxuICBmdW5jdGlvbiBidWlsZEhvc3QoZW5kcG9pbnRUeXBlOiBFbmRwb2ludFR5cGUpIHtcbiAgICBpZiAoc2hvdWxkVXNlQWx0ZXJuYXRlRG9tYWluKGVuZHBvaW50VHlwZSkpIHtcbiAgICAgIGNvbnN0IGVuZHBvaW50ID0gRU5EUE9JTlRTLmFsdGVybmF0ZVtlbmRwb2ludFR5cGVdXG4gICAgICBjb25zdCBkb21haW5QYXJ0cyA9IHNpdGUuc3BsaXQoJy4nKVxuICAgICAgY29uc3QgZXh0ZW5zaW9uID0gZG9tYWluUGFydHMucG9wKClcbiAgICAgIGNvbnN0IHN1ZmZpeCA9IGAke2RvbWFpblBhcnRzLmpvaW4oJy0nKX0uJHtleHRlbnNpb24hfWBcbiAgICAgIHJldHVybiBgJHtlbmRwb2ludH0uYnJvd3Nlci1pbnRha2UtJHtzdWZmaXh9YFxuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IEVORFBPSU5UUy5jbGFzc2ljW2VuZHBvaW50VHlwZV0hXG4gICAgcmV0dXJuIGAke2VuZHBvaW50fS1odHRwLWludGFrZS5sb2dzLiR7c2l0ZX1gXG4gIH1cblxuICBmdW5jdGlvbiBidWlsZFBhdGgoZW5kcG9pbnRUeXBlOiBFbmRwb2ludFR5cGUpIHtcbiAgICByZXR1cm4gc2hvdWxkVXNlSW50YWtlVjIoZW5kcG9pbnRUeXBlKSA/IGAvYXBpL3YyLyR7SU5UQUtFX1RSQUNLU1tlbmRwb2ludFR5cGVdfWAgOiBgL3YxL2lucHV0LyR7Y2xpZW50VG9rZW59YFxuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRRdWVyeVBhcmFtZXRlcnMoZW5kcG9pbnRUeXBlOiBFbmRwb2ludFR5cGUsIHNvdXJjZT86IHN0cmluZykge1xuICAgIGNvbnN0IHRhZ3MgPVxuICAgICAgYHNka192ZXJzaW9uOiR7c2RrVmVyc2lvbn1gICtcbiAgICAgIGAke2VudiA/IGAsZW52OiR7ZW52fWAgOiAnJ31gICtcbiAgICAgIGAke3NlcnZpY2UgPyBgLHNlcnZpY2U6JHtzZXJ2aWNlfWAgOiAnJ31gICtcbiAgICAgIGAke3ZlcnNpb24gPyBgLHZlcnNpb246JHt2ZXJzaW9ufWAgOiAnJ31gXG5cbiAgICBsZXQgcGFyYW1ldGVycyA9IGBkZHNvdXJjZT0ke3NvdXJjZSB8fCAnYnJvd3Nlcid9JmRkdGFncz0ke2VuY29kZVVSSUNvbXBvbmVudCh0YWdzKX1gXG5cbiAgICBpZiAoc2hvdWxkVXNlSW50YWtlVjIoZW5kcG9pbnRUeXBlKSkge1xuICAgICAgcGFyYW1ldGVycyArPVxuICAgICAgICBgJmRkLWFwaS1rZXk9JHtjbGllbnRUb2tlbn1gICtcbiAgICAgICAgYCZkZC1ldnAtb3JpZ2luLXZlcnNpb249JHtlbmNvZGVVUklDb21wb25lbnQoc2RrVmVyc2lvbil9YCArXG4gICAgICAgIGAmZGQtZXZwLW9yaWdpbj1icm93c2VyYCArXG4gICAgICAgIGAmZGQtcmVxdWVzdC1pZD0ke2dlbmVyYXRlVVVJRCgpfWBcbiAgICB9XG5cbiAgICBpZiAoZW5kcG9pbnRUeXBlID09PSAncnVtJykge1xuICAgICAgcGFyYW1ldGVycyArPSBgJmJhdGNoX3RpbWU9JHt0aW1lU3RhbXBOb3coKX1gXG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtZXRlcnNcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZFVzZUludGFrZVYyKGVuZHBvaW50VHlwZT86IEVuZHBvaW50VHlwZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBpbnRha2VBcGlWZXJzaW9uID09PSAyIHx8ICFpbmNsdWRlcyhJTlRBS0VfVjFfQUxMT1dFRF9TSVRFUywgc2l0ZSkgfHwgZW5kcG9pbnRUeXBlID09PSAnc2Vzc2lvblJlcGxheSdcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZFVzZUFsdGVybmF0ZURvbWFpbihlbmRwb2ludFR5cGU/OiBFbmRwb2ludFR5cGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdXNlQWx0ZXJuYXRlSW50YWtlRG9tYWlucyB8fCAhaW5jbHVkZXMoQ0xBU1NJQ19BTExPV0VEX1NJVEVTLCBzaXRlKSB8fCBlbmRwb2ludFR5cGUgPT09ICdzZXNzaW9uUmVwbGF5J1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBidWlsZCxcbiAgICBidWlsZEludGFrZVVybCxcbiAgfVxufVxuIiwiLyoqXG4gKiBMSU1JVEFUSU9OOlxuICogRm9yIE5QTSBzZXR1cCwgdGhpcyBmZWF0dXJlIGZsYWcgc2luZ2xldG9uIGlzIHNoYXJlZCBiZXR3ZWVuIFJVTSBhbmQgTG9ncyBwcm9kdWN0LlxuICogVGhpcyBtZWFucyB0aGF0IGFuIGV4cGVyaW1lbnRhbCBmbGFnIHNldCBvbiB0aGUgUlVNIHByb2R1Y3Qgd2lsbCBiZSBzZXQgb24gdGhlIExvZ3MgcHJvZHVjdC5cbiAqIFNvIGtlZXAgaW4gbWluZCB0aGF0IGluIGNlcnRhaW4gY29uZmlndXJhdGlvbnMsIHlvdXIgZXhwZXJpbWVudGFsIGZlYXR1cmUgZmxhZyBtYXkgYWZmZWN0IG90aGVyIHByb2R1Y3RzLlxuICovXG5cbmxldCBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXM6IFNldDxzdHJpbmc+XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVFeHBlcmltZW50YWxGZWF0dXJlcyhlbmFibGVkRmVhdHVyZXM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gIC8vIFNhZmVseSBoYW5kbGUgZXh0ZXJuYWwgZGF0YVxuICBpZiAoIUFycmF5LmlzQXJyYXkoZW5hYmxlZEZlYXR1cmVzKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKCFlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMpIHtcbiAgICBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMgPSBuZXcgU2V0KGVuYWJsZWRGZWF0dXJlcylcbiAgfVxuXG4gIGVuYWJsZWRGZWF0dXJlc1xuICAgIC5maWx0ZXIoKGZsYWcpID0+IHR5cGVvZiBmbGFnID09PSAnc3RyaW5nJylcbiAgICAuZm9yRWFjaCgoZmxhZzogc3RyaW5nKSA9PiB7XG4gICAgICBlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMuYWRkKGZsYWcpXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoZmVhdHVyZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFlbmFibGVkRXhwZXJpbWVudGFsRmVhdHVyZXMgJiYgZW5hYmxlZEV4cGVyaW1lbnRhbEZlYXR1cmVzLmhhcyhmZWF0dXJlTmFtZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RXhwZXJpbWVudGFsRmVhdHVyZXMoKTogdm9pZCB7XG4gIGVuYWJsZWRFeHBlcmltZW50YWxGZWF0dXJlcyA9IG5ldyBTZXQoKVxufVxuIiwiaW1wb3J0IHsgQnVpbGRFbnYsIEJ1aWxkTW9kZSB9IGZyb20gJy4uLy4uL2Jvb3QvaW5pdCdcbmltcG9ydCB7IG9iamVjdFZhbHVlcyB9IGZyb20gJy4uLy4uL3Rvb2xzL3V0aWxzJ1xuaW1wb3J0IHsgSW5pdENvbmZpZ3VyYXRpb24gfSBmcm9tICcuL2NvbmZpZ3VyYXRpb24nXG5pbXBvcnQgeyBjcmVhdGVFbmRwb2ludEJ1aWxkZXIsIElOVEFLRV9TSVRFX1VTLCBFbmRwb2ludEJ1aWxkZXIgfSBmcm9tICcuL2VuZHBvaW50QnVpbGRlcidcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRDb25maWd1cmF0aW9uIHtcbiAgbG9nc0VuZHBvaW50QnVpbGRlcjogRW5kcG9pbnRCdWlsZGVyXG4gIHJ1bUVuZHBvaW50QnVpbGRlcjogRW5kcG9pbnRCdWlsZGVyXG4gIHNlc3Npb25SZXBsYXlFbmRwb2ludEJ1aWxkZXI6IEVuZHBvaW50QnVpbGRlclxuICBpbnRlcm5hbE1vbml0b3JpbmdFbmRwb2ludEJ1aWxkZXI/OiBFbmRwb2ludEJ1aWxkZXJcbiAgaXNJbnRha2VVcmw6ICh1cmw6IHN0cmluZykgPT4gYm9vbGVhblxuICAvLyBvbmx5IG9uIHN0YWdpbmcgYnVpbGQgbW9kZVxuICByZXBsaWNhPzogUmVwbGljYUNvbmZpZ3VyYXRpb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXBsaWNhQ29uZmlndXJhdGlvbiB7XG4gIGFwcGxpY2F0aW9uSWQ/OiBzdHJpbmdcbiAgbG9nc0VuZHBvaW50QnVpbGRlcjogRW5kcG9pbnRCdWlsZGVyXG4gIHJ1bUVuZHBvaW50QnVpbGRlcjogRW5kcG9pbnRCdWlsZGVyXG4gIGludGVybmFsTW9uaXRvcmluZ0VuZHBvaW50QnVpbGRlcjogRW5kcG9pbnRCdWlsZGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVHJhbnNwb3J0Q29uZmlndXJhdGlvbihcbiAgaW5pdENvbmZpZ3VyYXRpb246IEluaXRDb25maWd1cmF0aW9uLFxuICBidWlsZEVudjogQnVpbGRFbnZcbik6IFRyYW5zcG9ydENvbmZpZ3VyYXRpb24ge1xuICBjb25zdCBlbmRwb2ludEJ1aWxkZXJzID0gY29tcHV0ZUVuZHBvaW50QnVpbGRlcnMoaW5pdENvbmZpZ3VyYXRpb24sIGJ1aWxkRW52KVxuICBjb25zdCBpbnRha2VFbmRwb2ludHMgPSBvYmplY3RWYWx1ZXMoZW5kcG9pbnRCdWlsZGVycykubWFwKChidWlsZGVyKSA9PiBidWlsZGVyLmJ1aWxkSW50YWtlVXJsKCkpXG5cbiAgY29uc3QgcmVwbGljYUNvbmZpZ3VyYXRpb24gPSBjb21wdXRlUmVwbGljYUNvbmZpZ3VyYXRpb24oaW5pdENvbmZpZ3VyYXRpb24sIGJ1aWxkRW52LCBpbnRha2VFbmRwb2ludHMpXG5cbiAgcmV0dXJuIHtcbiAgICBpc0ludGFrZVVybDogKHVybCkgPT4gaW50YWtlRW5kcG9pbnRzLnNvbWUoKGludGFrZUVuZHBvaW50KSA9PiB1cmwuaW5kZXhPZihpbnRha2VFbmRwb2ludCkgPT09IDApLFxuICAgIC4uLmVuZHBvaW50QnVpbGRlcnMsXG4gICAgcmVwbGljYTogcmVwbGljYUNvbmZpZ3VyYXRpb24sXG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZUVuZHBvaW50QnVpbGRlcnMoaW5pdENvbmZpZ3VyYXRpb246IEluaXRDb25maWd1cmF0aW9uLCBidWlsZEVudjogQnVpbGRFbnYpIHtcbiAgaWYgKGJ1aWxkRW52LmJ1aWxkTW9kZSA9PT0gQnVpbGRNb2RlLkUyRV9URVNUKSB7XG4gICAgY29uc3QgZTJlRW5kcG9pbnRCdWlsZGVyID0gKHBsYWNlaG9sZGVyOiBzdHJpbmcpID0+ICh7XG4gICAgICBidWlsZDogKCkgPT4gcGxhY2Vob2xkZXIsXG4gICAgICBidWlsZEludGFrZVVybDogKCkgPT4gcGxhY2Vob2xkZXIsXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICBsb2dzRW5kcG9pbnRCdWlsZGVyOiBlMmVFbmRwb2ludEJ1aWxkZXIoJzw8PCBFMkUgTE9HUyBFTkRQT0lOVCA+Pj4nKSxcbiAgICAgIHJ1bUVuZHBvaW50QnVpbGRlcjogZTJlRW5kcG9pbnRCdWlsZGVyKCc8PDwgRTJFIFJVTSBFTkRQT0lOVCA+Pj4nKSxcbiAgICAgIHNlc3Npb25SZXBsYXlFbmRwb2ludEJ1aWxkZXI6IGUyZUVuZHBvaW50QnVpbGRlcignPDw8IEUyRSBTRVNTSU9OIFJFUExBWSBFTkRQT0lOVCA+Pj4nKSxcbiAgICAgIGludGVybmFsTW9uaXRvcmluZ0VuZHBvaW50QnVpbGRlcjogZTJlRW5kcG9pbnRCdWlsZGVyKCc8PDwgRTJFIElOVEVSTkFMIE1PTklUT1JJTkcgRU5EUE9JTlQgPj4+JyksXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZW5kcG9pbnRCdWlsZGVycyA9IHtcbiAgICBsb2dzRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIoaW5pdENvbmZpZ3VyYXRpb24sIGJ1aWxkRW52LCAnbG9ncycpLFxuICAgIHJ1bUVuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKGluaXRDb25maWd1cmF0aW9uLCBidWlsZEVudiwgJ3J1bScpLFxuICAgIHNlc3Npb25SZXBsYXlFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihpbml0Q29uZmlndXJhdGlvbiwgYnVpbGRFbnYsICdzZXNzaW9uUmVwbGF5JyksXG4gIH1cblxuICBpZiAoaW5pdENvbmZpZ3VyYXRpb24uaW50ZXJuYWxNb25pdG9yaW5nQXBpS2V5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmVuZHBvaW50QnVpbGRlcnMsXG4gICAgICBpbnRlcm5hbE1vbml0b3JpbmdFbmRwb2ludEJ1aWxkZXI6IGNyZWF0ZUVuZHBvaW50QnVpbGRlcihcbiAgICAgICAgeyAuLi5pbml0Q29uZmlndXJhdGlvbiwgY2xpZW50VG9rZW46IGluaXRDb25maWd1cmF0aW9uLmludGVybmFsTW9uaXRvcmluZ0FwaUtleSB9LFxuICAgICAgICBidWlsZEVudixcbiAgICAgICAgJ2xvZ3MnLFxuICAgICAgICAnYnJvd3Nlci1hZ2VudC1pbnRlcm5hbC1tb25pdG9yaW5nJ1xuICAgICAgKSxcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZW5kcG9pbnRCdWlsZGVyc1xufVxuXG5mdW5jdGlvbiBjb21wdXRlUmVwbGljYUNvbmZpZ3VyYXRpb24oXG4gIGluaXRDb25maWd1cmF0aW9uOiBJbml0Q29uZmlndXJhdGlvbixcbiAgYnVpbGRFbnY6IEJ1aWxkRW52LFxuICBpbnRha2VFbmRwb2ludHM6IHN0cmluZ1tdXG4pOiBSZXBsaWNhQ29uZmlndXJhdGlvbiB8IHVuZGVmaW5lZCB7XG4gIGlmIChidWlsZEVudi5idWlsZE1vZGUgIT09IEJ1aWxkTW9kZS5TVEFHSU5HIHx8IGluaXRDb25maWd1cmF0aW9uLnJlcGxpY2EgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgcmVwbGljYUNvbmZpZ3VyYXRpb246IEluaXRDb25maWd1cmF0aW9uID0ge1xuICAgIC4uLmluaXRDb25maWd1cmF0aW9uLFxuICAgIHNpdGU6IElOVEFLRV9TSVRFX1VTLFxuICAgIGFwcGxpY2F0aW9uSWQ6IGluaXRDb25maWd1cmF0aW9uLnJlcGxpY2EuYXBwbGljYXRpb25JZCxcbiAgICBjbGllbnRUb2tlbjogaW5pdENvbmZpZ3VyYXRpb24ucmVwbGljYS5jbGllbnRUb2tlbixcbiAgICB1c2VBbHRlcm5hdGVJbnRha2VEb21haW5zOiB0cnVlLFxuICAgIGludGFrZUFwaVZlcnNpb246IDIsXG4gIH1cblxuICBjb25zdCByZXBsaWNhRW5kcG9pbnRCdWlsZGVycyA9IHtcbiAgICBsb2dzRW5kcG9pbnRCdWlsZGVyOiBjcmVhdGVFbmRwb2ludEJ1aWxkZXIocmVwbGljYUNvbmZpZ3VyYXRpb24sIGJ1aWxkRW52LCAnbG9ncycpLFxuICAgIHJ1bUVuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKHJlcGxpY2FDb25maWd1cmF0aW9uLCBidWlsZEVudiwgJ3J1bScpLFxuICAgIGludGVybmFsTW9uaXRvcmluZ0VuZHBvaW50QnVpbGRlcjogY3JlYXRlRW5kcG9pbnRCdWlsZGVyKFxuICAgICAgcmVwbGljYUNvbmZpZ3VyYXRpb24sXG4gICAgICBidWlsZEVudixcbiAgICAgICdsb2dzJyxcbiAgICAgICdicm93c2VyLWFnZW50LWludGVybmFsLW1vbml0b3JpbmcnXG4gICAgKSxcbiAgfVxuXG4gIGludGFrZUVuZHBvaW50cy5wdXNoKC4uLm9iamVjdFZhbHVlcyhyZXBsaWNhRW5kcG9pbnRCdWlsZGVycykubWFwKChidWlsZGVyKSA9PiBidWlsZGVyLmJ1aWxkSW50YWtlVXJsKCkpKVxuXG4gIHJldHVybiB7IGFwcGxpY2F0aW9uSWQ6IGluaXRDb25maWd1cmF0aW9uLnJlcGxpY2EuYXBwbGljYXRpb25JZCwgLi4ucmVwbGljYUVuZHBvaW50QnVpbGRlcnMgfVxufVxuIiwiaW1wb3J0IHtcbiAgRXJyb3JTb3VyY2UsXG4gIHRvU3RhY2tUcmFjZVN0cmluZyxcbiAgRXJyb3JIYW5kbGluZyxcbiAgY3JlYXRlSGFuZGxpbmdTdGFjayxcbiAgZm9ybWF0RXJyb3JNZXNzYWdlLFxuICBSYXdFcnJvcixcbn0gZnJvbSAnLi4vLi4vdG9vbHMvZXJyb3InXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvb2JzZXJ2YWJsZSdcbmltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3RpbWVVdGlscydcbmltcG9ydCB7IGZpbmQsIGpzb25TdHJpbmdpZnkgfSBmcm9tICcuLi8uLi90b29scy91dGlscydcbmltcG9ydCB7IGNhbGxNb25pdG9yZWQgfSBmcm9tICcuLi9pbnRlcm5hbE1vbml0b3JpbmcnXG5pbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4uL3RyYWNla2l0J1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tDb25zb2xlRXJyb3IoZXJyb3JPYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFJhd0Vycm9yPikge1xuICBzdGFydENvbnNvbGVFcnJvclByb3h5KCkuc3Vic2NyaWJlKChlcnJvcikgPT4gZXJyb3JPYnNlcnZhYmxlLm5vdGlmeShlcnJvcikpXG59XG5cbmxldCBvcmlnaW5hbENvbnNvbGVFcnJvcjogKC4uLnBhcmFtczogdW5rbm93bltdKSA9PiB2b2lkXG5sZXQgY29uc29sZUVycm9yT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxSYXdFcnJvcj4gfCB1bmRlZmluZWRcblxuZnVuY3Rpb24gc3RhcnRDb25zb2xlRXJyb3JQcm94eSgpIHtcbiAgaWYgKCFjb25zb2xlRXJyb3JPYnNlcnZhYmxlKSB7XG4gICAgY29uc29sZUVycm9yT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFJhd0Vycm9yPigpXG4gICAgb3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yXG5cbiAgICBjb25zb2xlLmVycm9yID0gKC4uLnBhcmFtczogdW5rbm93bltdKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGluZ1N0YWNrID0gY3JlYXRlSGFuZGxpbmdTdGFjaygpXG4gICAgICBjYWxsTW9uaXRvcmVkKCgpID0+IHtcbiAgICAgICAgb3JpZ2luYWxDb25zb2xlRXJyb3IuYXBwbHkoY29uc29sZSwgcGFyYW1zKVxuICAgICAgICBjb25zdCByYXdFcnJvciA9IHtcbiAgICAgICAgICAuLi5idWlsZEVycm9yRnJvbVBhcmFtcyhwYXJhbXMsIGhhbmRsaW5nU3RhY2spLFxuICAgICAgICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuQ09OU09MRSxcbiAgICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgICAgaGFuZGxpbmc6IEVycm9ySGFuZGxpbmcuSEFORExFRCxcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlRXJyb3JPYnNlcnZhYmxlIS5ub3RpZnkocmF3RXJyb3IpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29uc29sZUVycm9yT2JzZXJ2YWJsZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRDb25zb2xlRXJyb3JQcm94eSgpIHtcbiAgaWYgKGNvbnNvbGVFcnJvck9ic2VydmFibGUpIHtcbiAgICBjb25zb2xlRXJyb3JPYnNlcnZhYmxlID0gdW5kZWZpbmVkXG4gICAgY29uc29sZS5lcnJvciA9IG9yaWdpbmFsQ29uc29sZUVycm9yXG4gIH1cbn1cblxuZnVuY3Rpb24gYnVpbGRFcnJvckZyb21QYXJhbXMocGFyYW1zOiB1bmtub3duW10sIGhhbmRsaW5nU3RhY2s6IHN0cmluZykge1xuICBjb25zdCBmaXJzdEVycm9yUGFyYW0gPSBmaW5kKHBhcmFtcywgKHBhcmFtOiB1bmtub3duKTogcGFyYW0gaXMgRXJyb3IgPT4gcGFyYW0gaW5zdGFuY2VvZiBFcnJvcilcblxuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6IFsnY29uc29sZSBlcnJvcjonLCAuLi5wYXJhbXNdLm1hcCgocGFyYW0pID0+IGZvcm1hdENvbnNvbGVQYXJhbWV0ZXJzKHBhcmFtKSkuam9pbignICcpLFxuICAgIHN0YWNrOiBmaXJzdEVycm9yUGFyYW0gPyB0b1N0YWNrVHJhY2VTdHJpbmcoY29tcHV0ZVN0YWNrVHJhY2UoZmlyc3RFcnJvclBhcmFtKSkgOiB1bmRlZmluZWQsXG4gICAgaGFuZGxpbmdTdGFjayxcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRDb25zb2xlUGFyYW1ldGVycyhwYXJhbTogdW5rbm93bikge1xuICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBwYXJhbVxuICB9XG4gIGlmIChwYXJhbSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yTWVzc2FnZShjb21wdXRlU3RhY2tUcmFjZShwYXJhbSkpXG4gIH1cbiAgcmV0dXJuIGpzb25TdHJpbmdpZnkocGFyYW0sIHVuZGVmaW5lZCwgMilcbn1cbiIsImltcG9ydCB7IEVycm9yU291cmNlLCBFcnJvckhhbmRsaW5nLCBmb3JtYXRVbmtub3duRXJyb3IsIFJhd0Vycm9yIH0gZnJvbSAnLi4vLi4vdG9vbHMvZXJyb3InXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vLi4vdG9vbHMvb2JzZXJ2YWJsZSdcbmltcG9ydCB7IGNsb2Nrc05vdyB9IGZyb20gJy4uLy4uL3Rvb2xzL3RpbWVVdGlscydcbmltcG9ydCB7IHN0YXJ0VW5oYW5kbGVkRXJyb3JDb2xsZWN0aW9uIH0gZnJvbSAnLi4vdHJhY2VraXQnXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1J1bnRpbWVFcnJvcihlcnJvck9ic2VydmFibGU6IE9ic2VydmFibGU8UmF3RXJyb3I+KSB7XG4gIHJldHVybiBzdGFydFVuaGFuZGxlZEVycm9yQ29sbGVjdGlvbigoc3RhY2tUcmFjZSwgZXJyb3JPYmplY3QpID0+IHtcbiAgICBjb25zdCB7IHN0YWNrLCBtZXNzYWdlLCB0eXBlIH0gPSBmb3JtYXRVbmtub3duRXJyb3Ioc3RhY2tUcmFjZSwgZXJyb3JPYmplY3QsICdVbmNhdWdodCcpXG4gICAgZXJyb3JPYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICBtZXNzYWdlLFxuICAgICAgc3RhY2ssXG4gICAgICB0eXBlLFxuICAgICAgc291cmNlOiBFcnJvclNvdXJjZS5TT1VSQ0UsXG4gICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICBvcmlnaW5hbEVycm9yOiBlcnJvck9iamVjdCxcbiAgICAgIGhhbmRsaW5nOiBFcnJvckhhbmRsaW5nLlVOSEFORExFRCxcbiAgICB9KVxuICB9KVxufVxuIiwiaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL3Rvb2xzL2NvbnRleHQnXG5pbXBvcnQgeyBkaXNwbGF5IH0gZnJvbSAnLi4vdG9vbHMvZGlzcGxheSdcbmltcG9ydCB7IHRvU3RhY2tUcmFjZVN0cmluZyB9IGZyb20gJy4uL3Rvb2xzL2Vycm9yJ1xuaW1wb3J0IHsgYXNzaWduLCBjb21iaW5lLCBqc29uU3RyaW5naWZ5LCBQYXJhbWV0ZXJzLCBUaGlzUGFyYW1ldGVyVHlwZSB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzJ1xuaW1wb3J0IHsgQmF0Y2gsIEh0dHBSZXF1ZXN0IH0gZnJvbSAnLi4vdHJhbnNwb3J0J1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9IGZyb20gJy4vY29uZmlndXJhdGlvbidcbmltcG9ydCB7IEVuZHBvaW50QnVpbGRlciB9IGZyb20gJy4vY29uZmlndXJhdGlvbi9lbmRwb2ludEJ1aWxkZXInXG5pbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4vdHJhY2VraXQnXG5cbmVudW0gU3RhdHVzVHlwZSB7XG4gIGluZm8gPSAnaW5mbycsXG4gIGVycm9yID0gJ2Vycm9yJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcm5hbE1vbml0b3Jpbmcge1xuICBzZXRFeHRlcm5hbENvbnRleHRQcm92aWRlcjogKHByb3ZpZGVyOiAoKSA9PiBDb250ZXh0KSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9uaXRvcmluZ01lc3NhZ2UgZXh0ZW5kcyBDb250ZXh0IHtcbiAgbWVzc2FnZTogc3RyaW5nXG4gIHN0YXR1czogU3RhdHVzVHlwZVxuICBlcnJvcj86IHtcbiAgICBraW5kPzogc3RyaW5nXG4gICAgc3RhY2s6IHN0cmluZ1xuICB9XG59XG5cbmNvbnN0IG1vbml0b3JpbmdDb25maWd1cmF0aW9uOiB7XG4gIGJhdGNoPzogQmF0Y2hcbiAgZGVidWdNb2RlPzogYm9vbGVhblxuICBtYXhNZXNzYWdlc1BlclBhZ2U6IG51bWJlclxuICBzZW50TWVzc2FnZUNvdW50OiBudW1iZXJcbn0gPSB7IG1heE1lc3NhZ2VzUGVyUGFnZTogMCwgc2VudE1lc3NhZ2VDb3VudDogMCB9XG5cbmxldCBleHRlcm5hbENvbnRleHRQcm92aWRlcjogKCkgPT4gQ29udGV4dFxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRJbnRlcm5hbE1vbml0b3JpbmcoY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbik6IEludGVybmFsTW9uaXRvcmluZyB7XG4gIGlmIChjb25maWd1cmF0aW9uLmludGVybmFsTW9uaXRvcmluZ0VuZHBvaW50QnVpbGRlcikge1xuICAgIGNvbnN0IGJhdGNoID0gc3RhcnRNb25pdG9yaW5nQmF0Y2goY29uZmlndXJhdGlvbilcblxuICAgIGFzc2lnbihtb25pdG9yaW5nQ29uZmlndXJhdGlvbiwge1xuICAgICAgYmF0Y2gsXG4gICAgICBtYXhNZXNzYWdlc1BlclBhZ2U6IGNvbmZpZ3VyYXRpb24ubWF4SW50ZXJuYWxNb25pdG9yaW5nTWVzc2FnZXNQZXJQYWdlLFxuICAgICAgc2VudE1lc3NhZ2VDb3VudDogMCxcbiAgICB9KVxuICB9XG4gIHJldHVybiB7XG4gICAgc2V0RXh0ZXJuYWxDb250ZXh0UHJvdmlkZXI6IChwcm92aWRlcjogKCkgPT4gQ29udGV4dCkgPT4ge1xuICAgICAgZXh0ZXJuYWxDb250ZXh0UHJvdmlkZXIgPSBwcm92aWRlclxuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRNb25pdG9yaW5nQmF0Y2goY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICBjb25zdCBwcmltYXJ5QmF0Y2ggPSBjcmVhdGVNb25pdG9yaW5nQmF0Y2goY29uZmlndXJhdGlvbi5pbnRlcm5hbE1vbml0b3JpbmdFbmRwb2ludEJ1aWxkZXIhKVxuICBsZXQgcmVwbGljYUJhdGNoOiBCYXRjaCB8IHVuZGVmaW5lZFxuICBpZiAoY29uZmlndXJhdGlvbi5yZXBsaWNhICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXBsaWNhQmF0Y2ggPSBjcmVhdGVNb25pdG9yaW5nQmF0Y2goY29uZmlndXJhdGlvbi5yZXBsaWNhLmludGVybmFsTW9uaXRvcmluZ0VuZHBvaW50QnVpbGRlcilcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU1vbml0b3JpbmdCYXRjaChlbmRwb2ludEJ1aWxkZXI6IEVuZHBvaW50QnVpbGRlcikge1xuICAgIHJldHVybiBuZXcgQmF0Y2goXG4gICAgICBuZXcgSHR0cFJlcXVlc3QoZW5kcG9pbnRCdWlsZGVyLCBjb25maWd1cmF0aW9uLmJhdGNoQnl0ZXNMaW1pdCksXG4gICAgICBjb25maWd1cmF0aW9uLm1heEJhdGNoU2l6ZSxcbiAgICAgIGNvbmZpZ3VyYXRpb24uYmF0Y2hCeXRlc0xpbWl0LFxuICAgICAgY29uZmlndXJhdGlvbi5tYXhNZXNzYWdlU2l6ZSxcbiAgICAgIGNvbmZpZ3VyYXRpb24uZmx1c2hUaW1lb3V0XG4gICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gd2l0aENvbnRleHQobWVzc2FnZTogTW9uaXRvcmluZ01lc3NhZ2UpIHtcbiAgICByZXR1cm4gY29tYmluZShcbiAgICAgIHtcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICB9LFxuICAgICAgZXh0ZXJuYWxDb250ZXh0UHJvdmlkZXIgIT09IHVuZGVmaW5lZCA/IGV4dGVybmFsQ29udGV4dFByb3ZpZGVyKCkgOiB7fSxcbiAgICAgIG1lc3NhZ2VcbiAgICApXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFkZChtZXNzYWdlOiBNb25pdG9yaW5nTWVzc2FnZSkge1xuICAgICAgY29uc3QgY29udGV4dHVhbGl6ZWRNZXNzYWdlID0gd2l0aENvbnRleHQobWVzc2FnZSlcbiAgICAgIHByaW1hcnlCYXRjaC5hZGQoY29udGV4dHVhbGl6ZWRNZXNzYWdlKVxuICAgICAgaWYgKHJlcGxpY2FCYXRjaCkge1xuICAgICAgICByZXBsaWNhQmF0Y2guYWRkKGNvbnRleHR1YWxpemVkTWVzc2FnZSlcbiAgICAgIH1cbiAgICB9LFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEZha2VJbnRlcm5hbE1vbml0b3JpbmcoKSB7XG4gIGNvbnN0IG1lc3NhZ2VzOiBNb25pdG9yaW5nTWVzc2FnZVtdID0gW11cbiAgYXNzaWduKG1vbml0b3JpbmdDb25maWd1cmF0aW9uLCB7XG4gICAgYmF0Y2g6IHtcbiAgICAgIGFkZChtZXNzYWdlOiBNb25pdG9yaW5nTWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpXG4gICAgICB9LFxuICAgIH0sXG4gICAgbWF4TWVzc2FnZXNQZXJQYWdlOiBJbmZpbml0eSxcbiAgICBzZW50TWVzc2FnZUNvdW50OiAwLFxuICB9KVxuICByZXR1cm4gbWVzc2FnZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0SW50ZXJuYWxNb25pdG9yaW5nKCkge1xuICBtb25pdG9yaW5nQ29uZmlndXJhdGlvbi5iYXRjaCA9IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvcmVkPFQgZXh0ZW5kcyAoLi4ucGFyYW1zOiBhbnlbXSkgPT4gdW5rbm93bj4oXG4gIF86IGFueSxcbiAgX186IHN0cmluZyxcbiAgZGVzY3JpcHRvcjogVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8VD5cbikge1xuICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWUhXG4gIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAodGhpczogYW55LCAuLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSB7XG4gICAgY29uc3QgZGVjb3JhdGVkID0gbW9uaXRvcmluZ0NvbmZpZ3VyYXRpb24uYmF0Y2ggPyBtb25pdG9yKG9yaWdpbmFsTWV0aG9kKSA6IG9yaWdpbmFsTWV0aG9kXG4gICAgcmV0dXJuIGRlY29yYXRlZC5hcHBseSh0aGlzLCBhcmdzKSBhcyBSZXR1cm5UeXBlPFQ+XG4gIH0gYXMgVFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9uaXRvcjxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KGZuOiBUKTogVCB7XG4gIHJldHVybiAoZnVuY3Rpb24gKHRoaXM6IGFueSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgIHJldHVybiBjYWxsTW9uaXRvcmVkKGZuLCB0aGlzLCAoYXJndW1lbnRzIGFzIHVua25vd24pIGFzIFBhcmFtZXRlcnM8VD4pXG4gIH0gYXMgdW5rbm93bikgYXMgVCAvLyBjb25zaWRlciBvdXRwdXQgdHlwZSBoYXMgaW5wdXQgdHlwZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsbE1vbml0b3JlZDxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICBmbjogVCxcbiAgY29udGV4dDogVGhpc1BhcmFtZXRlclR5cGU8VD4sXG4gIGFyZ3M6IFBhcmFtZXRlcnM8VD5cbik6IFJldHVyblR5cGU8VD4gfCB1bmRlZmluZWRcbmV4cG9ydCBmdW5jdGlvbiBjYWxsTW9uaXRvcmVkPFQgZXh0ZW5kcyAodGhpczogdm9pZCkgPT4gYW55PihmbjogVCk6IFJldHVyblR5cGU8VD4gfCB1bmRlZmluZWRcbmV4cG9ydCBmdW5jdGlvbiBjYWxsTW9uaXRvcmVkPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gIGZuOiBULFxuICBjb250ZXh0PzogYW55LFxuICBhcmdzPzogYW55XG4pOiBSZXR1cm5UeXBlPFQ+IHwgdW5kZWZpbmVkIHtcbiAgdHJ5IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncylcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ0Vycm9ySWZEZWJ1ZyhlKVxuICAgIHRyeSB7XG4gICAgICBhZGRFcnJvclRvTW9uaXRvcmluZ0JhdGNoKGUpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nRXJyb3JJZkRlYnVnKGUpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNb25pdG9yaW5nTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBDb250ZXh0KSB7XG4gIGxvZ01lc3NhZ2VJZkRlYnVnKG1lc3NhZ2UsIGNvbnRleHQpXG4gIGFkZFRvTW9uaXRvcmluZ0JhdGNoKHtcbiAgICBtZXNzYWdlLFxuICAgIC4uLmNvbnRleHQsXG4gICAgc3RhdHVzOiBTdGF0dXNUeXBlLmluZm8sXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFcnJvclRvTW9uaXRvcmluZ0JhdGNoKGU6IHVua25vd24pIHtcbiAgYWRkVG9Nb25pdG9yaW5nQmF0Y2goe1xuICAgIC4uLmZvcm1hdEVycm9yKGUpLFxuICAgIHN0YXR1czogU3RhdHVzVHlwZS5lcnJvcixcbiAgfSlcbn1cblxuZnVuY3Rpb24gYWRkVG9Nb25pdG9yaW5nQmF0Y2gobWVzc2FnZTogTW9uaXRvcmluZ01lc3NhZ2UpIHtcbiAgaWYgKFxuICAgIG1vbml0b3JpbmdDb25maWd1cmF0aW9uLmJhdGNoICYmXG4gICAgbW9uaXRvcmluZ0NvbmZpZ3VyYXRpb24uc2VudE1lc3NhZ2VDb3VudCA8IG1vbml0b3JpbmdDb25maWd1cmF0aW9uLm1heE1lc3NhZ2VzUGVyUGFnZVxuICApIHtcbiAgICBtb25pdG9yaW5nQ29uZmlndXJhdGlvbi5zZW50TWVzc2FnZUNvdW50ICs9IDFcblxuICAgIG1vbml0b3JpbmdDb25maWd1cmF0aW9uLmJhdGNoLmFkZChtZXNzYWdlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKGU6IHVua25vd24pIHtcbiAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIGNvbnN0IHN0YWNrVHJhY2UgPSBjb21wdXRlU3RhY2tUcmFjZShlKVxuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjoge1xuICAgICAgICBraW5kOiBzdGFja1RyYWNlLm5hbWUsXG4gICAgICAgIHN0YWNrOiB0b1N0YWNrVHJhY2VTdHJpbmcoc3RhY2tUcmFjZSksXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogc3RhY2tUcmFjZS5tZXNzYWdlISxcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBlcnJvcjoge1xuICAgICAgc3RhY2s6ICdOb3QgYW4gaW5zdGFuY2Ugb2YgZXJyb3InLFxuICAgIH0sXG4gICAgbWVzc2FnZTogYFVuY2F1Z2h0ICR7anNvblN0cmluZ2lmeShlKSF9YCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVidWdNb2RlKGRlYnVnTW9kZTogYm9vbGVhbikge1xuICBtb25pdG9yaW5nQ29uZmlndXJhdGlvbi5kZWJ1Z01vZGUgPSBkZWJ1Z01vZGVcbn1cblxuZnVuY3Rpb24gbG9nRXJyb3JJZkRlYnVnKGU6IGFueSkge1xuICBpZiAobW9uaXRvcmluZ0NvbmZpZ3VyYXRpb24uZGVidWdNb2RlKSB7XG4gICAgZGlzcGxheS5lcnJvcignW0lOVEVSTkFMIEVSUk9SXScsIGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gbG9nTWVzc2FnZUlmRGVidWcobWVzc2FnZTogYW55LCBjb250ZXh0PzogQ29udGV4dCkge1xuICBpZiAobW9uaXRvcmluZ0NvbmZpZ3VyYXRpb24uZGVidWdNb2RlKSB7XG4gICAgZGlzcGxheS5sb2coJ1tNT05JVE9SSU5HIE1FU1NBR0VdJywgbWVzc2FnZSwgY29udGV4dClcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0Q29va2llLCBDb29raWVPcHRpb25zLCBjYWNoZUNvb2tpZUFjY2VzcyB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvY29va2llJ1xuaW1wb3J0IHsgcGVyc2lzdFNlc3Npb24sIFNlc3Npb25TdGF0ZSwgU0VTU0lPTl9DT09LSUVfTkFNRSB9IGZyb20gJy4vc2Vzc2lvblN0b3JlJ1xuXG5leHBvcnQgY29uc3QgT0xEX1NFU1NJT05fQ09PS0lFX05BTUUgPSAnX2RkJ1xuZXhwb3J0IGNvbnN0IE9MRF9SVU1fQ09PS0lFX05BTUUgPSAnX2RkX3InXG5leHBvcnQgY29uc3QgT0xEX0xPR1NfQ09PS0lFX05BTUUgPSAnX2RkX2wnXG5cbi8vIGR1cGxpY2F0ZSB2YWx1ZXMgdG8gYXZvaWQgZGVwZW5kZW5jeSBpc3N1ZXNcbmV4cG9ydCBjb25zdCBSVU1fU0VTU0lPTl9LRVkgPSAncnVtJ1xuZXhwb3J0IGNvbnN0IExPR1NfU0VTU0lPTl9LRVkgPSAnbG9ncydcblxuLyoqXG4gKiBUaGlzIG1pZ3JhdGlvbiBzaG91bGQgcmVtYWluIGluIHRoZSBjb2RlYmFzZSBhcyBsb25nIGFzIG9sZGVyIHZlcnNpb25zIGFyZSBhdmFpbGFibGUvbGl2ZVxuICogdG8gYWxsb3cgb2xkZXIgc2RrIHZlcnNpb25zIHRvIGJlIHVwZ3JhZGVkIHRvIG5ld2VyIHZlcnNpb25zIHdpdGhvdXQgY29tcGF0aWJpbGl0eSBpc3N1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlPbGRDb29raWVzTWlncmF0aW9uKG9wdGlvbnM6IENvb2tpZU9wdGlvbnMpIHtcbiAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IGNhY2hlQ29va2llQWNjZXNzKFNFU1NJT05fQ09PS0lFX05BTUUsIG9wdGlvbnMpXG4gIGNvbnN0IHNlc3Npb25TdHJpbmcgPSBzZXNzaW9uQ29va2llLmdldCgpXG4gIGNvbnN0IG9sZFNlc3Npb25JZCA9IGdldENvb2tpZShPTERfU0VTU0lPTl9DT09LSUVfTkFNRSlcbiAgY29uc3Qgb2xkUnVtVHlwZSA9IGdldENvb2tpZShPTERfUlVNX0NPT0tJRV9OQU1FKVxuICBjb25zdCBvbGRMb2dzVHlwZSA9IGdldENvb2tpZShPTERfTE9HU19DT09LSUVfTkFNRSlcbiAgaWYgKCFzZXNzaW9uU3RyaW5nKSB7XG4gICAgY29uc3Qgc2Vzc2lvbjogU2Vzc2lvblN0YXRlID0ge31cbiAgICBpZiAob2xkU2Vzc2lvbklkKSB7XG4gICAgICBzZXNzaW9uLmlkID0gb2xkU2Vzc2lvbklkXG4gICAgfVxuICAgIGlmIChvbGRMb2dzVHlwZSAmJiAvXlswMV0kLy50ZXN0KG9sZExvZ3NUeXBlKSkge1xuICAgICAgc2Vzc2lvbltMT0dTX1NFU1NJT05fS0VZXSA9IG9sZExvZ3NUeXBlXG4gICAgfVxuICAgIGlmIChvbGRSdW1UeXBlICYmIC9eWzAxMl0kLy50ZXN0KG9sZFJ1bVR5cGUpKSB7XG4gICAgICBzZXNzaW9uW1JVTV9TRVNTSU9OX0tFWV0gPSBvbGRSdW1UeXBlXG4gICAgfVxuICAgIHBlcnNpc3RTZXNzaW9uKHNlc3Npb24sIHNlc3Npb25Db29raWUpXG4gIH1cbn1cbiIsImltcG9ydCB7IENvb2tpZU9wdGlvbnMgfSBmcm9tICcuLi8uLi9icm93c2VyL2Nvb2tpZSdcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi8uLi90b29scy9vYnNlcnZhYmxlJ1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi4vLi4vdG9vbHMvdXRpbHMnXG5pbXBvcnQgeyBtb25pdG9yIH0gZnJvbSAnLi4vaW50ZXJuYWxNb25pdG9yaW5nJ1xuaW1wb3J0IHsgdHJ5T2xkQ29va2llc01pZ3JhdGlvbiB9IGZyb20gJy4vb2xkQ29va2llc01pZ3JhdGlvbidcbmltcG9ydCB7IHN0YXJ0U2Vzc2lvblN0b3JlIH0gZnJvbSAnLi9zZXNzaW9uU3RvcmUnXG5cbmV4cG9ydCBjb25zdCBWSVNJQklMSVRZX0NIRUNLX0RFTEFZID0gdXRpbHMuT05FX01JTlVURVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlc3Npb248VD4ge1xuICByZW5ld09ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD5cbiAgZ2V0SWQ6ICgpID0+IHN0cmluZyB8IHVuZGVmaW5lZFxuICBnZXRUcmFja2luZ1R5cGU6ICgpID0+IFQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbk1hbmFnZW1lbnQ8VHJhY2tpbmdUeXBlIGV4dGVuZHMgc3RyaW5nPihcbiAgb3B0aW9uczogQ29va2llT3B0aW9ucyxcbiAgcHJvZHVjdEtleTogc3RyaW5nLFxuICBjb21wdXRlU2Vzc2lvblN0YXRlOiAocmF3VHJhY2tpbmdUeXBlPzogc3RyaW5nKSA9PiB7IHRyYWNraW5nVHlwZTogVHJhY2tpbmdUeXBlOyBpc1RyYWNrZWQ6IGJvb2xlYW4gfVxuKTogU2Vzc2lvbjxUcmFja2luZ1R5cGU+IHtcbiAgdHJ5T2xkQ29va2llc01pZ3JhdGlvbihvcHRpb25zKVxuICBjb25zdCBzZXNzaW9uU3RvcmUgPSBzdGFydFNlc3Npb25TdG9yZShvcHRpb25zLCBwcm9kdWN0S2V5LCBjb21wdXRlU2Vzc2lvblN0YXRlKVxuXG4gIHNlc3Npb25TdG9yZS5leHBhbmRPclJlbmV3U2Vzc2lvbigpXG4gIHRyYWNrQWN0aXZpdHkoKCkgPT4gc2Vzc2lvblN0b3JlLmV4cGFuZE9yUmVuZXdTZXNzaW9uKCkpXG4gIHRyYWNrVmlzaWJpbGl0eSgoKSA9PiBzZXNzaW9uU3RvcmUuZXhwYW5kU2Vzc2lvbigpKVxuXG4gIHJldHVybiB7XG4gICAgZ2V0SWQ6ICgpID0+IHNlc3Npb25TdG9yZS5yZXRyaWV2ZVNlc3Npb24oKS5pZCxcbiAgICBnZXRUcmFja2luZ1R5cGU6ICgpID0+IHNlc3Npb25TdG9yZS5yZXRyaWV2ZVNlc3Npb24oKVtwcm9kdWN0S2V5XSBhcyBUcmFja2luZ1R5cGUgfCB1bmRlZmluZWQsXG4gICAgcmVuZXdPYnNlcnZhYmxlOiBzZXNzaW9uU3RvcmUucmVuZXdPYnNlcnZhYmxlLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wU2Vzc2lvbk1hbmFnZW1lbnQoKSB7XG4gIHN0b3BDYWxsYmFja3MuZm9yRWFjaCgoZSkgPT4gZSgpKVxuICBzdG9wQ2FsbGJhY2tzID0gW11cbn1cblxubGV0IHN0b3BDYWxsYmFja3M6IEFycmF5PCgpID0+IHZvaWQ+ID0gW11cblxuZnVuY3Rpb24gdHJhY2tBY3Rpdml0eShleHBhbmRPclJlbmV3U2Vzc2lvbjogKCkgPT4gdm9pZCkge1xuICBjb25zdCB7IHN0b3AgfSA9IHV0aWxzLmFkZEV2ZW50TGlzdGVuZXJzKFxuICAgIHdpbmRvdyxcbiAgICBbdXRpbHMuRE9NX0VWRU5ULkNMSUNLLCB1dGlscy5ET01fRVZFTlQuVE9VQ0hfU1RBUlQsIHV0aWxzLkRPTV9FVkVOVC5LRVlfRE9XTiwgdXRpbHMuRE9NX0VWRU5ULlNDUk9MTF0sXG4gICAgZXhwYW5kT3JSZW5ld1Nlc3Npb24sXG4gICAgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH1cbiAgKVxuICBzdG9wQ2FsbGJhY2tzLnB1c2goc3RvcClcbn1cblxuZnVuY3Rpb24gdHJhY2tWaXNpYmlsaXR5KGV4cGFuZFNlc3Npb246ICgpID0+IHZvaWQpIHtcbiAgY29uc3QgZXhwYW5kU2Vzc2lvbldoZW5WaXNpYmxlID0gbW9uaXRvcigoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICBleHBhbmRTZXNzaW9uKClcbiAgICB9XG4gIH0pXG5cbiAgY29uc3QgeyBzdG9wIH0gPSB1dGlscy5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCB1dGlscy5ET01fRVZFTlQuVklTSUJJTElUWV9DSEFOR0UsIGV4cGFuZFNlc3Npb25XaGVuVmlzaWJsZSlcbiAgc3RvcENhbGxiYWNrcy5wdXNoKHN0b3ApXG5cbiAgY29uc3QgdmlzaWJpbGl0eUNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChleHBhbmRTZXNzaW9uV2hlblZpc2libGUsIFZJU0lCSUxJVFlfQ0hFQ0tfREVMQVkpXG4gIHN0b3BDYWxsYmFja3MucHVzaCgoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbCh2aXNpYmlsaXR5Q2hlY2tJbnRlcnZhbClcbiAgfSlcbn1cbiIsImltcG9ydCB7IENvb2tpZUNhY2hlLCBDb29raWVPcHRpb25zLCBjYWNoZUNvb2tpZUFjY2VzcywgQ09PS0lFX0FDQ0VTU19ERUxBWSB9IGZyb20gJy4uLy4uL2Jyb3dzZXIvY29va2llJ1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uLy4uL3Rvb2xzL29ic2VydmFibGUnXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuLi8uLi90b29scy91dGlscydcbmltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi9pbnRlcm5hbE1vbml0b3JpbmcnXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblN0b3JlIHtcbiAgZXhwYW5kT3JSZW5ld1Nlc3Npb246ICgpID0+IHZvaWRcbiAgZXhwYW5kU2Vzc2lvbjogKCkgPT4gdm9pZFxuICByZXRyaWV2ZVNlc3Npb246ICgpID0+IFNlc3Npb25TdGF0ZVxuICByZW5ld09ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uU3RhdGUge1xuICBpZD86IHN0cmluZ1xuICBjcmVhdGVkPzogc3RyaW5nXG4gIGV4cGlyZT86IHN0cmluZ1xuXG4gIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgU0VTU0lPTl9DT09LSUVfTkFNRSA9ICdfZGRfcydcbmV4cG9ydCBjb25zdCBTRVNTSU9OX0VYUElSQVRJT05fREVMQVkgPSAxNSAqIHV0aWxzLk9ORV9NSU5VVEVcbmV4cG9ydCBjb25zdCBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZID0gNCAqIHV0aWxzLk9ORV9IT1VSXG5cbmNvbnN0IFNFU1NJT05fRU5UUllfUkVHRVhQID0gL14oW2Etel0rKT0oW2EtejAtOS1dKykkL1xuY29uc3QgU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IgPSAnJidcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvblN0b3JlPFRyYWNraW5nVHlwZSBleHRlbmRzIHN0cmluZz4oXG4gIG9wdGlvbnM6IENvb2tpZU9wdGlvbnMsXG4gIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgY29tcHV0ZVNlc3Npb25TdGF0ZTogKHJhd1RyYWNraW5nVHlwZT86IHN0cmluZykgPT4geyB0cmFja2luZ1R5cGU6IFRyYWNraW5nVHlwZTsgaXNUcmFja2VkOiBib29sZWFuIH1cbik6IFNlc3Npb25TdG9yZSB7XG4gIGNvbnN0IHJlbmV3T2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPHZvaWQ+KClcbiAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IGNhY2hlQ29va2llQWNjZXNzKFNFU1NJT05fQ09PS0lFX05BTUUsIG9wdGlvbnMpXG4gIGxldCBpbk1lbW9yeVNlc3Npb24gPSByZXRyaWV2ZUFjdGl2ZVNlc3Npb24oc2Vzc2lvbkNvb2tpZSlcblxuICBjb25zdCB7IHRocm90dGxlZDogZXhwYW5kT3JSZW5ld1Nlc3Npb24gfSA9IHV0aWxzLnRocm90dGxlKFxuICAgIG1vbml0b3IoKCkgPT4ge1xuICAgICAgc2Vzc2lvbkNvb2tpZS5jbGVhckNhY2hlKClcbiAgICAgIGNvbnN0IGNvb2tpZVNlc3Npb24gPSByZXRyaWV2ZUFjdGl2ZVNlc3Npb24oc2Vzc2lvbkNvb2tpZSlcbiAgICAgIGNvbnN0IHsgdHJhY2tpbmdUeXBlLCBpc1RyYWNrZWQgfSA9IGNvbXB1dGVTZXNzaW9uU3RhdGUoY29va2llU2Vzc2lvbltwcm9kdWN0S2V5XSlcbiAgICAgIGNvb2tpZVNlc3Npb25bcHJvZHVjdEtleV0gPSB0cmFja2luZ1R5cGVcbiAgICAgIGlmIChpc1RyYWNrZWQgJiYgIWNvb2tpZVNlc3Npb24uaWQpIHtcbiAgICAgICAgY29va2llU2Vzc2lvbi5pZCA9IHV0aWxzLmdlbmVyYXRlVVVJRCgpXG4gICAgICAgIGNvb2tpZVNlc3Npb24uY3JlYXRlZCA9IFN0cmluZyhEYXRlLm5vdygpKVxuICAgICAgfVxuICAgICAgLy8gc2F2ZSBjaGFuZ2VzIGFuZCBleHBhbmQgc2Vzc2lvbiBkdXJhdGlvblxuICAgICAgcGVyc2lzdFNlc3Npb24oY29va2llU2Vzc2lvbiwgc2Vzc2lvbkNvb2tpZSlcblxuICAgICAgLy8gSWYgdGhlIHNlc3Npb24gaWQgaGFzIGNoYW5nZWQsIG5vdGlmeSB0aGF0IHRoZSBzZXNzaW9uIGhhcyBiZWVuIHJlbmV3ZWRcbiAgICAgIGlmIChpc1RyYWNrZWQgJiYgaW5NZW1vcnlTZXNzaW9uLmlkICE9PSBjb29raWVTZXNzaW9uLmlkKSB7XG4gICAgICAgIGluTWVtb3J5U2Vzc2lvbiA9IHsgLi4uY29va2llU2Vzc2lvbiB9XG4gICAgICAgIHJlbmV3T2JzZXJ2YWJsZS5ub3RpZnkoKVxuICAgICAgfVxuICAgICAgaW5NZW1vcnlTZXNzaW9uID0geyAuLi5jb29raWVTZXNzaW9uIH1cbiAgICB9KSxcbiAgICBDT09LSUVfQUNDRVNTX0RFTEFZXG4gIClcblxuICBmdW5jdGlvbiBleHBhbmRTZXNzaW9uKCkge1xuICAgIHNlc3Npb25Db29raWUuY2xlYXJDYWNoZSgpXG4gICAgY29uc3Qgc2Vzc2lvbiA9IHJldHJpZXZlQWN0aXZlU2Vzc2lvbihzZXNzaW9uQ29va2llKVxuICAgIHBlcnNpc3RTZXNzaW9uKHNlc3Npb24sIHNlc3Npb25Db29raWUpXG4gIH1cblxuICBmdW5jdGlvbiByZXRyaWV2ZVNlc3Npb24oKSB7XG4gICAgcmV0dXJuIHJldHJpZXZlQWN0aXZlU2Vzc2lvbihzZXNzaW9uQ29va2llKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBleHBhbmRPclJlbmV3U2Vzc2lvbixcbiAgICBleHBhbmRTZXNzaW9uLFxuICAgIHJldHJpZXZlU2Vzc2lvbixcbiAgICByZW5ld09ic2VydmFibGUsXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNWYWxpZFNlc3Npb25TdHJpbmcoc2Vzc2lvblN0cmluZzogc3RyaW5nIHwgdW5kZWZpbmVkKTogc2Vzc2lvblN0cmluZyBpcyBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIHNlc3Npb25TdHJpbmcgIT09IHVuZGVmaW5lZCAmJlxuICAgIChzZXNzaW9uU3RyaW5nLmluZGV4T2YoU0VTU0lPTl9FTlRSWV9TRVBBUkFUT1IpICE9PSAtMSB8fCBTRVNTSU9OX0VOVFJZX1JFR0VYUC50ZXN0KHNlc3Npb25TdHJpbmcpKVxuICApXG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlQWN0aXZlU2Vzc2lvbihzZXNzaW9uQ29va2llOiBDb29raWVDYWNoZSk6IFNlc3Npb25TdGF0ZSB7XG4gIGNvbnN0IHNlc3Npb24gPSByZXRyaWV2ZVNlc3Npb24oc2Vzc2lvbkNvb2tpZSlcbiAgaWYgKGlzQWN0aXZlU2Vzc2lvbihzZXNzaW9uKSkge1xuICAgIHJldHVybiBzZXNzaW9uXG4gIH1cbiAgY2xlYXJTZXNzaW9uKHNlc3Npb25Db29raWUpXG4gIHJldHVybiB7fVxufVxuXG5mdW5jdGlvbiBpc0FjdGl2ZVNlc3Npb24oc2Vzc2lvbjogU2Vzc2lvblN0YXRlKSB7XG4gIC8vIGNyZWF0ZWQgYW5kIGV4cGlyZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB2ZXJzaW9ucyB3aGljaCB3YXMgbm90IHN0b3JpbmcgdGhlbVxuICAvLyB0aGVzZSBjaGVja3MgY291bGQgYmUgcmVtb3ZlZCB3aGVuIG9sZGVyIHZlcnNpb25zIHdpbGwgbm90IGJlIGF2YWlsYWJsZS9saXZlIGFueW1vcmVcbiAgcmV0dXJuIChcbiAgICAoc2Vzc2lvbi5jcmVhdGVkID09PSB1bmRlZmluZWQgfHwgRGF0ZS5ub3coKSAtIE51bWJlcihzZXNzaW9uLmNyZWF0ZWQpIDwgU0VTU0lPTl9USU1FX09VVF9ERUxBWSkgJiZcbiAgICAoc2Vzc2lvbi5leHBpcmUgPT09IHVuZGVmaW5lZCB8fCBEYXRlLm5vdygpIDwgTnVtYmVyKHNlc3Npb24uZXhwaXJlKSlcbiAgKVxufVxuXG5mdW5jdGlvbiByZXRyaWV2ZVNlc3Npb24oc2Vzc2lvbkNvb2tpZTogQ29va2llQ2FjaGUpOiBTZXNzaW9uU3RhdGUge1xuICBjb25zdCBzZXNzaW9uU3RyaW5nID0gc2Vzc2lvbkNvb2tpZS5nZXQoKVxuICBjb25zdCBzZXNzaW9uOiBTZXNzaW9uU3RhdGUgPSB7fVxuICBpZiAoaXNWYWxpZFNlc3Npb25TdHJpbmcoc2Vzc2lvblN0cmluZykpIHtcbiAgICBzZXNzaW9uU3RyaW5nLnNwbGl0KFNFU1NJT05fRU5UUllfU0VQQVJBVE9SKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IFNFU1NJT05fRU5UUllfUkVHRVhQLmV4ZWMoZW50cnkpXG4gICAgICBpZiAobWF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBbLCBrZXksIHZhbHVlXSA9IG1hdGNoZXNcbiAgICAgICAgc2Vzc2lvbltrZXldID0gdmFsdWVcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHJldHVybiBzZXNzaW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzaXN0U2Vzc2lvbihzZXNzaW9uOiBTZXNzaW9uU3RhdGUsIGNvb2tpZTogQ29va2llQ2FjaGUpIHtcbiAgaWYgKHV0aWxzLmlzRW1wdHlPYmplY3Qoc2Vzc2lvbikpIHtcbiAgICBjbGVhclNlc3Npb24oY29va2llKVxuICAgIHJldHVyblxuICB9XG4gIHNlc3Npb24uZXhwaXJlID0gU3RyaW5nKERhdGUubm93KCkgKyBTRVNTSU9OX0VYUElSQVRJT05fREVMQVkpXG4gIGNvbnN0IGNvb2tpZVN0cmluZyA9IHV0aWxzXG4gICAgLm9iamVjdEVudHJpZXMoc2Vzc2lvbilcbiAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX09JHt2YWx1ZSBhcyBzdHJpbmd9YClcbiAgICAuam9pbihTRVNTSU9OX0VOVFJZX1NFUEFSQVRPUilcbiAgY29va2llLnNldChjb29raWVTdHJpbmcsIFNFU1NJT05fRVhQSVJBVElPTl9ERUxBWSlcbn1cblxuZnVuY3Rpb24gY2xlYXJTZXNzaW9uKGNvb2tpZTogQ29va2llQ2FjaGUpIHtcbiAgY29va2llLnNldCgnJywgMClcbn1cbiIsImltcG9ydCB7IFN0YWNrRnJhbWUsIFN0YWNrVHJhY2UgfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCBVTktOT1dOX0ZVTkNUSU9OID0gJz8nXG5cbi8qKlxuICogY29tcHV0ZVN0YWNrVHJhY2U6IGNyb3NzLWJyb3dzZXIgc3RhY2sgdHJhY2VzIGluIEphdmFTY3JpcHRcbiAqXG4gKiBTeW50YXg6XG4gKiBgYGBqc1xuICogcyA9IGNvbXB1dGVTdGFja1RyYWNlT2ZDYWxsZXIoW2RlcHRoXSlcbiAqIHMgPSBjb21wdXRlU3RhY2tUcmFjZShleGNlcHRpb24pXG4gKiBgYGBcbiAqXG4gKiBTdXBwb3J0czpcbiAqICAgLSBGaXJlZm94OiAgZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgbnVtYmVycyBhbmQgdW5yZWxpYWJsZSBjb2x1bW5cbiAqICAgICAgICAgICAgICAgbnVtYmVyIG9uIHRvcCBmcmFtZVxuICogICAtIE9wZXJhIDEwOiBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBhbmQgY29sdW1uIG51bWJlcnNcbiAqICAgLSBPcGVyYSA5LTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgbnVtYmVyc1xuICogICAtIENocm9tZTogICBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBhbmQgY29sdW1uIG51bWJlcnNcbiAqICAgLSBTYWZhcmk6ICAgbGluZSBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHRvcG1vc3Qgc3RhY2t0cmFjZSBlbGVtZW50XG4gKiAgICAgICAgICAgICAgIG9ubHlcbiAqICAgLSBJRTogICAgICAgbm8gbGluZSBudW1iZXJzIHdoYXRzb2V2ZXJcbiAqXG4gKiBUcmllcyB0byBndWVzcyBuYW1lcyBvZiBhbm9ueW1vdXMgZnVuY3Rpb25zIGJ5IGxvb2tpbmcgZm9yIGFzc2lnbm1lbnRzXG4gKiBpbiB0aGUgc291cmNlIGNvZGUuIEluIElFIGFuZCBTYWZhcmksIHdlIGhhdmUgdG8gZ3Vlc3Mgc291cmNlIGZpbGUgbmFtZXNcbiAqIGJ5IHNlYXJjaGluZyBmb3IgZnVuY3Rpb24gYm9kaWVzIGluc2lkZSBhbGwgcGFnZSBzY3JpcHRzLiBUaGlzIHdpbGwgbm90XG4gKiB3b3JrIGZvciBzY3JpcHRzIHRoYXQgYXJlIGxvYWRlZCBjcm9zcy1kb21haW4uXG4gKiBIZXJlIGJlIGRyYWdvbnM6IHNvbWUgZnVuY3Rpb24gbmFtZXMgbWF5IGJlIGd1ZXNzZWQgaW5jb3JyZWN0bHksIGFuZFxuICogZHVwbGljYXRlIGZ1bmN0aW9ucyBtYXkgYmUgbWlzbWF0Y2hlZC5cbiAqXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBzaG91bGQgb25seSBiZSB1c2VkIGZvciB0cmFjaW5nIHB1cnBvc2VzLlxuICpcbiAqIE5vdGU6IEluIElFIGFuZCBTYWZhcmksIG5vIHN0YWNrIHRyYWNlIGlzIHJlY29yZGVkIG9uIHRoZSBFcnJvciBvYmplY3QsXG4gKiBzbyBjb21wdXRlU3RhY2tUcmFjZSBpbnN0ZWFkIHdhbGtzIGl0cyAqb3duKiBjaGFpbiBvZiBjYWxsZXJzLlxuICogVGhpcyBtZWFucyB0aGF0OlxuICogICogaW4gU2FmYXJpLCBzb21lIG1ldGhvZHMgbWF5IGJlIG1pc3NpbmcgZnJvbSB0aGUgc3RhY2sgdHJhY2U7XG4gKiAgKiBpbiBJRSwgdGhlIHRvcG1vc3QgZnVuY3Rpb24gaW4gdGhlIHN0YWNrIHRyYWNlIHdpbGwgYWx3YXlzIGJlIHRoZVxuICogICAgY2FsbGVyIG9mIGNvbXB1dGVTdGFja1RyYWNlLlxuICpcbiAqIFRoaXMgaXMgb2theSBmb3IgdHJhY2luZyAoYmVjYXVzZSB5b3UgYXJlIGxpa2VseSB0byBiZSBjYWxsaW5nXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBmcm9tIHRoZSBmdW5jdGlvbiB5b3Ugd2FudCB0byBiZSB0aGUgdG9wbW9zdCBlbGVtZW50XG4gKiBvZiB0aGUgc3RhY2sgdHJhY2UgYW55d2F5KSwgYnV0IG5vdCBva2F5IGZvciBsb2dnaW5nIHVuaGFuZGxlZFxuICogZXhjZXB0aW9ucyAoYmVjYXVzZSB5b3VyIGNhdGNoIGJsb2NrIHdpbGwgbGlrZWx5IGJlIGZhciBhd2F5IGZyb20gdGhlXG4gKiBpbm5lciBmdW5jdGlvbiB0aGF0IGFjdHVhbGx5IGNhdXNlZCB0aGUgZXhjZXB0aW9uKS5cbiAqXG4gKiBUcmFjaW5nIGV4YW1wbGU6XG4gKiBgYGBqc1xuICogICAgIGZ1bmN0aW9uIHRyYWNlKG1lc3NhZ2UpIHtcbiAqICAgICAgICAgbGV0IHN0YWNrSW5mbyA9IGNvbXB1dGVTdGFja1RyYWNlLm9mQ2FsbGVyKCk7XG4gKiAgICAgICAgIGxldCBkYXRhID0gbWVzc2FnZSArIFwiXFxuXCI7XG4gKiAgICAgICAgIGZvcihsZXQgaSBpbiBzdGFja0luZm8uc3RhY2spIHtcbiAqICAgICAgICAgICAgIGxldCBpdGVtID0gc3RhY2tJbmZvLnN0YWNrW2ldO1xuICogICAgICAgICAgICAgZGF0YSArPSAoaXRlbS5mdW5jIHx8ICdbYW5vbnltb3VzXScpICsgXCIoKSBpbiBcIiArIGl0ZW0udXJsICsgXCI6XCIgKyAoaXRlbS5saW5lIHx8ICcwJykgKyBcIlxcblwiO1xuICogICAgICAgICB9XG4gKiAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSlcbiAqICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhkYXRhKTtcbiAqICAgICAgICAgZWxzZVxuICogICAgICAgICAgICAgYWxlcnQoZGF0YSk7XG4gKiAgICAgfVxuICogYGBgXG4gKiBAbWVtYmVyb2YgVHJhY2VLaXRcbiAqIEBuYW1lc3BhY2VcbiAqL1xuXG4vKipcbiAqIENvbXB1dGVzIGEgc3RhY2sgdHJhY2UgZm9yIGFuIGV4Y2VwdGlvbi5cbiAqIEBwYXJhbSB7RXJyb3J9IGV4XG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGRlcHRoXG4gKiBAbWVtYmVyb2YgY29tcHV0ZVN0YWNrVHJhY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlKGV4OiB1bmtub3duLCBkZXB0aD86IHN0cmluZyB8IG51bWJlcik6IFN0YWNrVHJhY2Uge1xuICBsZXQgc3RhY2tcbiAgY29uc3Qgbm9ybWFsaXplZERlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDAgOiArZGVwdGhcblxuICB0cnkge1xuICAgIC8vIFRoaXMgbXVzdCBiZSB0cmllZCBmaXJzdCBiZWNhdXNlIE9wZXJhIDEwICpkZXN0cm95cypcbiAgICAvLyBpdHMgc3RhY2t0cmFjZSBwcm9wZXJ0eSBpZiB5b3UgdHJ5IHRvIGFjY2VzcyB0aGUgc3RhY2tcbiAgICAvLyBwcm9wZXJ0eSBmaXJzdCEhXG4gICAgc3RhY2sgPSBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja3RyYWNlUHJvcChleClcbiAgICBpZiAoc3RhY2spIHtcbiAgICAgIHJldHVybiBzdGFja1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChkZWJ1Zykge1xuICAgICAgdGhyb3cgZVxuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgc3RhY2sgPSBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja1Byb3AoZXgpXG4gICAgaWYgKHN0YWNrKSB7XG4gICAgICByZXR1cm4gc3RhY2tcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIHRocm93IGVcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIHN0YWNrID0gY29tcHV0ZVN0YWNrVHJhY2VGcm9tT3BlcmFNdWx0aUxpbmVNZXNzYWdlKGV4KVxuICAgIGlmIChzdGFjaykge1xuICAgICAgcmV0dXJuIHN0YWNrXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9XG5cbiAgdHJ5IHtcbiAgICBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlQnlXYWxraW5nQ2FsbGVyQ2hhaW4oZXgsIG5vcm1hbGl6ZWREZXB0aCArIDEpXG4gICAgaWYgKHN0YWNrKSB7XG4gICAgICByZXR1cm4gc3RhY2tcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIHRocm93IGVcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbWVzc2FnZScpLFxuICAgIG5hbWU6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbmFtZScpLFxuICAgIHN0YWNrOiBbXSxcbiAgfVxufVxuXG5jb25zdCBkZWJ1ZyA9IGZhbHNlXG5cbi8vIENvbnRlbnRzIG9mIEV4Y2VwdGlvbiBpbiB2YXJpb3VzIGJyb3dzZXJzLlxuLy9cbi8vIFNBRkFSSTpcbi8vIGV4Lm1lc3NhZ2UgPSBDYW4ndCBmaW5kIHZhcmlhYmxlOiBxcVxuLy8gZXgubGluZSA9IDU5XG4vLyBleC5zb3VyY2VJZCA9IDU4MDIzODE5MlxuLy8gZXguc291cmNlVVJMID0gaHR0cDovLy4uLlxuLy8gZXguZXhwcmVzc2lvbkJlZ2luT2Zmc2V0ID0gOTZcbi8vIGV4LmV4cHJlc3Npb25DYXJldE9mZnNldCA9IDk4XG4vLyBleC5leHByZXNzaW9uRW5kT2Zmc2V0ID0gOThcbi8vIGV4Lm5hbWUgPSBSZWZlcmVuY2VFcnJvclxuLy9cbi8vIEZJUkVGT1g6XG4vLyBleC5tZXNzYWdlID0gcXEgaXMgbm90IGRlZmluZWRcbi8vIGV4LmZpbGVOYW1lID0gaHR0cDovLy4uLlxuLy8gZXgubGluZU51bWJlciA9IDU5XG4vLyBleC5jb2x1bW5OdW1iZXIgPSA2OVxuLy8gZXguc3RhY2sgPSAuLi5zdGFjayB0cmFjZS4uLiAoc2VlIHRoZSBleGFtcGxlIGJlbG93KVxuLy8gZXgubmFtZSA9IFJlZmVyZW5jZUVycm9yXG4vL1xuLy8gQ0hST01FOlxuLy8gZXgubWVzc2FnZSA9IHFxIGlzIG5vdCBkZWZpbmVkXG4vLyBleC5uYW1lID0gUmVmZXJlbmNlRXJyb3Jcbi8vIGV4LnR5cGUgPSBub3RfZGVmaW5lZFxuLy8gZXguYXJndW1lbnRzID0gWydhYSddXG4vLyBleC5zdGFjayA9IC4uLnN0YWNrIHRyYWNlLi4uXG4vL1xuLy8gSU5URVJORVQgRVhQTE9SRVI6XG4vLyBleC5tZXNzYWdlID0gLi4uXG4vLyBleC5uYW1lID0gUmVmZXJlbmNlRXJyb3Jcbi8vXG4vLyBPUEVSQTpcbi8vIGV4Lm1lc3NhZ2UgPSAuLi5tZXNzYWdlLi4uIChzZWUgdGhlIGV4YW1wbGUgYmVsb3cpXG4vLyBleC5uYW1lID0gUmVmZXJlbmNlRXJyb3Jcbi8vIGV4Lm9wZXJhI3NvdXJjZWxvYyA9IDExICAocHJldHR5IG11Y2ggdXNlbGVzcywgZHVwbGljYXRlcyB0aGUgaW5mbyBpbiBleC5tZXNzYWdlKVxuLy8gZXguc3RhY2t0cmFjZSA9IG4vYTsgc2VlICdvcGVyYTpjb25maWcjVXNlclByZWZzfEV4Y2VwdGlvbnMgSGF2ZSBTdGFja3RyYWNlJ1xuXG4vKipcbiAqIENvbXB1dGVzIHN0YWNrIHRyYWNlIGluZm9ybWF0aW9uIGZyb20gdGhlIHN0YWNrIHByb3BlcnR5LlxuICogQ2hyb21lIGFuZCBHZWNrbyB1c2UgdGhpcyBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7RXJyb3J9IGV4XG4gKiBAcmV0dXJuIHs/U3RhY2tUcmFjZX0gU3RhY2sgdHJhY2UgaW5mb3JtYXRpb24uXG4gKiBAbWVtYmVyb2YgY29tcHV0ZVN0YWNrVHJhY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrUHJvcChleDogdW5rbm93bikge1xuICBjb25zdCBzdGFja3RyYWNlID0gdHJ5VG9HZXRTdHJpbmcoZXgsICdzdGFjaycpXG4gIGlmICghc3RhY2t0cmFjZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICBtYXgtbGVuXG4gIGNvbnN0IGNocm9tZSA9IC9eXFxzKmF0ICguKj8pID9cXCgoKD86ZmlsZXxodHRwcz98YmxvYnxjaHJvbWUtZXh0ZW5zaW9ufG5hdGl2ZXxldmFsfHdlYnBhY2t8PGFub255bW91cz58XFwvKS4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIG1heC1sZW5cbiAgY29uc3QgZ2Vja28gPSAvXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApKCg/OmZpbGV8aHR0cHM/fGJsb2J8Y2hyb21lfHdlYnBhY2t8cmVzb3VyY2V8Y2FwYWNpdG9yfFxcW25hdGl2ZSkuKj98W15AXSpidW5kbGUpKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFxzKiQvaVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIG1heC1sZW5cbiAgY29uc3Qgd2luanMgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8YmxvYik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaVxuXG4gIC8vIFVzZWQgdG8gYWRkaXRpb25hbGx5IHBhcnNlIFVSTC9saW5lL2NvbHVtbiBmcm9tIGV2YWwgZnJhbWVzXG4gIGxldCBpc0V2YWxcbiAgY29uc3QgZ2Vja29FdmFsID0gLyhcXFMrKSBsaW5lIChcXGQrKSg/OiA+IGV2YWwgbGluZSBcXGQrKSogPiBldmFsL2lcbiAgY29uc3QgY2hyb21lRXZhbCA9IC9cXCgoXFxTKikoPzo6KFxcZCspKSg/OjooXFxkKykpXFwpL1xuICBjb25zdCBsaW5lcyA9IHN0YWNrdHJhY2Uuc3BsaXQoJ1xcbicpXG4gIGNvbnN0IHN0YWNrID0gW11cbiAgbGV0IHN1Ym1hdGNoXG4gIGxldCBwYXJ0c1xuICBsZXQgZWxlbWVudFxuXG4gIGZvciAobGV0IGkgPSAwLCBqID0gbGluZXMubGVuZ3RoOyBpIDwgajsgaSArPSAxKSB7XG4gICAgaWYgKGNocm9tZS5leGVjKGxpbmVzW2ldKSkge1xuICAgICAgcGFydHMgPSBjaHJvbWUuZXhlYyhsaW5lc1tpXSkhXG4gICAgICBjb25zdCBpc05hdGl2ZSA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ25hdGl2ZScpID09PSAwIC8vIHN0YXJ0IG9mIGxpbmVcbiAgICAgIGlzRXZhbCA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ2V2YWwnKSA9PT0gMCAvLyBzdGFydCBvZiBsaW5lXG4gICAgICBzdWJtYXRjaCA9IGNocm9tZUV2YWwuZXhlYyhwYXJ0c1syXSlcbiAgICAgIGlmIChpc0V2YWwgJiYgc3VibWF0Y2gpIHtcbiAgICAgICAgLy8gdGhyb3cgb3V0IGV2YWwgbGluZS9jb2x1bW4gYW5kIHVzZSB0b3AtbW9zdCBsaW5lL2NvbHVtbiBudW1iZXJcbiAgICAgICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXSAvLyB1cmxcbiAgICAgICAgcGFydHNbM10gPSBzdWJtYXRjaFsyXSAvLyBsaW5lXG4gICAgICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbM10gLy8gY29sdW1uXG4gICAgICB9XG4gICAgICBlbGVtZW50ID0ge1xuICAgICAgICBhcmdzOiBpc05hdGl2ZSA/IFtwYXJ0c1syXV0gOiBbXSxcbiAgICAgICAgY29sdW1uOiBwYXJ0c1s0XSA/ICtwYXJ0c1s0XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgbGluZTogcGFydHNbM10gPyArcGFydHNbM10gOiB1bmRlZmluZWQsXG4gICAgICAgIHVybDogIWlzTmF0aXZlID8gcGFydHNbMl0gOiB1bmRlZmluZWQsXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh3aW5qcy5leGVjKGxpbmVzW2ldKSkge1xuICAgICAgcGFydHMgPSB3aW5qcy5leGVjKGxpbmVzW2ldKSFcbiAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICBsaW5lOiArcGFydHNbM10sXG4gICAgICAgIHVybDogcGFydHNbMl0sXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChnZWNrby5leGVjKGxpbmVzW2ldKSkge1xuICAgICAgcGFydHMgPSBnZWNrby5leGVjKGxpbmVzW2ldKSFcbiAgICAgIGlzRXZhbCA9IHBhcnRzWzNdICYmIHBhcnRzWzNdLmluZGV4T2YoJyA+IGV2YWwnKSA+IC0xXG4gICAgICBzdWJtYXRjaCA9IGdlY2tvRXZhbC5leGVjKHBhcnRzWzNdKVxuICAgICAgaWYgKGlzRXZhbCAmJiBzdWJtYXRjaCkge1xuICAgICAgICAvLyB0aHJvdyBvdXQgZXZhbCBsaW5lL2NvbHVtbiBhbmQgdXNlIHRvcC1tb3N0IGxpbmUgbnVtYmVyXG4gICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMV1cbiAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFsyXVxuICAgICAgICBwYXJ0c1s1XSA9IHVuZGVmaW5lZCEgLy8gbm8gY29sdW1uIHdoZW4gZXZhbFxuICAgICAgfSBlbHNlIGlmIChpID09PSAwICYmICFwYXJ0c1s1XSAmJiAhaXNVbmRlZmluZWQoKGV4IGFzIGFueSkuY29sdW1uTnVtYmVyKSkge1xuICAgICAgICAvLyBGaXJlRm94IHVzZXMgdGhpcyBhd2Vzb21lIGNvbHVtbk51bWJlciBwcm9wZXJ0eSBmb3IgaXRzIHRvcCBmcmFtZVxuICAgICAgICAvLyBBbHNvIG5vdGUsIEZpcmVmb3gncyBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQgYW5kIGV2ZXJ5dGhpbmcgZWxzZSBleHBlY3RzIDEtYmFzZWQsXG4gICAgICAgIC8vIHNvIGFkZGluZyAxXG4gICAgICAgIC8vIE5PVEU6IHRoaXMgaGFjayBkb2Vzbid0IHdvcmsgaWYgdG9wLW1vc3QgZnJhbWUgaXMgZXZhbFxuICAgICAgICBzdGFja1swXS5jb2x1bW4gPSAoKGV4IGFzIGFueSkuY29sdW1uTnVtYmVyIGFzIG51bWJlcikgKyAxXG4gICAgICB9XG4gICAgICBlbGVtZW50ID0ge1xuICAgICAgICBhcmdzOiBwYXJ0c1syXSA/IHBhcnRzWzJdLnNwbGl0KCcsJykgOiBbXSxcbiAgICAgICAgY29sdW1uOiBwYXJ0c1s1XSA/ICtwYXJ0c1s1XSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbMV0gfHwgVU5LTk9XTl9GVU5DVElPTixcbiAgICAgICAgbGluZTogcGFydHNbNF0gPyArcGFydHNbNF0gOiB1bmRlZmluZWQsXG4gICAgICAgIHVybDogcGFydHNbM10sXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKCFlbGVtZW50LmZ1bmMgJiYgZWxlbWVudC5saW5lKSB7XG4gICAgICBlbGVtZW50LmZ1bmMgPSBVTktOT1dOX0ZVTkNUSU9OXG4gICAgfVxuICAgIHN0YWNrLnB1c2goZWxlbWVudClcbiAgfVxuXG4gIGlmICghc3RhY2subGVuZ3RoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YWNrLFxuICAgIG1lc3NhZ2U6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbWVzc2FnZScpLFxuICAgIG5hbWU6IHRyeVRvR2V0U3RyaW5nKGV4LCAnbmFtZScpLFxuICB9XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgc3RhY2sgdHJhY2UgaW5mb3JtYXRpb24gZnJvbSB0aGUgc3RhY2t0cmFjZSBwcm9wZXJ0eS5cbiAqIE9wZXJhIDEwKyB1c2VzIHRoaXMgcHJvcGVydHkuXG4gKiBAcGFyYW0ge0Vycm9yfSBleFxuICogQHJldHVybiB7P1N0YWNrVHJhY2V9IFN0YWNrIHRyYWNlIGluZm9ybWF0aW9uLlxuICogQG1lbWJlcm9mIGNvbXB1dGVTdGFja1RyYWNlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrdHJhY2VQcm9wKGV4OiB1bmtub3duKSB7XG4gIC8vIEFjY2VzcyBhbmQgc3RvcmUgdGhlIHN0YWNrdHJhY2UgcHJvcGVydHkgYmVmb3JlIGRvaW5nIEFOWVRISU5HXG4gIC8vIGVsc2UgdG8gaXQgYmVjYXVzZSBPcGVyYSBpcyBub3QgdmVyeSBnb29kIGF0IHByb3ZpZGluZyBpdFxuICAvLyByZWxpYWJseSBpbiBvdGhlciBjaXJjdW1zdGFuY2VzLlxuICBjb25zdCBzdGFja3RyYWNlID0gdHJ5VG9HZXRTdHJpbmcoZXgsICdzdGFja3RyYWNlJylcbiAgaWYgKCFzdGFja3RyYWNlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBvcGVyYTEwUmVnZXggPSAvIGxpbmUgKFxcZCspLipzY3JpcHQgKD86aW4gKT8oXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/JC9pXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbWF4LWxlblxuICBjb25zdCBvcGVyYTExUmVnZXggPSAvIGxpbmUgKFxcZCspLCBjb2x1bW4gKFxcZCspXFxzKig/OmluICg/Ojxhbm9ueW1vdXMgZnVuY3Rpb246IChbXj5dKyk+fChbXlxcKV0rKSlcXCgoLiopXFwpKT8gaW4gKC4qKTpcXHMqJC9pXG4gIGNvbnN0IGxpbmVzID0gc3RhY2t0cmFjZS5zcGxpdCgnXFxuJylcbiAgY29uc3Qgc3RhY2sgPSBbXVxuICBsZXQgcGFydHNcblxuICBmb3IgKGxldCBsaW5lID0gMDsgbGluZSA8IGxpbmVzLmxlbmd0aDsgbGluZSArPSAyKSB7XG4gICAgbGV0IGVsZW1lbnQ6IFN0YWNrRnJhbWUgfCB1bmRlZmluZWRcbiAgICBpZiAob3BlcmExMFJlZ2V4LmV4ZWMobGluZXNbbGluZV0pKSB7XG4gICAgICBwYXJ0cyA9IG9wZXJhMTBSZWdleC5leGVjKGxpbmVzW2xpbmVdKSFcbiAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICBjb2x1bW46IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogcGFydHNbM10sXG4gICAgICAgIGxpbmU6ICtwYXJ0c1sxXSxcbiAgICAgICAgdXJsOiBwYXJ0c1syXSxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wZXJhMTFSZWdleC5leGVjKGxpbmVzW2xpbmVdKSkge1xuICAgICAgcGFydHMgPSBvcGVyYTExUmVnZXguZXhlYyhsaW5lc1tsaW5lXSkhXG4gICAgICBlbGVtZW50ID0ge1xuICAgICAgICBhcmdzOiBwYXJ0c1s1XSA/IHBhcnRzWzVdLnNwbGl0KCcsJykgOiBbXSxcbiAgICAgICAgY29sdW1uOiArcGFydHNbMl0sXG4gICAgICAgIGZ1bmM6IHBhcnRzWzNdIHx8IHBhcnRzWzRdLFxuICAgICAgICBsaW5lOiArcGFydHNbMV0sXG4gICAgICAgIHVybDogcGFydHNbNl0sXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIGlmICghZWxlbWVudC5mdW5jICYmIGVsZW1lbnQubGluZSkge1xuICAgICAgICBlbGVtZW50LmZ1bmMgPSBVTktOT1dOX0ZVTkNUSU9OXG4gICAgICB9XG4gICAgICBlbGVtZW50LmNvbnRleHQgPSBbbGluZXNbbGluZSArIDFdXVxuXG4gICAgICBzdGFjay5wdXNoKGVsZW1lbnQpXG4gICAgfVxuICB9XG5cbiAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhY2ssXG4gICAgbWVzc2FnZTogdHJ5VG9HZXRTdHJpbmcoZXgsICdtZXNzYWdlJyksXG4gICAgbmFtZTogdHJ5VG9HZXRTdHJpbmcoZXgsICduYW1lJyksXG4gIH1cbn1cblxuLyoqXG4gKiBOT1QgVEVTVEVELlxuICogQ29tcHV0ZXMgc3RhY2sgdHJhY2UgaW5mb3JtYXRpb24gZnJvbSBhbiBlcnJvciBtZXNzYWdlIHRoYXQgaW5jbHVkZXNcbiAqIHRoZSBzdGFjayB0cmFjZS5cbiAqIE9wZXJhIDkgYW5kIGVhcmxpZXIgdXNlIHRoaXMgbWV0aG9kIGlmIHRoZSBvcHRpb24gdG8gc2hvdyBzdGFja1xuICogdHJhY2VzIGlzIHR1cm5lZCBvbiBpbiBvcGVyYTpjb25maWcuXG4gKiBAcGFyYW0ge0Vycm9yfSBleFxuICogQHJldHVybiB7P1N0YWNrVHJhY2V9IFN0YWNrIGluZm9ybWF0aW9uLlxuICogQG1lbWJlcm9mIGNvbXB1dGVTdGFja1RyYWNlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlRnJvbU9wZXJhTXVsdGlMaW5lTWVzc2FnZShleDogdW5rbm93bik6IFN0YWNrVHJhY2UgfCB1bmRlZmluZWQge1xuICAvLyBUT0RPOiBDbGVhbiB0aGlzIGZ1bmN0aW9uIHVwXG4gIC8vIE9wZXJhIGluY2x1ZGVzIGEgc3RhY2sgdHJhY2UgaW50byB0aGUgZXhjZXB0aW9uIG1lc3NhZ2UuIEFuIGV4YW1wbGUgaXM6XG4gIC8vXG4gIC8vIFN0YXRlbWVudCBvbiBsaW5lIDM6IFVuZGVmaW5lZCB2YXJpYWJsZTogdW5kZWZpbmVkRnVuY1xuICAvLyBCYWNrdHJhY2U6XG4gIC8vICAgTGluZSAzIG9mIGxpbmtlZCBzY3JpcHQgZmlsZTovL2xvY2FsaG9zdC9Vc2Vycy9hbmRyZXl2aXQvUHJvamVjdHMvVHJhY2VLaXQvamF2YXNjcmlwdC1jbGllbnQvc2FtcGxlLmpzOlxuICAvLyAgIEluIGZ1bmN0aW9uIHp6elxuICAvLyAgICAgICAgIHVuZGVmaW5lZEZ1bmMoYSk7XG4gIC8vICAgTGluZSA3IG9mIGlubGluZSMxIHNjcmlwdCBpbiBmaWxlOi8vbG9jYWxob3N0L1VzZXJzL2FuZHJleXZpdC9Qcm9qZWN0cy9UcmFjZUtpdC9qYXZhc2NyaXB0LWNsaWVudC9zYW1wbGUuaHRtbDpcbiAgLy8gICBJbiBmdW5jdGlvbiB5eXlcbiAgLy8gICAgICAgICAgIHp6eih4LCB5LCB6KTtcbiAgLy8gICBMaW5lIDMgb2YgaW5saW5lIzEgc2NyaXB0IGluIGZpbGU6Ly9sb2NhbGhvc3QvVXNlcnMvYW5kcmV5dml0L1Byb2plY3RzL1RyYWNlS2l0L2phdmFzY3JpcHQtY2xpZW50L3NhbXBsZS5odG1sOlxuICAvLyAgIEluIGZ1bmN0aW9uIHh4eFxuICAvLyAgICAgICAgICAgeXl5KGEsIGEsIGEpO1xuICAvLyAgIExpbmUgMSBvZiBmdW5jdGlvbiBzY3JpcHRcbiAgLy8gICAgIHRyeSB7IHh4eCgnaGknKTsgcmV0dXJuIGZhbHNlOyB9IGNhdGNoKGV4KSB7IHJlcG9ydChleCk7IH1cbiAgLy8gICAuLi5cblxuICBjb25zdCBtZXNzYWdlID0gdHJ5VG9HZXRTdHJpbmcoZXgsICdtZXNzYWdlJylcbiAgaWYgKCFtZXNzYWdlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgbGluZXMgPSBtZXNzYWdlLnNwbGl0KCdcXG4nKVxuICBpZiAobGluZXMubGVuZ3RoIDwgNCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgbGluZVJFMSA9IC9eXFxzKkxpbmUgKFxcZCspIG9mIGxpbmtlZCBzY3JpcHQgKCg/OmZpbGV8aHR0cHM/fGJsb2IpXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/XFxzKiQvaVxuICBjb25zdCBsaW5lUkUyID0gL15cXHMqTGluZSAoXFxkKykgb2YgaW5saW5lIyhcXGQrKSBzY3JpcHQgaW4gKCg/OmZpbGV8aHR0cHM/fGJsb2IpXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/XFxzKiQvaVxuICBjb25zdCBsaW5lUkUzID0gL15cXHMqTGluZSAoXFxkKykgb2YgZnVuY3Rpb24gc2NyaXB0XFxzKiQvaVxuICBjb25zdCBzdGFjayA9IFtdXG4gIGNvbnN0IHNjcmlwdHMgPSB3aW5kb3cgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylcbiAgY29uc3QgaW5saW5lU2NyaXB0QmxvY2tzID0gW11cbiAgbGV0IHBhcnRzXG5cbiAgZm9yIChjb25zdCBzIGluIHNjcmlwdHMpIHtcbiAgICBpZiAoaGFzKHNjcmlwdHMsIHMpICYmICFzY3JpcHRzW3NdLnNyYykge1xuICAgICAgaW5saW5lU2NyaXB0QmxvY2tzLnB1c2goc2NyaXB0c1tzXSlcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBsaW5lID0gMjsgbGluZSA8IGxpbmVzLmxlbmd0aDsgbGluZSArPSAyKSB7XG4gICAgbGV0IGl0ZW06IFN0YWNrRnJhbWUgfCB1bmRlZmluZWRcbiAgICBpZiAobGluZVJFMS5leGVjKGxpbmVzW2xpbmVdKSkge1xuICAgICAgcGFydHMgPSBsaW5lUkUxLmV4ZWMobGluZXNbbGluZV0pIVxuICAgICAgaXRlbSA9IHtcbiAgICAgICAgYXJnczogW10sXG4gICAgICAgIGNvbHVtbjogdW5kZWZpbmVkLFxuICAgICAgICBmdW5jOiBwYXJ0c1szXSxcbiAgICAgICAgbGluZTogK3BhcnRzWzFdLFxuICAgICAgICB1cmw6IHBhcnRzWzJdLFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGluZVJFMi5leGVjKGxpbmVzW2xpbmVdKSkge1xuICAgICAgcGFydHMgPSBsaW5lUkUyLmV4ZWMobGluZXNbbGluZV0pIVxuICAgICAgaXRlbSA9IHtcbiAgICAgICAgYXJnczogW10sXG4gICAgICAgIGNvbHVtbjogdW5kZWZpbmVkLCAvLyBUT0RPOiBDaGVjayB0byBzZWUgaWYgaW5saW5lIzEgKCtwYXJ0c1syXSkgcG9pbnRzIHRvIHRoZSBzY3JpcHQgbnVtYmVyIG9yIGNvbHVtbiBudW1iZXIuXG4gICAgICAgIGZ1bmM6IHBhcnRzWzRdLFxuICAgICAgICBsaW5lOiArcGFydHNbMV0sXG4gICAgICAgIHVybDogcGFydHNbM10sXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsaW5lUkUzLmV4ZWMobGluZXNbbGluZV0pKSB7XG4gICAgICBwYXJ0cyA9IGxpbmVSRTMuZXhlYyhsaW5lc1tsaW5lXSkhXG4gICAgICBjb25zdCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiokLywgJycpXG4gICAgICBpdGVtID0ge1xuICAgICAgICB1cmwsXG4gICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICBjb2x1bW46IHVuZGVmaW5lZCxcbiAgICAgICAgZnVuYzogJycsXG4gICAgICAgIGxpbmU6ICtwYXJ0c1sxXSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXRlbSkge1xuICAgICAgaWYgKCFpdGVtLmZ1bmMpIHtcbiAgICAgICAgaXRlbS5mdW5jID0gVU5LTk9XTl9GVU5DVElPTlxuICAgICAgfVxuICAgICAgaXRlbS5jb250ZXh0ID0gW2xpbmVzW2xpbmUgKyAxXV1cbiAgICAgIHN0YWNrLnB1c2goaXRlbSlcbiAgICB9XG4gIH1cbiAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICByZXR1cm4gLy8gY291bGQgbm90IHBhcnNlIG11bHRpbGluZSBleGNlcHRpb24gbWVzc2FnZSBhcyBPcGVyYSBzdGFjayB0cmFjZVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFjayxcbiAgICBtZXNzYWdlOiBsaW5lc1swXSxcbiAgICBuYW1lOiB0cnlUb0dldFN0cmluZyhleCwgJ25hbWUnKSxcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZpcnN0IGZyYW1lIHRvIGluY29tcGxldGUgc3RhY2sgdHJhY2VzLlxuICogU2FmYXJpIGFuZCBJRSByZXF1aXJlIHRoaXMgdG8gZ2V0IGNvbXBsZXRlIGRhdGEgb24gdGhlIGZpcnN0IGZyYW1lLlxuICogQHBhcmFtIHtTdGFja1RyYWNlfSBzdGFja0luZm8gU3RhY2sgdHJhY2UgaW5mb3JtYXRpb24gZnJvbVxuICogb25lIG9mIHRoZSBjb21wdXRlKiBtZXRob2RzLlxuICogQHBhcmFtIHtzdHJpbmc9fSB1cmwgVGhlIFVSTCBvZiB0aGUgc2NyaXB0IHRoYXQgY2F1c2VkIGFuIGVycm9yLlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBsaW5lTm8gVGhlIGxpbmUgbnVtYmVyIG9mIHRoZSBzY3JpcHQgdGhhdFxuICogY2F1c2VkIGFuIGVycm9yLlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBlcnJvciBnZW5lcmF0ZWQgYnkgdGhlIGJyb3dzZXIsIHdoaWNoXG4gKiBob3BlZnVsbHkgY29udGFpbnMgdGhlIG5hbWUgb2YgdGhlIG9iamVjdCB0aGF0IGNhdXNlZCB0aGUgZXJyb3IuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3RhY2sgaW5mb3JtYXRpb24gd2FzXG4gKiBhdWdtZW50ZWQuXG4gKiBAbWVtYmVyb2YgY29tcHV0ZVN0YWNrVHJhY2VcbiAqL1xuZnVuY3Rpb24gYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnQoc3RhY2tJbmZvOiBTdGFja1RyYWNlLCB1cmw/OiBzdHJpbmcsIGxpbmVObz86IHN0cmluZyB8IG51bWJlcikge1xuICBjb25zdCBpbml0aWFsOiBTdGFja0ZyYW1lID0ge1xuICAgIHVybCxcbiAgICBsaW5lOiBsaW5lTm8gPyArbGluZU5vIDogdW5kZWZpbmVkLFxuICB9XG5cbiAgaWYgKGluaXRpYWwudXJsICYmIGluaXRpYWwubGluZSkge1xuICAgIHN0YWNrSW5mby5pbmNvbXBsZXRlID0gZmFsc2VcblxuICAgIGNvbnN0IHN0YWNrID0gc3RhY2tJbmZvLnN0YWNrXG4gICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChzdGFja1swXS51cmwgPT09IGluaXRpYWwudXJsKSB7XG4gICAgICAgIGlmIChzdGFja1swXS5saW5lID09PSBpbml0aWFsLmxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2UgLy8gYWxyZWFkeSBpbiBzdGFjayB0cmFjZVxuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhY2tbMF0ubGluZSAmJiBzdGFja1swXS5mdW5jID09PSBpbml0aWFsLmZ1bmMpIHtcbiAgICAgICAgICBzdGFja1swXS5saW5lID0gaW5pdGlhbC5saW5lXG4gICAgICAgICAgc3RhY2tbMF0uY29udGV4dCA9IGluaXRpYWwuY29udGV4dFxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhY2sudW5zaGlmdChpbml0aWFsKVxuICAgIHN0YWNrSW5mby5wYXJ0aWFsID0gdHJ1ZVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgc3RhY2tJbmZvLmluY29tcGxldGUgPSB0cnVlXG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogQ29tcHV0ZXMgc3RhY2sgdHJhY2UgaW5mb3JtYXRpb24gYnkgd2Fsa2luZyB0aGUgYXJndW1lbnRzLmNhbGxlclxuICogY2hhaW4gYXQgdGhlIHRpbWUgdGhlIGV4Y2VwdGlvbiBvY2N1cnJlZC4gVGhpcyB3aWxsIGNhdXNlIGVhcmxpZXJcbiAqIGZyYW1lcyB0byBiZSBtaXNzZWQgYnV0IGlzIHRoZSBvbmx5IHdheSB0byBnZXQgYW55IHN0YWNrIHRyYWNlIGluXG4gKiBTYWZhcmkgYW5kIElFLiBUaGUgdG9wIGZyYW1lIGlzIHJlc3RvcmVkIGJ5XG4gKiB7QGxpbmsgYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnR9LlxuICogQHBhcmFtIHtFcnJvcn0gZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aFxuICogQHJldHVybiB7U3RhY2tUcmFjZX0gU3RhY2sgdHJhY2UgaW5mb3JtYXRpb24uXG4gKiBAbWVtYmVyb2YgY29tcHV0ZVN0YWNrVHJhY2VcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVN0YWNrVHJhY2VCeVdhbGtpbmdDYWxsZXJDaGFpbihleDogdW5rbm93biwgZGVwdGg6IG51bWJlcikge1xuICBjb25zdCBmdW5jdGlvbk5hbWUgPSAvZnVuY3Rpb25cXHMrKFtfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qKT9cXHMqXFwoL2lcbiAgY29uc3Qgc3RhY2sgPSBbXVxuICBjb25zdCBmdW5jczogYW55ID0ge31cbiAgbGV0IHJlY3Vyc2lvbiA9IGZhbHNlXG4gIGxldCBwYXJ0c1xuICBsZXQgaXRlbTogU3RhY2tGcmFtZVxuXG4gIGZvciAobGV0IGN1cnIgPSBjb21wdXRlU3RhY2tUcmFjZUJ5V2Fsa2luZ0NhbGxlckNoYWluLmNhbGxlcjsgY3VyciAmJiAhcmVjdXJzaW9uOyBjdXJyID0gY3Vyci5jYWxsZXIpIHtcbiAgICBpZiAoY3VyciA9PT0gY29tcHV0ZVN0YWNrVHJhY2UpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaXRlbSA9IHtcbiAgICAgIGFyZ3M6IFtdLFxuICAgICAgY29sdW1uOiB1bmRlZmluZWQsXG4gICAgICBmdW5jOiBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgbGluZTogdW5kZWZpbmVkLFxuICAgICAgdXJsOiB1bmRlZmluZWQsXG4gICAgfVxuXG4gICAgcGFydHMgPSBmdW5jdGlvbk5hbWUuZXhlYyhjdXJyLnRvU3RyaW5nKCkpXG4gICAgaWYgKChjdXJyIGFzIGFueSkubmFtZSkge1xuICAgICAgaXRlbS5mdW5jID0gKGN1cnIgYXMgYW55KS5uYW1lXG4gICAgfSBlbHNlIGlmIChwYXJ0cykge1xuICAgICAgaXRlbS5mdW5jID0gcGFydHNbMV1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGl0ZW0uZnVuYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGl0ZW0uZnVuYyA9IHBhcnRzID8gcGFydHMuaW5wdXQuc3Vic3RyaW5nKDAsIHBhcnRzLmlucHV0LmluZGV4T2YoJ3snKSkgOiB1bmRlZmluZWRcbiAgICB9XG5cbiAgICBpZiAoZnVuY3NbY3Vyci50b1N0cmluZygpXSkge1xuICAgICAgcmVjdXJzaW9uID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBmdW5jc1tjdXJyLnRvU3RyaW5nKCldID0gdHJ1ZVxuICAgIH1cblxuICAgIHN0YWNrLnB1c2goaXRlbSlcbiAgfVxuXG4gIGlmIChkZXB0aCkge1xuICAgIHN0YWNrLnNwbGljZSgwLCBkZXB0aClcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdDogU3RhY2tUcmFjZSA9IHtcbiAgICBzdGFjayxcbiAgICBtZXNzYWdlOiB0cnlUb0dldFN0cmluZyhleCwgJ21lc3NhZ2UnKSxcbiAgICBuYW1lOiB0cnlUb0dldFN0cmluZyhleCwgJ25hbWUnKSxcbiAgfVxuICBhdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudChcbiAgICByZXN1bHQsXG4gICAgdHJ5VG9HZXRTdHJpbmcoZXgsICdzb3VyY2VVUkwnKSB8fCB0cnlUb0dldFN0cmluZyhleCwgJ2ZpbGVOYW1lJyksXG4gICAgdHJ5VG9HZXRTdHJpbmcoZXgsICdsaW5lJykgfHwgdHJ5VG9HZXRTdHJpbmcoZXgsICdsaW5lTnVtYmVyJylcbiAgKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHRyeVRvR2V0U3RyaW5nKGNhbmRpZGF0ZTogdW5rbm93biwgcHJvcGVydHk6IHN0cmluZykge1xuICBpZiAodHlwZW9mIGNhbmRpZGF0ZSAhPT0gJ29iamVjdCcgfHwgIWNhbmRpZGF0ZSB8fCAhKHByb3BlcnR5IGluIGNhbmRpZGF0ZSkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgY29uc3QgdmFsdWUgPSAoY2FuZGlkYXRlIGFzIHsgW2s6IHN0cmluZ106IHVua25vd24gfSlbcHJvcGVydHldXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiB1bmRlZmluZWRcbn1cblxuLyoqXG4gKiBMb2dzIGEgc3RhY2t0cmFjZSBzdGFydGluZyBmcm9tIHRoZSBwcmV2aW91cyBjYWxsIGFuZCB3b3JraW5nIGRvd24uXG4gKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKT19IGRlcHRoIEhvdyBtYW55IGZyYW1lcyBkZWVwIHRvIHRyYWNlLlxuICogQHJldHVybiB7U3RhY2tUcmFjZX0gU3RhY2sgdHJhY2UgaW5mb3JtYXRpb24uXG4gKiBAbWVtYmVyb2YgY29tcHV0ZVN0YWNrVHJhY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTdGFja1RyYWNlT2ZDYWxsZXIoZGVwdGg/OiBudW1iZXIpIHtcbiAgY29uc3QgY3VycmVudERlcHRoID0gKGRlcHRoID09PSB1bmRlZmluZWQgPyAwIDogK2RlcHRoKSArIDEgLy8gXCIrIDFcIiBiZWNhdXNlIFwib2ZDYWxsZXJcIiBzaG91bGQgZHJvcCBvbmUgZnJhbWVcbiAgdHJ5IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoKVxuICB9IGNhdGNoIChleCkge1xuICAgIHJldHVybiBjb21wdXRlU3RhY2tUcmFjZShleCwgY3VycmVudERlcHRoICsgMSlcbiAgfVxufVxuXG4vKipcbiAqIEEgYmV0dGVyIGZvcm0gb2YgaGFzT3duUHJvcGVydHk8YnIvPlxuICogRXhhbXBsZTogYGhhcyhNYWluSG9zdE9iamVjdCwgcHJvcGVydHkpID09PSB0cnVlL2ZhbHNlYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgdG8gY2hlY2sgcHJvcGVydHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgdGhlIG9iamVjdCBoYXMgdGhlIGtleSBhbmQgaXQgaXMgbm90IGluaGVyaXRlZFxuICovXG5mdW5jdGlvbiBoYXMob2JqZWN0OiBvYmplY3QsIGtleTogc3RyaW5nKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpXG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkPGJyLz5cbiAqIEV4YW1wbGU6IGBpc1VuZGVmaW5lZCh2YWwpID09PSB0cnVlL2ZhbHNlYFxuICpcbiAqIEBwYXJhbSB7Kn0gd2hhdCBWYWx1ZSB0byBjaGVja1xuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB1bmRlZmluZWQgYW5kIGZhbHNlIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh3aGF0OiBhbnkpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aGF0ID09PSAndW5kZWZpbmVkJ1xufVxuIiwiaW1wb3J0IHsgaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCB9IGZyb20gJy4uLy4uL3Rvb2xzL2luc3RydW1lbnRNZXRob2QnXG5pbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4vY29tcHV0ZVN0YWNrVHJhY2UnXG5pbXBvcnQgeyBVbmhhbmRsZWRFcnJvckNhbGxiYWNrLCBTdGFja1RyYWNlIH0gZnJvbSAnLi90eXBlcydcblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjRXJyb3JfdHlwZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgbWF4LWxlblxuY29uc3QgRVJST1JfVFlQRVNfUkUgPSAvXig/OltVdV1uY2F1Z2h0ICg/OmV4Y2VwdGlvbjogKT8pPyg/OigoPzpFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkl8KUVycm9yKTogKT8oLiopJC9cblxuLyoqXG4gKiBDcm9zcy1icm93c2VyIGNvbGxlY3Rpb24gb2YgdW5oYW5kbGVkIGVycm9yc1xuICpcbiAqIFN1cHBvcnRzOlxuICogLSBGaXJlZm94OiBmdWxsIHN0YWNrIHRyYWNlIHdpdGggbGluZSBudW1iZXJzLCBwbHVzIGNvbHVtbiBudW1iZXJcbiAqIG9uIHRvcCBmcmFtZTsgY29sdW1uIG51bWJlciBpcyBub3QgZ3VhcmFudGVlZFxuICogLSBPcGVyYTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIENocm9tZTogZnVsbCBzdGFjayB0cmFjZSB3aXRoIGxpbmUgYW5kIGNvbHVtbiBudW1iZXJzXG4gKiAtIFNhZmFyaTogbGluZSBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHRvcCBmcmFtZSBvbmx5OyBzb21lIGZyYW1lc1xuICogbWF5IGJlIG1pc3NpbmcsIGFuZCBjb2x1bW4gbnVtYmVyIGlzIG5vdCBndWFyYW50ZWVkXG4gKiAtIElFOiBsaW5lIGFuZCBjb2x1bW4gbnVtYmVyIGZvciB0aGUgdG9wIGZyYW1lIG9ubHk7IHNvbWUgZnJhbWVzXG4gKiBtYXkgYmUgbWlzc2luZywgYW5kIGNvbHVtbiBudW1iZXIgaXMgbm90IGd1YXJhbnRlZWRcbiAqXG4gKiBJbiB0aGVvcnksIFRyYWNlS2l0IHNob3VsZCB3b3JrIG9uIGFsbCBvZiB0aGUgZm9sbG93aW5nIHZlcnNpb25zOlxuICogLSBJRTUuNSsgKG9ubHkgOC4wIHRlc3RlZClcbiAqIC0gRmlyZWZveCAwLjkrIChvbmx5IDMuNSsgdGVzdGVkKVxuICogLSBPcGVyYSA3KyAob25seSAxMC41MCB0ZXN0ZWQ7IHZlcnNpb25zIDkgYW5kIGVhcmxpZXIgbWF5IHJlcXVpcmVcbiAqIEV4Y2VwdGlvbnMgSGF2ZSBTdGFja3RyYWNlIHRvIGJlIGVuYWJsZWQgaW4gb3BlcmE6Y29uZmlnKVxuICogLSBTYWZhcmkgMysgKG9ubHkgNCsgdGVzdGVkKVxuICogLSBDaHJvbWUgMSsgKG9ubHkgNSsgdGVzdGVkKVxuICogLSBLb25xdWVyb3IgMy41KyAodW50ZXN0ZWQpXG4gKlxuICogVHJpZXMgdG8gY2F0Y2ggYWxsIHVuaGFuZGxlZCBlcnJvcnMgYW5kIHJlcG9ydCB0aGVtIHRvIHRoZVxuICogY2FsbGJhY2suXG4gKlxuICogQ2FsbGJhY2tzIHJlY2VpdmUgYSBTdGFja1RyYWNlIG9iamVjdCBhcyBkZXNjcmliZWQgaW4gdGhlXG4gKiBjb21wdXRlU3RhY2tUcmFjZSBkb2NzLlxuICpcbiAqIEBtZW1iZXJvZiBUcmFjZUtpdFxuICogQG5hbWVzcGFjZVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFVuaGFuZGxlZEVycm9yQ29sbGVjdGlvbihjYWxsYmFjazogVW5oYW5kbGVkRXJyb3JDYWxsYmFjaykge1xuICBjb25zdCB7IHN0b3A6IHN0b3BJbnN0cnVtZW50aW5nT25FcnJvciB9ID0gaW5zdHJ1bWVudE9uRXJyb3IoY2FsbGJhY2spXG4gIGNvbnN0IHsgc3RvcDogc3RvcEluc3RydW1lbnRpbmdPblVuaGFuZGxlZFJlamVjdGlvbiB9ID0gaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbihjYWxsYmFjaylcblxuICByZXR1cm4ge1xuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIHN0b3BJbnN0cnVtZW50aW5nT25FcnJvcigpXG4gICAgICBzdG9wSW5zdHJ1bWVudGluZ09uVW5oYW5kbGVkUmVqZWN0aW9uKClcbiAgICB9LFxuICB9XG59XG5cbi8qKlxuICogSW5zdGFsbCBhIGdsb2JhbCBvbmVycm9yIGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudE9uRXJyb3IoY2FsbGJhY2s6IFVuaGFuZGxlZEVycm9yQ2FsbGJhY2spIHtcbiAgcmV0dXJuIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwod2luZG93LCAnb25lcnJvcicsIHtcbiAgICBiZWZvcmUodGhpczogYW55LCBtZXNzYWdlOiBFdmVudCB8IHN0cmluZywgdXJsPzogc3RyaW5nLCBsaW5lTm8/OiBudW1iZXIsIGNvbHVtbk5vPzogbnVtYmVyLCBlcnJvck9iaj86IEVycm9yKSB7XG4gICAgICBsZXQgc3RhY2s6IFN0YWNrVHJhY2VcblxuICAgICAgaWYgKGVycm9yT2JqKSB7XG4gICAgICAgIHN0YWNrID0gY29tcHV0ZVN0YWNrVHJhY2UoZXJyb3JPYmopXG4gICAgICAgIGNhbGxiYWNrKHN0YWNrLCBlcnJvck9iailcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0ge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICBjb2x1bW46IGNvbHVtbk5vLFxuICAgICAgICAgIGxpbmU6IGxpbmVObyxcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lXG4gICAgICAgIGxldCBtc2cgPSBtZXNzYWdlXG4gICAgICAgIGlmICh7fS50b1N0cmluZy5jYWxsKG1lc3NhZ2UpID09PSAnW29iamVjdCBTdHJpbmddJykge1xuICAgICAgICAgIGNvbnN0IGdyb3VwcyA9IEVSUk9SX1RZUEVTX1JFLmV4ZWMobXNnIGFzIHN0cmluZylcbiAgICAgICAgICBpZiAoZ3JvdXBzKSB7XG4gICAgICAgICAgICBuYW1lID0gZ3JvdXBzWzFdXG4gICAgICAgICAgICBtc2cgPSBncm91cHNbMl1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdGFjayA9IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnID8gbXNnIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHN0YWNrOiBbbG9jYXRpb25dLFxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2soc3RhY2ssIG1lc3NhZ2UpXG4gICAgICB9XG4gICAgfSxcbiAgfSlcbn1cblxuLyoqXG4gKiBJbnN0YWxsIGEgZ2xvYmFsIG9udW5oYW5kbGVkcmVqZWN0aW9uIGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbihjYWxsYmFjazogVW5oYW5kbGVkRXJyb3JDYWxsYmFjaykge1xuICByZXR1cm4gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbCh3aW5kb3csICdvbnVuaGFuZGxlZHJlamVjdGlvbicsIHtcbiAgICBiZWZvcmUoZTogUHJvbWlzZVJlamVjdGlvbkV2ZW50KSB7XG4gICAgICBjb25zdCByZWFzb24gPSBlLnJlYXNvbiB8fCAnRW1wdHkgcmVhc29uJ1xuICAgICAgY29uc3Qgc3RhY2sgPSBjb21wdXRlU3RhY2tUcmFjZShyZWFzb24pXG4gICAgICBjYWxsYmFjayhzdGFjaywgcmVhc29uKVxuICAgIH0sXG4gIH0pXG59XG4iLCJjb25zdCBERUZBVUxUX0xJTUlUID0gMTBfMDAwXG5cbmV4cG9ydCBjbGFzcyBCb3VuZGVkQnVmZmVyIHtcbiAgcHJpdmF0ZSBidWZmZXI6IEFycmF5PCgpID0+IHZvaWQ+ID0gW11cblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGxpbWl0OiBudW1iZXIgPSBERUZBVUxUX0xJTUlUKSB7fVxuXG4gIGFkZChjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuYnVmZmVyLnB1c2goY2FsbGJhY2spXG4gICAgaWYgKGxlbmd0aCA+IHRoaXMubGltaXQpIHtcbiAgICAgIHRoaXMuYnVmZmVyLnNwbGljZSgwLCAxKVxuICAgIH1cbiAgfVxuXG4gIGRyYWluKCkge1xuICAgIHRoaXMuYnVmZmVyLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjaygpKVxuICAgIHRoaXMuYnVmZmVyLmxlbmd0aCA9IDBcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzSUUoKSB7XG4gIHJldHVybiBCb29sZWFuKChkb2N1bWVudCBhcyBhbnkpLmRvY3VtZW50TW9kZSlcbn1cbiIsImltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuL2Rpc3BsYXknXG5cbmV4cG9ydCBmdW5jdGlvbiBjYXRjaFVzZXJFcnJvcnM8QXJncyBleHRlbmRzIGFueVtdLCBSPihmbjogKC4uLmFyZ3M6IEFyZ3MpID0+IFIsIGVycm9yTXNnOiBzdHJpbmcpIHtcbiAgcmV0dXJuICguLi5hcmdzOiBBcmdzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbiguLi5hcmdzKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGlzcGxheS5lcnJvcihlcnJvck1zZywgZXJyKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29udGV4dCwgQ29udGV4dFZhbHVlIH0gZnJvbSAnLi9jb250ZXh0J1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dE1hbmFnZXIoKSB7XG4gIGxldCBjb250ZXh0OiBDb250ZXh0ID0ge31cblxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gY29udGV4dCxcblxuICAgIGFkZDogKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgICBjb250ZXh0W2tleV0gPSB2YWx1ZSBhcyBDb250ZXh0VmFsdWVcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiAoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGRlbGV0ZSBjb250ZXh0W2tleV1cbiAgICB9LFxuXG4gICAgc2V0OiAobmV3Q29udGV4dDogb2JqZWN0KSA9PiB7XG4gICAgICBjb250ZXh0ID0gbmV3Q29udGV4dCBhcyBDb250ZXh0XG4gICAgfSxcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2xvY2tzTm93LCBFcnJvclNvdXJjZSwgT05FX01JTlVURSwgUmF3RXJyb3IgfSBmcm9tICcuLidcblxuZXhwb3J0IHR5cGUgRXZlbnRSYXRlTGltaXRlciA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUV2ZW50UmF0ZUxpbWl0ZXI+XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudFJhdGVMaW1pdGVyKFxuICBldmVudFR5cGU6IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlcixcbiAgb25MaW1pdFJlYWNoZWQ6IChsaW1pdEVycm9yOiBSYXdFcnJvcikgPT4gdm9pZFxuKSB7XG4gIGxldCBldmVudENvdW50ID0gMFxuICBsZXQgYWxsb3dOZXh0RXZlbnQgPSBmYWxzZVxuXG4gIHJldHVybiB7XG4gICAgaXNMaW1pdFJlYWNoZWQoKSB7XG4gICAgICBpZiAoZXZlbnRDb3VudCA9PT0gMCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBldmVudENvdW50ID0gMFxuICAgICAgICB9LCBPTkVfTUlOVVRFKVxuICAgICAgfVxuXG4gICAgICBldmVudENvdW50ICs9IDFcbiAgICAgIGlmIChldmVudENvdW50IDw9IGxpbWl0IHx8IGFsbG93TmV4dEV2ZW50KSB7XG4gICAgICAgIGFsbG93TmV4dEV2ZW50ID0gZmFsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudENvdW50ID09PSBsaW1pdCArIDEpIHtcbiAgICAgICAgYWxsb3dOZXh0RXZlbnQgPSB0cnVlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb25MaW1pdFJlYWNoZWQoe1xuICAgICAgICAgICAgbWVzc2FnZTogYFJlYWNoZWQgbWF4IG51bWJlciBvZiAke2V2ZW50VHlwZX1zIGJ5IG1pbnV0ZTogJHtsaW1pdH1gLFxuICAgICAgICAgICAgc291cmNlOiBFcnJvclNvdXJjZS5BR0VOVCxcbiAgICAgICAgICAgIHN0YXJ0Q2xvY2tzOiBjbG9ja3NOb3coKSxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFsbG93TmV4dEV2ZW50ID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sXG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUsIGxvY2FsLXJ1bGVzL2Rpc2FsbG93LXNpZGUtZWZmZWN0cyAqL1xuLyoqXG4gKiBLZWVwIHJlZmVyZW5jZXMgb24gY29uc29sZSBtZXRob2RzIHRvIGF2b2lkIHRyaWdnZXJpbmcgcGF0Y2hlZCBiZWhhdmlvcnNcbiAqXG4gKiBOQjogaW4gc29tZSBzZXR1cCwgY29uc29sZSBjb3VsZCBhbHJlYWR5IGJlIHBhdGNoZWQgYnkgYW5vdGhlciBTREsuXG4gKiBJbiB0aGlzIGNhc2UsIHNvbWUgZGlzcGxheSBtZXNzYWdlcyBjYW4gYmUgc2VudCBieSB0aGUgb3RoZXIgU0RLXG4gKiBidXQgd2Ugc2hvdWxkIGJlIHNhZmUgZnJvbSBpbmZpbml0ZSBsb29wIG5vbmV0aGVsZXNzLlxuICovXG5leHBvcnQgY29uc3QgZGlzcGxheTogUGljazx0eXBlb2YgY29uc29sZSwgJ2xvZycgfCAnd2FybicgfCAnZXJyb3InPiA9IHtcbiAgbG9nOiBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLFxuICB3YXJuOiBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKSxcbiAgZXJyb3I6IGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKSxcbn1cbiIsImltcG9ydCB7IGNhbGxNb25pdG9yZWQgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxNb25pdG9yaW5nJ1xuaW1wb3J0IHsgY29tcHV0ZVN0YWNrVHJhY2UsIFN0YWNrVHJhY2UgfSBmcm9tICcuLi9kb21haW4vdHJhY2VraXQnXG5pbXBvcnQgeyBDbG9ja3NTdGF0ZSB9IGZyb20gJy4vdGltZVV0aWxzJ1xuaW1wb3J0IHsganNvblN0cmluZ2lmeSwgbm9vcCB9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmF3RXJyb3Ige1xuICBzdGFydENsb2NrczogQ2xvY2tzU3RhdGVcbiAgbWVzc2FnZTogc3RyaW5nXG4gIHR5cGU/OiBzdHJpbmdcbiAgc3RhY2s/OiBzdHJpbmdcbiAgc291cmNlOiBFcnJvclNvdXJjZVxuICByZXNvdXJjZT86IHtcbiAgICB1cmw6IHN0cmluZ1xuICAgIHN0YXR1c0NvZGU6IG51bWJlclxuICAgIG1ldGhvZDogc3RyaW5nXG4gIH1cbiAgb3JpZ2luYWxFcnJvcj86IHVua25vd25cbiAgaGFuZGxpbmc/OiBFcnJvckhhbmRsaW5nXG4gIGhhbmRsaW5nU3RhY2s/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IEVycm9yU291cmNlID0ge1xuICBBR0VOVDogJ2FnZW50JyxcbiAgQ09OU09MRTogJ2NvbnNvbGUnLFxuICBDVVNUT006ICdjdXN0b20nLFxuICBMT0dHRVI6ICdsb2dnZXInLFxuICBORVRXT1JLOiAnbmV0d29yaycsXG4gIFNPVVJDRTogJ3NvdXJjZScsXG59IGFzIGNvbnN0XG5cbmV4cG9ydCBlbnVtIEVycm9ySGFuZGxpbmcge1xuICBIQU5ETEVEID0gJ2hhbmRsZWQnLFxuICBVTkhBTkRMRUQgPSAndW5oYW5kbGVkJyxcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZWRlY2xhcmVcbmV4cG9ydCB0eXBlIEVycm9yU291cmNlID0gdHlwZW9mIEVycm9yU291cmNlW2tleW9mIHR5cGVvZiBFcnJvclNvdXJjZV1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFVua25vd25FcnJvcihcbiAgc3RhY2tUcmFjZTogU3RhY2tUcmFjZSB8IHVuZGVmaW5lZCxcbiAgZXJyb3JPYmplY3Q6IGFueSxcbiAgbm9uRXJyb3JQcmVmaXg6IHN0cmluZyxcbiAgaGFuZGxpbmdTdGFjaz86IHN0cmluZ1xuKSB7XG4gIGlmICghc3RhY2tUcmFjZSB8fCAoc3RhY2tUcmFjZS5tZXNzYWdlID09PSB1bmRlZmluZWQgJiYgIShlcnJvck9iamVjdCBpbnN0YW5jZW9mIEVycm9yKSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogYCR7bm9uRXJyb3JQcmVmaXh9ICR7anNvblN0cmluZ2lmeShlcnJvck9iamVjdCkhfWAsXG4gICAgICBzdGFjazogJ05vIHN0YWNrLCBjb25zaWRlciB1c2luZyBhbiBpbnN0YW5jZSBvZiBFcnJvcicsXG4gICAgICBoYW5kbGluZ1N0YWNrLFxuICAgICAgdHlwZTogc3RhY2tUcmFjZSAmJiBzdGFja1RyYWNlLm5hbWUsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBzdGFja1RyYWNlLm1lc3NhZ2UgfHwgJ0VtcHR5IG1lc3NhZ2UnLFxuICAgIHN0YWNrOiB0b1N0YWNrVHJhY2VTdHJpbmcoc3RhY2tUcmFjZSksXG4gICAgaGFuZGxpbmdTdGFjayxcbiAgICB0eXBlOiBzdGFja1RyYWNlLm5hbWUsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU3RhY2tUcmFjZVN0cmluZyhzdGFjazogU3RhY2tUcmFjZSkge1xuICBsZXQgcmVzdWx0ID0gZm9ybWF0RXJyb3JNZXNzYWdlKHN0YWNrKVxuICBzdGFjay5zdGFjay5mb3JFYWNoKChmcmFtZSkgPT4ge1xuICAgIGNvbnN0IGZ1bmMgPSBmcmFtZS5mdW5jID09PSAnPycgPyAnPGFub255bW91cz4nIDogZnJhbWUuZnVuY1xuICAgIGNvbnN0IGFyZ3MgPSBmcmFtZS5hcmdzICYmIGZyYW1lLmFyZ3MubGVuZ3RoID4gMCA/IGAoJHtmcmFtZS5hcmdzLmpvaW4oJywgJyl9KWAgOiAnJ1xuICAgIGNvbnN0IGxpbmUgPSBmcmFtZS5saW5lID8gYDoke2ZyYW1lLmxpbmV9YCA6ICcnXG4gICAgY29uc3QgY29sdW1uID0gZnJhbWUubGluZSAmJiBmcmFtZS5jb2x1bW4gPyBgOiR7ZnJhbWUuY29sdW1ufWAgOiAnJ1xuICAgIHJlc3VsdCArPSBgXFxuICBhdCAke2Z1bmMhfSR7YXJnc30gQCAke2ZyYW1lLnVybCF9JHtsaW5lfSR7Y29sdW1ufWBcbiAgfSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3JNZXNzYWdlKHN0YWNrOiBTdGFja1RyYWNlKSB7XG4gIHJldHVybiBgJHtzdGFjay5uYW1lIHx8ICdFcnJvcid9OiAke3N0YWNrLm1lc3NhZ2UhfWBcbn1cblxuLyoqXG4gQ3JlYXRlcyBhIHN0YWNrdHJhY2Ugd2l0aG91dCBTREsgaW50ZXJuYWwgZnJhbWVzLlxuIFxuIENvbnN0cmFpbnRzOlxuIC0gSGFzIHRvIGJlIGNhbGxlZCBhdCB0aGUgdXRtb3N0IHBvc2l0aW9uIG9mIHRoZSBjYWxsIHN0YWNrLlxuIC0gTm8gaW50ZXJuYWwgbW9uaXRvcmluZyBzaG91bGQgZW5jYXBzdWxhdGUgdGhlIGZ1bmN0aW9uLCB0aGF0IGlzIHdoeSB3ZSBuZWVkIHRvIHVzZSBjYWxsTW9uaXRvcmVkIGluc2lkZSBvZiBpdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhbmRsaW5nU3RhY2soKTogc3RyaW5nIHtcbiAgLyoqXG4gICAqIFNraXAgdGhlIHR3byBpbnRlcm5hbCBmcmFtZXM6XG4gICAqIC0gU0RLIEFQSSAoY29uc29sZS5lcnJvciwgLi4uKVxuICAgKiAtIHRoaXMgZnVuY3Rpb25cbiAgICogaW4gb3JkZXIgdG8ga2VlcCBvbmx5IHRoZSB1c2VyIGNhbGxzXG4gICAqL1xuICBjb25zdCBpbnRlcm5hbEZyYW1lc1RvU2tpcCA9IDJcbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoKVxuICBsZXQgZm9ybWF0dGVkU3RhY2s6IHN0cmluZ1xuXG4gIC8vIElFIG5lZWRzIHRvIHRocm93IHRoZSBlcnJvciB0byBmaWxsIGluIHRoZSBzdGFjayB0cmFjZVxuICBpZiAoIWVycm9yLnN0YWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IGVycm9yXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbm9vcCgpXG4gICAgfVxuICB9XG5cbiAgY2FsbE1vbml0b3JlZCgoKSA9PiB7XG4gICAgY29uc3Qgc3RhY2tUcmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yKVxuICAgIHN0YWNrVHJhY2Uuc3RhY2sgPSBzdGFja1RyYWNlLnN0YWNrLnNsaWNlKGludGVybmFsRnJhbWVzVG9Ta2lwKVxuICAgIGZvcm1hdHRlZFN0YWNrID0gdG9TdGFja1RyYWNlU3RyaW5nKHN0YWNrVHJhY2UpXG4gIH0pXG5cbiAgcmV0dXJuIGZvcm1hdHRlZFN0YWNrIVxufVxuIiwiaW1wb3J0IHsgY2FsbE1vbml0b3JlZCB9IGZyb20gJy4uL2RvbWFpbi9pbnRlcm5hbE1vbml0b3JpbmcnXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50TWV0aG9kPE9CSkVDVCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogYW55IH0sIE1FVEhPRCBleHRlbmRzIGtleW9mIE9CSkVDVD4oXG4gIG9iamVjdDogT0JKRUNULFxuICBtZXRob2Q6IE1FVEhPRCxcbiAgaW5zdHJ1bWVudGF0aW9uRmFjdG9yeTogKFxuICAgIG9yaWdpbmFsOiBPQkpFQ1RbTUVUSE9EXVxuICApID0+ICh0aGlzOiBPQkpFQ1QsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8T0JKRUNUW01FVEhPRF0+KSA9PiBSZXR1cm5UeXBlPE9CSkVDVFtNRVRIT0RdPlxuKSB7XG4gIGNvbnN0IG9yaWdpbmFsID0gb2JqZWN0W21ldGhvZF1cblxuICBsZXQgaW5zdHJ1bWVudGF0aW9uID0gaW5zdHJ1bWVudGF0aW9uRmFjdG9yeShvcmlnaW5hbClcblxuICBjb25zdCBpbnN0cnVtZW50YXRpb25XcmFwcGVyID0gZnVuY3Rpb24gKHRoaXM6IE9CSkVDVCk6IFJldHVyblR5cGU8T0JKRUNUW01FVEhPRF0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1yZXR1cm5cbiAgICByZXR1cm4gaW5zdHJ1bWVudGF0aW9uLmFwcGx5KHRoaXMsIChhcmd1bWVudHMgYXMgdW5rbm93bikgYXMgUGFyYW1ldGVyczxPQkpFQ1RbTUVUSE9EXT4pXG4gIH1cbiAgb2JqZWN0W21ldGhvZF0gPSBpbnN0cnVtZW50YXRpb25XcmFwcGVyIGFzIE9CSkVDVFtNRVRIT0RdXG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wOiAoKSA9PiB7XG4gICAgICBpZiAob2JqZWN0W21ldGhvZF0gPT09IGluc3RydW1lbnRhdGlvbldyYXBwZXIpIHtcbiAgICAgICAgb2JqZWN0W21ldGhvZF0gPSBvcmlnaW5hbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdHJ1bWVudGF0aW9uID0gb3JpZ2luYWxcbiAgICAgIH1cbiAgICB9LFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsPE9CSkVDVCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogYW55IH0sIE1FVEhPRCBleHRlbmRzIGtleW9mIE9CSkVDVD4oXG4gIG9iamVjdDogT0JKRUNULFxuICBtZXRob2Q6IE1FVEhPRCxcbiAge1xuICAgIGJlZm9yZSxcbiAgICBhZnRlcixcbiAgfToge1xuICAgIGJlZm9yZT86ICh0aGlzOiBPQkpFQ1QsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8T0JKRUNUW01FVEhPRF0+KSA9PiBSZXR1cm5UeXBlPE9CSkVDVFtNRVRIT0RdPlxuICAgIGFmdGVyPzogKHRoaXM6IE9CSkVDVCwgLi4uYXJnczogUGFyYW1ldGVyczxPQkpFQ1RbTUVUSE9EXT4pID0+IFJldHVyblR5cGU8T0JKRUNUW01FVEhPRF0+XG4gIH1cbikge1xuICByZXR1cm4gaW5zdHJ1bWVudE1ldGhvZChcbiAgICBvYmplY3QsXG4gICAgbWV0aG9kLFxuICAgIChvcmlnaW5hbCkgPT5cbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IChhcmd1bWVudHMgYXMgdW5rbm93bikgYXMgUGFyYW1ldGVyczxPQkpFQ1RbTUVUSE9EXT5cbiAgICAgICAgbGV0IHJlc3VsdFxuXG4gICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICBjYWxsTW9uaXRvcmVkKGJlZm9yZSwgdGhpcyBhcyBUaGlzUGFyYW1ldGVyVHlwZTxPQkpFQ1RbTUVUSE9EXT4sIGFyZ3MpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbFxuICAgICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICBjYWxsTW9uaXRvcmVkKGFmdGVyLCB0aGlzIGFzIFRoaXNQYXJhbWV0ZXJUeXBlPE9CSkVDVFtNRVRIT0RdPiwgYXJncylcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLXJldHVyblxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gIClcbn1cbiIsImltcG9ydCB7IENvbnRleHQgfSBmcm9tICcuL2NvbnRleHQnXG5pbXBvcnQgeyBkZWVwQ2xvbmUsIGdldFR5cGUgfSBmcm9tICcuL3V0aWxzJ1xuXG4vKipcbiAqIEN1cnJlbnQgbGltaXRhdGlvbjpcbiAqIC0gZmllbGQgcGF0aCBkbyBub3Qgc3VwcG9ydCBhcnJheSwgJ2EuYi5jJyBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaW1pdE1vZGlmaWNhdGlvbjxUIGV4dGVuZHMgQ29udGV4dCwgUmVzdWx0PihcbiAgb2JqZWN0OiBULFxuICBtb2RpZmlhYmxlRmllbGRQYXRoczogc3RyaW5nW10sXG4gIG1vZGlmaWVyOiAob2JqZWN0OiBUKSA9PiBSZXN1bHRcbik6IFJlc3VsdCB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGNsb25lID0gZGVlcENsb25lKG9iamVjdClcbiAgY29uc3QgcmVzdWx0ID0gbW9kaWZpZXIoY2xvbmUpXG4gIG1vZGlmaWFibGVGaWVsZFBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aClcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGdldChjbG9uZSwgcGF0aClcbiAgICBjb25zdCBvcmlnaW5hbFR5cGUgPSBnZXRUeXBlKG9yaWdpbmFsVmFsdWUpXG4gICAgY29uc3QgbmV3VHlwZSA9IGdldFR5cGUobmV3VmFsdWUpXG4gICAgaWYgKG5ld1R5cGUgPT09IG9yaWdpbmFsVHlwZSkge1xuICAgICAgc2V0KG9iamVjdCwgcGF0aCwgbmV3VmFsdWUpXG4gICAgfSBlbHNlIGlmIChvcmlnaW5hbFR5cGUgPT09ICdvYmplY3QnICYmIChuZXdUeXBlID09PSAndW5kZWZpbmVkJyB8fCBuZXdUeXBlID09PSAnbnVsbCcpKSB7XG4gICAgICBzZXQob2JqZWN0LCBwYXRoLCB7fSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gZ2V0KG9iamVjdDogdW5rbm93biwgcGF0aDogc3RyaW5nKSB7XG4gIGxldCBjdXJyZW50ID0gb2JqZWN0XG4gIGZvciAoY29uc3QgZmllbGQgb2YgcGF0aC5zcGxpdCgnLicpKSB7XG4gICAgaWYgKCFpc1ZhbGlkT2JqZWN0Q29udGFpbmluZyhjdXJyZW50LCBmaWVsZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjdXJyZW50ID0gY3VycmVudFtmaWVsZF1cbiAgfVxuICByZXR1cm4gY3VycmVudFxufVxuXG5mdW5jdGlvbiBzZXQob2JqZWN0OiB1bmtub3duLCBwYXRoOiBzdHJpbmcsIHZhbHVlOiB1bmtub3duKSB7XG4gIGxldCBjdXJyZW50ID0gb2JqZWN0XG4gIGNvbnN0IGZpZWxkcyA9IHBhdGguc3BsaXQoJy4nKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGZpZWxkID0gZmllbGRzW2ldXG4gICAgaWYgKCFpc1ZhbGlkT2JqZWN0Q29udGFpbmluZyhjdXJyZW50LCBmaWVsZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoaSAhPT0gZmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2ZpZWxkXVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50W2ZpZWxkXSA9IHZhbHVlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRPYmplY3RDb250YWluaW5nKG9iamVjdDogdW5rbm93biwgZmllbGQ6IHN0cmluZyk6IG9iamVjdCBpcyB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgZmllbGQgaW4gb2JqZWN0XG59XG4iLCJleHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbiB7XG4gIHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlPFQ+IHtcbiAgcHJpdmF0ZSBvYnNlcnZlcnM6IEFycmF5PChkYXRhOiBUKSA9PiB2b2lkPiA9IFtdXG4gIHByaXZhdGUgb25MYXN0VW5zdWJzY3JpYmU/OiAoKSA9PiB2b2lkXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvbkZpcnN0U3Vic2NyaWJlPzogKCkgPT4gKCgpID0+IHZvaWQpIHwgdm9pZCkge31cblxuICBzdWJzY3JpYmUoZjogKGRhdGE6IFQpID0+IHZvaWQpOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmICghdGhpcy5vYnNlcnZlcnMubGVuZ3RoICYmIHRoaXMub25GaXJzdFN1YnNjcmliZSkge1xuICAgICAgdGhpcy5vbkxhc3RVbnN1YnNjcmliZSA9IHRoaXMub25GaXJzdFN1YnNjcmliZSgpIHx8IHVuZGVmaW5lZFxuICAgIH1cbiAgICB0aGlzLm9ic2VydmVycy5wdXNoKGYpXG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnMuZmlsdGVyKChvdGhlcikgPT4gZiAhPT0gb3RoZXIpXG4gICAgICAgIGlmICghdGhpcy5vYnNlcnZlcnMubGVuZ3RoICYmIHRoaXMub25MYXN0VW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICB0aGlzLm9uTGFzdFVuc3Vic2NyaWJlKClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBub3RpZnkoZGF0YTogVCkge1xuICAgIHRoaXMub2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlcihkYXRhKSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNOdW1iZXIsIE9ORV9ZRUFSLCByb3VuZCB9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCB0eXBlIER1cmF0aW9uID0gbnVtYmVyICYgeyBkOiAnRHVyYXRpb24gaW4gbXMnIH1cbmV4cG9ydCB0eXBlIFNlcnZlckR1cmF0aW9uID0gbnVtYmVyICYgeyBzOiAnRHVyYXRpb24gaW4gbnMnIH1cbmV4cG9ydCB0eXBlIFRpbWVTdGFtcCA9IG51bWJlciAmIHsgdDogJ0Vwb2NoIHRpbWUnIH1cbmV4cG9ydCB0eXBlIFJlbGF0aXZlVGltZSA9IG51bWJlciAmIHsgcjogJ1RpbWUgcmVsYXRpdmUgdG8gbmF2aWdhdGlvbiBzdGFydCcgfSAmIHsgZDogJ0R1cmF0aW9uIGluIG1zJyB9XG5leHBvcnQgdHlwZSBDbG9ja3NTdGF0ZSA9IHsgcmVsYXRpdmU6IFJlbGF0aXZlVGltZTsgdGltZVN0YW1wOiBUaW1lU3RhbXAgfVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmVUb0Nsb2NrcyhyZWxhdGl2ZTogUmVsYXRpdmVUaW1lKSB7XG4gIHJldHVybiB7IHJlbGF0aXZlLCB0aW1lU3RhbXA6IGdldENvcnJlY3RlZFRpbWVTdGFtcChyZWxhdGl2ZSkgfVxufVxuXG5mdW5jdGlvbiBnZXRDb3JyZWN0ZWRUaW1lU3RhbXAocmVsYXRpdmVUaW1lOiBSZWxhdGl2ZVRpbWUpIHtcbiAgY29uc3QgY29ycmVjdGVkT3JpZ2luID0gRGF0ZS5ub3coKSAtIHBlcmZvcm1hbmNlLm5vdygpXG4gIC8vIGFwcGx5IGNvcnJlY3Rpb24gb25seSBmb3IgcG9zaXRpdmUgZHJpZnRcbiAgaWYgKGNvcnJlY3RlZE9yaWdpbiA+IGdldE5hdmlnYXRpb25TdGFydCgpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzXG4gICAgcmV0dXJuIE1hdGgucm91bmQoY29ycmVjdGVkT3JpZ2luICsgcmVsYXRpdmVUaW1lKSBhcyBUaW1lU3RhbXBcbiAgfVxuICByZXR1cm4gZ2V0VGltZVN0YW1wKHJlbGF0aXZlVGltZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnREcmlmdCgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzXG4gIHJldHVybiBNYXRoLnJvdW5kKERhdGUubm93KCkgLSAoZ2V0TmF2aWdhdGlvblN0YXJ0KCkgKyBwZXJmb3JtYW5jZS5ub3coKSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NlcnZlckR1cmF0aW9uKGR1cmF0aW9uOiBEdXJhdGlvbik6IFNlcnZlckR1cmF0aW9uXG5leHBvcnQgZnVuY3Rpb24gdG9TZXJ2ZXJEdXJhdGlvbihkdXJhdGlvbjogRHVyYXRpb24gfCB1bmRlZmluZWQpOiBTZXJ2ZXJEdXJhdGlvbiB8IHVuZGVmaW5lZFxuZXhwb3J0IGZ1bmN0aW9uIHRvU2VydmVyRHVyYXRpb24oZHVyYXRpb246IER1cmF0aW9uIHwgdW5kZWZpbmVkKSB7XG4gIGlmICghaXNOdW1iZXIoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIGR1cmF0aW9uXG4gIH1cbiAgcmV0dXJuIHJvdW5kKGR1cmF0aW9uICogMWU2LCAwKSBhcyBTZXJ2ZXJEdXJhdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGltZVN0YW1wTm93KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKSBhcyBUaW1lU3RhbXBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlTm93KCkge1xuICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCkgYXMgUmVsYXRpdmVUaW1lXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9ja3NOb3coKSB7XG4gIHJldHVybiB7IHJlbGF0aXZlOiByZWxhdGl2ZU5vdygpLCB0aW1lU3RhbXA6IHRpbWVTdGFtcE5vdygpIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb2Nrc09yaWdpbigpIHtcbiAgcmV0dXJuIHsgcmVsYXRpdmU6IDAgYXMgUmVsYXRpdmVUaW1lLCB0aW1lU3RhbXA6IGdldE5hdmlnYXRpb25TdGFydCgpIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVsYXBzZWQoc3RhcnQ6IFRpbWVTdGFtcCwgZW5kOiBUaW1lU3RhbXApOiBEdXJhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGVsYXBzZWQoc3RhcnQ6IFJlbGF0aXZlVGltZSwgZW5kOiBSZWxhdGl2ZVRpbWUpOiBEdXJhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGVsYXBzZWQoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgYXMgRHVyYXRpb25cbn1cblxuLyoqXG4gKiBHZXQgdGhlIHRpbWUgc2luY2UgdGhlIG5hdmlnYXRpb24gd2FzIHN0YXJ0ZWQuXG4gKlxuICogTm90ZTogdGhpcyBkb2VzIG5vdCB1c2UgYHBlcmZvcm1hbmNlLnRpbWVPcmlnaW5gIGJlY2F1c2UgaXQgZG9lc24ndCBzZWVtIHRvIHJlZmxlY3QgdGhlIGFjdHVhbFxuICogdGltZSBvbiB3aGljaCB0aGUgbmF2aWdhdGlvbiBoYXMgc3RhcnRlZDogaXQgbWF5IGJlIG11Y2ggZmFydGhlciBpbiB0aGUgcGFzdCwgYXQgbGVhc3QgaW4gRmlyZWZveCA3MS5cbiAqIFJlbGF0ZWQgaXNzdWUgaW4gRmlyZWZveDogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyOTkyNlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lKHRpbWVzdGFtcDogVGltZVN0YW1wKSB7XG4gIHJldHVybiAodGltZXN0YW1wIC0gZ2V0TmF2aWdhdGlvblN0YXJ0KCkpIGFzIFJlbGF0aXZlVGltZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZVN0YW1wKHJlbGF0aXZlVGltZTogUmVsYXRpdmVUaW1lKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtcGx1cy1vcGVyYW5kc1xuICByZXR1cm4gTWF0aC5yb3VuZChnZXROYXZpZ2F0aW9uU3RhcnQoKSArIHJlbGF0aXZlVGltZSkgYXMgVGltZVN0YW1wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rc0xpa2VSZWxhdGl2ZVRpbWUodGltZTogUmVsYXRpdmVUaW1lIHwgVGltZVN0YW1wKTogdGltZSBpcyBSZWxhdGl2ZVRpbWUge1xuICByZXR1cm4gdGltZSA8IE9ORV9ZRUFSXG59XG5cbi8qKlxuICogTmF2aWdhdGlvbiBzdGFydCBzbGlnaHRseSBjaGFuZ2Ugb24gc29tZSByYXJlIGNhc2VzXG4gKi9cbmxldCBuYXZpZ2F0aW9uU3RhcnQ6IFRpbWVTdGFtcCB8IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBnZXROYXZpZ2F0aW9uU3RhcnQoKSB7XG4gIGlmIChuYXZpZ2F0aW9uU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIG5hdmlnYXRpb25TdGFydCA9IHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgYXMgVGltZVN0YW1wXG4gIH1cbiAgcmV0dXJuIG5hdmlnYXRpb25TdGFydFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXROYXZpZ2F0aW9uU3RhcnQoKSB7XG4gIG5hdmlnYXRpb25TdGFydCA9IHVuZGVmaW5lZFxufVxuIiwiaW1wb3J0IHsgZ2V0TGlua0VsZW1lbnRPcmlnaW4sIGdldExvY2F0aW9uT3JpZ2luIH0gZnJvbSAnLi91dGlscydcblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVVybCh1cmw6IHN0cmluZykge1xuICByZXR1cm4gYnVpbGRVcmwodXJsLCBnZXRMb2NhdGlvbk9yaWdpbigpKS5ocmVmXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVXJsKHVybDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhYnVpbGRVcmwodXJsKVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGF2ZVNhbWVPcmlnaW4odXJsMTogc3RyaW5nLCB1cmwyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGdldE9yaWdpbih1cmwxKSA9PT0gZ2V0T3JpZ2luKHVybDIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmlnaW4odXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGdldExpbmtFbGVtZW50T3JpZ2luKGJ1aWxkVXJsKHVybCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoTmFtZSh1cmw6IHN0cmluZykge1xuICBjb25zdCBwYXRobmFtZSA9IGJ1aWxkVXJsKHVybCkucGF0aG5hbWVcbiAgcmV0dXJuIHBhdGhuYW1lWzBdID09PSAnLycgPyBwYXRobmFtZSA6IGAvJHtwYXRobmFtZX1gXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWFyY2godXJsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGJ1aWxkVXJsKHVybCkuc2VhcmNoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIYXNoKHVybDogc3RyaW5nKSB7XG4gIHJldHVybiBidWlsZFVybCh1cmwpLmhhc2hcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkVXJsKHVybDogc3RyaW5nLCBiYXNlPzogc3RyaW5nKSB7XG4gIGlmIChjaGVja1VSTFN1cHBvcnRlZCgpKSB7XG4gICAgcmV0dXJuIGJhc2UgIT09IHVuZGVmaW5lZCA/IG5ldyBVUkwodXJsLCBiYXNlKSA6IG5ldyBVUkwodXJsKVxuICB9XG4gIGlmIChiYXNlID09PSB1bmRlZmluZWQgJiYgIS86Ly50ZXN0KHVybCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVVJMOiAnJHt1cmx9J2ApXG4gIH1cbiAgbGV0IGRvYyA9IGRvY3VtZW50XG4gIGNvbnN0IGFuY2hvckVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnYScpXG4gIGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpXG4gICAgY29uc3QgYmFzZUVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudCgnYmFzZScpXG4gICAgYmFzZUVsZW1lbnQuaHJlZiA9IGJhc2VcbiAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChiYXNlRWxlbWVudClcbiAgICBkb2MuYm9keS5hcHBlbmRDaGlsZChhbmNob3JFbGVtZW50KVxuICB9XG4gIGFuY2hvckVsZW1lbnQuaHJlZiA9IHVybFxuICByZXR1cm4gYW5jaG9yRWxlbWVudFxufVxuXG5sZXQgaXNVUkxTdXBwb3J0ZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWRcbmZ1bmN0aW9uIGNoZWNrVVJMU3VwcG9ydGVkKCkge1xuICBpZiAoaXNVUkxTdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBpc1VSTFN1cHBvcnRlZFxuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCgnaHR0cDovL3Rlc3QvcGF0aCcpXG4gICAgaXNVUkxTdXBwb3J0ZWQgPSB1cmwuaHJlZiA9PT0gJ2h0dHA6Ly90ZXN0L3BhdGgnXG4gICAgcmV0dXJuIGlzVVJMU3VwcG9ydGVkXG4gIH0gY2F0Y2gge1xuICAgIGlzVVJMU3VwcG9ydGVkID0gZmFsc2VcbiAgfVxuICByZXR1cm4gaXNVUkxTdXBwb3J0ZWRcbn1cbiIsImltcG9ydCB7IG1vbml0b3IgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxNb25pdG9yaW5nJ1xuXG5leHBvcnQgY29uc3QgT05FX1NFQ09ORCA9IDEwMDBcbmV4cG9ydCBjb25zdCBPTkVfTUlOVVRFID0gNjAgKiBPTkVfU0VDT05EXG5leHBvcnQgY29uc3QgT05FX0hPVVIgPSA2MCAqIE9ORV9NSU5VVEVcbmV4cG9ydCBjb25zdCBPTkVfREFZID0gMjQgKiBPTkVfSE9VUlxuZXhwb3J0IGNvbnN0IE9ORV9ZRUFSID0gMzY1ICogT05FX0RBWVxuZXhwb3J0IGNvbnN0IE9ORV9LSUxPX0JZVEUgPSAxMDI0XG5cbmV4cG9ydCBjb25zdCBlbnVtIERPTV9FVkVOVCB7XG4gIEJFRk9SRV9VTkxPQUQgPSAnYmVmb3JldW5sb2FkJyxcbiAgQ0xJQ0sgPSAnY2xpY2snLFxuICBEQkxfQ0xJQ0sgPSAnZGJsY2xpY2snLFxuICBLRVlfRE9XTiA9ICdrZXlkb3duJyxcbiAgTE9BRCA9ICdsb2FkJyxcbiAgUE9QX1NUQVRFID0gJ3BvcHN0YXRlJyxcbiAgU0NST0xMID0gJ3Njcm9sbCcsXG4gIFRPVUNIX1NUQVJUID0gJ3RvdWNoc3RhcnQnLFxuICBUT1VDSF9FTkQgPSAndG91Y2hlbmQnLFxuICBUT1VDSF9NT1ZFID0gJ3RvdWNobW92ZScsXG4gIFZJU0lCSUxJVFlfQ0hBTkdFID0gJ3Zpc2liaWxpdHljaGFuZ2UnLFxuICBET01fQ09OVEVOVF9MT0FERUQgPSAnRE9NQ29udGVudExvYWRlZCcsXG4gIFBPSU5URVJfRE9XTiA9ICdwb2ludGVyZG93bicsXG4gIFBPSU5URVJfVVAgPSAncG9pbnRlcnVwJyxcbiAgUE9JTlRFUl9DQU5DRUwgPSAncG9pbnRlcmNhbmNlbCcsXG4gIEhBU0hfQ0hBTkdFID0gJ2hhc2hjaGFuZ2UnLFxuICBQQUdFX0hJREUgPSAncGFnZWhpZGUnLFxuICBNT1VTRV9ET1dOID0gJ21vdXNlZG93bicsXG4gIE1PVVNFX1VQID0gJ21vdXNldXAnLFxuICBNT1VTRV9NT1ZFID0gJ21vdXNlbW92ZScsXG4gIEZPQ1VTID0gJ2ZvY3VzJyxcbiAgQkxVUiA9ICdibHVyJyxcbiAgQ09OVEVYVF9NRU5VID0gJ2NvbnRleHRtZW51JyxcbiAgUkVTSVpFID0gJ3Jlc2l6ZScsXG4gIENIQU5HRSA9ICdjaGFuZ2UnLFxuICBJTlBVVCA9ICdpbnB1dCcsXG4gIFBMQVkgPSAncGxheScsXG4gIFBBVVNFID0gJ3BhdXNlJyxcbn1cblxuZXhwb3J0IGVudW0gUmVzb3VyY2VUeXBlIHtcbiAgRE9DVU1FTlQgPSAnZG9jdW1lbnQnLFxuICBYSFIgPSAneGhyJyxcbiAgQkVBQ09OID0gJ2JlYWNvbicsXG4gIEZFVENIID0gJ2ZldGNoJyxcbiAgQ1NTID0gJ2NzcycsXG4gIEpTID0gJ2pzJyxcbiAgSU1BR0UgPSAnaW1hZ2UnLFxuICBGT05UID0gJ2ZvbnQnLFxuICBNRURJQSA9ICdtZWRpYScsXG4gIE9USEVSID0gJ290aGVyJyxcbn1cblxuZXhwb3J0IGVudW0gUmVxdWVzdFR5cGUge1xuICBGRVRDSCA9IFJlc291cmNlVHlwZS5GRVRDSCxcbiAgWEhSID0gUmVzb3VyY2VUeXBlLlhIUixcbn1cblxuLy8gdXNlIGxvZGFzaCBBUElcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkPihcbiAgZm46IFQsXG4gIHdhaXQ6IG51bWJlcixcbiAgb3B0aW9ucz86IHsgbGVhZGluZz86IGJvb2xlYW47IHRyYWlsaW5nPzogYm9vbGVhbiB9XG4pIHtcbiAgY29uc3QgbmVlZExlYWRpbmdFeGVjdXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMubGVhZGluZyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5sZWFkaW5nIDogdHJ1ZVxuICBjb25zdCBuZWVkVHJhaWxpbmdFeGVjdXRpb24gPSBvcHRpb25zICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMudHJhaWxpbmcgOiB0cnVlXG4gIGxldCBpbldhaXRQZXJpb2QgPSBmYWxzZVxuICBsZXQgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzOiBQYXJhbWV0ZXJzPFQ+IHwgdW5kZWZpbmVkXG4gIGxldCBwZW5kaW5nVGltZW91dElkOiBudW1iZXJcblxuICByZXR1cm4ge1xuICAgIHRocm90dGxlZDogKC4uLnBhcmFtZXRlcnM6IFBhcmFtZXRlcnM8VD4pID0+IHtcbiAgICAgIGlmIChpbldhaXRQZXJpb2QpIHtcbiAgICAgICAgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzID0gcGFyYW1ldGVyc1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGVhZGluZ0V4ZWN1dGlvbikge1xuICAgICAgICBmbiguLi5wYXJhbWV0ZXJzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVuZGluZ0V4ZWN1dGlvbldpdGhQYXJhbWV0ZXJzID0gcGFyYW1ldGVyc1xuICAgICAgfVxuICAgICAgaW5XYWl0UGVyaW9kID0gdHJ1ZVxuICAgICAgcGVuZGluZ1RpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAobmVlZFRyYWlsaW5nRXhlY3V0aW9uICYmIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycykge1xuICAgICAgICAgIGZuKC4uLnBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycylcbiAgICAgICAgfVxuICAgICAgICBpbldhaXRQZXJpb2QgPSBmYWxzZVxuICAgICAgICBwZW5kaW5nRXhlY3V0aW9uV2l0aFBhcmFtZXRlcnMgPSB1bmRlZmluZWRcbiAgICAgIH0sIHdhaXQpXG4gICAgfSxcbiAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nVGltZW91dElkKVxuICAgICAgaW5XYWl0UGVyaW9kID0gZmFsc2VcbiAgICAgIHBlbmRpbmdFeGVjdXRpb25XaXRoUGFyYW1ldGVycyA9IHVuZGVmaW5lZFxuICAgIH0sXG4gIH1cbn1cblxuaW50ZXJmYWNlIEFzc2lnbmFibGUge1xuICBba2V5OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQ6IEFzc2lnbmFibGUsIC4uLnRvQXNzaWduOiBBc3NpZ25hYmxlW10pIHtcbiAgdG9Bc3NpZ24uZm9yRWFjaCgoc291cmNlOiBBc3NpZ25hYmxlKSA9PiB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIFVVSUQgdjRcbiAqIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vamVkLzk4Mjg4M1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHBsYWNlaG9sZGVyPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBsYWNlaG9sZGVyXG4gICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIG5vLWJpdHdpc2VcbiAgICAgIChwYXJzZUludChwbGFjZWhvbGRlciwgMTApIF4gKChNYXRoLnJhbmRvbSgpICogMTYpID4+IChwYXJzZUludChwbGFjZWhvbGRlciwgMTApIC8gNCkpKS50b1N0cmluZygxNilcbiAgICA6IGAkezFlN30tJHsxZTN9LSR7NGUzfS0kezhlM30tJHsxZTExfWAucmVwbGFjZSgvWzAxOF0vZywgZ2VuZXJhdGVVVUlEKVxufVxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBkcmF3IGlzIHN1Y2Nlc3NmdWxcbiAqIEBwYXJhbSB0aHJlc2hvbGQgYmV0d2VlbiAwIGFuZCAxMDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1EcmF3KHRocmVzaG9sZDogbnVtYmVyKTogYm9vbGVhbiB7XG4gIHJldHVybiB0aHJlc2hvbGQgIT09IDAgJiYgTWF0aC5yYW5kb20oKSAqIDEwMCA8PSB0aHJlc2hvbGRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG51bTogbnVtYmVyLCBkZWNpbWFsczogMCB8IDEgfCAyIHwgMyB8IDQpIHtcbiAgcmV0dXJuICtudW0udG9GaXhlZChkZWNpbWFscylcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5pbnRlcmZhY2UgT2JqZWN0V2l0aFRvSlNPTiB7XG4gIHRvSlNPTjogKCgpID0+IG9iamVjdCkgfCB1bmRlZmluZWRcbn1cblxudHlwZSBPcmlnaW5hbFRvSlNPTiA9IFtib29sZWFuLCB1bmRlZmluZWQgfCAoKCkgPT4gb2JqZWN0KV1cblxuLyoqXG4gKiBDdXN0b20gaW1wbGVtZW50YXRpb24gb2YgSlNPTi5zdHJpbmdpZnkgdGhhdCBpZ25vcmVzIHZhbHVlLnRvSlNPTi5cbiAqIFdlIG5lZWQgdG8gZG8gdGhhdCBiZWNhdXNlIHNvbWUgc2l0ZXMgYmFkbHkgb3ZlcnJpZGUgdG9KU09OIG9uIGNlcnRhaW4gb2JqZWN0cy5cbiAqIE5vdGUgdGhpcyBzdGlsbCBzdXBwb3NlcyB0aGF0IEpTT04uc3RyaW5naWZ5IGlzIGNvcnJlY3QuLi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25TdHJpbmdpZnkoXG4gIHZhbHVlOiB1bmtub3duLFxuICByZXBsYWNlcj86IEFycmF5PHN0cmluZyB8IG51bWJlcj4sXG4gIHNwYWNlPzogc3RyaW5nIHwgbnVtYmVyXG4pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSlcbiAgfVxuICBsZXQgb3JpZ2luYWxUb0pTT046IE9yaWdpbmFsVG9KU09OID0gW2ZhbHNlLCB1bmRlZmluZWRdXG4gIGlmIChoYXNUb0pTT04odmFsdWUpKSB7XG4gICAgLy8gV2UgbmVlZCB0byBhZGQgYSBmbGFnIGFuZCBub3QgcmVseSBvbiB0aGUgdHJ1dGhpbmVzcyBvZiB2YWx1ZS50b0pTT05cbiAgICAvLyBiZWNhdXNlIGl0IGNhbiBiZSBzZXQgYnV0IHVuZGVmaW5lZCBhbmQgdGhhdCdzIGFjdHVhbGx5IHNpZ25pZmljYW50LlxuICAgIG9yaWdpbmFsVG9KU09OID0gW3RydWUsIHZhbHVlLnRvSlNPTl1cbiAgICBkZWxldGUgdmFsdWUudG9KU09OXG4gIH1cblxuICBsZXQgb3JpZ2luYWxQcm90b1RvSlNPTjogT3JpZ2luYWxUb0pTT04gPSBbZmFsc2UsIHVuZGVmaW5lZF1cbiAgbGV0IHByb3RvdHlwZVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgYXMgb2JqZWN0XG4gICAgaWYgKGhhc1RvSlNPTihwcm90b3R5cGUpKSB7XG4gICAgICBvcmlnaW5hbFByb3RvVG9KU09OID0gW3RydWUsIHByb3RvdHlwZS50b0pTT05dXG4gICAgICBkZWxldGUgcHJvdG90eXBlLnRvSlNPTlxuICAgIH1cbiAgfVxuXG4gIGxldCByZXN1bHQ6IHN0cmluZ1xuICB0cnkge1xuICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlLCByZXBsYWNlciwgc3BhY2UpXG4gIH0gY2F0Y2gge1xuICAgIHJlc3VsdCA9ICc8ZXJyb3I6IHVuYWJsZSB0byBzZXJpYWxpemUgb2JqZWN0PidcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAob3JpZ2luYWxUb0pTT05bMF0pIHtcbiAgICAgIDsodmFsdWUgYXMgT2JqZWN0V2l0aFRvSlNPTikudG9KU09OID0gb3JpZ2luYWxUb0pTT05bMV1cbiAgICB9XG4gICAgaWYgKG9yaWdpbmFsUHJvdG9Ub0pTT05bMF0pIHtcbiAgICAgIDsocHJvdG90eXBlIGFzIE9iamVjdFdpdGhUb0pTT04pLnRvSlNPTiA9IG9yaWdpbmFsUHJvdG9Ub0pTT05bMV1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBoYXNUb0pTT04odmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBPYmplY3RXaXRoVG9KU09OIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUuaGFzT3duUHJvcGVydHkoJ3RvSlNPTicpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmNsdWRlcyhjYW5kaWRhdGU6IHN0cmluZywgc2VhcmNoOiBzdHJpbmcpOiBib29sZWFuXG5leHBvcnQgZnVuY3Rpb24gaW5jbHVkZXM8VD4oY2FuZGlkYXRlOiBUW10sIHNlYXJjaDogVCk6IGJvb2xlYW5cbmV4cG9ydCBmdW5jdGlvbiBpbmNsdWRlcyhjYW5kaWRhdGU6IHN0cmluZyB8IHVua25vd25bXSwgc2VhcmNoOiBhbnkpIHtcbiAgcmV0dXJuIGNhbmRpZGF0ZS5pbmRleE9mKHNlYXJjaCkgIT09IC0xXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kPFQsIFMgZXh0ZW5kcyBUPihcbiAgYXJyYXk6IFRbXSxcbiAgcHJlZGljYXRlOiAoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFRbXSkgPT4gaXRlbSBpcyBTXG4pOiBTIHwgdW5kZWZpbmVkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGl0ZW0gPSBhcnJheVtpXVxuICAgIGlmIChwcmVkaWNhdGUoaXRlbSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gaXRlbVxuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BlcmNlbnRhZ2UodmFsdWU6IHVua25vd24pIHtcbiAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBudW1iZXIge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb2JqZWN0VmFsdWVzPFQgPSB1bmtub3duPihvYmplY3Q6IHsgW2tleTogc3RyaW5nXTogVCB9KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEhhc1ZhbHVlPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfT4ob2JqZWN0OiBULCB2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFRba2V5b2YgVF0ge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5zb21lKChrZXkpID0+IG9iamVjdFtrZXldID09PSB2YWx1ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEVudHJpZXMob2JqZWN0OiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSk6IEFycmF5PFtzdHJpbmcsIHVua25vd25dPiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLm1hcCgoa2V5KSA9PiBba2V5LCBvYmplY3Rba2V5XV0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iamVjdDogb2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA9PT0gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwVmFsdWVzPEEsIEI+KG9iamVjdDogeyBba2V5OiBzdHJpbmddOiBBIH0sIGZuOiAoYXJnOiBBKSA9PiBCKSB7XG4gIGNvbnN0IG5ld09iamVjdDogeyBba2V5OiBzdHJpbmddOiBCIH0gPSB7fVxuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmplY3QpKSB7XG4gICAgbmV3T2JqZWN0W2tleV0gPSBmbihvYmplY3Rba2V5XSlcbiAgfVxuICByZXR1cm4gbmV3T2JqZWN0XG59XG5cbi8qKlxuICogaW5zcGlyZWQgYnkgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2dsb2JhbHRoaXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbE9iamVjdDxUPigpOiBUIHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiAoZ2xvYmFsVGhpcyBhcyB1bmtub3duKSBhcyBUXG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsICdfZGRfdGVtcF8nLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMgYXMgb2JqZWN0XG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gIH0pXG4gIC8vIEB0cy1pZ25vcmUgX2RkX3RlbXAgaXMgZGVmaW5lZCB1c2luZyBkZWZpbmVQcm9wZXJ0eVxuICBsZXQgZ2xvYmFsT2JqZWN0OiB1bmtub3duID0gX2RkX3RlbXBfXG4gIC8vIEB0cy1pZ25vcmUgX2RkX3RlbXAgaXMgZGVmaW5lZCB1c2luZyBkZWZpbmVQcm9wZXJ0eVxuICBkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5fZGRfdGVtcF9cbiAgaWYgKHR5cGVvZiBnbG9iYWxPYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgLy8gb24gc2FmYXJpIF9kZF90ZW1wXyBpcyBhdmFpbGFibGUgb24gd2luZG93IGJ1dCBub3QgZ2xvYmFsbHlcbiAgICAvLyBmYWxsYmFjayBvbiBvdGhlciBicm93c2VyIGdsb2JhbHMgY2hlY2tcbiAgICBpZiAodHlwZW9mIHNlbGYgPT09ICdvYmplY3QnKSB7XG4gICAgICBnbG9iYWxPYmplY3QgPSBzZWxmXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0Jykge1xuICAgICAgZ2xvYmFsT2JqZWN0ID0gd2luZG93XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbE9iamVjdCA9IHt9XG4gICAgfVxuICB9XG4gIHJldHVybiBnbG9iYWxPYmplY3QgYXMgVFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYXRpb25PcmlnaW4oKSB7XG4gIHJldHVybiBnZXRMaW5rRWxlbWVudE9yaWdpbih3aW5kb3cubG9jYXRpb24pXG59XG5cbi8qKlxuICogSUUgZmFsbGJhY2tcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MSHlwZXJsaW5rRWxlbWVudFV0aWxzL29yaWdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlua0VsZW1lbnRPcmlnaW4oZWxlbWVudDogTG9jYXRpb24gfCBIVE1MQW5jaG9yRWxlbWVudCB8IFVSTCkge1xuICBpZiAoZWxlbWVudC5vcmlnaW4pIHtcbiAgICByZXR1cm4gZWxlbWVudC5vcmlnaW5cbiAgfVxuICBjb25zdCBzYW5pdGl6ZWRIb3N0ID0gZWxlbWVudC5ob3N0LnJlcGxhY2UoLyg6ODB8OjQ0MykkLywgJycpXG4gIHJldHVybiBgJHtlbGVtZW50LnByb3RvY29sfS8vJHtzYW5pdGl6ZWRIb3N0fWBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDb21tYVNlcGFyYXRlZFZhbHVlKHJhd1N0cmluZzogc3RyaW5nLCBuYW1lOiBzdHJpbmcpIHtcbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGAoPzpefDspXFxcXHMqJHtuYW1lfVxcXFxzKj1cXFxccyooW147XSspYClcbiAgY29uc3QgbWF0Y2hlcyA9IHJlZ2V4LmV4ZWMocmF3U3RyaW5nKVxuICByZXR1cm4gbWF0Y2hlcyA/IG1hdGNoZXNbMV0gOiB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVUcnVuY2F0ZShjYW5kaWRhdGU6IHN0cmluZywgbGVuZ3RoOiBudW1iZXIpIHtcbiAgY29uc3QgbGFzdENoYXIgPSBjYW5kaWRhdGUuY2hhckNvZGVBdChsZW5ndGggLSAxKVxuICAvLyBjaGVjayBpZiBpdCBpcyB0aGUgaGlnaCBwYXJ0IG9mIGEgc3Vycm9nYXRlIHBhaXJcbiAgaWYgKGxhc3RDaGFyID49IDB4ZDgwMCAmJiBsYXN0Q2hhciA8PSAweGRiZmYpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlLnNsaWNlKDAsIGxlbmd0aCArIDEpXG4gIH1cbiAgcmV0dXJuIGNhbmRpZGF0ZS5zbGljZSgwLCBsZW5ndGgpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRFbWl0dGVyIHtcbiAgYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBldmVudDogRE9NX0VWRU5ULFxuICAgIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkLFxuICAgIG9wdGlvbnM/OiBib29sZWFuIHwgeyBjYXB0dXJlPzogYm9vbGVhbjsgcGFzc2l2ZT86IGJvb2xlYW4gfVxuICApOiB2b2lkXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgZXZlbnQ6IERPTV9FVkVOVCxcbiAgICBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudCkgPT4gdm9pZCxcbiAgICBvcHRpb25zPzogYm9vbGVhbiB8IHsgY2FwdHVyZT86IGJvb2xlYW47IHBhc3NpdmU/OiBib29sZWFuIH1cbiAgKTogdm9pZFxufVxuXG5pbnRlcmZhY2UgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMge1xuICBvbmNlPzogYm9vbGVhblxuICBjYXB0dXJlPzogYm9vbGVhblxuICBwYXNzaXZlPzogYm9vbGVhblxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBldmVudCBlbWl0dGVyIG9iamVjdCAoV2luZG93LCBFbGVtZW50LCBtb2NrIG9iamVjdC4uLikuICBUaGlzIHByb3ZpZGVzXG4gKiBhIGZldyBjb252ZW5pZW5jZXMgY29tcGFyZWQgdG8gdXNpbmcgYGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgZGlyZWN0bHk6XG4gKlxuICogKiBzdXBwb3J0cyBJRTExIGJ5OiB1c2luZyBhbiBvcHRpb24gb2JqZWN0IG9ubHkgaWYgbmVlZGVkIGFuZCBlbXVsYXRpbmcgdGhlIGBvbmNlYCBvcHRpb25cbiAqXG4gKiAqIHdyYXBzIHRoZSBsaXN0ZW5lciB3aXRoIGEgYG1vbml0b3JgIGZ1bmN0aW9uXG4gKlxuICogKiByZXR1cm5zIGEgYHN0b3BgIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIEV2ZW50PihcbiAgZW1pdHRlcjogRXZlbnRFbWl0dGVyLFxuICBldmVudDogRE9NX0VWRU5ULFxuICBsaXN0ZW5lcjogKGV2ZW50OiBFKSA9PiB2b2lkLFxuICBvcHRpb25zPzogQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnNcbikge1xuICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcnMoZW1pdHRlciwgW2V2ZW50XSwgbGlzdGVuZXIsIG9wdGlvbnMpXG59XG5cbi8qKlxuICogQWRkIGV2ZW50IGxpc3RlbmVycyB0byBhbiBldmVudCBlbWl0dGVyIG9iamVjdCAoV2luZG93LCBFbGVtZW50LCBtb2NrIG9iamVjdC4uLikuICBUaGlzIHByb3ZpZGVzXG4gKiBhIGZldyBjb252ZW5pZW5jZXMgY29tcGFyZWQgdG8gdXNpbmcgYGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgZGlyZWN0bHk6XG4gKlxuICogKiBzdXBwb3J0cyBJRTExIGJ5OiB1c2luZyBhbiBvcHRpb24gb2JqZWN0IG9ubHkgaWYgbmVlZGVkIGFuZCBlbXVsYXRpbmcgdGhlIGBvbmNlYCBvcHRpb25cbiAqXG4gKiAqIHdyYXBzIHRoZSBsaXN0ZW5lciB3aXRoIGEgYG1vbml0b3JgIGZ1bmN0aW9uXG4gKlxuICogKiByZXR1cm5zIGEgYHN0b3BgIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAqXG4gKiAqIHdpdGggYG9uY2U6IHRydWVgLCB0aGUgbGlzdGVuZXIgd2lsbCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLCBldmVuIGlmIGRpZmZlcmVudCBldmVudHMgYXJlIGxpc3RlbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyczxFIGV4dGVuZHMgRXZlbnQ+KFxuICBlbWl0dGVyOiBFdmVudEVtaXR0ZXIsXG4gIGV2ZW50czogRE9NX0VWRU5UW10sXG4gIGxpc3RlbmVyOiAoZXZlbnQ6IEUpID0+IHZvaWQsXG4gIHsgb25jZSwgY2FwdHVyZSwgcGFzc2l2ZSB9OiB7IG9uY2U/OiBib29sZWFuOyBjYXB0dXJlPzogYm9vbGVhbjsgcGFzc2l2ZT86IGJvb2xlYW4gfSA9IHt9XG4pIHtcbiAgY29uc3Qgd3JhcHBlZExpc3RlbmVyID0gbW9uaXRvcihcbiAgICBvbmNlXG4gICAgICA/IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICBzdG9wKClcbiAgICAgICAgICBsaXN0ZW5lcihldmVudCBhcyBFKVxuICAgICAgICB9XG4gICAgICA6IChsaXN0ZW5lciBhcyAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKVxuICApXG5cbiAgY29uc3Qgb3B0aW9ucyA9IHBhc3NpdmUgPyB7IGNhcHR1cmUsIHBhc3NpdmUgfSA6IGNhcHR1cmVcbiAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHdyYXBwZWRMaXN0ZW5lciwgb3B0aW9ucykpXG4gIGNvbnN0IHN0b3AgPSAoKSA9PiBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgd3JhcHBlZExpc3RlbmVyLCBvcHRpb25zKSlcblxuICByZXR1cm4ge1xuICAgIHN0b3AsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bk9uUmVhZHlTdGF0ZShleHBlY3RlZFJlYWR5U3RhdGU6ICdjb21wbGV0ZScgfCAnaW50ZXJhY3RpdmUnLCBjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gZXhwZWN0ZWRSZWFkeVN0YXRlIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICBjYWxsYmFjaygpXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gZXhwZWN0ZWRSZWFkeVN0YXRlID09PSAnY29tcGxldGUnID8gRE9NX0VWRU5ULkxPQUQgOiBET01fRVZFTlQuRE9NX0NPTlRFTlRfTE9BREVEXG4gICAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIGV2ZW50TmFtZSwgY2FsbGJhY2ssIHsgb25jZTogdHJ1ZSB9KVxuICB9XG59XG5cbi8qKlxuICogU2ltaWxhciB0byBgdHlwZW9mYCwgYnV0IGRpc3Rpbmd1aXNoIHBsYWluIG9iamVjdHMgZnJvbSBgbnVsbGAgYW5kIGFycmF5c1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZTogdW5rbm93bikge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gJ251bGwnXG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuICdhcnJheSdcbiAgfVxuICByZXR1cm4gdHlwZW9mIHZhbHVlXG59XG5cbnR5cGUgTWVyZ2VkPFREZXN0aW5hdGlvbiwgVFNvdXJjZT4gPVxuICAvLyBjYXNlIDEgLSBzb3VyY2UgaXMgdW5kZWZpbmVkIC0gcmV0dXJuIGRlc3RpbmF0aW9uXG4gIFRTb3VyY2UgZXh0ZW5kcyB1bmRlZmluZWRcbiAgICA/IFREZXN0aW5hdGlvblxuICAgIDogLy8gY2FzZSAyIC0gZGVzdGluYXRpb24gaXMgdW5kZWZpbmVkIC0gcmV0dXJuIHNvdXJjZVxuICAgIFREZXN0aW5hdGlvbiBleHRlbmRzIHVuZGVmaW5lZFxuICAgID8gVFNvdXJjZVxuICAgIDogLy8gY2FzZSAzIC0gc291cmNlIGlzIGFuIGFycmF5IC0gc2VlIGlmIGl0IG1lcmdlcyBvciBvdmVyd3JpdGVzXG4gICAgVFNvdXJjZSBleHRlbmRzIGFueVtdXG4gICAgPyBURGVzdGluYXRpb24gZXh0ZW5kcyBhbnlbXVxuICAgICAgPyBURGVzdGluYXRpb24gJiBUU291cmNlXG4gICAgICA6IFRTb3VyY2VcbiAgICA6IC8vIGNhc2UgNCAtIHNvdXJjZSBpcyBhbiBvYmplY3QgLSBzZWUgaWYgaXQgbWVyZ2VzIG9yIG92ZXJ3cml0ZXNcbiAgICBUU291cmNlIGV4dGVuZHMgb2JqZWN0XG4gICAgPyBURGVzdGluYXRpb24gZXh0ZW5kcyBvYmplY3RcbiAgICAgID8gVERlc3RpbmF0aW9uIGV4dGVuZHMgYW55W11cbiAgICAgICAgPyBUU291cmNlXG4gICAgICAgIDogVERlc3RpbmF0aW9uICYgVFNvdXJjZVxuICAgICAgOiBUU291cmNlXG4gICAgOiAvLyBjYXNlIDUgLSBjYW5ub3QgbWVyZ2UgLSByZXR1cm4gc291cmNlXG4gICAgICBUU291cmNlXG5cbmludGVyZmFjZSBDaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIge1xuICBoYXNBbHJlYWR5QmVlblNlZW4odmFsdWU6IGFueSk6IGJvb2xlYW5cbn1cbmZ1bmN0aW9uIGNyZWF0ZUNpcmN1bGFyUmVmZXJlbmNlQ2hlY2tlcigpOiBDaXJjdWxhclJlZmVyZW5jZUNoZWNrZXIge1xuICBpZiAodHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3Qgc2V0OiBXZWFrU2V0PGFueT4gPSBuZXcgV2Vha1NldCgpXG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc0FscmVhZHlCZWVuU2Vlbih2YWx1ZSkge1xuICAgICAgICBjb25zdCBoYXMgPSBzZXQuaGFzKHZhbHVlKVxuICAgICAgICBpZiAoIWhhcykge1xuICAgICAgICAgIHNldC5hZGQodmFsdWUpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhc1xuICAgICAgfSxcbiAgICB9XG4gIH1cbiAgY29uc3QgYXJyYXk6IGFueVtdID0gW11cbiAgcmV0dXJuIHtcbiAgICBoYXNBbHJlYWR5QmVlblNlZW4odmFsdWUpIHtcbiAgICAgIGNvbnN0IGhhcyA9IGFycmF5LmluZGV4T2YodmFsdWUpID49IDBcbiAgICAgIGlmICghaGFzKSB7XG4gICAgICAgIGFycmF5LnB1c2godmFsdWUpXG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzXG4gICAgfSxcbiAgfVxufVxuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBzb3VyY2UgYW5kIGFmZmVjdCBpdHMgc3ViIHZhbHVlcyBpbnRvIGRlc3RpbmF0aW9uLCByZWN1cnNpdmVseS5cbiAqIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGNhbid0IGJlIG1lcmdlZCwgcmV0dXJuIHNvdXJjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50bzxELCBTPihcbiAgZGVzdGluYXRpb246IEQsXG4gIHNvdXJjZTogUyxcbiAgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyID0gY3JlYXRlQ2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKClcbik6IE1lcmdlZDxELCBTPiB7XG4gIC8vIGlnbm9yZSB0aGUgc291cmNlIGlmIGl0IGlzIHVuZGVmaW5lZFxuICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZGVzdGluYXRpb24gYXMgTWVyZ2VkPEQsIFM+XG4gIH1cblxuICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcgfHwgc291cmNlID09PSBudWxsKSB7XG4gICAgLy8gcHJpbWl0aXZlIHZhbHVlcyAtIGp1c3QgcmV0dXJuIHNvdXJjZVxuICAgIHJldHVybiBzb3VyY2UgYXMgTWVyZ2VkPEQsIFM+XG4gIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiAobmV3IERhdGUoc291cmNlLmdldFRpbWUoKSkgYXMgdW5rbm93bikgYXMgTWVyZ2VkPEQsIFM+XG4gIH0gZWxzZSBpZiAoc291cmNlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgY29uc3QgZmxhZ3MgPVxuICAgICAgc291cmNlLmZsYWdzIHx8XG4gICAgICAvLyBvbGQgYnJvd3NlcnMgY29tcGF0aWJpbGl0eVxuICAgICAgW1xuICAgICAgICBzb3VyY2UuZ2xvYmFsID8gJ2cnIDogJycsXG4gICAgICAgIHNvdXJjZS5pZ25vcmVDYXNlID8gJ2knIDogJycsXG4gICAgICAgIHNvdXJjZS5tdWx0aWxpbmUgPyAnbScgOiAnJyxcbiAgICAgICAgc291cmNlLnN0aWNreSA/ICd5JyA6ICcnLFxuICAgICAgICBzb3VyY2UudW5pY29kZSA/ICd1JyA6ICcnLFxuICAgICAgXS5qb2luKCcnKVxuICAgIHJldHVybiAobmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBmbGFncykgYXMgdW5rbm93bikgYXMgTWVyZ2VkPEQsIFM+XG4gIH1cblxuICBpZiAoY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyLmhhc0FscmVhZHlCZWVuU2Vlbihzb3VyY2UpKSB7XG4gICAgLy8gcmVtb3ZlIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAgICByZXR1cm4gKHVuZGVmaW5lZCBhcyB1bmtub3duKSBhcyBNZXJnZWQ8RCwgUz5cbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICBjb25zdCBtZXJnZWQ6IGFueVtdID0gQXJyYXkuaXNBcnJheShkZXN0aW5hdGlvbikgPyBkZXN0aW5hdGlvbiA6IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgIG1lcmdlZFtpXSA9IG1lcmdlSW50byhtZXJnZWRbaV0sIHNvdXJjZVtpXSwgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKVxuICAgIH1cbiAgICByZXR1cm4gKG1lcmdlZCBhcyB1bmtub3duKSBhcyBNZXJnZWQ8RCwgUz5cbiAgfVxuXG4gIGNvbnN0IG1lcmdlZDogUmVjb3JkPGFueSwgYW55PiA9IGdldFR5cGUoZGVzdGluYXRpb24pID09PSAnb2JqZWN0JyA/IGRlc3RpbmF0aW9uIDoge31cbiAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgIG1lcmdlZFtrZXldID0gbWVyZ2VJbnRvKG1lcmdlZFtrZXldLCBzb3VyY2Vba2V5XSwgY2lyY3VsYXJSZWZlcmVuY2VDaGVja2VyKVxuICAgIH1cbiAgfVxuICByZXR1cm4gKG1lcmdlZCBhcyB1bmtub3duKSBhcyBNZXJnZWQ8RCwgUz5cbn1cblxuLyoqXG4gKiBBIHNpbXBsaXN0aWMgaW1wbGVtZW50YXRpb24gb2YgYSBkZWVwIGNsb25lIGFsZ29yaXRobS5cbiAqIENhdmVhdHM6XG4gKiAtIEl0IGRvZXNuJ3QgbWFpbnRhaW4gcHJvdG90eXBlIGNoYWlucyAtIGRvbid0IHVzZSB3aXRoIGluc3RhbmNlcyBvZiBjdXN0b20gY2xhc3Nlcy5cbiAqIC0gSXQgZG9lc24ndCBoYW5kbGUgTWFwIGFuZCBTZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZTxUPih2YWx1ZTogVCk6IFQge1xuICByZXR1cm4gbWVyZ2VJbnRvKHVuZGVmaW5lZCwgdmFsdWUpIGFzIFRcbn1cblxudHlwZSBDb21iaW5lZDxBLCBCPiA9IEEgZXh0ZW5kcyBudWxsID8gQiA6IEIgZXh0ZW5kcyBudWxsID8gQSA6IE1lcmdlZDxBLCBCPlxuXG4vKlxuICogUGVyZm9ybXMgYSBkZWVwIG1lcmdlIG9mIG9iamVjdHMgYW5kIGFycmF5cy5cbiAqIC0gQXJndW1lbnRzIHdvbid0IGJlIG11dGF0ZWRcbiAqIC0gT2JqZWN0IGFuZCBhcnJheXMgaW4gdGhlIG91dHB1dCB2YWx1ZSBhcmUgZGVyZWZlcmVuY2VkIChcImRlZXAgY2xvbmVkXCIpXG4gKiAtIEFycmF5cyB2YWx1ZXMgYXJlIG1lcmdlZCBpbmRleCBieSBpbmRleFxuICogLSBPYmplY3RzIGFyZSBtZXJnZWQgYnkga2V5c1xuICogLSBWYWx1ZXMgZ2V0IHJlcGxhY2VkLCB1bmxlc3MgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lPEEsIEI+KGE6IEEsIGI6IEIpOiBDb21iaW5lZDxBLCBCPlxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmU8QSwgQiwgQz4oYTogQSwgYjogQiwgYzogQyk6IENvbWJpbmVkPENvbWJpbmVkPEEsIEI+LCBDPlxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmU8QSwgQiwgQywgRD4oYTogQSwgYjogQiwgYzogQywgZDogRCk6IENvbWJpbmVkPENvbWJpbmVkPENvbWJpbmVkPEEsIEI+LCBDPiwgRD5cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lPEEsIEIsIEMsIEQsIEU+KFxuICBhOiBBLFxuICBiOiBCLFxuICBjOiBDLFxuICBkOiBELFxuICBlOiBFXG4pOiBDb21iaW5lZDxDb21iaW5lZDxDb21iaW5lZDxDb21iaW5lZDxBLCBCPiwgQz4sIEQ+LCBFPlxuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmUoLi4uc291cmNlczogYW55W10pOiB1bmtub3duIHtcbiAgbGV0IGRlc3RpbmF0aW9uOiBhbnlcblxuICBmb3IgKGNvbnN0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgLy8gSWdub3JlIGFueSB1bmRlZmluZWQgb3IgbnVsbCBzb3VyY2VzLlxuICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBzb3VyY2UgPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgZGVzdGluYXRpb24gPSBtZXJnZUludG8oZGVzdGluYXRpb24sIHNvdXJjZSlcbiAgfVxuXG4gIHJldHVybiBkZXN0aW5hdGlvbiBhcyB1bmtub3duXG59XG5cbi8vIERlZmluZSB0aG9zZSB1dGlsaXRpZXMgZm9yIFRTIDMuMCBjb21wYXRpYmlsaXR5XG4vLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay91dGlsaXR5LXR5cGVzLmh0bWwjdGhpc3BhcmFtZXRlcnR5cGV0eXBlXG5leHBvcnQgdHlwZSBUaGlzUGFyYW1ldGVyVHlwZTxUPiA9IFQgZXh0ZW5kcyAodGhpczogaW5mZXIgVSwgLi4uYXJnczogYW55W10pID0+IGFueSA/IFUgOiB1bmtub3duXG4vLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay91dGlsaXR5LXR5cGVzLmh0bWwjcGFyYW1ldGVyc3R5cGVcbmV4cG9ydCB0eXBlIFBhcmFtZXRlcnM8VCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PiA9IFQgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgUCkgPT4gYW55ID8gUCA6IG5ldmVyXG4vLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay91dGlsaXR5LXR5cGVzLmh0bWwjb21pdHR5cGUta2V5c1xuZXhwb3J0IHR5cGUgT21pdDxULCBLIGV4dGVuZHMga2V5b2YgYW55PiA9IFBpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj5cbiIsImltcG9ydCB7IGRpc3BsYXkgfSBmcm9tICcuLi90b29scy9kaXNwbGF5J1xuaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJy4uL3Rvb2xzL2NvbnRleHQnXG5pbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyLCBET01fRVZFTlQsIGpzb25TdHJpbmdpZnksIG5vb3AsIG9iamVjdFZhbHVlcyB9IGZyb20gJy4uL3Rvb2xzL3V0aWxzJ1xuaW1wb3J0IHsgbW9uaXRvciB9IGZyb20gJy4uL2RvbWFpbi9pbnRlcm5hbE1vbml0b3JpbmcnXG5pbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gJy4vaHR0cFJlcXVlc3QnXG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VURi04XG5jb25zdCBIQVNfTVVMVElfQllURVNfQ0hBUkFDVEVSUyA9IC9bXlxcdTAwMDAtXFx1MDA3Rl0vXG5cbmV4cG9ydCBjbGFzcyBCYXRjaCB7XG4gIHByaXZhdGUgcHVzaE9ubHlCdWZmZXI6IHN0cmluZ1tdID0gW11cbiAgcHJpdmF0ZSB1cHNlcnRCdWZmZXI6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fVxuICBwcml2YXRlIGJ1ZmZlckJ5dGVzU2l6ZSA9IDBcbiAgcHJpdmF0ZSBidWZmZXJNZXNzYWdlQ291bnQgPSAwXG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZXF1ZXN0OiBIdHRwUmVxdWVzdCxcbiAgICBwcml2YXRlIG1heFNpemU6IG51bWJlcixcbiAgICBwcml2YXRlIGJ5dGVzTGltaXQ6IG51bWJlcixcbiAgICBwcml2YXRlIG1heE1lc3NhZ2VTaXplOiBudW1iZXIsXG4gICAgcHJpdmF0ZSBmbHVzaFRpbWVvdXQ6IG51bWJlcixcbiAgICBwcml2YXRlIGJlZm9yZVVubG9hZENhbGxiYWNrOiAoKSA9PiB2b2lkID0gbm9vcFxuICApIHtcbiAgICB0aGlzLmZsdXNoT25WaXNpYmlsaXR5SGlkZGVuKClcbiAgICB0aGlzLmZsdXNoUGVyaW9kaWNhbGx5KClcbiAgfVxuXG4gIGFkZChtZXNzYWdlOiBDb250ZXh0KSB7XG4gICAgdGhpcy5hZGRPclVwZGF0ZShtZXNzYWdlKVxuICB9XG5cbiAgdXBzZXJ0KG1lc3NhZ2U6IENvbnRleHQsIGtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5hZGRPclVwZGF0ZShtZXNzYWdlLCBrZXkpXG4gIH1cblxuICBmbHVzaChyZWFzb24/OiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5idWZmZXJNZXNzYWdlQ291bnQgIT09IDApIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gWy4uLnRoaXMucHVzaE9ubHlCdWZmZXIsIC4uLm9iamVjdFZhbHVlcyh0aGlzLnVwc2VydEJ1ZmZlcildXG4gICAgICB0aGlzLnJlcXVlc3Quc2VuZChtZXNzYWdlcy5qb2luKCdcXG4nKSwgdGhpcy5idWZmZXJCeXRlc1NpemUsIHJlYXNvbilcbiAgICAgIHRoaXMucHVzaE9ubHlCdWZmZXIgPSBbXVxuICAgICAgdGhpcy51cHNlcnRCdWZmZXIgPSB7fVxuICAgICAgdGhpcy5idWZmZXJCeXRlc1NpemUgPSAwXG4gICAgICB0aGlzLmJ1ZmZlck1lc3NhZ2VDb3VudCA9IDBcbiAgICB9XG4gIH1cblxuICBzaXplSW5CeXRlcyhjYW5kaWRhdGU6IHN0cmluZykge1xuICAgIC8vIEFjY3VyYXRlIGJ5dGUgc2l6ZSBjb21wdXRhdGlvbnMgY2FuIGRlZ3JhZGUgcGVyZm9ybWFuY2VzIHdoZW4gdGhlcmUgaXMgYSBsb3Qgb2YgZXZlbnRzIHRvIHByb2Nlc3NcbiAgICBpZiAoIUhBU19NVUxUSV9CWVRFU19DSEFSQUNURVJTLnRlc3QoY2FuZGlkYXRlKSkge1xuICAgICAgcmV0dXJuIGNhbmRpZGF0ZS5sZW5ndGhcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlRleHRFbmNvZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2FuZGlkYXRlKS5sZW5ndGhcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJsb2IoW2NhbmRpZGF0ZV0pLnNpemVcbiAgfVxuXG4gIHByaXZhdGUgYWRkT3JVcGRhdGUobWVzc2FnZTogQ29udGV4dCwga2V5Pzogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBwcm9jZXNzZWRNZXNzYWdlLCBtZXNzYWdlQnl0ZXNTaXplIH0gPSB0aGlzLnByb2Nlc3MobWVzc2FnZSlcbiAgICBpZiAobWVzc2FnZUJ5dGVzU2l6ZSA+PSB0aGlzLm1heE1lc3NhZ2VTaXplKSB7XG4gICAgICBkaXNwbGF5Lndhcm4oYERpc2NhcmRlZCBhIG1lc3NhZ2Ugd2hvc2Ugc2l6ZSB3YXMgYmlnZ2VyIHRoYW4gdGhlIG1heGltdW0gYWxsb3dlZCBzaXplICR7dGhpcy5tYXhNZXNzYWdlU2l6ZX1LQi5gKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICh0aGlzLmhhc01lc3NhZ2VGb3Ioa2V5KSkge1xuICAgICAgdGhpcy5yZW1vdmUoa2V5KVxuICAgIH1cbiAgICBpZiAodGhpcy53aWxsUmVhY2hlZEJ5dGVzTGltaXRXaXRoKG1lc3NhZ2VCeXRlc1NpemUpKSB7XG4gICAgICB0aGlzLmZsdXNoKCd3aWxsUmVhY2hlZEJ5dGVzTGltaXRXaXRoJylcbiAgICB9XG4gICAgdGhpcy5wdXNoKHByb2Nlc3NlZE1lc3NhZ2UsIG1lc3NhZ2VCeXRlc1NpemUsIGtleSlcbiAgICBpZiAodGhpcy5pc0Z1bGwoKSkge1xuICAgICAgdGhpcy5mbHVzaCgnaXNGdWxsJylcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3MobWVzc2FnZTogQ29udGV4dCkge1xuICAgIGNvbnN0IHByb2Nlc3NlZE1lc3NhZ2UgPSBqc29uU3RyaW5naWZ5KG1lc3NhZ2UpIVxuICAgIGNvbnN0IG1lc3NhZ2VCeXRlc1NpemUgPSB0aGlzLnNpemVJbkJ5dGVzKHByb2Nlc3NlZE1lc3NhZ2UpXG4gICAgcmV0dXJuIHsgcHJvY2Vzc2VkTWVzc2FnZSwgbWVzc2FnZUJ5dGVzU2l6ZSB9XG4gIH1cblxuICBwcml2YXRlIHB1c2gocHJvY2Vzc2VkTWVzc2FnZTogc3RyaW5nLCBtZXNzYWdlQnl0ZXNTaXplOiBudW1iZXIsIGtleT86IHN0cmluZykge1xuICAgIGlmICh0aGlzLmJ1ZmZlck1lc3NhZ2VDb3VudCA+IDApIHtcbiAgICAgIC8vIFxcbiBzZXBhcmF0b3IgYXQgc2VyaWFsaXphdGlvblxuICAgICAgdGhpcy5idWZmZXJCeXRlc1NpemUgKz0gMVxuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBzZXJ0QnVmZmVyW2tleV0gPSBwcm9jZXNzZWRNZXNzYWdlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaE9ubHlCdWZmZXIucHVzaChwcm9jZXNzZWRNZXNzYWdlKVxuICAgIH1cbiAgICB0aGlzLmJ1ZmZlckJ5dGVzU2l6ZSArPSBtZXNzYWdlQnl0ZXNTaXplXG4gICAgdGhpcy5idWZmZXJNZXNzYWdlQ291bnQgKz0gMVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmUoa2V5OiBzdHJpbmcpIHtcbiAgICBjb25zdCByZW1vdmVkTWVzc2FnZSA9IHRoaXMudXBzZXJ0QnVmZmVyW2tleV1cbiAgICBkZWxldGUgdGhpcy51cHNlcnRCdWZmZXJba2V5XVxuICAgIGNvbnN0IG1lc3NhZ2VCeXRlc1NpemUgPSB0aGlzLnNpemVJbkJ5dGVzKHJlbW92ZWRNZXNzYWdlKVxuICAgIHRoaXMuYnVmZmVyQnl0ZXNTaXplIC09IG1lc3NhZ2VCeXRlc1NpemVcbiAgICB0aGlzLmJ1ZmZlck1lc3NhZ2VDb3VudCAtPSAxXG4gICAgaWYgKHRoaXMuYnVmZmVyTWVzc2FnZUNvdW50ID4gMCkge1xuICAgICAgdGhpcy5idWZmZXJCeXRlc1NpemUgLT0gMVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFzTWVzc2FnZUZvcihrZXk/OiBzdHJpbmcpOiBrZXkgaXMgc3RyaW5nIHtcbiAgICByZXR1cm4ga2V5ICE9PSB1bmRlZmluZWQgJiYgdGhpcy51cHNlcnRCdWZmZXJba2V5XSAhPT0gdW5kZWZpbmVkXG4gIH1cblxuICBwcml2YXRlIHdpbGxSZWFjaGVkQnl0ZXNMaW1pdFdpdGgobWVzc2FnZUJ5dGVzU2l6ZTogbnVtYmVyKSB7XG4gICAgLy8gYnl0ZSBvZiB0aGUgc2VwYXJhdG9yIGF0IHRoZSBlbmQgb2YgdGhlIG1lc3NhZ2VcbiAgICByZXR1cm4gdGhpcy5idWZmZXJCeXRlc1NpemUgKyBtZXNzYWdlQnl0ZXNTaXplICsgMSA+PSB0aGlzLmJ5dGVzTGltaXRcbiAgfVxuXG4gIHByaXZhdGUgaXNGdWxsKCkge1xuICAgIHJldHVybiB0aGlzLmJ1ZmZlck1lc3NhZ2VDb3VudCA9PT0gdGhpcy5tYXhTaXplIHx8IHRoaXMuYnVmZmVyQnl0ZXNTaXplID49IHRoaXMuYnl0ZXNMaW1pdFxuICB9XG5cbiAgcHJpdmF0ZSBmbHVzaFBlcmlvZGljYWxseSgpIHtcbiAgICBzZXRUaW1lb3V0KFxuICAgICAgbW9uaXRvcigoKSA9PiB7XG4gICAgICAgIHRoaXMuZmx1c2goJ2ZsdXNoUGVyaW9kaWNhbGx5JylcbiAgICAgICAgdGhpcy5mbHVzaFBlcmlvZGljYWxseSgpXG4gICAgICB9KSxcbiAgICAgIHRoaXMuZmx1c2hUaW1lb3V0XG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBmbHVzaE9uVmlzaWJpbGl0eUhpZGRlbigpIHtcbiAgICAvKipcbiAgICAgKiBXaXRoIHNlbmRCZWFjb24sIHJlcXVlc3RzIGFyZSBndWFyYW50ZWVkIHRvIGJlIHN1Y2Nlc3NmdWxseSBzZW50IGR1cmluZyBkb2N1bWVudCB1bmxvYWRcbiAgICAgKi9cbiAgICAvLyBAdHMtaWdub3JlIHRoaXMgZnVuY3Rpb24gaXMgbm90IGFsd2F5cyBkZWZpbmVkXG4gICAgaWYgKG5hdmlnYXRvci5zZW5kQmVhY29uKSB7XG4gICAgICAvKipcbiAgICAgICAqIGJlZm9yZXVubG9hZCBpcyBjYWxsZWQgYmVmb3JlIHZpc2liaWxpdHljaGFuZ2VcbiAgICAgICAqIHJlZ2lzdGVyIGZpcnN0IHRvIGJlIHN1cmUgdG8gYmUgY2FsbGVkIGJlZm9yZSBmbHVzaCBvbiBiZWZvcmV1bmxvYWRcbiAgICAgICAqIGNhdmVhdDogdW5sb2FkIGNhbiBzdGlsbCBiZSBjYW5jZWxlZCBieSBhbm90aGVyIGxpc3RlbmVyXG4gICAgICAgKi9cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBET01fRVZFTlQuQkVGT1JFX1VOTE9BRCwgdGhpcy5iZWZvcmVVbmxvYWRDYWxsYmFjaylcblxuICAgICAgLyoqXG4gICAgICAgKiBPbmx5IGV2ZW50IHRoYXQgZ3VhcmFudGVlIHRvIGZpcmUgb24gbW9iaWxlIGRldmljZXMgd2hlbiB0aGUgcGFnZSB0cmFuc2l0aW9ucyB0byBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgKiAoZS5nLiB3aGVuIHVzZXIgc3dpdGNoZXMgdG8gYSBkaWZmZXJlbnQgYXBwbGljYXRpb24sIGdvZXMgdG8gaG9tZXNjcmVlbiwgZXRjKSwgb3IgaXMgYmVpbmcgdW5sb2FkZWQuXG4gICAgICAgKi9cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIERPTV9FVkVOVC5WSVNJQklMSVRZX0NIQU5HRSwgKCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgICAgIHRoaXMuZmx1c2goRE9NX0VWRU5ULlZJU0lCSUxJVFlfQ0hBTkdFKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLyoqXG4gICAgICAgKiBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCB5ZXQgdG8gc2VuZCBhIHJlcXVlc3QgZHVyaW5nOlxuICAgICAgICogLSBhIHZpc2liaWxpdHkgY2hhbmdlIGR1cmluZyBkb2MgdW5sb2FkIChjZjogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NDg5NylcbiAgICAgICAqIC0gYSBwYWdlIGhpZGUgdHJhbnNpdGlvbiAoY2Y6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xODgzMjkpXG4gICAgICAgKi9cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBET01fRVZFTlQuQkVGT1JFX1VOTE9BRCwgKCkgPT4gdGhpcy5mbHVzaChET01fRVZFTlQuQkVGT1JFX1VOTE9BRCkpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBpbmNsdWRlcywgaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCB9IGZyb20gJy4uJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyb3dzZXJXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICBEYXRhZG9nRXZlbnRCcmlkZ2U/OiBEYXRhZG9nRXZlbnRCcmlkZ2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhZG9nRXZlbnRCcmlkZ2Uge1xuICBnZXRBbGxvd2VkV2ViVmlld0hvc3RzKCk6IHN0cmluZ1xuICBzZW5kKG1zZzogc3RyaW5nKTogdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRCcmlkZ2U8VCwgRT4oKSB7XG4gIGNvbnN0IGV2ZW50QnJpZGdlR2xvYmFsID0gZ2V0RXZlbnRCcmlkZ2VHbG9iYWwoKVxuXG4gIGlmICghZXZlbnRCcmlkZ2VHbG9iYWwpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0QWxsb3dlZFdlYlZpZXdIb3N0cygpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGV2ZW50QnJpZGdlR2xvYmFsLmdldEFsbG93ZWRXZWJWaWV3SG9zdHMoKSkgYXMgc3RyaW5nW11cbiAgICB9LFxuICAgIHNlbmQoZXZlbnRUeXBlOiBULCBldmVudDogRSkge1xuICAgICAgZXZlbnRCcmlkZ2VHbG9iYWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IGV2ZW50VHlwZSwgZXZlbnQgfSkpXG4gICAgfSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuVXNlRXZlbnRCcmlkZ2UoKTogYm9vbGVhbiB7XG4gIGNvbnN0IGJyaWRnZSA9IGdldEV2ZW50QnJpZGdlKClcbiAgcmV0dXJuICEhYnJpZGdlICYmIGluY2x1ZGVzKGJyaWRnZS5nZXRBbGxvd2VkV2ViVmlld0hvc3RzKCksIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSlcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRCcmlkZ2VHbG9iYWwoKSB7XG4gIHJldHVybiBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKCdldmVudC1icmlkZ2UnKSA/ICh3aW5kb3cgYXMgQnJvd3NlcldpbmRvdykuRGF0YWRvZ0V2ZW50QnJpZGdlIDogbnVsbFxufVxuIiwiaW1wb3J0IHsgRW5kcG9pbnRCdWlsZGVyIH0gZnJvbSAnLi4vZG9tYWluL2NvbmZpZ3VyYXRpb24vZW5kcG9pbnRCdWlsZGVyJ1xuaW1wb3J0IHsgbW9uaXRvciwgYWRkRXJyb3JUb01vbml0b3JpbmdCYXRjaCwgYWRkTW9uaXRvcmluZ01lc3NhZ2UgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxNb25pdG9yaW5nJ1xuXG5sZXQgaGFzUmVwb3J0ZWRYaHJFcnJvciA9IGZhbHNlXG5cbi8qKlxuICogVXNlIFBPU1QgcmVxdWVzdCB3aXRob3V0IGNvbnRlbnQgdHlwZSB0bzpcbiAqIC0gYXZvaWQgQ09SUyBwcmVmbGlnaHQgcmVxdWVzdHNcbiAqIC0gYWxsb3cgdXNhZ2Ugb2Ygc2VuZEJlYWNvblxuICpcbiAqIG11bHRpcGxlIGVsZW1lbnRzIGFyZSBzZW50IHNlcGFyYXRlZCBieSBcXG4gaW4gb3JkZXJcbiAqIHRvIGJlIHBhcnNlZCBjb3JyZWN0bHkgd2l0aG91dCBjb250ZW50IHR5cGUgaGVhZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwUmVxdWVzdCB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZW5kcG9pbnRCdWlsZGVyOiBFbmRwb2ludEJ1aWxkZXIsIHByaXZhdGUgYnl0ZXNMaW1pdDogbnVtYmVyKSB7fVxuXG4gIHNlbmQoZGF0YTogc3RyaW5nIHwgRm9ybURhdGEsIHNpemU6IG51bWJlciwgZmx1c2hSZWFzb24/OiBzdHJpbmcpIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmVuZHBvaW50QnVpbGRlci5idWlsZCgpXG4gICAgY29uc3QgdHJ5QmVhY29uID0gISFuYXZpZ2F0b3Iuc2VuZEJlYWNvbiAmJiBzaXplIDwgdGhpcy5ieXRlc0xpbWl0XG4gICAgaWYgKHRyeUJlYWNvbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaXNRdWV1ZWQgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbih1cmwsIGRhdGEpXG4gICAgICAgIGlmIChpc1F1ZXVlZCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlcG9ydEJlYWNvbkVycm9yKGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNwb3J0SW50cm9zcGVjdGlvbiA9IChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4ge1xuICAgICAgY29uc3QgcmVxID0gZXZlbnQ/LmN1cnJlbnRUYXJnZXQgYXMgWE1MSHR0cFJlcXVlc3RcbiAgICAgIGlmIChyZXEuc3RhdHVzID49IDIwMCAmJiByZXEuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKCFoYXNSZXBvcnRlZFhockVycm9yKSB7XG4gICAgICAgIGhhc1JlcG9ydGVkWGhyRXJyb3IgPSB0cnVlXG4gICAgICAgIGFkZE1vbml0b3JpbmdNZXNzYWdlKCdYSFIgZmFsbGJhY2sgZmFpbGVkJywge1xuICAgICAgICAgIG9uX2xpbmU6IG5hdmlnYXRvci5vbkxpbmUsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgdHJ5X2JlYWNvbjogdHJ5QmVhY29uLFxuICAgICAgICAgIGZsdXNoX3JlYXNvbjogZmx1c2hSZWFzb24sXG4gICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgIGlzX3RydXN0ZWQ6IGV2ZW50LmlzVHJ1c3RlZCxcbiAgICAgICAgICAgIHRvdGFsOiBldmVudC50b3RhbCxcbiAgICAgICAgICAgIGxvYWRlZDogZXZlbnQubG9hZGVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgc3RhdHVzOiByZXEuc3RhdHVzLFxuICAgICAgICAgICAgcmVhZHlfc3RhdGU6IHJlcS5yZWFkeVN0YXRlLFxuICAgICAgICAgICAgcmVzcG9uc2VfdGV4dDogcmVxLnJlc3BvbnNlVGV4dC5zbGljZSgwLCA1MTIpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2xvYWRlbmQnLFxuICAgICAgbW9uaXRvcigoZXZlbnQpID0+IHRyYW5zcG9ydEludHJvc3BlY3Rpb24oZXZlbnQpKVxuICAgIClcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpXG4gICAgcmVxdWVzdC5zZW5kKGRhdGEpXG4gIH1cbn1cblxubGV0IGhhc1JlcG9ydGVkQmVhY29uRXJyb3IgPSBmYWxzZVxuZnVuY3Rpb24gcmVwb3J0QmVhY29uRXJyb3IoZTogdW5rbm93bikge1xuICBpZiAoIWhhc1JlcG9ydGVkQmVhY29uRXJyb3IpIHtcbiAgICBoYXNSZXBvcnRlZEJlYWNvbkVycm9yID0gdHJ1ZVxuICAgIGFkZEVycm9yVG9Nb25pdG9yaW5nQmF0Y2goZSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVpbGRFbnYsIEJ1aWxkTW9kZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcblxuZXhwb3J0IGNvbnN0IGJ1aWxkRW52OiBCdWlsZEVudiA9IHtcbiAgYnVpbGRNb2RlOiAnPDw8IEJVSUxEX01PREUgPj4+JyBhcyBCdWlsZE1vZGUsXG4gIHNka1ZlcnNpb246ICc8PDwgU0RLX1ZFUlNJT04gPj4+Jyxcbn1cbiIsImltcG9ydCB7XG4gIEJvdW5kZWRCdWZmZXIsXG4gIGJ1aWxkQ29va2llT3B0aW9ucyxcbiAgQ29udGV4dCxcbiAgY3JlYXRlQ29udGV4dE1hbmFnZXIsXG4gIGRlZXBDbG9uZSxcbiAgaXNQZXJjZW50YWdlLFxuICBtYWtlUHVibGljQXBpLFxuICBtb25pdG9yLFxuICBJbml0Q29uZmlndXJhdGlvbixcbiAgY2xvY2tzTm93LFxuICB0aW1lU3RhbXBOb3csXG4gIGRpc3BsYXksXG4gIGNvbW1vbkluaXQsXG4gIENvbmZpZ3VyYXRpb24sXG4gIEludGVybmFsTW9uaXRvcmluZyxcbiAgY2FsbE1vbml0b3JlZCxcbiAgY3JlYXRlSGFuZGxpbmdTdGFjayxcbiAgRGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgVGltZVN0YW1wLFxuICBSZWxhdGl2ZVRpbWUsXG4gIGNhblVzZUV2ZW50QnJpZGdlLFxuICBhcmVDb29raWVzQXV0aG9yaXplZCxcbn0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlIH0gZnJvbSAnLi4vZG9tYWluL2xpZmVDeWNsZSdcbmltcG9ydCB7IFBhcmVudENvbnRleHRzIH0gZnJvbSAnLi4vZG9tYWluL3BhcmVudENvbnRleHRzJ1xuaW1wb3J0IHsgUnVtU2Vzc2lvbiB9IGZyb20gJy4uL2RvbWFpbi9ydW1TZXNzaW9uJ1xuaW1wb3J0IHsgUnVtRXZlbnREb21haW5Db250ZXh0IH0gZnJvbSAnLi4vZG9tYWluQ29udGV4dC50eXBlcydcbmltcG9ydCB7IENvbW1vbkNvbnRleHQsIFVzZXIsIEFjdGlvblR5cGUsIFJlcGxheVN0YXRzIH0gZnJvbSAnLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBSdW1FdmVudCB9IGZyb20gJy4uL3J1bUV2ZW50LnR5cGVzJ1xuaW1wb3J0IHsgYnVpbGRFbnYgfSBmcm9tICcuL2J1aWxkRW52J1xuaW1wb3J0IHsgc3RhcnRSdW0gfSBmcm9tICcuL3N0YXJ0UnVtJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bUluaXRDb25maWd1cmF0aW9uIGV4dGVuZHMgSW5pdENvbmZpZ3VyYXRpb24ge1xuICBhcHBsaWNhdGlvbklkOiBzdHJpbmdcbiAgYmVmb3JlU2VuZD86ICgoZXZlbnQ6IFJ1bUV2ZW50LCBjb250ZXh0OiBSdW1FdmVudERvbWFpbkNvbnRleHQpID0+IHZvaWQgfCBib29sZWFuKSB8IHVuZGVmaW5lZFxuICBkZWZhdWx0UHJpdmFjeUxldmVsPzogRGVmYXVsdFByaXZhY3lMZXZlbCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgdHlwZSBIeWJyaWRJbml0Q29uZmlndXJhdGlvbiA9IE9taXQ8UnVtSW5pdENvbmZpZ3VyYXRpb24sICdhcHBsaWNhdGlvbklkJyB8ICdjbGllbnRUb2tlbic+XG5cbmV4cG9ydCB0eXBlIFJ1bVB1YmxpY0FwaSA9IFJldHVyblR5cGU8dHlwZW9mIG1ha2VSdW1QdWJsaWNBcGk+XG5cbmV4cG9ydCB0eXBlIFN0YXJ0UnVtPEMgZXh0ZW5kcyBSdW1Jbml0Q29uZmlndXJhdGlvbiA9IFJ1bUluaXRDb25maWd1cmF0aW9uPiA9IChcbiAgaW5pdENvbmZpZ3VyYXRpb246IEMsXG4gIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sXG4gIGludGVybmFsTW9uaXRvcmluZzogSW50ZXJuYWxNb25pdG9yaW5nLFxuICBnZXRDb21tb25Db250ZXh0OiAoKSA9PiBDb21tb25Db250ZXh0LFxuICByZWNvcmRlckFwaTogUmVjb3JkZXJBcGksXG4gIGluaXRpYWxWaWV3TmFtZT86IHN0cmluZ1xuKSA9PiBTdGFydFJ1bVJlc3VsdFxuXG50eXBlIFN0YXJ0UnVtUmVzdWx0ID0gUmV0dXJuVHlwZTx0eXBlb2Ygc3RhcnRSdW0+XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb3JkZXJBcGkge1xuICBzdGFydDogKCkgPT4gdm9pZFxuICBzdG9wOiAoKSA9PiB2b2lkXG4gIG9uUnVtU3RhcnQ6IChcbiAgICBsaWZlQ3ljbGU6IExpZmVDeWNsZSxcbiAgICBpbml0Q29uZmlndXJhdGlvbjogUnVtSW5pdENvbmZpZ3VyYXRpb24sXG4gICAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbixcbiAgICBzZXNzaW9uOiBSdW1TZXNzaW9uLFxuICAgIHBhcmVudENvbnRleHRzOiBQYXJlbnRDb250ZXh0c1xuICApID0+IHZvaWRcbiAgaXNSZWNvcmRpbmc6ICgpID0+IGJvb2xlYW5cbiAgZ2V0UmVwbGF5U3RhdHM6ICh2aWV3SWQ6IHN0cmluZykgPT4gUmVwbGF5U3RhdHMgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSdW1QdWJsaWNBcGk8QyBleHRlbmRzIFJ1bUluaXRDb25maWd1cmF0aW9uPihzdGFydFJ1bUltcGw6IFN0YXJ0UnVtPEM+LCByZWNvcmRlckFwaTogUmVjb3JkZXJBcGkpIHtcbiAgbGV0IGlzQWxyZWFkeUluaXRpYWxpemVkID0gZmFsc2VcblxuICBjb25zdCBnbG9iYWxDb250ZXh0TWFuYWdlciA9IGNyZWF0ZUNvbnRleHRNYW5hZ2VyKClcbiAgbGV0IHVzZXI6IFVzZXIgPSB7fVxuXG4gIGxldCBnZXRJbnRlcm5hbENvbnRleHRTdHJhdGVneTogU3RhcnRSdW1SZXN1bHRbJ2dldEludGVybmFsQ29udGV4dCddID0gKCkgPT4gdW5kZWZpbmVkXG4gIGxldCBnZXRJbml0Q29uZmlndXJhdGlvblN0cmF0ZWd5ID0gKCk6IEluaXRDb25maWd1cmF0aW9uIHwgdW5kZWZpbmVkID0+IHVuZGVmaW5lZFxuXG4gIGxldCBidWZmZXJBcGlDYWxscyA9IG5ldyBCb3VuZGVkQnVmZmVyKClcbiAgbGV0IGFkZFRpbWluZ1N0cmF0ZWd5OiBTdGFydFJ1bVJlc3VsdFsnYWRkVGltaW5nJ10gPSAobmFtZSwgdGltZSA9IHRpbWVTdGFtcE5vdygpKSA9PiB7XG4gICAgYnVmZmVyQXBpQ2FsbHMuYWRkKCgpID0+IGFkZFRpbWluZ1N0cmF0ZWd5KG5hbWUsIHRpbWUpKVxuICB9XG4gIGxldCBzdGFydFZpZXdTdHJhdGVneTogU3RhcnRSdW1SZXN1bHRbJ3N0YXJ0VmlldyddID0gKG5hbWUsIHN0YXJ0Q2xvY2tzID0gY2xvY2tzTm93KCkpID0+IHtcbiAgICBidWZmZXJBcGlDYWxscy5hZGQoKCkgPT4gc3RhcnRWaWV3U3RyYXRlZ3kobmFtZSwgc3RhcnRDbG9ja3MpKVxuICB9XG4gIGxldCBhZGRBY3Rpb25TdHJhdGVneTogU3RhcnRSdW1SZXN1bHRbJ2FkZEFjdGlvbiddID0gKGFjdGlvbiwgY29tbW9uQ29udGV4dCA9IGNsb25lZENvbW1vbkNvbnRleHQoKSkgPT4ge1xuICAgIGJ1ZmZlckFwaUNhbGxzLmFkZCgoKSA9PiBhZGRBY3Rpb25TdHJhdGVneShhY3Rpb24sIGNvbW1vbkNvbnRleHQpKVxuICB9XG4gIGxldCBhZGRFcnJvclN0cmF0ZWd5OiBTdGFydFJ1bVJlc3VsdFsnYWRkRXJyb3InXSA9IChwcm92aWRlZEVycm9yLCBjb21tb25Db250ZXh0ID0gY2xvbmVkQ29tbW9uQ29udGV4dCgpKSA9PiB7XG4gICAgYnVmZmVyQXBpQ2FsbHMuYWRkKCgpID0+IGFkZEVycm9yU3RyYXRlZ3kocHJvdmlkZWRFcnJvciwgY29tbW9uQ29udGV4dCkpXG4gIH1cblxuICBmdW5jdGlvbiBjbG9uZWRDb21tb25Db250ZXh0KCk6IENvbW1vbkNvbnRleHQge1xuICAgIHJldHVybiBkZWVwQ2xvbmUoe1xuICAgICAgY29udGV4dDogZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0KCksXG4gICAgICB1c2VyOiB1c2VyIGFzIENvbnRleHQsXG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRSdW0oaW5pdENvbmZpZ3VyYXRpb246IEMpIHtcbiAgICBpZiAoY2FuVXNlRXZlbnRCcmlkZ2UoKSkge1xuICAgICAgaW5pdENvbmZpZ3VyYXRpb24gPSBvdmVycmlkZUluaXRDb25maWd1cmF0aW9uRm9yQnJpZGdlKGluaXRDb25maWd1cmF0aW9uKVxuICAgIH0gZWxzZSBpZiAoIWNhbkhhbmRsZVNlc3Npb24oaW5pdENvbmZpZ3VyYXRpb24pKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWRJbml0Q29uZmlndXJhdGlvbihpbml0Q29uZmlndXJhdGlvbikpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHsgY29uZmlndXJhdGlvbiwgaW50ZXJuYWxNb25pdG9yaW5nIH0gPSBjb21tb25Jbml0KGluaXRDb25maWd1cmF0aW9uLCBidWlsZEVudilcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24udHJhY2tWaWV3c01hbnVhbGx5KSB7XG4gICAgICBkb1N0YXJ0UnVtKGluaXRDb25maWd1cmF0aW9uLCBjb25maWd1cmF0aW9uLCBpbnRlcm5hbE1vbml0b3JpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRyYWluIGJlZm9yZUluaXRDYWxscyBieSBidWZmZXJpbmcgdGhlbSB1bnRpbCB3ZSBzdGFydCBSVU1cbiAgICAgIC8vIGlmIHdlIGdldCBhIHN0YXJ0VmlldywgZHJhaW4gcmUtYnVmZmVyZWQgY2FsbHMgYmVmb3JlIGNvbnRpbnVpbmcgdG8gZHJhaW4gYmVmb3JlSW5pdENhbGxzXG4gICAgICAvLyBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBjYWxscyBhcmUgcHJvY2Vzc2VkIGluIG9yZGVyXG4gICAgICBjb25zdCBiZWZvcmVJbml0Q2FsbHMgPSBidWZmZXJBcGlDYWxsc1xuICAgICAgYnVmZmVyQXBpQ2FsbHMgPSBuZXcgQm91bmRlZEJ1ZmZlcigpXG5cbiAgICAgIHN0YXJ0Vmlld1N0cmF0ZWd5ID0gKG5hbWUpID0+IHtcbiAgICAgICAgZG9TdGFydFJ1bShpbml0Q29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbiwgaW50ZXJuYWxNb25pdG9yaW5nLCBuYW1lKVxuICAgICAgfVxuICAgICAgYmVmb3JlSW5pdENhbGxzLmRyYWluKClcbiAgICB9XG4gICAgZ2V0SW5pdENvbmZpZ3VyYXRpb25TdHJhdGVneSA9ICgpID0+IGRlZXBDbG9uZTxJbml0Q29uZmlndXJhdGlvbj4oaW5pdENvbmZpZ3VyYXRpb24pXG5cbiAgICBpc0FscmVhZHlJbml0aWFsaXplZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvU3RhcnRSdW0oXG4gICAgaW5pdENvbmZpZ3VyYXRpb246IEMsXG4gICAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbixcbiAgICBpbnRlcm5hbE1vbml0b3Jpbmc6IEludGVybmFsTW9uaXRvcmluZyxcbiAgICBpbml0aWFsVmlld05hbWU/OiBzdHJpbmdcbiAgKSB7XG4gICAgY29uc3Qgc3RhcnRSdW1SZXN1bHRzID0gc3RhcnRSdW1JbXBsKFxuICAgICAgaW5pdENvbmZpZ3VyYXRpb24sXG4gICAgICBjb25maWd1cmF0aW9uLFxuICAgICAgaW50ZXJuYWxNb25pdG9yaW5nLFxuICAgICAgKCkgPT4gKHtcbiAgICAgICAgdXNlcixcbiAgICAgICAgY29udGV4dDogZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0KCksXG4gICAgICAgIGhhc1JlcGxheTogcmVjb3JkZXJBcGkuaXNSZWNvcmRpbmcoKSA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgICB9KSxcbiAgICAgIHJlY29yZGVyQXBpLFxuICAgICAgaW5pdGlhbFZpZXdOYW1lXG4gICAgKVxuXG4gICAgOyh7XG4gICAgICBzdGFydFZpZXc6IHN0YXJ0Vmlld1N0cmF0ZWd5LFxuICAgICAgYWRkQWN0aW9uOiBhZGRBY3Rpb25TdHJhdGVneSxcbiAgICAgIGFkZEVycm9yOiBhZGRFcnJvclN0cmF0ZWd5LFxuICAgICAgYWRkVGltaW5nOiBhZGRUaW1pbmdTdHJhdGVneSxcbiAgICAgIGdldEludGVybmFsQ29udGV4dDogZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3ksXG4gICAgfSA9IHN0YXJ0UnVtUmVzdWx0cylcbiAgICBidWZmZXJBcGlDYWxscy5kcmFpbigpXG5cbiAgICByZWNvcmRlckFwaS5vblJ1bVN0YXJ0KFxuICAgICAgc3RhcnRSdW1SZXN1bHRzLmxpZmVDeWNsZSxcbiAgICAgIGluaXRDb25maWd1cmF0aW9uLFxuICAgICAgY29uZmlndXJhdGlvbixcbiAgICAgIHN0YXJ0UnVtUmVzdWx0cy5zZXNzaW9uLFxuICAgICAgc3RhcnRSdW1SZXN1bHRzLnBhcmVudENvbnRleHRzXG4gICAgKVxuICB9XG5cbiAgY29uc3QgcnVtUHVibGljQXBpID0gbWFrZVB1YmxpY0FwaSh7XG4gICAgaW5pdDogbW9uaXRvcihpbml0UnVtKSxcblxuICAgIGFkZFJ1bUdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuYWRkKSxcblxuICAgIHJlbW92ZVJ1bUdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIucmVtb3ZlKSxcblxuICAgIGdldFJ1bUdsb2JhbENvbnRleHQ6IG1vbml0b3IoZ2xvYmFsQ29udGV4dE1hbmFnZXIuZ2V0KSxcbiAgICBzZXRSdW1HbG9iYWxDb250ZXh0OiBtb25pdG9yKGdsb2JhbENvbnRleHRNYW5hZ2VyLnNldCksXG5cbiAgICBnZXRJbnRlcm5hbENvbnRleHQ6IG1vbml0b3IoKHN0YXJ0VGltZT86IG51bWJlcikgPT4gZ2V0SW50ZXJuYWxDb250ZXh0U3RyYXRlZ3koc3RhcnRUaW1lKSksXG4gICAgZ2V0SW5pdENvbmZpZ3VyYXRpb246IG1vbml0b3IoKCkgPT4gZ2V0SW5pdENvbmZpZ3VyYXRpb25TdHJhdGVneSgpKSxcblxuICAgIGFkZEFjdGlvbjogbW9uaXRvcigobmFtZTogc3RyaW5nLCBjb250ZXh0Pzogb2JqZWN0KSA9PiB7XG4gICAgICBhZGRBY3Rpb25TdHJhdGVneSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGNvbnRleHQ6IGRlZXBDbG9uZShjb250ZXh0IGFzIENvbnRleHQpLFxuICAgICAgICBzdGFydENsb2NrczogY2xvY2tzTm93KCksXG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGUuQ1VTVE9NLFxuICAgICAgfSlcbiAgICB9KSxcblxuICAgIGFkZEVycm9yOiAoZXJyb3I6IHVua25vd24sIGNvbnRleHQ/OiBvYmplY3QpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsaW5nU3RhY2sgPSBjcmVhdGVIYW5kbGluZ1N0YWNrKClcbiAgICAgIGNhbGxNb25pdG9yZWQoKCkgPT4ge1xuICAgICAgICBhZGRFcnJvclN0cmF0ZWd5KHtcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBoYW5kbGluZ1N0YWNrLFxuICAgICAgICAgIGNvbnRleHQ6IGRlZXBDbG9uZShjb250ZXh0IGFzIENvbnRleHQpLFxuICAgICAgICAgIHN0YXJ0Q2xvY2tzOiBjbG9ja3NOb3coKSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGFkZFRpbWluZzogbW9uaXRvcigobmFtZTogc3RyaW5nLCB0aW1lPzogbnVtYmVyKSA9PiB7XG4gICAgICBhZGRUaW1pbmdTdHJhdGVneShuYW1lLCB0aW1lIGFzIFJlbGF0aXZlVGltZSB8IFRpbWVTdGFtcCB8IHVuZGVmaW5lZClcbiAgICB9KSxcblxuICAgIHNldFVzZXI6IG1vbml0b3IoKG5ld1VzZXI6IFVzZXIpID0+IHtcbiAgICAgIGNvbnN0IHNhbml0aXplZFVzZXIgPSBzYW5pdGl6ZVVzZXIobmV3VXNlcilcbiAgICAgIGlmIChzYW5pdGl6ZWRVc2VyKSB7XG4gICAgICAgIHVzZXIgPSBzYW5pdGl6ZWRVc2VyXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwbGF5LmVycm9yKCdVbnN1cHBvcnRlZCB1c2VyOicsIG5ld1VzZXIpXG4gICAgICB9XG4gICAgfSksXG5cbiAgICByZW1vdmVVc2VyOiBtb25pdG9yKCgpID0+IHtcbiAgICAgIHVzZXIgPSB7fVxuICAgIH0pLFxuXG4gICAgc3RhcnRWaWV3OiBtb25pdG9yKChuYW1lPzogc3RyaW5nKSA9PiB7XG4gICAgICBzdGFydFZpZXdTdHJhdGVneShuYW1lKVxuICAgIH0pLFxuXG4gICAgc3RhcnRTZXNzaW9uUmVwbGF5UmVjb3JkaW5nOiBtb25pdG9yKHJlY29yZGVyQXBpLnN0YXJ0KSxcbiAgICBzdG9wU2Vzc2lvblJlcGxheVJlY29yZGluZzogbW9uaXRvcihyZWNvcmRlckFwaS5zdG9wKSxcbiAgfSlcbiAgcmV0dXJuIHJ1bVB1YmxpY0FwaVxuXG4gIGZ1bmN0aW9uIHNhbml0aXplVXNlcihuZXdVc2VyOiB1bmtub3duKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdVc2VyICE9PSAnb2JqZWN0JyB8fCAhbmV3VXNlcikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGRlZXBDbG9uZShuZXdVc2VyIGFzIENvbnRleHQpXG4gICAgaWYgKCdpZCcgaW4gcmVzdWx0KSB7XG4gICAgICByZXN1bHQuaWQgPSBTdHJpbmcocmVzdWx0LmlkKVxuICAgIH1cbiAgICBpZiAoJ25hbWUnIGluIHJlc3VsdCkge1xuICAgICAgcmVzdWx0Lm5hbWUgPSBTdHJpbmcocmVzdWx0Lm5hbWUpXG4gICAgfVxuICAgIGlmICgnZW1haWwnIGluIHJlc3VsdCkge1xuICAgICAgcmVzdWx0LmVtYWlsID0gU3RyaW5nKHJlc3VsdC5lbWFpbClcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZnVuY3Rpb24gY2FuSGFuZGxlU2Vzc2lvbihpbml0Q29uZmlndXJhdGlvbjogUnVtSW5pdENvbmZpZ3VyYXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAoIWFyZUNvb2tpZXNBdXRob3JpemVkKGJ1aWxkQ29va2llT3B0aW9ucyhpbml0Q29uZmlndXJhdGlvbikpKSB7XG4gICAgICBkaXNwbGF5Lndhcm4oJ0Nvb2tpZXMgYXJlIG5vdCBhdXRob3JpemVkLCB3ZSB3aWxsIG5vdCBzZW5kIGFueSBkYXRhLicpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaXNMb2NhbEZpbGUoKSkge1xuICAgICAgZGlzcGxheS5lcnJvcignRXhlY3V0aW9uIGlzIG5vdCBhbGxvd2VkIGluIHRoZSBjdXJyZW50IGNvbnRleHQuJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gaXNWYWxpZEluaXRDb25maWd1cmF0aW9uKGluaXRDb25maWd1cmF0aW9uOiBSdW1Jbml0Q29uZmlndXJhdGlvbikge1xuICAgIGlmIChpc0FscmVhZHlJbml0aWFsaXplZCkge1xuICAgICAgaWYgKCFpbml0Q29uZmlndXJhdGlvbi5zaWxlbnRNdWx0aXBsZUluaXQpIHtcbiAgICAgICAgZGlzcGxheS5lcnJvcignRERfUlVNIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuJylcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoIWluaXRDb25maWd1cmF0aW9uIHx8ICFpbml0Q29uZmlndXJhdGlvbi5jbGllbnRUb2tlbikge1xuICAgICAgZGlzcGxheS5lcnJvcignQ2xpZW50IFRva2VuIGlzIG5vdCBjb25maWd1cmVkLCB3ZSB3aWxsIG5vdCBzZW5kIGFueSBkYXRhLicpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKCFpbml0Q29uZmlndXJhdGlvbi5hcHBsaWNhdGlvbklkKSB7XG4gICAgICBkaXNwbGF5LmVycm9yKCdBcHBsaWNhdGlvbiBJRCBpcyBub3QgY29uZmlndXJlZCwgbm8gUlVNIGRhdGEgd2lsbCBiZSBjb2xsZWN0ZWQuJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoaW5pdENvbmZpZ3VyYXRpb24uc2FtcGxlUmF0ZSAhPT0gdW5kZWZpbmVkICYmICFpc1BlcmNlbnRhZ2UoaW5pdENvbmZpZ3VyYXRpb24uc2FtcGxlUmF0ZSkpIHtcbiAgICAgIGRpc3BsYXkuZXJyb3IoJ1NhbXBsZSBSYXRlIHNob3VsZCBiZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCcpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKGluaXRDb25maWd1cmF0aW9uLnJlcGxheVNhbXBsZVJhdGUgIT09IHVuZGVmaW5lZCAmJiAhaXNQZXJjZW50YWdlKGluaXRDb25maWd1cmF0aW9uLnJlcGxheVNhbXBsZVJhdGUpKSB7XG4gICAgICBkaXNwbGF5LmVycm9yKCdSZXBsYXkgU2FtcGxlIFJhdGUgc2hvdWxkIGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwJylcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoXG4gICAgICBBcnJheS5pc0FycmF5KGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucykgJiZcbiAgICAgIGluaXRDb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucy5sZW5ndGggIT09IDAgJiZcbiAgICAgIGluaXRDb25maWd1cmF0aW9uLnNlcnZpY2UgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgZGlzcGxheS5lcnJvcignU2VydmljZSBuZWVkIHRvIGJlIGNvbmZpZ3VyZWQgd2hlbiB0cmFjaW5nIGlzIGVuYWJsZWQnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBvdmVycmlkZUluaXRDb25maWd1cmF0aW9uRm9yQnJpZGdlPEMgZXh0ZW5kcyBJbml0Q29uZmlndXJhdGlvbj4oaW5pdENvbmZpZ3VyYXRpb246IEMpOiBDIHtcbiAgICByZXR1cm4geyAuLi5pbml0Q29uZmlndXJhdGlvbiwgYXBwbGljYXRpb25JZDogJ2VtcHR5JywgY2xpZW50VG9rZW46ICdlbXB0eScsIHNhbXBsZVJhdGU6IDEwMCB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0xvY2FsRmlsZSgpIHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnZmlsZTonXG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbWJpbmUsIENvbmZpZ3VyYXRpb24sIEludGVybmFsTW9uaXRvcmluZywgY2FuVXNlRXZlbnRCcmlkZ2UsIE9ic2VydmFibGUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5pbXBvcnQgeyBjcmVhdGVET01NdXRhdGlvbk9ic2VydmFibGUgfSBmcm9tICcuLi9icm93c2VyL2RvbU11dGF0aW9uT2JzZXJ2YWJsZSdcbmltcG9ydCB7IHN0YXJ0UGVyZm9ybWFuY2VDb2xsZWN0aW9uIH0gZnJvbSAnLi4vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24nXG5pbXBvcnQgeyBzdGFydFJ1bUFzc2VtYmx5IH0gZnJvbSAnLi4vZG9tYWluL2Fzc2VtYmx5J1xuaW1wb3J0IHsgc3RhcnRGb3JlZ3JvdW5kQ29udGV4dHMgfSBmcm9tICcuLi9kb21haW4vZm9yZWdyb3VuZENvbnRleHRzJ1xuaW1wb3J0IHsgc3RhcnRJbnRlcm5hbENvbnRleHQgfSBmcm9tICcuLi9kb21haW4vaW50ZXJuYWxDb250ZXh0J1xuaW1wb3J0IHsgTGlmZUN5Y2xlIH0gZnJvbSAnLi4vZG9tYWluL2xpZmVDeWNsZSdcbmltcG9ydCB7IHN0YXJ0UGFyZW50Q29udGV4dHMgfSBmcm9tICcuLi9kb21haW4vcGFyZW50Q29udGV4dHMnXG5pbXBvcnQgeyBzdGFydFJlcXVlc3RDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3JlcXVlc3RDb2xsZWN0aW9uJ1xuaW1wb3J0IHsgc3RhcnRBY3Rpb25Db2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL2FjdGlvbkNvbGxlY3Rpb24nXG5pbXBvcnQgeyBzdGFydEVycm9yQ29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL2Vycm9yL2Vycm9yQ29sbGVjdGlvbidcbmltcG9ydCB7IHN0YXJ0TG9uZ1Rhc2tDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vbG9uZ1Rhc2svbG9uZ1Rhc2tDb2xsZWN0aW9uJ1xuaW1wb3J0IHsgc3RhcnRSZXNvdXJjZUNvbGxlY3Rpb24gfSBmcm9tICcuLi9kb21haW4vcnVtRXZlbnRzQ29sbGVjdGlvbi9yZXNvdXJjZS9yZXNvdXJjZUNvbGxlY3Rpb24nXG5pbXBvcnQgeyBzdGFydFZpZXdDb2xsZWN0aW9uIH0gZnJvbSAnLi4vZG9tYWluL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy92aWV3Q29sbGVjdGlvbidcbmltcG9ydCB7IFJ1bVNlc3Npb24sIHN0YXJ0UnVtU2Vzc2lvbiwgc3RhcnRSdW1TZXNzaW9uU3R1YiB9IGZyb20gJy4uL2RvbWFpbi9ydW1TZXNzaW9uJ1xuaW1wb3J0IHsgQ29tbW9uQ29udGV4dCB9IGZyb20gJy4uL3Jhd1J1bUV2ZW50LnR5cGVzJ1xuaW1wb3J0IHsgc3RhcnRSdW1CYXRjaCB9IGZyb20gJy4uL3RyYW5zcG9ydC9iYXRjaCdcbmltcG9ydCB7IHN0YXJ0UnVtRXZlbnRCcmlkZ2UgfSBmcm9tICcuLi90cmFuc3BvcnQvc3RhcnRSdW1FdmVudEJyaWRnZSdcbmltcG9ydCB7IHN0YXJ0VXJsQ29udGV4dHMgfSBmcm9tICcuLi9kb21haW4vdXJsQ29udGV4dHMnXG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvbkNoYW5nZU9ic2VydmFibGUsIExvY2F0aW9uQ2hhbmdlIH0gZnJvbSAnLi4vYnJvd3Nlci9sb2NhdGlvbkNoYW5nZU9ic2VydmFibGUnXG5pbXBvcnQgeyBSZWNvcmRlckFwaSwgUnVtSW5pdENvbmZpZ3VyYXRpb24gfSBmcm9tICcuL3J1bVB1YmxpY0FwaSdcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVtKFxuICBpbml0Q29uZmlndXJhdGlvbjogUnVtSW5pdENvbmZpZ3VyYXRpb24sXG4gIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sXG4gIGludGVybmFsTW9uaXRvcmluZzogSW50ZXJuYWxNb25pdG9yaW5nLFxuICBnZXRDb21tb25Db250ZXh0OiAoKSA9PiBDb21tb25Db250ZXh0LFxuICByZWNvcmRlckFwaTogUmVjb3JkZXJBcGksXG4gIGluaXRpYWxWaWV3TmFtZT86IHN0cmluZ1xuKSB7XG4gIGNvbnN0IGxpZmVDeWNsZSA9IG5ldyBMaWZlQ3ljbGUoKVxuICBjb25zdCBzZXNzaW9uID0gIWNhblVzZUV2ZW50QnJpZGdlKCkgPyBzdGFydFJ1bVNlc3Npb24oY29uZmlndXJhdGlvbiwgbGlmZUN5Y2xlKSA6IHN0YXJ0UnVtU2Vzc2lvblN0dWIoKVxuICBjb25zdCBkb21NdXRhdGlvbk9ic2VydmFibGUgPSBjcmVhdGVET01NdXRhdGlvbk9ic2VydmFibGUoKVxuICBjb25zdCBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUgPSBjcmVhdGVMb2NhdGlvbkNoYW5nZU9ic2VydmFibGUobG9jYXRpb24pXG5cbiAgaW50ZXJuYWxNb25pdG9yaW5nLnNldEV4dGVybmFsQ29udGV4dFByb3ZpZGVyKCgpID0+XG4gICAgY29tYmluZShcbiAgICAgIHtcbiAgICAgICAgYXBwbGljYXRpb25faWQ6IGluaXRDb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQsXG4gICAgICB9LFxuICAgICAgcGFyZW50Q29udGV4dHMuZmluZFZpZXcoKSxcbiAgICAgIHsgdmlldzogeyBuYW1lOiBudWxsIH0gfVxuICAgIClcbiAgKVxuXG4gIGNvbnN0IHsgcGFyZW50Q29udGV4dHMsIGZvcmVncm91bmRDb250ZXh0cywgdXJsQ29udGV4dHMgfSA9IHN0YXJ0UnVtRXZlbnRDb2xsZWN0aW9uKFxuICAgIGluaXRDb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQsXG4gICAgbGlmZUN5Y2xlLFxuICAgIGNvbmZpZ3VyYXRpb24sXG4gICAgbG9jYXRpb24sXG4gICAgc2Vzc2lvbixcbiAgICBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUsXG4gICAgZ2V0Q29tbW9uQ29udGV4dFxuICApXG5cbiAgc3RhcnRMb25nVGFza0NvbGxlY3Rpb24obGlmZUN5Y2xlLCBzZXNzaW9uKVxuICBzdGFydFJlc291cmNlQ29sbGVjdGlvbihsaWZlQ3ljbGUpXG4gIGNvbnN0IHsgYWRkVGltaW5nLCBzdGFydFZpZXcgfSA9IHN0YXJ0Vmlld0NvbGxlY3Rpb24oXG4gICAgbGlmZUN5Y2xlLFxuICAgIGNvbmZpZ3VyYXRpb24sXG4gICAgbG9jYXRpb24sXG4gICAgZG9tTXV0YXRpb25PYnNlcnZhYmxlLFxuICAgIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSxcbiAgICBmb3JlZ3JvdW5kQ29udGV4dHMsXG4gICAgcmVjb3JkZXJBcGksXG4gICAgaW5pdGlhbFZpZXdOYW1lXG4gIClcbiAgY29uc3QgeyBhZGRFcnJvciB9ID0gc3RhcnRFcnJvckNvbGxlY3Rpb24obGlmZUN5Y2xlLCBmb3JlZ3JvdW5kQ29udGV4dHMpXG4gIGNvbnN0IHsgYWRkQWN0aW9uIH0gPSBzdGFydEFjdGlvbkNvbGxlY3Rpb24obGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGNvbmZpZ3VyYXRpb24sIGZvcmVncm91bmRDb250ZXh0cylcblxuICBzdGFydFJlcXVlc3RDb2xsZWN0aW9uKGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgc2Vzc2lvbilcbiAgc3RhcnRQZXJmb3JtYW5jZUNvbGxlY3Rpb24obGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uKVxuXG4gIGNvbnN0IGludGVybmFsQ29udGV4dCA9IHN0YXJ0SW50ZXJuYWxDb250ZXh0KGluaXRDb25maWd1cmF0aW9uLmFwcGxpY2F0aW9uSWQsIHNlc3Npb24sIHBhcmVudENvbnRleHRzLCB1cmxDb250ZXh0cylcblxuICByZXR1cm4ge1xuICAgIGFkZEFjdGlvbixcbiAgICBhZGRFcnJvcixcbiAgICBhZGRUaW1pbmcsXG4gICAgc3RhcnRWaWV3LFxuICAgIGxpZmVDeWNsZSxcbiAgICBwYXJlbnRDb250ZXh0cyxcbiAgICBzZXNzaW9uLFxuICAgIGdldEludGVybmFsQ29udGV4dDogaW50ZXJuYWxDb250ZXh0LmdldCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1FdmVudENvbGxlY3Rpb24oXG4gIGFwcGxpY2F0aW9uSWQ6IHN0cmluZyxcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sXG4gIGxvY2F0aW9uOiBMb2NhdGlvbixcbiAgc2Vzc2lvbjogUnVtU2Vzc2lvbixcbiAgbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlOiBPYnNlcnZhYmxlPExvY2F0aW9uQ2hhbmdlPixcbiAgZ2V0Q29tbW9uQ29udGV4dDogKCkgPT4gQ29tbW9uQ29udGV4dFxuKSB7XG4gIGNvbnN0IHBhcmVudENvbnRleHRzID0gc3RhcnRQYXJlbnRDb250ZXh0cyhsaWZlQ3ljbGUsIHNlc3Npb24pXG4gIGNvbnN0IHVybENvbnRleHRzID0gc3RhcnRVcmxDb250ZXh0cyhsaWZlQ3ljbGUsIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSwgbG9jYXRpb24pXG4gIGNvbnN0IGZvcmVncm91bmRDb250ZXh0cyA9IHN0YXJ0Rm9yZWdyb3VuZENvbnRleHRzKClcblxuICBsZXQgc3RvcEJhdGNoOiAoKSA9PiB2b2lkXG5cbiAgaWYgKGNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICBzdGFydFJ1bUV2ZW50QnJpZGdlKGxpZmVDeWNsZSlcbiAgfSBlbHNlIHtcbiAgICA7KHsgc3RvcDogc3RvcEJhdGNoIH0gPSBzdGFydFJ1bUJhdGNoKGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSkpXG4gIH1cblxuICBzdGFydFJ1bUFzc2VtYmx5KGFwcGxpY2F0aW9uSWQsIGNvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZSwgc2Vzc2lvbiwgcGFyZW50Q29udGV4dHMsIHVybENvbnRleHRzLCBnZXRDb21tb25Db250ZXh0KVxuXG4gIHJldHVybiB7XG4gICAgcGFyZW50Q29udGV4dHMsXG4gICAgZm9yZWdyb3VuZENvbnRleHRzLFxuICAgIHVybENvbnRleHRzLFxuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIC8vIHByZXZlbnQgYmF0Y2ggZnJvbSBwcmV2aW91cyB0ZXN0cyB0byBrZWVwIHJ1bm5pbmcgYW5kIHNlbmQgdW53YW50ZWQgcmVxdWVzdHNcbiAgICAgIC8vIGNvdWxkIGJlIHJlcGxhY2VkIGJ5IHN0b3BwaW5nIGFsbCB0aGUgY29tcG9uZW50IHdoZW4gdGhleSB3aWxsIGFsbCBoYXZlIGEgc3RvcCBtZXRob2RcbiAgICAgIHN0b3BCYXRjaD8uKClcbiAgICAgIHBhcmVudENvbnRleHRzLnN0b3AoKVxuICAgICAgZm9yZWdyb3VuZENvbnRleHRzLnN0b3AoKVxuICAgIH0sXG4gIH1cbn1cbiIsImltcG9ydCB7IG1vbml0b3IsIE9ic2VydmFibGUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVET01NdXRhdGlvbk9ic2VydmFibGUoKSB7XG4gIGNvbnN0IE11dGF0aW9uT2JzZXJ2ZXIgPSBnZXRNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3IoKVxuXG4gIGNvbnN0IG9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD4gPSBuZXcgT2JzZXJ2YWJsZTx2b2lkPigoKSA9PiB7XG4gICAgaWYgKCFNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtb25pdG9yKCgpID0+IG9ic2VydmFibGUubm90aWZ5KCkpKVxuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICB9KVxuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KClcbiAgfSlcblxuICByZXR1cm4gb2JzZXJ2YWJsZVxufVxuXG50eXBlIE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvciA9IG5ldyAoY2FsbGJhY2s6IE11dGF0aW9uQ2FsbGJhY2spID0+IE11dGF0aW9uT2JzZXJ2ZXJcbmludGVyZmFjZSBCcm93c2VyV2luZG93IGV4dGVuZHMgV2luZG93IHtcbiAgTXV0YXRpb25PYnNlcnZlcj86IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvclxuICBab25lPzoge1xuICAgIF9fc3ltYm9sX18obmFtZTogc3RyaW5nKTogc3RyaW5nXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvcigpOiBNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3IgfCB1bmRlZmluZWQge1xuICBsZXQgY29uc3RydWN0b3I6IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvciB8IHVuZGVmaW5lZFxuICBjb25zdCBicm93c2VyV2luZG93OiBCcm93c2VyV2luZG93ID0gd2luZG93XG5cbiAgLy8gQW5ndWxhciB1c2VzIFpvbmUuanMgdG8gcHJvdmlkZSBhIGNvbnRleHQgcGVyc2lzdGluZyBhY3Jvc3MgYXN5bmMgdGFza3MuICBab25lLmpzIHJlcGxhY2VzIHRoZVxuICAvLyBnbG9iYWwgTXV0YXRpb25PYnNlcnZlciBjb25zdHJ1Y3RvciB3aXRoIGEgcGF0Y2hlZCB2ZXJzaW9uIHRvIHN1cHBvcnQgdGhlIGNvbnRleHQgcHJvcGFnYXRpb24uXG4gIC8vIFRoZXJlIGlzIGFuIG9uZ29pbmcgaXNzdWVbMV1bMl0gd2l0aCB0aGlzIHNldHVwIHdoZW4gdXNpbmcgYSBNdXRhdGlvbk9ic2VydmVyIHdpdGhpbiBhIEFuZ3VsYXJcbiAgLy8gY29tcG9uZW50OiBvbiBzb21lIG9jY2FzaW9ucywgdGhlIGNhbGxiYWNrIGlzIGJlaW5nIGNhbGxlZCBpbiBhbiBpbmZpbml0ZSBsb29wLCBjYXVzaW5nIHRoZVxuICAvLyBwYWdlIHRvIGZyZWV6ZSAoZXZlbiBpZiB0aGUgY2FsbGJhY2sgaXMgY29tcGxldGVseSBlbXB0eSkuXG4gIC8vXG4gIC8vIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIGFyZSB1c2luZyB0aGUgWm9uZSBfX3N5bWJvbF9fIEFQSSB0byBnZXQgdGhlIG9yaWdpbmFsLCB1bnBhdGNoZWRcbiAgLy8gTXV0YXRpb25PYnNlcnZlciBjb25zdHJ1Y3Rvci5cbiAgLy9cbiAgLy8gWzFdIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzI2OTQ4XG4gIC8vIFsyXSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zMTcxMlxuICBpZiAoYnJvd3NlcldpbmRvdy5ab25lKSB7XG4gICAgY29uc3Qgc3ltYm9sID0gYnJvd3NlcldpbmRvdy5ab25lLl9fc3ltYm9sX18oJ011dGF0aW9uT2JzZXJ2ZXInKVxuICAgIGNvbnN0cnVjdG9yID0gYnJvd3NlcldpbmRvd1tzeW1ib2wgYXMgYW55XSBhcyBhbnlcbiAgfVxuXG4gIGlmICghY29uc3RydWN0b3IpIHtcbiAgICBjb25zdHJ1Y3RvciA9IGJyb3dzZXJXaW5kb3cuTXV0YXRpb25PYnNlcnZlclxuICB9XG5cbiAgcmV0dXJuIGNvbnN0cnVjdG9yXG59XG4iLCJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyLCBET01fRVZFTlQsIGluc3RydW1lbnRNZXRob2RBbmRDYWxsT3JpZ2luYWwsIE9ic2VydmFibGUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25DaGFuZ2Uge1xuICBvbGRMb2NhdGlvbjogUmVhZG9ubHk8TG9jYXRpb24+XG4gIG5ld0xvY2F0aW9uOiBSZWFkb25seTxMb2NhdGlvbj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZShsb2NhdGlvbjogTG9jYXRpb24pIHtcbiAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IHsgLi4ubG9jYXRpb24gfVxuICBjb25zdCBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8TG9jYXRpb25DaGFuZ2U+KCgpID0+IHtcbiAgICBjb25zdCB7IHN0b3A6IHN0b3BIaXN0b3J5VHJhY2tpbmcgfSA9IHRyYWNrSGlzdG9yeShvbkxvY2F0aW9uQ2hhbmdlKVxuICAgIGNvbnN0IHsgc3RvcDogc3RvcEhhc2hUcmFja2luZyB9ID0gdHJhY2tIYXNoKG9uTG9jYXRpb25DaGFuZ2UpXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN0b3BIaXN0b3J5VHJhY2tpbmcoKVxuICAgICAgc3RvcEhhc2hUcmFja2luZygpXG4gICAgfVxuICB9KVxuXG4gIGZ1bmN0aW9uIG9uTG9jYXRpb25DaGFuZ2UoKSB7XG4gICAgaWYgKGN1cnJlbnRMb2NhdGlvbi5ocmVmID09PSBsb2NhdGlvbi5ocmVmKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgbmV3TG9jYXRpb24gPSB7IC4uLmxvY2F0aW9uIH1cbiAgICBvYnNlcnZhYmxlLm5vdGlmeSh7XG4gICAgICBuZXdMb2NhdGlvbixcbiAgICAgIG9sZExvY2F0aW9uOiBjdXJyZW50TG9jYXRpb24sXG4gICAgfSlcbiAgICBjdXJyZW50TG9jYXRpb24gPSBuZXdMb2NhdGlvblxuICB9XG5cbiAgcmV0dXJuIG9ic2VydmFibGVcbn1cblxuZnVuY3Rpb24gdHJhY2tIaXN0b3J5KG9uSGlzdG9yeUNoYW5nZTogKCkgPT4gdm9pZCkge1xuICBjb25zdCB7IHN0b3A6IHN0b3BJbnN0cnVtZW50aW5nUHVzaFN0YXRlIH0gPSBpbnN0cnVtZW50TWV0aG9kQW5kQ2FsbE9yaWdpbmFsKGhpc3RvcnksICdwdXNoU3RhdGUnLCB7XG4gICAgYWZ0ZXI6IG9uSGlzdG9yeUNoYW5nZSxcbiAgfSlcbiAgY29uc3QgeyBzdG9wOiBzdG9wSW5zdHJ1bWVudGluZ1JlcGxhY2VTdGF0ZSB9ID0gaW5zdHJ1bWVudE1ldGhvZEFuZENhbGxPcmlnaW5hbChoaXN0b3J5LCAncmVwbGFjZVN0YXRlJywge1xuICAgIGFmdGVyOiBvbkhpc3RvcnlDaGFuZ2UsXG4gIH0pXG4gIGNvbnN0IHsgc3RvcDogcmVtb3ZlTGlzdGVuZXIgfSA9IGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBET01fRVZFTlQuUE9QX1NUQVRFLCBvbkhpc3RvcnlDaGFuZ2UpXG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wOiAoKSA9PiB7XG4gICAgICBzdG9wSW5zdHJ1bWVudGluZ1B1c2hTdGF0ZSgpXG4gICAgICBzdG9wSW5zdHJ1bWVudGluZ1JlcGxhY2VTdGF0ZSgpXG4gICAgICByZW1vdmVMaXN0ZW5lcigpXG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFja0hhc2gob25IYXNoQ2hhbmdlOiAoKSA9PiB2b2lkKSB7XG4gIHJldHVybiBhZGRFdmVudExpc3RlbmVyKHdpbmRvdywgRE9NX0VWRU5ULkhBU0hfQ0hBTkdFLCBvbkhhc2hDaGFuZ2UpXG59XG4iLCJpbXBvcnQge1xuICBhZGRFdmVudExpc3RlbmVycyxcbiAgQ29uZmlndXJhdGlvbixcbiAgRE9NX0VWRU5ULFxuICBEdXJhdGlvbixcbiAgZ2V0UmVsYXRpdmVUaW1lLFxuICBpc051bWJlcixcbiAgbW9uaXRvcixcbiAgT21pdCxcbiAgcmVsYXRpdmVOb3csXG4gIFJlbGF0aXZlVGltZSxcbiAgcnVuT25SZWFkeVN0YXRlLFxuICBUaW1lU3RhbXAsXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IExpZmVDeWNsZSwgTGlmZUN5Y2xlRXZlbnRUeXBlIH0gZnJvbSAnLi4vZG9tYWluL2xpZmVDeWNsZSdcbmltcG9ydCB7IEZBS0VfSU5JVElBTF9ET0NVTUVOVCwgaXNBbGxvd2VkUmVxdWVzdFVybCB9IGZyb20gJy4uL2RvbWFpbi9ydW1FdmVudHNDb2xsZWN0aW9uL3Jlc291cmNlL3Jlc291cmNlVXRpbHMnXG5cbmltcG9ydCB7IGdldERvY3VtZW50VHJhY2VJZCB9IGZyb20gJy4uL2RvbWFpbi90cmFjaW5nL2dldERvY3VtZW50VHJhY2VJZCdcbmltcG9ydCB7IFBlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvbiB9IGZyb20gJy4uL2RvbWFpbkNvbnRleHQudHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZyB7XG4gIGVudHJ5VHlwZTogJ3Jlc291cmNlJ1xuICBpbml0aWF0b3JUeXBlOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHN0YXJ0VGltZTogUmVsYXRpdmVUaW1lXG4gIGR1cmF0aW9uOiBEdXJhdGlvblxuICBmZXRjaFN0YXJ0OiBSZWxhdGl2ZVRpbWVcbiAgZG9tYWluTG9va3VwU3RhcnQ6IFJlbGF0aXZlVGltZVxuICBkb21haW5Mb29rdXBFbmQ6IFJlbGF0aXZlVGltZVxuICBjb25uZWN0U3RhcnQ6IFJlbGF0aXZlVGltZVxuICBzZWN1cmVDb25uZWN0aW9uU3RhcnQ6IFJlbGF0aXZlVGltZVxuICBjb25uZWN0RW5kOiBSZWxhdGl2ZVRpbWVcbiAgcmVxdWVzdFN0YXJ0OiBSZWxhdGl2ZVRpbWVcbiAgcmVzcG9uc2VTdGFydDogUmVsYXRpdmVUaW1lXG4gIHJlc3BvbnNlRW5kOiBSZWxhdGl2ZVRpbWVcbiAgcmVkaXJlY3RTdGFydDogUmVsYXRpdmVUaW1lXG4gIHJlZGlyZWN0RW5kOiBSZWxhdGl2ZVRpbWVcbiAgZGVjb2RlZEJvZHlTaXplOiBudW1iZXJcbiAgdHJhY2VJZD86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bVBlcmZvcm1hbmNlTG9uZ1Rhc2tUaW1pbmcge1xuICBlbnRyeVR5cGU6ICdsb25ndGFzaydcbiAgc3RhcnRUaW1lOiBSZWxhdGl2ZVRpbWVcbiAgZHVyYXRpb246IER1cmF0aW9uXG4gIHRvSlNPTigpOiBQZXJmb3JtYW5jZUVudHJ5UmVwcmVzZW50YXRpb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW1QZXJmb3JtYW5jZVBhaW50VGltaW5nIHtcbiAgZW50cnlUeXBlOiAncGFpbnQnXG4gIG5hbWU6ICdmaXJzdC1wYWludCcgfCAnZmlyc3QtY29udGVudGZ1bC1wYWludCdcbiAgc3RhcnRUaW1lOiBSZWxhdGl2ZVRpbWVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW1QZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcge1xuICBlbnRyeVR5cGU6ICduYXZpZ2F0aW9uJ1xuICBkb21Db21wbGV0ZTogUmVsYXRpdmVUaW1lXG4gIGRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZDogUmVsYXRpdmVUaW1lXG4gIGRvbUludGVyYWN0aXZlOiBSZWxhdGl2ZVRpbWVcbiAgbG9hZEV2ZW50RW5kOiBSZWxhdGl2ZVRpbWVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW1MYXJnZXN0Q29udGVudGZ1bFBhaW50VGltaW5nIHtcbiAgZW50cnlUeXBlOiAnbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50J1xuICBzdGFydFRpbWU6IFJlbGF0aXZlVGltZVxuICBzaXplOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSdW1GaXJzdElucHV0VGltaW5nIHtcbiAgZW50cnlUeXBlOiAnZmlyc3QtaW5wdXQnXG4gIHN0YXJ0VGltZTogUmVsYXRpdmVUaW1lXG4gIHByb2Nlc3NpbmdTdGFydDogUmVsYXRpdmVUaW1lXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVtTGF5b3V0U2hpZnRUaW1pbmcge1xuICBlbnRyeVR5cGU6ICdsYXlvdXQtc2hpZnQnXG4gIHN0YXJ0VGltZTogUmVsYXRpdmVUaW1lXG4gIHZhbHVlOiBudW1iZXJcbiAgaGFkUmVjZW50SW5wdXQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgUnVtUGVyZm9ybWFuY2VFbnRyeSA9XG4gIHwgUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZ1xuICB8IFJ1bVBlcmZvcm1hbmNlTG9uZ1Rhc2tUaW1pbmdcbiAgfCBSdW1QZXJmb3JtYW5jZVBhaW50VGltaW5nXG4gIHwgUnVtUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nXG4gIHwgUnVtTGFyZ2VzdENvbnRlbnRmdWxQYWludFRpbWluZ1xuICB8IFJ1bUZpcnN0SW5wdXRUaW1pbmdcbiAgfCBSdW1MYXlvdXRTaGlmdFRpbWluZ1xuXG5mdW5jdGlvbiBzdXBwb3J0UGVyZm9ybWFuY2VPYmplY3QoKSB7XG4gIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2UgIT09IHVuZGVmaW5lZCAmJiAnZ2V0RW50cmllcycgaW4gcGVyZm9ybWFuY2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KGVudHJ5VHlwZTogc3RyaW5nKSB7XG4gIHJldHVybiAoXG4gICAgd2luZG93LlBlcmZvcm1hbmNlT2JzZXJ2ZXIgJiZcbiAgICBQZXJmb3JtYW5jZU9ic2VydmVyLnN1cHBvcnRlZEVudHJ5VHlwZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgIFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcy5pbmNsdWRlcyhlbnRyeVR5cGUpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRQZXJmb3JtYW5jZUVudHJ5KCkge1xuICAvLyBTYWZhcmkgMTAgZG9lc24ndCBzdXBwb3J0IFBlcmZvcm1hbmNlRW50cnlcbiAgcmV0dXJuIHR5cGVvZiBQZXJmb3JtYW5jZUVudHJ5ID09PSAnZnVuY3Rpb24nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFBlcmZvcm1hbmNlQ29sbGVjdGlvbihsaWZlQ3ljbGU6IExpZmVDeWNsZSwgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICByZXRyaWV2ZUluaXRpYWxEb2N1bWVudFJlc291cmNlVGltaW5nKCh0aW1pbmcpID0+IHtcbiAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJ5KGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgdGltaW5nKVxuICB9KVxuXG4gIGlmIChzdXBwb3J0UGVyZm9ybWFuY2VPYmplY3QoKSkge1xuICAgIGhhbmRsZVBlcmZvcm1hbmNlRW50cmllcyhsaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb24sIHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKSlcbiAgfVxuICBpZiAod2luZG93LlBlcmZvcm1hbmNlT2JzZXJ2ZXIpIHtcbiAgICBjb25zdCBoYW5kbGVQZXJmb3JtYW5jZUVudHJ5TGlzdCA9IG1vbml0b3IoKGVudHJpZXM6IFBlcmZvcm1hbmNlT2JzZXJ2ZXJFbnRyeUxpc3QpID0+XG4gICAgICBoYW5kbGVQZXJmb3JtYW5jZUVudHJpZXMobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCBlbnRyaWVzLmdldEVudHJpZXMoKSlcbiAgICApXG4gICAgY29uc3QgbWFpbkVudHJpZXMgPSBbJ3Jlc291cmNlJywgJ25hdmlnYXRpb24nLCAnbG9uZ3Rhc2snLCAncGFpbnQnXVxuICAgIGNvbnN0IGV4cGVyaW1lbnRhbEVudHJpZXMgPSBbJ2xhcmdlc3QtY29udGVudGZ1bC1wYWludCcsICdmaXJzdC1pbnB1dCcsICdsYXlvdXQtc2hpZnQnXVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEV4cGVyaW1lbnRhbCBlbnRyaWVzIGFyZSBub3QgcmV0cmlldmVkIGJ5IHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKVxuICAgICAgLy8gdXNlIGEgc2luZ2xlIFBlcmZvcm1hbmNlT2JzZXJ2ZXIgd2l0aCBidWZmZXJlZCBmbGFnIGJ5IHR5cGVcbiAgICAgIC8vIHRvIGdldCB2YWx1ZXMgdGhhdCBjb3VsZCBoYXBwZW4gYmVmb3JlIFNESyBpbml0XG4gICAgICBleHBlcmltZW50YWxFbnRyaWVzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihoYW5kbGVQZXJmb3JtYW5jZUVudHJ5TGlzdClcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh7IHR5cGUsIGJ1ZmZlcmVkOiB0cnVlIH0pXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFNvbWUgb2xkIGJyb3dzZXIgdmVyc2lvbnMgZG9uJ3Qgc3VwcG9ydCBQZXJmb3JtYW5jZU9ic2VydmVyIHdpdGhvdXQgZW50cnlUeXBlcyBvcHRpb25cbiAgICAgIG1haW5FbnRyaWVzLnB1c2goLi4uZXhwZXJpbWVudGFsRW50cmllcylcbiAgICB9XG5cbiAgICBjb25zdCBtYWluT2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihoYW5kbGVQZXJmb3JtYW5jZUVudHJ5TGlzdClcbiAgICBtYWluT2JzZXJ2ZXIub2JzZXJ2ZSh7IGVudHJ5VHlwZXM6IG1haW5FbnRyaWVzIH0pXG5cbiAgICBpZiAoc3VwcG9ydFBlcmZvcm1hbmNlT2JqZWN0KCkgJiYgJ2FkZEV2ZW50TGlzdGVuZXInIGluIHBlcmZvcm1hbmNlKSB7XG4gICAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTU5Mzc3XG4gICAgICBwZXJmb3JtYW5jZS5hZGRFdmVudExpc3RlbmVyKCdyZXNvdXJjZXRpbWluZ2J1ZmZlcmZ1bGwnLCAoKSA9PiB7XG4gICAgICAgIHBlcmZvcm1hbmNlLmNsZWFyUmVzb3VyY2VUaW1pbmdzKClcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIGlmICghc3VwcG9ydFBlcmZvcm1hbmNlVGltaW5nRXZlbnQoJ25hdmlnYXRpb24nKSkge1xuICAgIHJldHJpZXZlTmF2aWdhdGlvblRpbWluZygodGltaW5nKSA9PiB7XG4gICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJ5KGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgdGltaW5nKVxuICAgIH0pXG4gIH1cbiAgaWYgKCFzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudCgnZmlyc3QtaW5wdXQnKSkge1xuICAgIHJldHJpZXZlRmlyc3RJbnB1dFRpbWluZygodGltaW5nKSA9PiB7XG4gICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJ5KGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgdGltaW5nKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlSW5pdGlhbERvY3VtZW50UmVzb3VyY2VUaW1pbmcoY2FsbGJhY2s6ICh0aW1pbmc6IFJ1bVBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcpID0+IHZvaWQpIHtcbiAgcnVuT25SZWFkeVN0YXRlKCdpbnRlcmFjdGl2ZScsICgpID0+IHtcbiAgICBsZXQgdGltaW5nOiBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nXG5cbiAgICBjb25zdCBmb3JjZWRBdHRyaWJ1dGVzID0ge1xuICAgICAgZW50cnlUeXBlOiAncmVzb3VyY2UnIGFzIGNvbnN0LFxuICAgICAgaW5pdGlhdG9yVHlwZTogRkFLRV9JTklUSUFMX0RPQ1VNRU5ULFxuICAgICAgdHJhY2VJZDogZ2V0RG9jdW1lbnRUcmFjZUlkKGRvY3VtZW50KSxcbiAgICB9XG4gICAgaWYgKHN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KCduYXZpZ2F0aW9uJykgJiYgcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSgnbmF2aWdhdGlvbicpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoJ25hdmlnYXRpb24nKVswXVxuICAgICAgdGltaW5nID0geyAuLi5uYXZpZ2F0aW9uRW50cnkudG9KU09OKCksIC4uLmZvcmNlZEF0dHJpYnV0ZXMgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZWxhdGl2ZVBlcmZvcm1hbmNlVGltaW5nID0gY29tcHV0ZVJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmcoKVxuICAgICAgdGltaW5nID0ge1xuICAgICAgICAuLi5yZWxhdGl2ZVBlcmZvcm1hbmNlVGltaW5nLFxuICAgICAgICBkZWNvZGVkQm9keVNpemU6IDAsXG4gICAgICAgIGR1cmF0aW9uOiByZWxhdGl2ZVBlcmZvcm1hbmNlVGltaW5nLnJlc3BvbnNlRW5kLFxuICAgICAgICBuYW1lOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgc3RhcnRUaW1lOiAwIGFzIFJlbGF0aXZlVGltZSxcbiAgICAgICAgLi4uZm9yY2VkQXR0cmlidXRlcyxcbiAgICAgIH1cbiAgICB9XG4gICAgY2FsbGJhY2sodGltaW5nKVxuICB9KVxufVxuXG5mdW5jdGlvbiByZXRyaWV2ZU5hdmlnYXRpb25UaW1pbmcoY2FsbGJhY2s6ICh0aW1pbmc6IFJ1bVBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZykgPT4gdm9pZCkge1xuICBmdW5jdGlvbiBzZW5kRmFrZVRpbWluZygpIHtcbiAgICBjYWxsYmFjayh7XG4gICAgICAuLi5jb21wdXRlUmVsYXRpdmVQZXJmb3JtYW5jZVRpbWluZygpLFxuICAgICAgZW50cnlUeXBlOiAnbmF2aWdhdGlvbicsXG4gICAgfSlcbiAgfVxuXG4gIHJ1bk9uUmVhZHlTdGF0ZSgnY29tcGxldGUnLCAoKSA9PiB7XG4gICAgLy8gU2VuZCBpdCBhIGJpdCBhZnRlciB0aGUgYWN0dWFsIGxvYWQgZXZlbnQsIHNvIHRoZSBcImxvYWRFdmVudEVuZFwiIHRpbWluZyBpcyBhY2N1cmF0ZVxuICAgIHNldFRpbWVvdXQobW9uaXRvcihzZW5kRmFrZVRpbWluZykpXG4gIH0pXG59XG5cbi8qKlxuICogZmlyc3QtaW5wdXQgdGltaW5nIGVudHJ5IHBvbHlmaWxsIGJhc2VkIG9uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2xpYi9wb2x5ZmlsbHMvZmlyc3RJbnB1dFBvbHlmaWxsLnRzXG4gKi9cbmZ1bmN0aW9uIHJldHJpZXZlRmlyc3RJbnB1dFRpbWluZyhjYWxsYmFjazogKHRpbWluZzogUnVtRmlyc3RJbnB1dFRpbWluZykgPT4gdm9pZCkge1xuICBjb25zdCBzdGFydFRpbWVTdGFtcCA9IERhdGUubm93KClcbiAgbGV0IHRpbWluZ1NlbnQgPSBmYWxzZVxuXG4gIGNvbnN0IHsgc3RvcDogcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgfSA9IGFkZEV2ZW50TGlzdGVuZXJzKFxuICAgIHdpbmRvdyxcbiAgICBbRE9NX0VWRU5ULkNMSUNLLCBET01fRVZFTlQuTU9VU0VfRE9XTiwgRE9NX0VWRU5ULktFWV9ET1dOLCBET01fRVZFTlQuVE9VQ0hfU1RBUlQsIERPTV9FVkVOVC5QT0lOVEVSX0RPV05dLFxuICAgIChldnQpID0+IHtcbiAgICAgIC8vIE9ubHkgY291bnQgY2FuY2VsYWJsZSBldmVudHMsIHdoaWNoIHNob3VsZCB0cmlnZ2VyIGJlaGF2aW9yIGltcG9ydGFudCB0byB0aGUgdXNlci5cbiAgICAgIGlmICghZXZ0LmNhbmNlbGFibGUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgdGltaW5nIHdpbGwgYmUgdXNlZCB0byBjb21wdXRlIHRoZSBcImZpcnN0IElucHV0IGRlbGF5XCIsIHdoaWNoIGlzIHRoZSBkZWx0YSBiZXR3ZWVuXG4gICAgICAvLyB3aGVuIHRoZSBzeXN0ZW0gcmVjZWl2ZWQgdGhlIGV2ZW50IChlLmcuIGV2dC50aW1lU3RhbXApIGFuZCB3aGVuIGl0IGNvdWxkIHJ1biB0aGUgY2FsbGJhY2tcbiAgICAgIC8vIChlLmcuIHBlcmZvcm1hbmNlLm5vdygpKS5cbiAgICAgIGNvbnN0IHRpbWluZzogUnVtRmlyc3RJbnB1dFRpbWluZyA9IHtcbiAgICAgICAgZW50cnlUeXBlOiAnZmlyc3QtaW5wdXQnLFxuICAgICAgICBwcm9jZXNzaW5nU3RhcnQ6IHJlbGF0aXZlTm93KCksXG4gICAgICAgIHN0YXJ0VGltZTogZXZ0LnRpbWVTdGFtcCBhcyBSZWxhdGl2ZVRpbWUsXG4gICAgICB9XG5cbiAgICAgIGlmIChldnQudHlwZSA9PT0gRE9NX0VWRU5ULlBPSU5URVJfRE9XTikge1xuICAgICAgICBzZW5kVGltaW5nSWZQb2ludGVySXNOb3RDYW5jZWxsZWQodGltaW5nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VuZFRpbWluZyh0aW1pbmcpXG4gICAgICB9XG4gICAgfSxcbiAgICB7IHBhc3NpdmU6IHRydWUsIGNhcHR1cmU6IHRydWUgfVxuICApXG5cbiAgLyoqXG4gICAqIFBvaW50ZXIgZXZlbnRzIGFyZSBhIHNwZWNpYWwgY2FzZSwgYmVjYXVzZSB0aGV5IGNhbiB0cmlnZ2VyIG1haW4gb3IgY29tcG9zaXRvciB0aHJlYWQgYmVoYXZpb3IuXG4gICAqIFdlIGRpZmZlcmVudGlhdGUgdGhlc2UgY2FzZXMgYmFzZWQgb24gd2hldGhlciBvciBub3Qgd2Ugc2VlIGEgcG9pbnRlcmNhbmNlbCBldmVudCwgd2hpY2ggYXJlXG4gICAqIGZpcmVkIHdoZW4gd2Ugc2Nyb2xsLiBJZiB3ZSdyZSBzY3JvbGxpbmcgd2UgZG9uJ3QgbmVlZCB0byByZXBvcnQgaW5wdXQgZGVsYXkgc2luY2UgRklEIGV4Y2x1ZGVzXG4gICAqIHNjcm9sbGluZyBhbmQgcGluY2gvem9vbWluZy5cbiAgICovXG4gIGZ1bmN0aW9uIHNlbmRUaW1pbmdJZlBvaW50ZXJJc05vdENhbmNlbGxlZCh0aW1pbmc6IFJ1bUZpcnN0SW5wdXRUaW1pbmcpIHtcbiAgICBhZGRFdmVudExpc3RlbmVycyhcbiAgICAgIHdpbmRvdyxcbiAgICAgIFtET01fRVZFTlQuUE9JTlRFUl9VUCwgRE9NX0VWRU5ULlBPSU5URVJfQ0FOQ0VMXSxcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gRE9NX0VWRU5ULlBPSU5URVJfVVApIHtcbiAgICAgICAgICBzZW5kVGltaW5nKHRpbWluZylcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gc2VuZFRpbWluZyh0aW1pbmc6IFJ1bUZpcnN0SW5wdXRUaW1pbmcpIHtcbiAgICBpZiAoIXRpbWluZ1NlbnQpIHtcbiAgICAgIHRpbWluZ1NlbnQgPSB0cnVlXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVycygpXG4gICAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSByZWNvcmRlZCBkZWxheSBpcyBjbGVhcmx5IHdyb25nLCBlLmcuIGl0J3MgbmVnYXRpdmUgb3IgaXQncyBsYXJnZXIgdGhhblxuICAgICAgLy8gdGhlIHRpbWUgYmV0d2VlbiBub3cgYW5kIHdoZW4gdGhlIHBhZ2Ugd2FzIGxvYWRlZC5cbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZUxhYnMvZmlyc3QtaW5wdXQtZGVsYXkvaXNzdWVzLzRcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZUxhYnMvZmlyc3QtaW5wdXQtZGVsYXkvaXNzdWVzLzZcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZUxhYnMvZmlyc3QtaW5wdXQtZGVsYXkvaXNzdWVzLzdcbiAgICAgIGNvbnN0IGRlbGF5ID0gdGltaW5nLnByb2Nlc3NpbmdTdGFydCAtIHRpbWluZy5zdGFydFRpbWVcbiAgICAgIGlmIChkZWxheSA+PSAwICYmIGRlbGF5IDwgRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVN0YW1wKSB7XG4gICAgICAgIGNhbGxiYWNrKHRpbWluZylcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUmVsYXRpdmVQZXJmb3JtYW5jZVRpbWluZyA9IHtcbiAgLXJlYWRvbmx5IFtrZXkgaW4ga2V5b2YgT21pdDxQZXJmb3JtYW5jZVRpbWluZywgJ3RvSlNPTic+XTogUmVsYXRpdmVUaW1lXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVSZWxhdGl2ZVBlcmZvcm1hbmNlVGltaW5nKCkge1xuICBjb25zdCByZXN1bHQ6IFBhcnRpYWw8UmVsYXRpdmVQZXJmb3JtYW5jZVRpbWluZz4gPSB7fVxuICBjb25zdCB0aW1pbmcgPSBwZXJmb3JtYW5jZS50aW1pbmdcbiAgZm9yIChjb25zdCBrZXkgaW4gdGltaW5nKSB7XG4gICAgaWYgKGlzTnVtYmVyKHRpbWluZ1trZXkgYXMga2V5b2YgUGVyZm9ybWFuY2VUaW1pbmddKSkge1xuICAgICAgY29uc3QgbnVtYmVyS2V5ID0ga2V5IGFzIGtleW9mIFJlbGF0aXZlUGVyZm9ybWFuY2VUaW1pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICAgIGNvbnN0IHRpbWluZ0VsZW1lbnQgPSB0aW1pbmdbbnVtYmVyS2V5XSBhcyBUaW1lU3RhbXBcbiAgICAgIHJlc3VsdFtudW1iZXJLZXldID0gdGltaW5nRWxlbWVudCA9PT0gMCA/ICgwIGFzIFJlbGF0aXZlVGltZSkgOiBnZXRSZWxhdGl2ZVRpbWUodGltaW5nRWxlbWVudClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdCBhcyBSZWxhdGl2ZVBlcmZvcm1hbmNlVGltaW5nXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBlcmZvcm1hbmNlRW50cmllcyhsaWZlQ3ljbGU6IExpZmVDeWNsZSwgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiwgZW50cmllczogUGVyZm9ybWFuY2VFbnRyeVtdKSB7XG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBpZiAoXG4gICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdyZXNvdXJjZScgfHxcbiAgICAgIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ25hdmlnYXRpb24nIHx8XG4gICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdwYWludCcgfHxcbiAgICAgIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2xvbmd0YXNrJyB8fFxuICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50JyB8fFxuICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnZmlyc3QtaW5wdXQnIHx8XG4gICAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdsYXlvdXQtc2hpZnQnXG4gICAgKSB7XG4gICAgICBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJ5KGxpZmVDeWNsZSwgY29uZmlndXJhdGlvbiwgKGVudHJ5IGFzIHVua25vd24pIGFzIFJ1bVBlcmZvcm1hbmNlRW50cnkpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBoYW5kbGVSdW1QZXJmb3JtYW5jZUVudHJ5KGxpZmVDeWNsZTogTGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLCBlbnRyeTogUnVtUGVyZm9ybWFuY2VFbnRyeSkge1xuICBpZiAoaXNJbmNvbXBsZXRlTmF2aWdhdGlvbihlbnRyeSkgfHwgaXNGb3JiaWRkZW5SZXNvdXJjZShjb25maWd1cmF0aW9uLCBlbnRyeSkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGxpZmVDeWNsZS5ub3RpZnkoTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCwgZW50cnkpXG59XG5cbmZ1bmN0aW9uIGlzSW5jb21wbGV0ZU5hdmlnYXRpb24oZW50cnk6IFJ1bVBlcmZvcm1hbmNlRW50cnkpIHtcbiAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ25hdmlnYXRpb24nICYmIGVudHJ5LmxvYWRFdmVudEVuZCA8PSAwXG59XG5cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuUmVzb3VyY2UoY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiwgZW50cnk6IFJ1bVBlcmZvcm1hbmNlRW50cnkpIHtcbiAgcmV0dXJuIGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3Jlc291cmNlJyAmJiAhaXNBbGxvd2VkUmVxdWVzdFVybChjb25maWd1cmF0aW9uLCBlbnRyeS5uYW1lKVxufVxuIiwiaW1wb3J0IHtcbiAgY29tYmluZSxcbiAgQ29uZmlndXJhdGlvbixcbiAgQ29udGV4dCxcbiAgaXNFbXB0eU9iamVjdCxcbiAgbGltaXRNb2RpZmljYXRpb24sXG4gIHRpbWVTdGFtcE5vdyxcbiAgY3VycmVudERyaWZ0LFxuICBkaXNwbGF5LFxuICBCZWZvcmVTZW5kQ2FsbGJhY2ssXG4gIFJhd0Vycm9yLFxuICBjcmVhdGVFdmVudFJhdGVMaW1pdGVyLFxuICBFdmVudFJhdGVMaW1pdGVyLFxuICBnZXRDb29raWUsXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFJ1bUV2ZW50RG9tYWluQ29udGV4dCB9IGZyb20gJy4uL2RvbWFpbkNvbnRleHQudHlwZXMnXG5pbXBvcnQge1xuICBDb21tb25Db250ZXh0LFxuICBSYXdSdW1FcnJvckV2ZW50LFxuICBSYXdSdW1FdmVudCxcbiAgUmF3UnVtTG9uZ1Rhc2tFdmVudCxcbiAgUmF3UnVtUmVzb3VyY2VFdmVudCxcbiAgUnVtQ29udGV4dCxcbiAgUnVtRXZlbnRUeXBlLFxuICBVc2VyLFxufSBmcm9tICcuLi9yYXdSdW1FdmVudC50eXBlcydcbmltcG9ydCB7IFJ1bUV2ZW50IH0gZnJvbSAnLi4vcnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSB9IGZyb20gJy4vbGlmZUN5Y2xlJ1xuaW1wb3J0IHsgUGFyZW50Q29udGV4dHMgfSBmcm9tICcuL3BhcmVudENvbnRleHRzJ1xuaW1wb3J0IHsgUnVtU2Vzc2lvbiwgUnVtU2Vzc2lvblBsYW4gfSBmcm9tICcuL3J1bVNlc3Npb24nXG5pbXBvcnQgeyBVcmxDb250ZXh0cyB9IGZyb20gJy4vdXJsQ29udGV4dHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlcldpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gIF9EQVRBRE9HX1NZTlRIRVRJQ1NfUFVCTElDX0lEPzogc3RyaW5nXG4gIF9EQVRBRE9HX1NZTlRIRVRJQ1NfUkVTVUxUX0lEPzogc3RyaW5nXG59XG5cbmVudW0gU2Vzc2lvblR5cGUge1xuICBTWU5USEVUSUNTID0gJ3N5bnRoZXRpY3MnLFxuICBVU0VSID0gJ3VzZXInLFxufVxuXG5jb25zdCBWSUVXX0VWRU5UU19NT0RJRklBQkxFX0ZJRUxEX1BBVEhTID0gW1xuICAvLyBGaWVsZHMgd2l0aCBzZW5zaXRpdmUgZGF0YVxuICAndmlldy51cmwnLFxuICAndmlldy5yZWZlcnJlcicsXG4gICdhY3Rpb24udGFyZ2V0Lm5hbWUnLFxuICAnZXJyb3IubWVzc2FnZScsXG4gICdlcnJvci5zdGFjaycsXG4gICdlcnJvci5yZXNvdXJjZS51cmwnLFxuICAncmVzb3VyY2UudXJsJyxcbl1cblxuY29uc3QgT1RIRVJfRVZFTlRTX01PRElGSUFCTEVfRklFTERfUEFUSFMgPSBbXG4gIC4uLlZJRVdfRVZFTlRTX01PRElGSUFCTEVfRklFTERfUEFUSFMsXG4gIC8vIFVzZXItY3VzdG9taXphYmxlIGZpZWxkXG4gICdjb250ZXh0Jyxcbl1cblxudHlwZSBNdXRhYmxlPFQ+ID0geyAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IFRbUF0gfVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1Bc3NlbWJseShcbiAgYXBwbGljYXRpb25JZDogc3RyaW5nLFxuICBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLFxuICBsaWZlQ3ljbGU6IExpZmVDeWNsZSxcbiAgc2Vzc2lvbjogUnVtU2Vzc2lvbixcbiAgcGFyZW50Q29udGV4dHM6IFBhcmVudENvbnRleHRzLFxuICB1cmxDb250ZXh0czogVXJsQ29udGV4dHMsXG4gIGdldENvbW1vbkNvbnRleHQ6ICgpID0+IENvbW1vbkNvbnRleHRcbikge1xuICBjb25zdCByZXBvcnRFcnJvciA9IChlcnJvcjogUmF3RXJyb3IpID0+IHtcbiAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfRVJST1JfQ09MTEVDVEVELCB7IGVycm9yIH0pXG4gIH1cblxuICBjb25zdCBldmVudFJhdGVMaW1pdGVycyA9IHtcbiAgICBbUnVtRXZlbnRUeXBlLkVSUk9SXTogY3JlYXRlRXZlbnRSYXRlTGltaXRlcihSdW1FdmVudFR5cGUuRVJST1IsIGNvbmZpZ3VyYXRpb24ubWF4RXJyb3JzUGVyTWludXRlLCByZXBvcnRFcnJvciksXG4gICAgW1J1bUV2ZW50VHlwZS5BQ1RJT05dOiBjcmVhdGVFdmVudFJhdGVMaW1pdGVyKFJ1bUV2ZW50VHlwZS5BQ1RJT04sIGNvbmZpZ3VyYXRpb24ubWF4QWN0aW9uc1Blck1pbnV0ZSwgcmVwb3J0RXJyb3IpLFxuICB9XG5cbiAgY29uc3Qgc3ludGhldGljc0NvbnRleHQgPSBnZXRTeW50aGV0aWNzQ29udGV4dCgpXG5cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShcbiAgICBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsXG4gICAgKHsgc3RhcnRUaW1lLCByYXdSdW1FdmVudCwgZG9tYWluQ29udGV4dCwgc2F2ZWRDb21tb25Db250ZXh0LCBjdXN0b21lckNvbnRleHQgfSkgPT4ge1xuICAgICAgY29uc3Qgdmlld0NvbnRleHQgPSBwYXJlbnRDb250ZXh0cy5maW5kVmlldyhzdGFydFRpbWUpXG4gICAgICBjb25zdCB1cmxDb250ZXh0ID0gdXJsQ29udGV4dHMuZmluZFVybChzdGFydFRpbWUpXG4gICAgICBpZiAoc2Vzc2lvbi5pc1RyYWNrZWQoKSAmJiB2aWV3Q29udGV4dCAmJiB1cmxDb250ZXh0ICYmIHZpZXdDb250ZXh0LnNlc3Npb24uaWQgPT09IHNlc3Npb24uZ2V0SWQoKSkge1xuICAgICAgICBjb25zdCBhY3Rpb25Db250ZXh0ID0gcGFyZW50Q29udGV4dHMuZmluZEFjdGlvbihzdGFydFRpbWUpXG4gICAgICAgIGNvbnN0IGNvbW1vbkNvbnRleHQgPSBzYXZlZENvbW1vbkNvbnRleHQgfHwgZ2V0Q29tbW9uQ29udGV4dCgpXG4gICAgICAgIGNvbnN0IHJ1bUNvbnRleHQ6IFJ1bUNvbnRleHQgPSB7XG4gICAgICAgICAgX2RkOiB7XG4gICAgICAgICAgICBmb3JtYXRfdmVyc2lvbjogMixcbiAgICAgICAgICAgIGRyaWZ0OiBjdXJyZW50RHJpZnQoKSxcbiAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgcGxhbjogc2Vzc2lvbi5oYXNSZXBsYXlQbGFuKCkgPyBSdW1TZXNzaW9uUGxhbi5SRVBMQVkgOiBSdW1TZXNzaW9uUGxhbi5MSVRFLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiB7XG4gICAgICAgICAgICBpZDogYXBwbGljYXRpb25JZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGU6IHRpbWVTdGFtcE5vdygpLFxuICAgICAgICAgIHNlcnZpY2U6IGNvbmZpZ3VyYXRpb24uc2VydmljZSxcbiAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICB0eXBlOiBzeW50aGV0aWNzQ29udGV4dCA/IFNlc3Npb25UeXBlLlNZTlRIRVRJQ1MgOiBTZXNzaW9uVHlwZS5VU0VSLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3ludGhldGljczogc3ludGhldGljc0NvbnRleHQsXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VydmVyUnVtRXZlbnQgPSAobmVlZFRvQXNzZW1ibGVXaXRoQWN0aW9uKHJhd1J1bUV2ZW50KVxuICAgICAgICAgID8gY29tYmluZShydW1Db250ZXh0LCB1cmxDb250ZXh0LCB2aWV3Q29udGV4dCwgYWN0aW9uQ29udGV4dCwgcmF3UnVtRXZlbnQpXG4gICAgICAgICAgOiBjb21iaW5lKHJ1bUNvbnRleHQsIHVybENvbnRleHQsIHZpZXdDb250ZXh0LCByYXdSdW1FdmVudCkpIGFzIFJ1bUV2ZW50ICYgQ29udGV4dFxuXG4gICAgICAgIHNlcnZlclJ1bUV2ZW50LmNvbnRleHQgPSBjb21iaW5lKGNvbW1vbkNvbnRleHQuY29udGV4dCwgY3VzdG9tZXJDb250ZXh0KVxuXG4gICAgICAgIGlmICghKCdoYXNfcmVwbGF5JyBpbiBzZXJ2ZXJSdW1FdmVudC5zZXNzaW9uKSkge1xuICAgICAgICAgIDsoc2VydmVyUnVtRXZlbnQuc2Vzc2lvbiBhcyBNdXRhYmxlPFJ1bUV2ZW50WydzZXNzaW9uJ10+KS5oYXNfcmVwbGF5ID0gY29tbW9uQ29udGV4dC5oYXNSZXBsYXlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNFbXB0eU9iamVjdChjb21tb25Db250ZXh0LnVzZXIpKSB7XG4gICAgICAgICAgOyhzZXJ2ZXJSdW1FdmVudC51c3IgYXMgTXV0YWJsZTxSdW1FdmVudFsndXNyJ10+KSA9IGNvbW1vbkNvbnRleHQudXNlciBhcyBVc2VyICYgQ29udGV4dFxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRTZW5kKHNlcnZlclJ1bUV2ZW50LCBjb25maWd1cmF0aW9uLmJlZm9yZVNlbmQsIGRvbWFpbkNvbnRleHQsIGV2ZW50UmF0ZUxpbWl0ZXJzKSkge1xuICAgICAgICAgIGlmIChpc0VtcHR5T2JqZWN0KHNlcnZlclJ1bUV2ZW50LmNvbnRleHQpKSB7XG4gICAgICAgICAgICBkZWxldGUgc2VydmVyUnVtRXZlbnQuY29udGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5SVU1fRVZFTlRfQ09MTEVDVEVELCBzZXJ2ZXJSdW1FdmVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKVxufVxuXG5mdW5jdGlvbiBzaG91bGRTZW5kKFxuICBldmVudDogUnVtRXZlbnQgJiBDb250ZXh0LFxuICBiZWZvcmVTZW5kOiBCZWZvcmVTZW5kQ2FsbGJhY2sgfCB1bmRlZmluZWQsXG4gIGRvbWFpbkNvbnRleHQ6IFJ1bUV2ZW50RG9tYWluQ29udGV4dCxcbiAgZXZlbnRSYXRlTGltaXRlcnM6IHsgW2tleSBpbiBSdW1FdmVudFR5cGVdPzogRXZlbnRSYXRlTGltaXRlciB9XG4pIHtcbiAgaWYgKGJlZm9yZVNlbmQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBsaW1pdE1vZGlmaWNhdGlvbihcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnQudHlwZSA9PT0gUnVtRXZlbnRUeXBlLlZJRVcgPyBWSUVXX0VWRU5UU19NT0RJRklBQkxFX0ZJRUxEX1BBVEhTIDogT1RIRVJfRVZFTlRTX01PRElGSUFCTEVfRklFTERfUEFUSFMsXG4gICAgICAoZXZlbnQpID0+IGJlZm9yZVNlbmQoZXZlbnQsIGRvbWFpbkNvbnRleHQpXG4gICAgKVxuICAgIGlmIChyZXN1bHQgPT09IGZhbHNlICYmIGV2ZW50LnR5cGUgIT09IFJ1bUV2ZW50VHlwZS5WSUVXKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgIGRpc3BsYXkud2FybihcIkNhbid0IGRpc21pc3MgdmlldyBldmVudHMgdXNpbmcgYmVmb3JlU2VuZCFcIilcbiAgICB9XG4gIH1cblxuICBjb25zdCByYXRlTGltaXRSZWFjaGVkID0gZXZlbnRSYXRlTGltaXRlcnNbZXZlbnQudHlwZV0/LmlzTGltaXRSZWFjaGVkKClcbiAgcmV0dXJuICFyYXRlTGltaXRSZWFjaGVkXG59XG5cbmZ1bmN0aW9uIG5lZWRUb0Fzc2VtYmxlV2l0aEFjdGlvbihcbiAgZXZlbnQ6IFJhd1J1bUV2ZW50XG4pOiBldmVudCBpcyBSYXdSdW1FcnJvckV2ZW50IHwgUmF3UnVtUmVzb3VyY2VFdmVudCB8IFJhd1J1bUxvbmdUYXNrRXZlbnQge1xuICByZXR1cm4gW1J1bUV2ZW50VHlwZS5FUlJPUiwgUnVtRXZlbnRUeXBlLlJFU09VUkNFLCBSdW1FdmVudFR5cGUuTE9OR19UQVNLXS5pbmRleE9mKGV2ZW50LnR5cGUpICE9PSAtMVxufVxuXG5leHBvcnQgY29uc3QgU1lOVEhFVElDU19URVNUX0lEX0NPT0tJRV9OQU1FID0gJ2RhdGFkb2ctc3ludGhldGljcy1wdWJsaWMtaWQnXG5leHBvcnQgY29uc3QgU1lOVEhFVElDU19SRVNVTFRfSURfQ09PS0lFX05BTUUgPSAnZGF0YWRvZy1zeW50aGV0aWNzLXJlc3VsdC1pZCdcblxuZnVuY3Rpb24gZ2V0U3ludGhldGljc0NvbnRleHQoKSB7XG4gIGNvbnN0IHRlc3RJZCA9ICh3aW5kb3cgYXMgQnJvd3NlcldpbmRvdykuX0RBVEFET0dfU1lOVEhFVElDU19QVUJMSUNfSUQgfHwgZ2V0Q29va2llKFNZTlRIRVRJQ1NfVEVTVF9JRF9DT09LSUVfTkFNRSlcbiAgY29uc3QgcmVzdWx0SWQgPVxuICAgICh3aW5kb3cgYXMgQnJvd3NlcldpbmRvdykuX0RBVEFET0dfU1lOVEhFVElDU19SRVNVTFRfSUQgfHwgZ2V0Q29va2llKFNZTlRIRVRJQ1NfUkVTVUxUX0lEX0NPT0tJRV9OQU1FKVxuXG4gIGlmICh0eXBlb2YgdGVzdElkID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgcmVzdWx0SWQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRlc3RfaWQ6IHRlc3RJZCxcbiAgICAgIHJlc3VsdF9pZDogcmVzdWx0SWQsXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBPTkVfTUlOVVRFLCBSZWxhdGl2ZVRpbWUsIHJlbGF0aXZlTm93IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuXG5pbnRlcmZhY2UgUHJldmlvdXNDb250ZXh0PFQ+IHtcbiAgc3RhcnRUaW1lOiBSZWxhdGl2ZVRpbWVcbiAgZW5kVGltZTogUmVsYXRpdmVUaW1lXG4gIGNvbnRleHQ6IFRcbn1cblxuZXhwb3J0IGNvbnN0IENMRUFSX09MRF9DT05URVhUU19JTlRFUlZBTCA9IE9ORV9NSU5VVEVcblxuZXhwb3J0IGNsYXNzIENvbnRleHRIaXN0b3J5PENvbnRleHQ+IHtcbiAgcHJpdmF0ZSBjdXJyZW50OiBDb250ZXh0IHwgdW5kZWZpbmVkXG4gIHByaXZhdGUgY3VycmVudFN0YXJ0OiBSZWxhdGl2ZVRpbWUgfCB1bmRlZmluZWRcbiAgcHJpdmF0ZSBwcmV2aW91c0NvbnRleHRzOiBBcnJheTxQcmV2aW91c0NvbnRleHQ8Q29udGV4dD4+ID0gW11cbiAgcHJpdmF0ZSBjbGVhck9sZENvbnRleHRzSW50ZXJ2YWw6IG51bWJlclxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZXhwaXJlRGVsYXk6IG51bWJlcikge1xuICAgIHRoaXMuY2xlYXJPbGRDb250ZXh0c0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5jbGVhck9sZENvbnRleHRzKCksIENMRUFSX09MRF9DT05URVhUU19JTlRFUlZBTClcbiAgfVxuXG4gIGZpbmQoc3RhcnRUaW1lPzogUmVsYXRpdmVUaW1lKSB7XG4gICAgaWYgKFxuICAgICAgc3RhcnRUaW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgICh0aGlzLmN1cnJlbnQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmN1cnJlbnRTdGFydCAhPT0gdW5kZWZpbmVkICYmIHN0YXJ0VGltZSA+PSB0aGlzLmN1cnJlbnRTdGFydClcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRcbiAgICB9XG4gICAgZm9yIChjb25zdCBwcmV2aW91c0NvbnRleHQgb2YgdGhpcy5wcmV2aW91c0NvbnRleHRzKSB7XG4gICAgICBpZiAoc3RhcnRUaW1lID4gcHJldmlvdXNDb250ZXh0LmVuZFRpbWUpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydFRpbWUgPj0gcHJldmlvdXNDb250ZXh0LnN0YXJ0VGltZSkge1xuICAgICAgICByZXR1cm4gcHJldmlvdXNDb250ZXh0LmNvbnRleHRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgc2V0Q3VycmVudChjdXJyZW50OiBDb250ZXh0LCBzdGFydFRpbWU6IFJlbGF0aXZlVGltZSkge1xuICAgIHRoaXMuY3VycmVudCA9IGN1cnJlbnRcbiAgICB0aGlzLmN1cnJlbnRTdGFydCA9IHN0YXJ0VGltZVxuICB9XG5cbiAgZ2V0Q3VycmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50XG4gIH1cblxuICBjbGVhckN1cnJlbnQoKSB7XG4gICAgdGhpcy5jdXJyZW50ID0gdW5kZWZpbmVkXG4gICAgdGhpcy5jdXJyZW50U3RhcnQgPSB1bmRlZmluZWRcbiAgfVxuXG4gIGNsb3NlQ3VycmVudChlbmRUaW1lOiBSZWxhdGl2ZVRpbWUpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jdXJyZW50U3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5wcmV2aW91c0NvbnRleHRzLnVuc2hpZnQoe1xuICAgICAgICBlbmRUaW1lLFxuICAgICAgICBjb250ZXh0OiB0aGlzLmN1cnJlbnQsXG4gICAgICAgIHN0YXJ0VGltZTogdGhpcy5jdXJyZW50U3RhcnQsXG4gICAgICB9KVxuICAgICAgdGhpcy5jbGVhckN1cnJlbnQoKVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyT2xkQ29udGV4dHMoKSB7XG4gICAgY29uc3Qgb2xkVGltZVRocmVzaG9sZCA9IHJlbGF0aXZlTm93KCkgLSB0aGlzLmV4cGlyZURlbGF5XG4gICAgd2hpbGUgKFxuICAgICAgdGhpcy5wcmV2aW91c0NvbnRleHRzLmxlbmd0aCA+IDAgJiZcbiAgICAgIHRoaXMucHJldmlvdXNDb250ZXh0c1t0aGlzLnByZXZpb3VzQ29udGV4dHMubGVuZ3RoIC0gMV0uc3RhcnRUaW1lIDwgb2xkVGltZVRocmVzaG9sZFxuICAgICkge1xuICAgICAgdGhpcy5wcmV2aW91c0NvbnRleHRzLnBvcCgpXG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jbGVhckN1cnJlbnQoKVxuICAgIHRoaXMucHJldmlvdXNDb250ZXh0cyA9IFtdXG4gIH1cblxuICBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jbGVhck9sZENvbnRleHRzSW50ZXJ2YWwpXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIGFkZEV2ZW50TGlzdGVuZXIsXG4gIERPTV9FVkVOVCxcbiAgUmVsYXRpdmVUaW1lLFxuICBlbGFwc2VkLFxuICByZWxhdGl2ZU5vdyxcbiAgRHVyYXRpb24sXG4gIHRvU2VydmVyRHVyYXRpb24sXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IEluRm9yZWdyb3VuZFBlcmlvZCB9IGZyb20gJy4uL3Jhd1J1bUV2ZW50LnR5cGVzJ1xuXG4vLyBBcmJpdHJhcnkgdmFsdWUgdG8gY2FwIG51bWJlciBvZiBlbGVtZW50IG1vc3RseSBmb3IgYmFja2VuZCAmIHRvIHNhdmUgYmFuZHdpZHRoXG5leHBvcnQgY29uc3QgTUFYX05VTUJFUl9PRl9TRUxFQ1RBQkxFX0ZPUkVHUk9VTkRfUEVSSU9EUyA9IDUwMFxuLy8gQXJiaXRyYXJ5IHZhbHVlIHRvIGNhcCBudW1iZXIgb2YgZWxlbWVudCBtb3N0bHkgZm9yIG1lbW9yeSBjb25zdW1wdGlvbiBpbiB0aGUgYnJvd3NlclxuZXhwb3J0IGNvbnN0IE1BWF9OVU1CRVJfT0ZfU1RPUkVEX0ZPUkVHUk9VTkRfUEVSSU9EUyA9IDI1MDBcblxuZXhwb3J0IGludGVyZmFjZSBGb3JlZ3JvdW5kQ29udGV4dHMge1xuICBpc0luRm9yZWdyb3VuZEF0OiAoc3RhcnRUaW1lOiBSZWxhdGl2ZVRpbWUpID0+IGJvb2xlYW4gfCB1bmRlZmluZWRcbiAgc2VsZWN0SW5Gb3JlZ3JvdW5kUGVyaW9kc0ZvcjogKHN0YXJ0VGltZTogUmVsYXRpdmVUaW1lLCBkdXJhdGlvbjogRHVyYXRpb24pID0+IEluRm9yZWdyb3VuZFBlcmlvZFtdIHwgdW5kZWZpbmVkXG4gIHN0b3A6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb3JlZ3JvdW5kUGVyaW9kIHtcbiAgc3RhcnQ6IFJlbGF0aXZlVGltZVxuICBlbmQ/OiBSZWxhdGl2ZVRpbWVcbn1cblxubGV0IGZvcmVncm91bmRQZXJpb2RzOiBGb3JlZ3JvdW5kUGVyaW9kW10gPSBbXVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRGb3JlZ3JvdW5kQ29udGV4dHMoKTogRm9yZWdyb3VuZENvbnRleHRzIHtcbiAgaWYgKGRvY3VtZW50Lmhhc0ZvY3VzKCkpIHtcbiAgICBhZGROZXdGb3JlZ3JvdW5kUGVyaW9kKClcbiAgfVxuXG4gIGNvbnN0IHsgc3RvcDogc3RvcEZvcmVncm91bmRUcmFja2luZyB9ID0gdHJhY2tGb2N1cyhhZGROZXdGb3JlZ3JvdW5kUGVyaW9kKVxuICBjb25zdCB7IHN0b3A6IHN0b3BCbHVyVHJhY2tpbmcgfSA9IHRyYWNrQmx1cihjbG9zZUZvcmVncm91bmRQZXJpb2QpXG4gIHJldHVybiB7XG4gICAgaXNJbkZvcmVncm91bmRBdCxcbiAgICBzZWxlY3RJbkZvcmVncm91bmRQZXJpb2RzRm9yLFxuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIGZvcmVncm91bmRQZXJpb2RzID0gW11cbiAgICAgIHN0b3BGb3JlZ3JvdW5kVHJhY2tpbmcoKVxuICAgICAgc3RvcEJsdXJUcmFja2luZygpXG4gICAgfSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTmV3Rm9yZWdyb3VuZFBlcmlvZCgpIHtcbiAgaWYgKGZvcmVncm91bmRQZXJpb2RzLmxlbmd0aCA+IE1BWF9OVU1CRVJfT0ZfU1RPUkVEX0ZPUkVHUk9VTkRfUEVSSU9EUykge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGN1cnJlbnRGb3JlZ3JvdW5kUGVyaW9kID0gZm9yZWdyb3VuZFBlcmlvZHNbZm9yZWdyb3VuZFBlcmlvZHMubGVuZ3RoIC0gMV1cbiAgY29uc3Qgbm93ID0gcmVsYXRpdmVOb3coKVxuICBpZiAoY3VycmVudEZvcmVncm91bmRQZXJpb2QgIT09IHVuZGVmaW5lZCAmJiBjdXJyZW50Rm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVyblxuICB9XG4gIGZvcmVncm91bmRQZXJpb2RzLnB1c2goe1xuICAgIHN0YXJ0OiBub3csXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUZvcmVncm91bmRQZXJpb2QoKSB7XG4gIGlmIChmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCBjdXJyZW50Rm9yZWdyb3VuZFBlcmlvZCA9IGZvcmVncm91bmRQZXJpb2RzW2ZvcmVncm91bmRQZXJpb2RzLmxlbmd0aCAtIDFdXG4gIGNvbnN0IG5vdyA9IHJlbGF0aXZlTm93KClcbiAgaWYgKGN1cnJlbnRGb3JlZ3JvdW5kUGVyaW9kLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY3VycmVudEZvcmVncm91bmRQZXJpb2QuZW5kID0gbm93XG59XG5cbmZ1bmN0aW9uIHRyYWNrRm9jdXMob25Gb2N1c0NoYW5nZTogKCkgPT4gdm9pZCkge1xuICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIERPTV9FVkVOVC5GT0NVUywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKCFldmVudC5pc1RydXN0ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBvbkZvY3VzQ2hhbmdlKClcbiAgfSlcbn1cblxuZnVuY3Rpb24gdHJhY2tCbHVyKG9uQmx1ckNoYW5nZTogKCkgPT4gdm9pZCkge1xuICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIERPTV9FVkVOVC5CTFVSLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoIWV2ZW50LmlzVHJ1c3RlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIG9uQmx1ckNoYW5nZSgpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGlzSW5Gb3JlZ3JvdW5kQXQoc3RhcnRUaW1lOiBSZWxhdGl2ZVRpbWUpOiBib29sZWFuIHtcbiAgZm9yIChsZXQgaSA9IGZvcmVncm91bmRQZXJpb2RzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgZm9yZWdyb3VuZFBlcmlvZCA9IGZvcmVncm91bmRQZXJpb2RzW2ldXG4gICAgaWYgKGZvcmVncm91bmRQZXJpb2QuZW5kICE9PSB1bmRlZmluZWQgJiYgc3RhcnRUaW1lID4gZm9yZWdyb3VuZFBlcmlvZC5lbmQpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmIChcbiAgICAgIHN0YXJ0VGltZSA+IGZvcmVncm91bmRQZXJpb2Quc3RhcnQgJiZcbiAgICAgIChmb3JlZ3JvdW5kUGVyaW9kLmVuZCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0VGltZSA8IGZvcmVncm91bmRQZXJpb2QuZW5kKVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHNlbGVjdEluRm9yZWdyb3VuZFBlcmlvZHNGb3IoZXZlbnRTdGFydFRpbWU6IFJlbGF0aXZlVGltZSwgZHVyYXRpb246IER1cmF0aW9uKTogSW5Gb3JlZ3JvdW5kUGVyaW9kW10ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgY29uc3QgZXZlbnRFbmRUaW1lID0gKGV2ZW50U3RhcnRUaW1lICsgZHVyYXRpb24pIGFzIFJlbGF0aXZlVGltZVxuICBjb25zdCBmaWx0ZXJlZEZvcmVncm91bmRQZXJpb2RzOiBJbkZvcmVncm91bmRQZXJpb2RbXSA9IFtdXG5cbiAgY29uc3QgZWFybGllc3RJbmRleCA9IE1hdGgubWF4KDAsIGZvcmVncm91bmRQZXJpb2RzLmxlbmd0aCAtIE1BWF9OVU1CRVJfT0ZfU0VMRUNUQUJMRV9GT1JFR1JPVU5EX1BFUklPRFMpXG4gIGZvciAobGV0IGkgPSBmb3JlZ3JvdW5kUGVyaW9kcy5sZW5ndGggLSAxOyBpID49IGVhcmxpZXN0SW5kZXg7IGktLSkge1xuICAgIGNvbnN0IGZvcmVncm91bmRQZXJpb2QgPSBmb3JlZ3JvdW5kUGVyaW9kc1tpXVxuICAgIGlmIChmb3JlZ3JvdW5kUGVyaW9kLmVuZCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50U3RhcnRUaW1lID4gZm9yZWdyb3VuZFBlcmlvZC5lbmQpIHtcbiAgICAgIC8vIGV2ZW50IHN0YXJ0cyBhZnRlciB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGZvY3VzIHBlcmlvZFxuICAgICAgLy8gc2luY2UgdGhlIGFycmF5IGlzIHNvcnRlZCwgd2UgY2FuIHN0b3AgbG9va2luZyBmb3IgZm9yZWdyb3VuZCBwZXJpb2RzXG4gICAgICBicmVha1xuICAgIH1cbiAgICBpZiAoZXZlbnRFbmRUaW1lIDwgZm9yZWdyb3VuZFBlcmlvZC5zdGFydCkge1xuICAgICAgLy8gZXZlbnQgZW5kcyBiZWZvcmUgdGhlIHN0YXJ0IG9mIHRoZSBjdXJyZW50IGZvY3VzIHBlcmlvZFxuICAgICAgLy8gY29udGludWUgdG8gcHJldmlvdXMgb25lXG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBjb25zdCBzdGFydFRpbWUgPSBldmVudFN0YXJ0VGltZSA+IGZvcmVncm91bmRQZXJpb2Quc3RhcnQgPyBldmVudFN0YXJ0VGltZSA6IGZvcmVncm91bmRQZXJpb2Quc3RhcnRcbiAgICBjb25zdCBzdGFydER1cmF0aW9uID0gZWxhcHNlZChldmVudFN0YXJ0VGltZSwgc3RhcnRUaW1lKVxuICAgIGNvbnN0IGVuZFRpbWUgPVxuICAgICAgZm9yZWdyb3VuZFBlcmlvZC5lbmQgPT09IHVuZGVmaW5lZCB8fCBldmVudEVuZFRpbWUgPCBmb3JlZ3JvdW5kUGVyaW9kLmVuZCA/IGV2ZW50RW5kVGltZSA6IGZvcmVncm91bmRQZXJpb2QuZW5kXG4gICAgY29uc3QgZW5kRHVyYXRpb24gPSBlbGFwc2VkKHN0YXJ0VGltZSwgZW5kVGltZSlcbiAgICBmaWx0ZXJlZEZvcmVncm91bmRQZXJpb2RzLnVuc2hpZnQoe1xuICAgICAgc3RhcnQ6IHRvU2VydmVyRHVyYXRpb24oc3RhcnREdXJhdGlvbiksXG4gICAgICBkdXJhdGlvbjogdG9TZXJ2ZXJEdXJhdGlvbihlbmREdXJhdGlvbiksXG4gICAgfSlcbiAgfVxuICByZXR1cm4gZmlsdGVyZWRGb3JlZ3JvdW5kUGVyaW9kc1xufVxuIiwiaW1wb3J0IHsgUmVsYXRpdmVUaW1lIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgSW50ZXJuYWxDb250ZXh0IH0gZnJvbSAnLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBQYXJlbnRDb250ZXh0cyB9IGZyb20gJy4vcGFyZW50Q29udGV4dHMnXG5pbXBvcnQgeyBSdW1TZXNzaW9uIH0gZnJvbSAnLi9ydW1TZXNzaW9uJ1xuaW1wb3J0IHsgVXJsQ29udGV4dHMgfSBmcm9tICcuL3VybENvbnRleHRzJ1xuXG4vKipcbiAqIEludGVybmFsIGNvbnRleHQga2VlcCByZXR1cm5pbmcgdjEgZm9ybWF0XG4gKiB0byBub3QgYnJlYWsgY29tcGF0aWJpbGl0eSB3aXRoIGxvZ3MgZGF0YSBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJuYWxDb250ZXh0KFxuICBhcHBsaWNhdGlvbklkOiBzdHJpbmcsXG4gIHNlc3Npb246IFJ1bVNlc3Npb24sXG4gIHBhcmVudENvbnRleHRzOiBQYXJlbnRDb250ZXh0cyxcbiAgdXJsQ29udGV4dHM6IFVybENvbnRleHRzXG4pIHtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IChzdGFydFRpbWU/OiBudW1iZXIpOiBJbnRlcm5hbENvbnRleHQgfCB1bmRlZmluZWQgPT4ge1xuICAgICAgY29uc3Qgdmlld0NvbnRleHQgPSBwYXJlbnRDb250ZXh0cy5maW5kVmlldyhzdGFydFRpbWUgYXMgUmVsYXRpdmVUaW1lKVxuICAgICAgY29uc3QgdXJsQ29udGV4dCA9IHVybENvbnRleHRzLmZpbmRVcmwoc3RhcnRUaW1lIGFzIFJlbGF0aXZlVGltZSlcbiAgICAgIGlmIChzZXNzaW9uLmlzVHJhY2tlZCgpICYmIHZpZXdDb250ZXh0ICYmIHVybENvbnRleHQgJiYgdmlld0NvbnRleHQuc2Vzc2lvbi5pZCkge1xuICAgICAgICBjb25zdCBhY3Rpb25Db250ZXh0ID0gcGFyZW50Q29udGV4dHMuZmluZEFjdGlvbihzdGFydFRpbWUgYXMgUmVsYXRpdmVUaW1lKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFwcGxpY2F0aW9uX2lkOiBhcHBsaWNhdGlvbklkLFxuICAgICAgICAgIHNlc3Npb25faWQ6IHZpZXdDb250ZXh0LnNlc3Npb24uaWQsXG4gICAgICAgICAgdXNlcl9hY3Rpb246IGFjdGlvbkNvbnRleHRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGlkOiBhY3Rpb25Db250ZXh0LmFjdGlvbi5pZCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgdmlldzoge1xuICAgICAgICAgICAgLi4udmlld0NvbnRleHQudmlldyxcbiAgICAgICAgICAgIC4uLnVybENvbnRleHQudmlldyxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29udGV4dCwgUmF3RXJyb3IsIFJlbGF0aXZlVGltZSwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgUnVtUGVyZm9ybWFuY2VFbnRyeSB9IGZyb20gJy4uL2Jyb3dzZXIvcGVyZm9ybWFuY2VDb2xsZWN0aW9uJ1xuaW1wb3J0IHsgUnVtRXZlbnREb21haW5Db250ZXh0IH0gZnJvbSAnLi4vZG9tYWluQ29udGV4dC50eXBlcydcbmltcG9ydCB7IENvbW1vbkNvbnRleHQsIFJhd1J1bUV2ZW50IH0gZnJvbSAnLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBSdW1FdmVudCB9IGZyb20gJy4uL3J1bUV2ZW50LnR5cGVzJ1xuaW1wb3J0IHsgUmVxdWVzdENvbXBsZXRlRXZlbnQsIFJlcXVlc3RTdGFydEV2ZW50IH0gZnJvbSAnLi9yZXF1ZXN0Q29sbGVjdGlvbidcbmltcG9ydCB7IEF1dG9BY3Rpb24sIEF1dG9BY3Rpb25DcmVhdGVkRXZlbnQgfSBmcm9tICcuL3J1bUV2ZW50c0NvbGxlY3Rpb24vYWN0aW9uL3RyYWNrQWN0aW9ucydcbmltcG9ydCB7IFZpZXdFdmVudCwgVmlld0NyZWF0ZWRFdmVudCwgVmlld0VuZGVkRXZlbnQgfSBmcm9tICcuL3J1bUV2ZW50c0NvbGxlY3Rpb24vdmlldy90cmFja1ZpZXdzJ1xuXG5leHBvcnQgZW51bSBMaWZlQ3ljbGVFdmVudFR5cGUge1xuICBQRVJGT1JNQU5DRV9FTlRSWV9DT0xMRUNURUQsXG4gIEFVVE9fQUNUSU9OX0NSRUFURUQsXG4gIEFVVE9fQUNUSU9OX0NPTVBMRVRFRCxcbiAgQVVUT19BQ1RJT05fRElTQ0FSREVELFxuICBWSUVXX0NSRUFURUQsXG4gIFZJRVdfVVBEQVRFRCxcbiAgVklFV19FTkRFRCxcbiAgUkVRVUVTVF9TVEFSVEVELFxuICBSRVFVRVNUX0NPTVBMRVRFRCxcblxuICAvLyBUaGUgU0VTU0lPTl9FWFBJUkVEIGxpZmVjeWNsZSBldmVudCBoYXMgYmVlbiBpbnRyb2R1Y2VkIHRvIHJlcHJlc2VudCB3aGVuIGEgc2Vzc2lvbiBoYXMgZXhwaXJlZFxuICAvLyBhbmQgdHJpZ2dlciBjbGVhbnVwIHRhc2tzIHJlbGF0ZWQgdG8gdGhpcywgcHJpb3IgdG8gcmVuZXdpbmcgdGhlIHNlc3Npb24uIEl0cyBpbXBsZW1lbnRhdGlvbiBpc1xuICAvLyBzbGlnaHRseSBuYWl2ZTogaXQgaXMgbm90IHRyaWdnZXJlZCBhcyBzb29uIGFzIHRoZSBzZXNzaW9uIGlzIGV4cGlyZWQsIGJ1dCByYXRoZXIganVzdCBiZWZvcmVcbiAgLy8gbm90aWZ5aW5nIHRoYXQgdGhlIHNlc3Npb24gaXMgcmVuZXdlZC4gVGh1cywgdGhlIHNlc3Npb24gaWQgaXMgYWxyZWFkeSBzZXQgdG8gdGhlIG5ld2x5IHJlbmV3ZWRcbiAgLy8gc2Vzc2lvbi5cbiAgLy9cbiAgLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBcImdvb2QgZW5vdWdoXCIgZm9yIG91ciB1c2UtY2FzZXMuIEltcHJvdmluZyB0aGlzIGlzIG5vdCB0cml2aWFsLFxuICAvLyBwcmltYXJpbHkgYmVjYXVzZSBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgdGhlIFNESyBtYXkgYmUgbWFuYWdpbmcgdGhlIHNhbWUgc2Vzc2lvbiBjb29raWUgYXRcbiAgLy8gdGhlIHNhbWUgdGltZSwgZm9yIGV4YW1wbGUgd2hlbiB1c2luZyBMb2dzIGFuZCBSVU0gb24gdGhlIHNhbWUgcGFnZSwgb3Igb3BlbmluZyBtdWx0aXBsZSB0YWJzXG4gIC8vIG9uIHRoZSBzYW1lIGRvbWFpbi5cbiAgU0VTU0lPTl9FWFBJUkVELFxuXG4gIFNFU1NJT05fUkVORVdFRCxcbiAgQkVGT1JFX1VOTE9BRCxcbiAgUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsXG4gIFJVTV9FVkVOVF9DT0xMRUNURUQsXG4gIFJBV19FUlJPUl9DT0xMRUNURUQsXG59XG5cbmV4cG9ydCBjbGFzcyBMaWZlQ3ljbGUge1xuICBwcml2YXRlIGNhbGxiYWNrczogeyBba2V5IGluIExpZmVDeWNsZUV2ZW50VHlwZV0/OiBBcnJheTwoZGF0YTogYW55KSA9PiB2b2lkPiB9ID0ge31cblxuICBub3RpZnkoZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUllfQ09MTEVDVEVELCBkYXRhOiBSdW1QZXJmb3JtYW5jZUVudHJ5KTogdm9pZFxuICBub3RpZnkoZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuUkVRVUVTVF9TVEFSVEVELCBkYXRhOiBSZXF1ZXN0U3RhcnRFdmVudCk6IHZvaWRcbiAgbm90aWZ5KGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLlJFUVVFU1RfQ09NUExFVEVELCBkYXRhOiBSZXF1ZXN0Q29tcGxldGVFdmVudCk6IHZvaWRcbiAgbm90aWZ5KGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLkFVVE9fQUNUSU9OX0NPTVBMRVRFRCwgZGF0YTogQXV0b0FjdGlvbik6IHZvaWRcbiAgbm90aWZ5KGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLkFVVE9fQUNUSU9OX0NSRUFURUQsIGRhdGE6IEF1dG9BY3Rpb25DcmVhdGVkRXZlbnQpOiB2b2lkXG4gIG5vdGlmeShldmVudFR5cGU6IExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQsIGRhdGE6IFZpZXdDcmVhdGVkRXZlbnQpOiB2b2lkXG4gIG5vdGlmeShldmVudFR5cGU6IExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX1VQREFURUQsIGRhdGE6IFZpZXdFdmVudCk6IHZvaWRcbiAgbm90aWZ5KGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfRU5ERUQsIGRhdGE6IFZpZXdFbmRlZEV2ZW50KTogdm9pZFxuICBub3RpZnkoXG4gICAgZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0VSUk9SX0NPTExFQ1RFRCxcbiAgICBkYXRhOiB7IGVycm9yOiBSYXdFcnJvcjsgc2F2ZWRDb21tb25Db250ZXh0PzogQ29tbW9uQ29udGV4dDsgY3VzdG9tZXJDb250ZXh0PzogQ29udGV4dCB9XG4gICk6IHZvaWRcbiAgbm90aWZ5KFxuICAgIGV2ZW50VHlwZTpcbiAgICAgIHwgTGlmZUN5Y2xlRXZlbnRUeXBlLlNFU1NJT05fRVhQSVJFRFxuICAgICAgfCBMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9SRU5FV0VEXG4gICAgICB8IExpZmVDeWNsZUV2ZW50VHlwZS5CRUZPUkVfVU5MT0FEXG4gICAgICB8IExpZmVDeWNsZUV2ZW50VHlwZS5BVVRPX0FDVElPTl9ESVNDQVJERURcbiAgKTogdm9pZFxuICBub3RpZnkoZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsIGRhdGE6IFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YSk6IHZvaWRcbiAgbm90aWZ5KGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLlJVTV9FVkVOVF9DT0xMRUNURUQsIGRhdGE6IFJ1bUV2ZW50ICYgQ29udGV4dCk6IHZvaWRcbiAgbm90aWZ5KGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLCBkYXRhPzogYW55KSB7XG4gICAgY29uc3QgZXZlbnRDYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrc1tldmVudFR5cGVdXG4gICAgaWYgKGV2ZW50Q2FsbGJhY2tzKSB7XG4gICAgICBldmVudENhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZGF0YSkpXG4gICAgfVxuICB9XG5cbiAgc3Vic2NyaWJlKFxuICAgIGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCxcbiAgICBjYWxsYmFjazogKGRhdGE6IFJ1bVBlcmZvcm1hbmNlRW50cnkpID0+IHZvaWRcbiAgKTogU3Vic2NyaXB0aW9uXG4gIHN1YnNjcmliZShldmVudFR5cGU6IExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX1NUQVJURUQsIGNhbGxiYWNrOiAoZGF0YTogUmVxdWVzdFN0YXJ0RXZlbnQpID0+IHZvaWQpOiBTdWJzY3JpcHRpb25cbiAgc3Vic2NyaWJlKFxuICAgIGV2ZW50VHlwZTogTGlmZUN5Y2xlRXZlbnRUeXBlLlJFUVVFU1RfQ09NUExFVEVELFxuICAgIGNhbGxiYWNrOiAoZGF0YTogUmVxdWVzdENvbXBsZXRlRXZlbnQpID0+IHZvaWRcbiAgKTogU3Vic2NyaXB0aW9uXG4gIHN1YnNjcmliZShldmVudFR5cGU6IExpZmVDeWNsZUV2ZW50VHlwZS5BVVRPX0FDVElPTl9DT01QTEVURUQsIGNhbGxiYWNrOiAoZGF0YTogQXV0b0FjdGlvbikgPT4gdm9pZCk6IFN1YnNjcmlwdGlvblxuICBzdWJzY3JpYmUoXG4gICAgZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fQ1JFQVRFRCxcbiAgICBjYWxsYmFjazogKGRhdGE6IEF1dG9BY3Rpb25DcmVhdGVkRXZlbnQpID0+IHZvaWRcbiAgKTogU3Vic2NyaXB0aW9uXG4gIHN1YnNjcmliZShldmVudFR5cGU6IExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQsIGNhbGxiYWNrOiAoZGF0YTogVmlld0NyZWF0ZWRFdmVudCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvblxuICBzdWJzY3JpYmUoZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19VUERBVEVELCBjYWxsYmFjazogKGRhdGE6IFZpZXdFdmVudCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvblxuICBzdWJzY3JpYmUoZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCwgY2FsbGJhY2s6IChkYXRhOiBWaWV3RW5kZWRFdmVudCkgPT4gdm9pZCk6IFN1YnNjcmlwdGlvblxuICBzdWJzY3JpYmUoXG4gICAgZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0VSUk9SX0NPTExFQ1RFRCxcbiAgICBjYWxsYmFjazogKGRhdGE6IHsgZXJyb3I6IFJhd0Vycm9yOyBzYXZlZENvbW1vbkNvbnRleHQ/OiBDb21tb25Db250ZXh0OyBjdXN0b21lckNvbnRleHQ/OiBDb250ZXh0IH0pID0+IHZvaWRcbiAgKTogU3Vic2NyaXB0aW9uXG4gIHN1YnNjcmliZShcbiAgICBldmVudFR5cGU6XG4gICAgICB8IExpZmVDeWNsZUV2ZW50VHlwZS5TRVNTSU9OX0VYUElSRURcbiAgICAgIHwgTGlmZUN5Y2xlRXZlbnRUeXBlLlNFU1NJT05fUkVORVdFRFxuICAgICAgfCBMaWZlQ3ljbGVFdmVudFR5cGUuQkVGT1JFX1VOTE9BRFxuICAgICAgfCBMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fRElTQ0FSREVELFxuICAgIGNhbGxiYWNrOiAoKSA9PiB2b2lkXG4gICk6IFN1YnNjcmlwdGlvblxuICBzdWJzY3JpYmUoXG4gICAgZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsXG4gICAgY2FsbGJhY2s6IChkYXRhOiBSYXdSdW1FdmVudENvbGxlY3RlZERhdGEpID0+IHZvaWRcbiAgKTogU3Vic2NyaXB0aW9uXG4gIHN1YnNjcmliZShcbiAgICBldmVudFR5cGU6IExpZmVDeWNsZUV2ZW50VHlwZS5SVU1fRVZFTlRfQ09MTEVDVEVELFxuICAgIGNhbGxiYWNrOiAoZGF0YTogUnVtRXZlbnQgJiBDb250ZXh0KSA9PiB2b2lkXG4gICk6IFN1YnNjcmlwdGlvblxuICBzdWJzY3JpYmUoZXZlbnRUeXBlOiBMaWZlQ3ljbGVFdmVudFR5cGUsIGNhbGxiYWNrOiAoZGF0YT86IGFueSkgPT4gdm9pZCkge1xuICAgIGlmICghdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXSkge1xuICAgICAgdGhpcy5jYWxsYmFja3NbZXZlbnRUeXBlXSA9IFtdXG4gICAgfVxuICAgIHRoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0hLnB1c2goY2FsbGJhY2spXG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzW2V2ZW50VHlwZV0gPSB0aGlzLmNhbGxiYWNrc1tldmVudFR5cGVdIS5maWx0ZXIoKG90aGVyKSA9PiBjYWxsYmFjayAhPT0gb3RoZXIpXG4gICAgICB9LFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YTxFIGV4dGVuZHMgUmF3UnVtRXZlbnQgPSBSYXdSdW1FdmVudD4ge1xuICBzdGFydFRpbWU6IFJlbGF0aXZlVGltZVxuICBzYXZlZENvbW1vbkNvbnRleHQ/OiBDb21tb25Db250ZXh0XG4gIGN1c3RvbWVyQ29udGV4dD86IENvbnRleHRcbiAgcmF3UnVtRXZlbnQ6IEVcbiAgZG9tYWluQ29udGV4dDogUnVtRXZlbnREb21haW5Db250ZXh0PEVbJ3R5cGUnXT5cbn1cbiIsImltcG9ydCB7IE9ORV9NSU5VVEUsIFJlbGF0aXZlVGltZSwgU0VTU0lPTl9USU1FX09VVF9ERUxBWSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IEFjdGlvbkNvbnRleHQsIFZpZXdDb250ZXh0IH0gZnJvbSAnLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSB9IGZyb20gJy4vbGlmZUN5Y2xlJ1xuaW1wb3J0IHsgQXV0b0FjdGlvbiwgQXV0b0FjdGlvbkNyZWF0ZWRFdmVudCB9IGZyb20gJy4vcnVtRXZlbnRzQ29sbGVjdGlvbi9hY3Rpb24vdHJhY2tBY3Rpb25zJ1xuaW1wb3J0IHsgVmlld0NyZWF0ZWRFdmVudCB9IGZyb20gJy4vcnVtRXZlbnRzQ29sbGVjdGlvbi92aWV3L3RyYWNrVmlld3MnXG5pbXBvcnQgeyBSdW1TZXNzaW9uIH0gZnJvbSAnLi9ydW1TZXNzaW9uJ1xuaW1wb3J0IHsgQ29udGV4dEhpc3RvcnkgfSBmcm9tICcuL2NvbnRleHRIaXN0b3J5J1xuXG5leHBvcnQgY29uc3QgVklFV19DT05URVhUX1RJTUVfT1VUX0RFTEFZID0gU0VTU0lPTl9USU1FX09VVF9ERUxBWVxuZXhwb3J0IGNvbnN0IEFDVElPTl9DT05URVhUX1RJTUVfT1VUX0RFTEFZID0gNSAqIE9ORV9NSU5VVEUgLy8gYXJiaXRyYXJ5XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyZW50Q29udGV4dHMge1xuICBmaW5kQWN0aW9uOiAoc3RhcnRUaW1lPzogUmVsYXRpdmVUaW1lKSA9PiBBY3Rpb25Db250ZXh0IHwgdW5kZWZpbmVkXG4gIGZpbmRWaWV3OiAoc3RhcnRUaW1lPzogUmVsYXRpdmVUaW1lKSA9PiBWaWV3Q29udGV4dCB8IHVuZGVmaW5lZFxuICBzdG9wOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFBhcmVudENvbnRleHRzKGxpZmVDeWNsZTogTGlmZUN5Y2xlLCBzZXNzaW9uOiBSdW1TZXNzaW9uKTogUGFyZW50Q29udGV4dHMge1xuICBjb25zdCB2aWV3Q29udGV4dEhpc3RvcnkgPSBuZXcgQ29udGV4dEhpc3Rvcnk8Vmlld0NvbnRleHQ+KFZJRVdfQ09OVEVYVF9USU1FX09VVF9ERUxBWSlcblxuICBjb25zdCBhY3Rpb25Db250ZXh0SGlzdG9yeSA9IG5ldyBDb250ZXh0SGlzdG9yeTxBY3Rpb25Db250ZXh0PihBQ1RJT05fQ09OVEVYVF9USU1FX09VVF9ERUxBWSlcblxuICBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQsICh2aWV3KSA9PiB7XG4gICAgdmlld0NvbnRleHRIaXN0b3J5LnNldEN1cnJlbnQoYnVpbGRWaWV3Q29udGV4dCh2aWV3LCBzZXNzaW9uLmdldElkKCkpLCB2aWV3LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlKVxuICB9KVxuXG4gIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfVVBEQVRFRCwgKHZpZXcpID0+IHtcbiAgICAvLyBBIHZpZXcgY2FuIGJlIHVwZGF0ZWQgYWZ0ZXIgaXRzIGVuZC4gIFdlIGhhdmUgdG8gZW5zdXJlIHRoYXQgdGhlIHZpZXcgYmVpbmcgdXBkYXRlZCBpcyB0aGVcbiAgICAvLyBtb3N0IHJlY2VudGx5IGNyZWF0ZWQuXG4gICAgY29uc3QgY3VycmVudCA9IHZpZXdDb250ZXh0SGlzdG9yeS5nZXRDdXJyZW50KClcbiAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50LnZpZXcuaWQgPT09IHZpZXcuaWQpIHtcbiAgICAgIHZpZXdDb250ZXh0SGlzdG9yeS5zZXRDdXJyZW50KGJ1aWxkVmlld0NvbnRleHQodmlldywgY3VycmVudC5zZXNzaW9uLmlkKSwgdmlldy5zdGFydENsb2Nrcy5yZWxhdGl2ZSlcbiAgICB9XG4gIH0pXG5cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19FTkRFRCwgKHsgZW5kQ2xvY2tzIH0pID0+IHtcbiAgICB2aWV3Q29udGV4dEhpc3RvcnkuY2xvc2VDdXJyZW50KGVuZENsb2Nrcy5yZWxhdGl2ZSlcbiAgfSlcblxuICBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5BVVRPX0FDVElPTl9DUkVBVEVELCAoYWN0aW9uKSA9PiB7XG4gICAgYWN0aW9uQ29udGV4dEhpc3Rvcnkuc2V0Q3VycmVudChidWlsZEFjdGlvbkNvbnRleHQoYWN0aW9uKSwgYWN0aW9uLnN0YXJ0Q2xvY2tzLnJlbGF0aXZlKVxuICB9KVxuXG4gIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLkFVVE9fQUNUSU9OX0NPTVBMRVRFRCwgKGFjdGlvbjogQXV0b0FjdGlvbikgPT4ge1xuICAgIGlmIChhY3Rpb25Db250ZXh0SGlzdG9yeS5nZXRDdXJyZW50KCkpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVzdHJpY3QtcGx1cy1vcGVyYW5kc1xuICAgICAgY29uc3QgYWN0aW9uRW5kVGltZSA9IChhY3Rpb24uc3RhcnRDbG9ja3MucmVsYXRpdmUgKyBhY3Rpb24uZHVyYXRpb24pIGFzIFJlbGF0aXZlVGltZVxuICAgICAgYWN0aW9uQ29udGV4dEhpc3RvcnkuY2xvc2VDdXJyZW50KGFjdGlvbkVuZFRpbWUpXG4gICAgfVxuICB9KVxuXG4gIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLkFVVE9fQUNUSU9OX0RJU0NBUkRFRCwgKCkgPT4ge1xuICAgIGFjdGlvbkNvbnRleHRIaXN0b3J5LmNsZWFyQ3VycmVudCgpXG4gIH0pXG5cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9SRU5FV0VELCAoKSA9PiB7XG4gICAgdmlld0NvbnRleHRIaXN0b3J5LnJlc2V0KClcbiAgICBhY3Rpb25Db250ZXh0SGlzdG9yeS5yZXNldCgpXG4gIH0pXG5cbiAgZnVuY3Rpb24gYnVpbGRWaWV3Q29udGV4dCh2aWV3OiBWaWV3Q3JlYXRlZEV2ZW50LCBzZXNzaW9uSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXNzaW9uOiB7XG4gICAgICAgIGlkOiBzZXNzaW9uSWQsXG4gICAgICB9LFxuICAgICAgdmlldzoge1xuICAgICAgICBpZDogdmlldy5pZCxcbiAgICAgICAgbmFtZTogdmlldy5uYW1lLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBidWlsZEFjdGlvbkNvbnRleHQoYWN0aW9uOiBBdXRvQWN0aW9uQ3JlYXRlZEV2ZW50KSB7XG4gICAgcmV0dXJuIHsgYWN0aW9uOiB7IGlkOiBhY3Rpb24uaWQgfSB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGZpbmRBY3Rpb246IChzdGFydFRpbWUpID0+IGFjdGlvbkNvbnRleHRIaXN0b3J5LmZpbmQoc3RhcnRUaW1lKSxcbiAgICBmaW5kVmlldzogKHN0YXJ0VGltZSkgPT4gdmlld0NvbnRleHRIaXN0b3J5LmZpbmQoc3RhcnRUaW1lKSxcbiAgICBzdG9wOiAoKSA9PiB7XG4gICAgICB2aWV3Q29udGV4dEhpc3Rvcnkuc3RvcCgpXG4gICAgICBhY3Rpb25Db250ZXh0SGlzdG9yeS5zdG9wKClcbiAgICB9LFxuICB9XG59XG4iLCJpbXBvcnQge1xuICBDb25maWd1cmF0aW9uLFxuICBEdXJhdGlvbixcbiAgUmVxdWVzdFR5cGUsXG4gIGluaXRGZXRjaE9ic2VydmFibGUsXG4gIGluaXRYaHJPYnNlcnZhYmxlLFxuICBYaHJDb21wbGV0ZUNvbnRleHQsXG4gIFhoclN0YXJ0Q29udGV4dCxcbiAgQ2xvY2tzU3RhdGUsXG4gIEZldGNoU3RhcnRDb250ZXh0LFxuICBGZXRjaENvbXBsZXRlQ29udGV4dCxcbn0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgUnVtU2Vzc2lvbiB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuL2xpZmVDeWNsZSdcbmltcG9ydCB7IGlzQWxsb3dlZFJlcXVlc3RVcmwgfSBmcm9tICcuL3J1bUV2ZW50c0NvbGxlY3Rpb24vcmVzb3VyY2UvcmVzb3VyY2VVdGlscydcbmltcG9ydCB7IHN0YXJ0VHJhY2VyLCBUcmFjZUlkZW50aWZpZXIsIFRyYWNlciB9IGZyb20gJy4vdHJhY2luZy90cmFjZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tQ29udGV4dCB7XG4gIHJlcXVlc3RJbmRleDogbnVtYmVyXG4gIHNwYW5JZD86IFRyYWNlSWRlbnRpZmllclxuICB0cmFjZUlkPzogVHJhY2VJZGVudGlmaWVyXG59XG5leHBvcnQgaW50ZXJmYWNlIFJ1bUZldGNoU3RhcnRDb250ZXh0IGV4dGVuZHMgRmV0Y2hTdGFydENvbnRleHQsIEN1c3RvbUNvbnRleHQge31cbmV4cG9ydCBpbnRlcmZhY2UgUnVtRmV0Y2hDb21wbGV0ZUNvbnRleHQgZXh0ZW5kcyBGZXRjaENvbXBsZXRlQ29udGV4dCwgQ3VzdG9tQ29udGV4dCB7fVxuZXhwb3J0IGludGVyZmFjZSBSdW1YaHJTdGFydENvbnRleHQgZXh0ZW5kcyBYaHJTdGFydENvbnRleHQsIEN1c3RvbUNvbnRleHQge31cbmV4cG9ydCBpbnRlcmZhY2UgUnVtWGhyQ29tcGxldGVDb250ZXh0IGV4dGVuZHMgWGhyQ29tcGxldGVDb250ZXh0LCBDdXN0b21Db250ZXh0IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFN0YXJ0RXZlbnQge1xuICByZXF1ZXN0SW5kZXg6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RDb21wbGV0ZUV2ZW50IHtcbiAgcmVxdWVzdEluZGV4OiBudW1iZXJcbiAgdHlwZTogUmVxdWVzdFR5cGVcbiAgbWV0aG9kOiBzdHJpbmdcbiAgdXJsOiBzdHJpbmdcbiAgc3RhdHVzOiBudW1iZXJcbiAgcmVzcG9uc2VUZXh0Pzogc3RyaW5nXG4gIHJlc3BvbnNlVHlwZT86IHN0cmluZ1xuICBzdGFydENsb2NrczogQ2xvY2tzU3RhdGVcbiAgZHVyYXRpb246IER1cmF0aW9uXG4gIHNwYW5JZD86IFRyYWNlSWRlbnRpZmllclxuICB0cmFjZUlkPzogVHJhY2VJZGVudGlmaWVyXG4gIHhocj86IFhNTEh0dHBSZXF1ZXN0XG4gIHJlc3BvbnNlPzogUmVzcG9uc2VcbiAgaW5wdXQ/OiBSZXF1ZXN0SW5mb1xuICBpbml0PzogUmVxdWVzdEluaXRcbiAgZXJyb3I/OiBFcnJvclxufVxuXG5sZXQgbmV4dFJlcXVlc3RJbmRleCA9IDFcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UmVxdWVzdENvbGxlY3Rpb24obGlmZUN5Y2xlOiBMaWZlQ3ljbGUsIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sIHNlc3Npb246IFJ1bVNlc3Npb24pIHtcbiAgY29uc3QgdHJhY2VyID0gc3RhcnRUcmFjZXIoY29uZmlndXJhdGlvbiwgc2Vzc2lvbilcbiAgdHJhY2tYaHIobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCB0cmFjZXIpXG4gIHRyYWNrRmV0Y2gobGlmZUN5Y2xlLCBjb25maWd1cmF0aW9uLCB0cmFjZXIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1hocihsaWZlQ3ljbGU6IExpZmVDeWNsZSwgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiwgdHJhY2VyOiBUcmFjZXIpIHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gaW5pdFhock9ic2VydmFibGUoKS5zdWJzY3JpYmUoKHJhd0NvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gcmF3Q29udGV4dCBhcyBSdW1YaHJTdGFydENvbnRleHQgfCBSdW1YaHJDb21wbGV0ZUNvbnRleHRcbiAgICBpZiAoIWlzQWxsb3dlZFJlcXVlc3RVcmwoY29uZmlndXJhdGlvbiwgY29udGV4dC51cmwpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbnRleHQuc3RhdGUpIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgdHJhY2VyLnRyYWNlWGhyKGNvbnRleHQsIGNvbnRleHQueGhyKVxuICAgICAgICBjb250ZXh0LnJlcXVlc3RJbmRleCA9IGdldE5leHRSZXF1ZXN0SW5kZXgoKVxuXG4gICAgICAgIGxpZmVDeWNsZS5ub3RpZnkoTGlmZUN5Y2xlRXZlbnRUeXBlLlJFUVVFU1RfU1RBUlRFRCwge1xuICAgICAgICAgIHJlcXVlc3RJbmRleDogY29udGV4dC5yZXF1ZXN0SW5kZXgsXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjb21wbGV0ZSc6XG4gICAgICAgIHRyYWNlci5jbGVhclRyYWNpbmdJZk5lZWRlZChjb250ZXh0KVxuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX0NPTVBMRVRFRCwge1xuICAgICAgICAgIGR1cmF0aW9uOiBjb250ZXh0LmR1cmF0aW9uLFxuICAgICAgICAgIG1ldGhvZDogY29udGV4dC5tZXRob2QsXG4gICAgICAgICAgcmVxdWVzdEluZGV4OiBjb250ZXh0LnJlcXVlc3RJbmRleCxcbiAgICAgICAgICByZXNwb25zZVRleHQ6IGNvbnRleHQucmVzcG9uc2VUZXh0LFxuICAgICAgICAgIHNwYW5JZDogY29udGV4dC5zcGFuSWQsXG4gICAgICAgICAgc3RhcnRDbG9ja3M6IGNvbnRleHQuc3RhcnRDbG9ja3MsXG4gICAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1cyxcbiAgICAgICAgICB0cmFjZUlkOiBjb250ZXh0LnRyYWNlSWQsXG4gICAgICAgICAgdHlwZTogUmVxdWVzdFR5cGUuWEhSLFxuICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgeGhyOiBjb250ZXh0LnhocixcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHsgc3RvcDogKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGZXRjaChsaWZlQ3ljbGU6IExpZmVDeWNsZSwgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiwgdHJhY2VyOiBUcmFjZXIpIHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gaW5pdEZldGNoT2JzZXJ2YWJsZSgpLnN1YnNjcmliZSgocmF3Q29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSByYXdDb250ZXh0IGFzIFJ1bUZldGNoQ29tcGxldGVDb250ZXh0IHwgUnVtRmV0Y2hTdGFydENvbnRleHRcbiAgICBpZiAoIWlzQWxsb3dlZFJlcXVlc3RVcmwoY29uZmlndXJhdGlvbiwgY29udGV4dC51cmwpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbnRleHQuc3RhdGUpIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgdHJhY2VyLnRyYWNlRmV0Y2goY29udGV4dClcbiAgICAgICAgY29udGV4dC5yZXF1ZXN0SW5kZXggPSBnZXROZXh0UmVxdWVzdEluZGV4KClcblxuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX1NUQVJURUQsIHtcbiAgICAgICAgICByZXF1ZXN0SW5kZXg6IGNvbnRleHQucmVxdWVzdEluZGV4LFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY29tcGxldGUnOlxuICAgICAgICB0cmFjZXIuY2xlYXJUcmFjaW5nSWZOZWVkZWQoY29udGV4dClcblxuICAgICAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX0NPTVBMRVRFRCwge1xuICAgICAgICAgIGR1cmF0aW9uOiBjb250ZXh0LmR1cmF0aW9uLFxuICAgICAgICAgIG1ldGhvZDogY29udGV4dC5tZXRob2QsXG4gICAgICAgICAgcmVxdWVzdEluZGV4OiBjb250ZXh0LnJlcXVlc3RJbmRleCxcbiAgICAgICAgICByZXNwb25zZVRleHQ6IGNvbnRleHQucmVzcG9uc2VUZXh0LFxuICAgICAgICAgIHJlc3BvbnNlVHlwZTogY29udGV4dC5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgc3BhbklkOiBjb250ZXh0LnNwYW5JZCxcbiAgICAgICAgICBzdGFydENsb2NrczogY29udGV4dC5zdGFydENsb2NrcyxcbiAgICAgICAgICBzdGF0dXM6IGNvbnRleHQuc3RhdHVzLFxuICAgICAgICAgIHRyYWNlSWQ6IGNvbnRleHQudHJhY2VJZCxcbiAgICAgICAgICB0eXBlOiBSZXF1ZXN0VHlwZS5GRVRDSCxcbiAgICAgICAgICB1cmw6IGNvbnRleHQudXJsLFxuICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgIGluaXQ6IGNvbnRleHQuaW5pdCxcbiAgICAgICAgICBpbnB1dDogY29udGV4dC5pbnB1dCxcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH0pXG4gIHJldHVybiB7IHN0b3A6ICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpIH1cbn1cblxuZnVuY3Rpb24gZ2V0TmV4dFJlcXVlc3RJbmRleCgpIHtcbiAgY29uc3QgcmVzdWx0ID0gbmV4dFJlcXVlc3RJbmRleFxuICBuZXh0UmVxdWVzdEluZGV4ICs9IDFcbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHsgY29tYmluZSwgQ29uZmlndXJhdGlvbiwgdG9TZXJ2ZXJEdXJhdGlvbiwgZ2VuZXJhdGVVVUlELCBPYnNlcnZhYmxlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgQWN0aW9uVHlwZSwgQ29tbW9uQ29udGV4dCwgUnVtRXZlbnRUeXBlLCBSYXdSdW1BY3Rpb25FdmVudCB9IGZyb20gJy4uLy4uLy4uL3Jhd1J1bUV2ZW50LnR5cGVzJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUsIFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YSB9IGZyb20gJy4uLy4uL2xpZmVDeWNsZSdcbmltcG9ydCB7IEZvcmVncm91bmRDb250ZXh0cyB9IGZyb20gJy4uLy4uL2ZvcmVncm91bmRDb250ZXh0cydcbmltcG9ydCB7IEF1dG9BY3Rpb24sIEN1c3RvbUFjdGlvbiwgdHJhY2tBY3Rpb25zIH0gZnJvbSAnLi90cmFja0FjdGlvbnMnXG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEFjdGlvbkNvbGxlY3Rpb24oXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBkb21NdXRhdGlvbk9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD4sXG4gIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sXG4gIGZvcmVncm91bmRDb250ZXh0czogRm9yZWdyb3VuZENvbnRleHRzXG4pIHtcbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fQ09NUExFVEVELCAoYWN0aW9uKSA9PlxuICAgIGxpZmVDeWNsZS5ub3RpZnkoTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19SVU1fRVZFTlRfQ09MTEVDVEVELCBwcm9jZXNzQWN0aW9uKGFjdGlvbiwgZm9yZWdyb3VuZENvbnRleHRzKSlcbiAgKVxuXG4gIGlmIChjb25maWd1cmF0aW9uLnRyYWNrSW50ZXJhY3Rpb25zKSB7XG4gICAgdHJhY2tBY3Rpb25zKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCBjb25maWd1cmF0aW9uKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRBY3Rpb246IChhY3Rpb246IEN1c3RvbUFjdGlvbiwgc2F2ZWRDb21tb25Db250ZXh0PzogQ29tbW9uQ29udGV4dCkgPT4ge1xuICAgICAgbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsIHtcbiAgICAgICAgc2F2ZWRDb21tb25Db250ZXh0LFxuICAgICAgICAuLi5wcm9jZXNzQWN0aW9uKGFjdGlvbiwgZm9yZWdyb3VuZENvbnRleHRzKSxcbiAgICAgIH0pXG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQWN0aW9uKFxuICBhY3Rpb246IEF1dG9BY3Rpb24gfCBDdXN0b21BY3Rpb24sXG4gIGZvcmVncm91bmRDb250ZXh0czogRm9yZWdyb3VuZENvbnRleHRzXG4pOiBSYXdSdW1FdmVudENvbGxlY3RlZERhdGE8UmF3UnVtQWN0aW9uRXZlbnQ+IHtcbiAgY29uc3QgYXV0b0FjdGlvblByb3BlcnRpZXMgPSBpc0F1dG9BY3Rpb24oYWN0aW9uKVxuICAgID8ge1xuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY291bnQ6IGFjdGlvbi5jb3VudHMuZXJyb3JDb3VudCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlkOiBhY3Rpb24uaWQsXG4gICAgICAgICAgbG9hZGluZ190aW1lOiB0b1NlcnZlckR1cmF0aW9uKGFjdGlvbi5kdXJhdGlvbiksXG4gICAgICAgICAgbG9uZ190YXNrOiB7XG4gICAgICAgICAgICBjb3VudDogYWN0aW9uLmNvdW50cy5sb25nVGFza0NvdW50LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgICAgIGNvdW50OiBhY3Rpb24uY291bnRzLnJlc291cmNlQ291bnQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICA6IHVuZGVmaW5lZFxuICBjb25zdCBjdXN0b21lckNvbnRleHQgPSAhaXNBdXRvQWN0aW9uKGFjdGlvbikgPyBhY3Rpb24uY29udGV4dCA6IHVuZGVmaW5lZFxuICBjb25zdCBhY3Rpb25FdmVudDogUmF3UnVtQWN0aW9uRXZlbnQgPSBjb21iaW5lKFxuICAgIHtcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBhY3Rpb24udHlwZSxcbiAgICAgIH0sXG4gICAgICBkYXRlOiBhY3Rpb24uc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgdHlwZTogUnVtRXZlbnRUeXBlLkFDVElPTiBhcyBjb25zdCxcbiAgICB9LFxuICAgIGF1dG9BY3Rpb25Qcm9wZXJ0aWVzXG4gIClcbiAgY29uc3QgaW5Gb3JlZ3JvdW5kID0gZm9yZWdyb3VuZENvbnRleHRzLmlzSW5Gb3JlZ3JvdW5kQXQoYWN0aW9uLnN0YXJ0Q2xvY2tzLnJlbGF0aXZlKVxuICBpZiAoaW5Gb3JlZ3JvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICBhY3Rpb25FdmVudC52aWV3ID0geyBpbl9mb3JlZ3JvdW5kOiBpbkZvcmVncm91bmQgfVxuICB9XG4gIHJldHVybiB7XG4gICAgY3VzdG9tZXJDb250ZXh0LFxuICAgIHJhd1J1bUV2ZW50OiBhY3Rpb25FdmVudCxcbiAgICBzdGFydFRpbWU6IGFjdGlvbi5zdGFydENsb2Nrcy5yZWxhdGl2ZSxcbiAgICBkb21haW5Db250ZXh0OiBpc0F1dG9BY3Rpb24oYWN0aW9uKSA/IHsgZXZlbnQ6IGFjdGlvbi5ldmVudCB9IDoge30sXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBdXRvQWN0aW9uKGFjdGlvbjogQXV0b0FjdGlvbiB8IEN1c3RvbUFjdGlvbik6IGFjdGlvbiBpcyBBdXRvQWN0aW9uIHtcbiAgcmV0dXJuIGFjdGlvbi50eXBlICE9PSBBY3Rpb25UeXBlLkNVU1RPTVxufVxuIiwiaW1wb3J0IHsgc2FmZVRydW5jYXRlLCBpc0lFIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuXG4vKipcbiAqIEdldCB0aGUgYWN0aW9uIG5hbWUgZnJvbSB0aGUgYXR0cmlidXRlICdkYXRhLWRkLWFjdGlvbi1uYW1lJyBvbiB0aGUgZWxlbWVudCBvciBhbnkgb2YgaXRzIHBhcmVudC5cbiAqIEl0IGNhbiBhbHNvIGJlIHJldHJpZXZlZCBmcm9tIGEgdXNlciBkZWZpbmVkIGF0dHJpYnV0ZS5cbiAqL1xuY29uc3QgREVGQVVMVF9QUk9HUkFNTUFUSUNfQVRUUklCVVRFID0gJ2RhdGEtZGQtYWN0aW9uLW5hbWUnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQoZWxlbWVudDogRWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZT86IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFByb2NlZWQgdG8gZ2V0IHRoZSBhY3Rpb24gbmFtZSBpbiB0d28gc3RlcHM6XG4gIC8vICogZmlyc3QsIGdldCB0aGUgbmFtZSBwcm9ncmFtbWF0aWNhbGx5LCBleHBsaWNpdGx5IGRlZmluZWQgYnkgdGhlIHVzZXIuXG4gIC8vICogdGhlbiwgdXNlIHN0cmF0ZWdpZXMgdGhhdCBhcmUga25vd24gdG8gcmV0dXJuIGdvb2QgcmVzdWx0cy4gVGhvc2Ugc3RyYXRlZ2llcyB3aWxsIGJlIHVzZWQgb25cbiAgLy8gICB0aGUgZWxlbWVudCBhbmQgYSBmZXcgcGFyZW50cywgYnV0IGl0J3MgbGlrZWx5IHRoYXQgdGhleSB3b24ndCBzdWNjZWVkIGF0IGFsbC5cbiAgLy8gKiBpZiBubyBuYW1lIGlzIGZvdW5kIHRoaXMgd2F5LCB1c2Ugc3RyYXRlZ2llcyByZXR1cm5pbmcgbGVzcyBhY2N1cmF0ZSBuYW1lcyBhcyBhIGZhbGxiYWNrLlxuICAvLyAgIFRob3NlIGFyZSBtdWNoIGxpa2VseSB0byBzdWNjZWVkLlxuICByZXR1cm4gKFxuICAgIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudFByb2dyYW1tYXRpY2FsbHkoZWxlbWVudCwgREVGQVVMVF9QUk9HUkFNTUFUSUNfQVRUUklCVVRFKSB8fFxuICAgICh1c2VyUHJvZ3JhbW1hdGljQXR0cmlidXRlICYmIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudFByb2dyYW1tYXRpY2FsbHkoZWxlbWVudCwgdXNlclByb2dyYW1tYXRpY0F0dHJpYnV0ZSkpIHx8XG4gICAgZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50Rm9yU3RyYXRlZ2llcyhlbGVtZW50LCBwcmlvcml0eVN0cmF0ZWdpZXMpIHx8XG4gICAgZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50Rm9yU3RyYXRlZ2llcyhlbGVtZW50LCBmYWxsYmFja1N0cmF0ZWdpZXMpIHx8XG4gICAgJydcbiAgKVxufVxuXG5mdW5jdGlvbiBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnRQcm9ncmFtbWF0aWNhbGx5KHRhcmdldEVsZW1lbnQ6IEVsZW1lbnQsIHByb2dyYW1tYXRpY0F0dHJpYnV0ZTogc3RyaW5nKSB7XG4gIGxldCBlbGVtZW50V2l0aEF0dHJpYnV0ZVxuICAvLyBXZSBkb24ndCB1c2UgZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50Rm9yU3RyYXRlZ2llcyBoZXJlLCBiZWNhdXNlIHdlIHdhbnQgdG8gY29uc2lkZXIgYWxsIHBhcmVudHMsXG4gIC8vIHdpdGhvdXQgbGltaXQuIEl0IGlzIHVwIHRvIHRoZSB1c2VyIHRvIGRlY2xhcmUgYSByZWxldmFudCBuYW1pbmcgc3RyYXRlZ3kuXG4gIC8vIElmIGF2YWlsYWJsZSwgdXNlIGVsZW1lbnQuY2xvc2VzdCgpIHRvIG1hdGNoIGdldCB0aGUgYXR0cmlidXRlIGZyb20gdGhlIGVsZW1lbnQgb3IgYW55IG9mIGl0c1xuICAvLyBwYXJlbnQuICBFbHNlIGZhbGxiYWNrIHRvIGEgbW9yZSB0cmFkaXRpb25hbCBpbXBsZW1lbnRhdGlvbi5cbiAgaWYgKHN1cHBvcnRzRWxlbWVudENsb3Nlc3QoKSkge1xuICAgIGVsZW1lbnRXaXRoQXR0cmlidXRlID0gdGFyZ2V0RWxlbWVudC5jbG9zZXN0KGBbJHtwcm9ncmFtbWF0aWNBdHRyaWJ1dGV9XWApXG4gIH0gZWxzZSB7XG4gICAgbGV0IGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gdGFyZ2V0RWxlbWVudFxuICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUocHJvZ3JhbW1hdGljQXR0cmlidXRlKSkge1xuICAgICAgICBlbGVtZW50V2l0aEF0dHJpYnV0ZSA9IGVsZW1lbnRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICB9XG4gIH1cblxuICBpZiAoIWVsZW1lbnRXaXRoQXR0cmlidXRlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgbmFtZSA9IGVsZW1lbnRXaXRoQXR0cmlidXRlLmdldEF0dHJpYnV0ZShwcm9ncmFtbWF0aWNBdHRyaWJ1dGUpIVxuICByZXR1cm4gdHJ1bmNhdGUobm9ybWFsaXplV2hpdGVzcGFjZShuYW1lLnRyaW0oKSkpXG59XG5cbnR5cGUgTmFtZVN0cmF0ZWd5ID0gKGVsZW1lbnQ6IEVsZW1lbnQgfCBIVE1MRWxlbWVudCB8IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCkgPT4gc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbFxuXG5jb25zdCBwcmlvcml0eVN0cmF0ZWdpZXM6IE5hbWVTdHJhdGVneVtdID0gW1xuICAvLyBhc3NvY2lhdGVkIExBQkVMIHRleHRcbiAgKGVsZW1lbnQpID0+IHtcbiAgICAvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGVsZW1lbnQubGFiZWxzLCBzbyB3ZSBmYWxsYmFjayB0byBhIENTUyBzZWxlY3RvciBiYXNlZCBvbiB0aGUgZWxlbWVudCBpZFxuICAgIC8vIGluc3RlYWRcbiAgICBpZiAoc3VwcG9ydHNMYWJlbFByb3BlcnR5KCkpIHtcbiAgICAgIGlmICgnbGFiZWxzJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQubGFiZWxzICYmIGVsZW1lbnQubGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQubGFiZWxzWzBdKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5pZCkge1xuICAgICAgY29uc3QgbGFiZWwgPVxuICAgICAgICBlbGVtZW50Lm93bmVyRG9jdW1lbnQgJiYgZWxlbWVudC5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxhYmVsW2Zvcj1cIiR7ZWxlbWVudC5pZC5yZXBsYWNlKCdcIicsICdcXFxcXCInKX1cIl1gKVxuICAgICAgcmV0dXJuIGxhYmVsICYmIGdldFRleHR1YWxDb250ZW50KGxhYmVsKVxuICAgIH1cbiAgfSxcbiAgLy8gSU5QVVQgYnV0dG9uIChhbmQgYXNzb2NpYXRlZCkgdmFsdWVcbiAgKGVsZW1lbnQpID0+IHtcbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgY29uc3QgaW5wdXQgPSBlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgIGNvbnN0IHR5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKVxuICAgICAgaWYgKHR5cGUgPT09ICdidXR0b24nIHx8IHR5cGUgPT09ICdzdWJtaXQnIHx8IHR5cGUgPT09ICdyZXNldCcpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9LFxuICAvLyBCVVRUT04sIExBQkVMIG9yIGJ1dHRvbi1saWtlIGVsZW1lbnQgdGV4dFxuICAoZWxlbWVudCkgPT4ge1xuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnQlVUVE9OJyB8fCBlbGVtZW50Lm5vZGVOYW1lID09PSAnTEFCRUwnIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdidXR0b24nKSB7XG4gICAgICByZXR1cm4gZ2V0VGV4dHVhbENvbnRlbnQoZWxlbWVudClcbiAgICB9XG4gIH0sXG4gIChlbGVtZW50KSA9PiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpLFxuICAvLyBhc3NvY2lhdGVkIGVsZW1lbnQgdGV4dCBkZXNpZ25hdGVkIGJ5IHRoZSBhcmlhLWxhYmVsbGVkYnkgYXR0cmlidXRlXG4gIChlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgbGFiZWxsZWRCeUF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknKVxuICAgIGlmIChsYWJlbGxlZEJ5QXR0cmlidXRlKSB7XG4gICAgICByZXR1cm4gbGFiZWxsZWRCeUF0dHJpYnV0ZVxuICAgICAgICAuc3BsaXQoL1xccysvKVxuICAgICAgICAubWFwKChpZCkgPT4gZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCwgaWQpKVxuICAgICAgICAuZmlsdGVyKChsYWJlbCk6IGxhYmVsIGlzIEhUTUxFbGVtZW50ID0+IEJvb2xlYW4obGFiZWwpKVxuICAgICAgICAubWFwKGdldFRleHR1YWxDb250ZW50KVxuICAgICAgICAuam9pbignICcpXG4gICAgfVxuICB9LFxuICAoZWxlbWVudCkgPT4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FsdCcpLFxuICAoZWxlbWVudCkgPT4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKSxcbiAgKGVsZW1lbnQpID0+IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpLFxuICAoZWxlbWVudCkgPT4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyksXG4gIC8vIFNFTEVDVCBmaXJzdCBPUFRJT04gdGV4dFxuICAoZWxlbWVudCkgPT4ge1xuICAgIGlmICgnb3B0aW9ucycgaW4gZWxlbWVudCAmJiBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQub3B0aW9uc1swXSlcbiAgICB9XG4gIH0sXG5dXG5cbmNvbnN0IGZhbGxiYWNrU3RyYXRlZ2llczogTmFtZVN0cmF0ZWd5W10gPSBbKGVsZW1lbnQpID0+IGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQpXVxuXG4vKipcbiAqIEl0ZXJhdGVzIG92ZXIgdGhlIHRhcmdldCBlbGVtZW50IGFuZCBpdHMgcGFyZW50LCB1c2luZyB0aGUgc3RyYXRlZ2llcyBsaXN0IHRvIGdldCBhbiBhY3Rpb24gbmFtZS5cbiAqIEVhY2ggc3RyYXRlZ2llcyBhcmUgYXBwbGllZCBvbiBlYWNoIGVsZW1lbnQsIHN0b3BwaW5nIGFzIHNvb24gYXMgYSBub24tZW1wdHkgdmFsdWUgaXMgcmV0dXJuZWQuXG4gKi9cbmNvbnN0IE1BWF9QQVJFTlRTX1RPX0NPTlNJREVSID0gMTBcbmZ1bmN0aW9uIGdldEFjdGlvbk5hbWVGcm9tRWxlbWVudEZvclN0cmF0ZWdpZXModGFyZ2V0RWxlbWVudDogRWxlbWVudCwgc3RyYXRlZ2llczogTmFtZVN0cmF0ZWd5W10pIHtcbiAgbGV0IGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gdGFyZ2V0RWxlbWVudFxuICBsZXQgcmVjdXJzaW9uQ291bnRlciA9IDBcbiAgd2hpbGUgKFxuICAgIHJlY3Vyc2lvbkNvdW50ZXIgPD0gTUFYX1BBUkVOVFNfVE9fQ09OU0lERVIgJiZcbiAgICBlbGVtZW50ICYmXG4gICAgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0JPRFknICYmXG4gICAgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0hUTUwnICYmXG4gICAgZWxlbWVudC5ub2RlTmFtZSAhPT0gJ0hFQUQnXG4gICkge1xuICAgIGZvciAoY29uc3Qgc3RyYXRlZ3kgb2Ygc3RyYXRlZ2llcykge1xuICAgICAgY29uc3QgbmFtZSA9IHN0cmF0ZWd5KGVsZW1lbnQpXG4gICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWROYW1lID0gbmFtZS50cmltKClcbiAgICAgICAgaWYgKHRyaW1tZWROYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHRydW5jYXRlKG5vcm1hbGl6ZVdoaXRlc3BhY2UodHJpbW1lZE5hbWUpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENvbnNpZGVyIGEgRk9STSBhcyBhIGNvbnRleHR1YWwgbGltaXQgdG8gZ2V0IHRoZSBhY3Rpb24gbmFtZS4gIFRoaXMgaXMgZXhwZXJpbWVudGFsIGFuZCBtYXlcbiAgICAvLyBiZSByZWNvbnNpZGVyZWQgaW4gdGhlIGZ1dHVyZS5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0ZPUk0nKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgcmVjdXJzaW9uQ291bnRlciArPSAxXG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplV2hpdGVzcGFjZShzOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFxzKy9nLCAnICcpXG59XG5cbmZ1bmN0aW9uIHRydW5jYXRlKHM6IHN0cmluZykge1xuICByZXR1cm4gcy5sZW5ndGggPiAxMDAgPyBgJHtzYWZlVHJ1bmNhdGUocywgMTAwKX0gWy4uLl1gIDogc1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50QnlJZChyZWZFbGVtZW50OiBFbGVtZW50LCBpZDogc3RyaW5nKSB7XG4gIC8vIFVzZSB0aGUgZWxlbWVudCBvd25lckRvY3VtZW50IGhlcmUsIGJlY2F1c2UgdGVzdHMgYXJlIGV4ZWN1dGVkIGluIGFuIGlmcmFtZSwgc29cbiAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgd29uJ3Qgd29yay5cbiAgcmV0dXJuIHJlZkVsZW1lbnQub3duZXJEb2N1bWVudCA/IHJlZkVsZW1lbnQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgOiBudWxsXG59XG5cbmZ1bmN0aW9uIGdldFRleHR1YWxDb250ZW50KGVsZW1lbnQ6IEVsZW1lbnQgfCBIVE1MRWxlbWVudCkge1xuICBpZiAoKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmlzQ29udGVudEVkaXRhYmxlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoJ2lubmVyVGV4dCcgaW4gZWxlbWVudCkge1xuICAgIGxldCB0ZXh0ID0gZWxlbWVudC5pbm5lclRleHRcbiAgICBpZiAoIXN1cHBvcnRzSW5uZXJUZXh0U2NyaXB0QW5kU3R5bGVSZW1vdmFsKCkpIHtcbiAgICAgIC8vIHJlbW92ZSB0aGUgaW5uZXIgdGV4dCBvZiBTQ1JJUFQgYW5kIFNUWUxFUyBmcm9tIHRoZSByZXN1bHQuIFRoaXMgaXMgYSBiaXQgZGlydHksIGJ1dCBzaG91bGRcbiAgICAgIC8vIGJlIHJlbGF0aXZlbHkgZmFzdCBhbmQgd29yayBpbiBtb3N0IGNhc2VzLlxuICAgICAgY29uc3QgZWxlbWVudHNUZXh0VG9SZW1vdmU6IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQsIHN0eWxlJylcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLWZvci1vZlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50c1RleHRUb1JlbW92ZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBpbm5lclRleHQgPSBlbGVtZW50c1RleHRUb1JlbW92ZVtpXS5pbm5lclRleHRcbiAgICAgICAgaWYgKGlubmVyVGV4dC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoaW5uZXJUZXh0LCAnJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQudGV4dENvbnRlbnRcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZWxlbWVudC5pbm5lclRleHQgZXhjbHVkZXMgdGhlIHRleHQgZnJvbSBpbmxpbmUgU0NSSVBUIGFuZCBTVFlMRSBlbGVtZW50LiBUaGlzXG4gKiBzaG91bGQgYmUgdGhlIGNhc2UgZXZlcnl3aGVyZSBleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIgMTAgYW5kIDExIChzZWUgWzFdKVxuICpcbiAqIFRoZSBpbm5lclRleHQgcHJvcGVydHkgcmVsaWVzIG9uIHdoYXQgaXMgYWN0dWFsbHkgcmVuZGVyZWQgdG8gY29tcHV0ZSBpdHMgb3V0cHV0LCBzbyB0byBjaGVjayBpZlxuICogaXQgYWN0dWFsbHkgZXhjbHVkZXMgU0NSSVBUIGFuZCBTVFlMRSBjb250ZW50LCBhIHNvbHV0aW9uIHdvdWxkIGJlIHRvIGNyZWF0ZSBhIHN0eWxlIGVsZW1lbnQsIHNldFxuICogaXRzIGNvbnRlbnQgdG8gJyonLCBpbmplY3QgaXQgaW4gdGhlIGRvY3VtZW50IGJvZHksIGFuZCBjaGVjayBpZiB0aGUgc3R5bGUgZWxlbWVudCBpbm5lclRleHRcbiAqIHByb3BlcnR5IHJldHVybnMgJyonLiBVc2luZyBhIG5ldyBgZG9jdW1lbnRgIGluc3RhbmNlIHdvbid0IHdvcmsgYXMgaXQgaXMgbm90IHJlbmRlcmVkLlxuICpcbiAqIFRoaXMgc29sdXRpb24gcmVxdWlyZXMgc3BlY2lmaWMgQ1NQIHJ1bGVzIChzZWUgWzJdKSB0byBiZSBzZXQgYnkgdGhlIGN1c3RvbWVyLiBXZSB3YW50IHRvIGF2b2lkXG4gKiB0aGlzLCBzbyBpbnN0ZWFkIHdlIHJlbHkgb24gYnJvd3NlciBkZXRlY3Rpb24uIEluIGNhc2Ugb2YgZmFsc2UgbmVnYXRpdmUsIHRoZSBpbXBhY3Qgc2hvdWxkIGJlXG4gKiBsb3csIHNpbmNlIHdlIHJlbHkgb24gdGhpcyByZXN1bHQgdG8gcmVtb3ZlIHRoZSBTQ1JJUFQgYW5kIFNUWUxFIGlubmVyVGV4dCAod2hpY2ggd2lsbCBiZSBlbXB0eSlcbiAqIGZyb20gYSBwYXJlbnQgZWxlbWVudCBpbm5lclRleHQuXG4gKlxuICogWzFdOiBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAyMTA2MDIxNjU3MTYvaHR0cDovL3BlcmZlY3Rpb25raWxscy5jb20vdGhlLXBvb3ItbWlzdW5kZXJzdG9vZC1pbm5lclRleHQvI2RpZmYtd2l0aC10ZXh0Q29udGVudFxuICogWzJdOiBodHRwczovL2dpdGh1Yi5jb20vRGF0YURvZy9icm93c2VyLXNkay9pc3N1ZXMvMTA4NFxuICovXG5mdW5jdGlvbiBzdXBwb3J0c0lubmVyVGV4dFNjcmlwdEFuZFN0eWxlUmVtb3ZhbCgpIHtcbiAgcmV0dXJuICFpc0lFKClcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGVsZW1lbnQubGFiZWxzIHByb3BlcnR5LiAgVGhpcyBzaG91bGQgYmUgdGhlIGNhc2VcbiAqIGV2ZXJ5d2hlcmUgZXhjZXB0IG9uIEludGVybmV0IEV4cGxvcmVyLlxuICogTm90ZTogVGhlIHJlc3VsdCBpcyBjb21wdXRlZCBsYXppbHksIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCBhbnkgRE9NIGFjY2VzcyB3aGVuIHRoZSBTREsgaXNcbiAqIGV2YWx1YXRlZC5cbiAqL1xubGV0IHN1cHBvcnRzTGFiZWxQcm9wZXJ0eVJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZFxuZnVuY3Rpb24gc3VwcG9ydHNMYWJlbFByb3BlcnR5KCkge1xuICBpZiAoc3VwcG9ydHNMYWJlbFByb3BlcnR5UmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdXBwb3J0c0xhYmVsUHJvcGVydHlSZXN1bHQgPSAnbGFiZWxzJyBpbiBIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZVxuICB9XG4gIHJldHVybiBzdXBwb3J0c0xhYmVsUHJvcGVydHlSZXN1bHRcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGVsZW1lbnQuY2xvc2VzdCBtZXRob2QuICBUaGlzIHNob3VsZCBiZSB0aGUgY2FzZVxuICogZXZlcnl3aGVyZSBleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIuXG4gKiBOb3RlOiBUaGUgcmVzdWx0IGlzIGNvbXB1dGVkIGxhemlseSwgYmVjYXVzZSB3ZSBkb24ndCB3YW50IGFueSBET00gYWNjZXNzIHdoZW4gdGhlIFNESyBpc1xuICogZXZhbHVhdGVkLlxuICovXG5sZXQgc3VwcG9ydHNFbGVtZW50Q2xvc2VzdFJlc3VsdDogYm9vbGVhbiB8IHVuZGVmaW5lZFxuZnVuY3Rpb24gc3VwcG9ydHNFbGVtZW50Q2xvc2VzdCgpIHtcbiAgaWYgKHN1cHBvcnRzRWxlbWVudENsb3Nlc3RSZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN1cHBvcnRzRWxlbWVudENsb3Nlc3RSZXN1bHQgPSAnY2xvc2VzdCcgaW4gSFRNTEVsZW1lbnQucHJvdG90eXBlXG4gIH1cbiAgcmV0dXJuIHN1cHBvcnRzRWxlbWVudENsb3Nlc3RSZXN1bHRcbn1cbiIsImltcG9ydCB7XG4gIGFkZEV2ZW50TGlzdGVuZXIsXG4gIENvbnRleHQsXG4gIERPTV9FVkVOVCxcbiAgRHVyYXRpb24sXG4gIGdlbmVyYXRlVVVJRCxcbiAgQ2xvY2tzU3RhdGUsXG4gIGNsb2Nrc05vdyxcbiAgQ29uZmlndXJhdGlvbixcbiAgT05FX1NFQ09ORCxcbiAgT2JzZXJ2YWJsZSxcbn0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgQWN0aW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL3Jhd1J1bUV2ZW50LnR5cGVzJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9saWZlQ3ljbGUnXG5pbXBvcnQgeyBFdmVudENvdW50cywgdHJhY2tFdmVudENvdW50cyB9IGZyb20gJy4uLy4uL3RyYWNrRXZlbnRDb3VudHMnXG5pbXBvcnQgeyB3YWl0SWRsZVBhZ2UgfSBmcm9tICcuLi8uLi93YWl0SWRsZVBhZ2UnXG5pbXBvcnQgeyBnZXRBY3Rpb25OYW1lRnJvbUVsZW1lbnQgfSBmcm9tICcuL2dldEFjdGlvbk5hbWVGcm9tRWxlbWVudCdcblxudHlwZSBBdXRvQWN0aW9uVHlwZSA9IEFjdGlvblR5cGUuQ0xJQ0tcblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25Db3VudHMge1xuICBlcnJvckNvdW50OiBudW1iZXJcbiAgbG9uZ1Rhc2tDb3VudDogbnVtYmVyXG4gIHJlc291cmNlQ291bnQ6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbUFjdGlvbiB7XG4gIHR5cGU6IEFjdGlvblR5cGUuQ1VTVE9NXG4gIG5hbWU6IHN0cmluZ1xuICBzdGFydENsb2NrczogQ2xvY2tzU3RhdGVcbiAgY29udGV4dD86IENvbnRleHRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvQWN0aW9uIHtcbiAgdHlwZTogQXV0b0FjdGlvblR5cGVcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgc3RhcnRDbG9ja3M6IENsb2Nrc1N0YXRlXG4gIGR1cmF0aW9uOiBEdXJhdGlvblxuICBjb3VudHM6IEFjdGlvbkNvdW50c1xuICBldmVudDogRXZlbnRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvQWN0aW9uQ3JlYXRlZEV2ZW50IHtcbiAgaWQ6IHN0cmluZ1xuICBzdGFydENsb2NrczogQ2xvY2tzU3RhdGVcbn1cblxuLy8gTWF4aW11bSBkdXJhdGlvbiBmb3IgYXV0b21hdGljIGFjdGlvbnNcbmV4cG9ydCBjb25zdCBBVVRPX0FDVElPTl9NQVhfRFVSQVRJT04gPSAxMCAqIE9ORV9TRUNPTkRcblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQWN0aW9ucyhcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGRvbU11dGF0aW9uT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTx2b2lkPixcbiAgeyBhY3Rpb25OYW1lQXR0cmlidXRlIH06IENvbmZpZ3VyYXRpb25cbikge1xuICBjb25zdCBhY3Rpb24gPSBzdGFydEFjdGlvbk1hbmFnZW1lbnQobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUpXG5cbiAgLy8gTmV3IHZpZXdzIHRyaWdnZXIgdGhlIGRpc2NhcmQgb2YgdGhlIGN1cnJlbnQgcGVuZGluZyBBY3Rpb25cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19DUkVBVEVELCAoKSA9PiB7XG4gICAgYWN0aW9uLmRpc2NhcmRDdXJyZW50KClcbiAgfSlcblxuICBjb25zdCB7IHN0b3A6IHN0b3BMaXN0ZW5lciB9ID0gYWRkRXZlbnRMaXN0ZW5lcihcbiAgICB3aW5kb3csXG4gICAgRE9NX0VWRU5ULkNMSUNLLFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKCEoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBuYW1lID0gZ2V0QWN0aW9uTmFtZUZyb21FbGVtZW50KGV2ZW50LnRhcmdldCwgYWN0aW9uTmFtZUF0dHJpYnV0ZSlcbiAgICAgIGlmICghbmFtZSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgYWN0aW9uLmNyZWF0ZShBY3Rpb25UeXBlLkNMSUNLLCBuYW1lLCBldmVudClcbiAgICB9LFxuICAgIHsgY2FwdHVyZTogdHJ1ZSB9XG4gIClcblxuICByZXR1cm4ge1xuICAgIHN0b3AoKSB7XG4gICAgICBhY3Rpb24uZGlzY2FyZEN1cnJlbnQoKVxuICAgICAgc3RvcExpc3RlbmVyKClcbiAgICB9LFxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0QWN0aW9uTWFuYWdlbWVudChsaWZlQ3ljbGU6IExpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlOiBPYnNlcnZhYmxlPHZvaWQ+KSB7XG4gIGxldCBjdXJyZW50QWN0aW9uOiBQZW5kaW5nQXV0b0FjdGlvbiB8IHVuZGVmaW5lZFxuICBsZXQgc3RvcFdhaXRpbmdJZGxlUGFnZTogKCkgPT4gdm9pZFxuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlOiAodHlwZTogQXV0b0FjdGlvblR5cGUsIG5hbWU6IHN0cmluZywgZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoY3VycmVudEFjdGlvbikge1xuICAgICAgICAvLyBJZ25vcmUgYW55IG5ldyBhY3Rpb24gaWYgYW5vdGhlciBvbmUgaXMgYWxyZWFkeSBvY2N1cnJpbmcuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgcGVuZGluZ0F1dG9BY3Rpb24gPSBuZXcgUGVuZGluZ0F1dG9BY3Rpb24obGlmZUN5Y2xlLCB0eXBlLCBuYW1lLCBldmVudClcbiAgICAgIGN1cnJlbnRBY3Rpb24gPSBwZW5kaW5nQXV0b0FjdGlvblxuICAgICAgOyh7IHN0b3A6IHN0b3BXYWl0aW5nSWRsZVBhZ2UgfSA9IHdhaXRJZGxlUGFnZShcbiAgICAgICAgbGlmZUN5Y2xlLFxuICAgICAgICBkb21NdXRhdGlvbk9ic2VydmFibGUsXG4gICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudC5oYWRBY3Rpdml0eSAmJiBldmVudC5kdXJhdGlvbiA+PSAwKSB7XG4gICAgICAgICAgICBwZW5kaW5nQXV0b0FjdGlvbi5jb21wbGV0ZShldmVudC5kdXJhdGlvbilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVuZGluZ0F1dG9BY3Rpb24uZGlzY2FyZCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRBY3Rpb24gPSB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgQVVUT19BQ1RJT05fTUFYX0RVUkFUSU9OXG4gICAgICApKVxuICAgIH0sXG4gICAgZGlzY2FyZEN1cnJlbnQ6ICgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50QWN0aW9uKSB7XG4gICAgICAgIHN0b3BXYWl0aW5nSWRsZVBhZ2UoKVxuICAgICAgICBjdXJyZW50QWN0aW9uLmRpc2NhcmQoKVxuICAgICAgICBjdXJyZW50QWN0aW9uID0gdW5kZWZpbmVkXG4gICAgICB9XG4gICAgfSxcbiAgfVxufVxuXG5jbGFzcyBQZW5kaW5nQXV0b0FjdGlvbiB7XG4gIHN0YXJ0Q2xvY2tzOiBDbG9ja3NTdGF0ZVxuICBwcml2YXRlIGlkOiBzdHJpbmdcbiAgcHJpdmF0ZSBldmVudENvdW50c1N1YnNjcmlwdGlvbjogeyBldmVudENvdW50czogRXZlbnRDb3VudHM7IHN0b3AoKTogdm9pZCB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBsaWZlQ3ljbGU6IExpZmVDeWNsZSwgcHJpdmF0ZSB0eXBlOiBBdXRvQWN0aW9uVHlwZSwgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsIHByaXZhdGUgZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5pZCA9IGdlbmVyYXRlVVVJRCgpXG4gICAgdGhpcy5zdGFydENsb2NrcyA9IGNsb2Nrc05vdygpXG4gICAgdGhpcy5ldmVudENvdW50c1N1YnNjcmlwdGlvbiA9IHRyYWNrRXZlbnRDb3VudHMobGlmZUN5Y2xlKVxuICAgIHRoaXMubGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fQ1JFQVRFRCwgeyBpZDogdGhpcy5pZCwgc3RhcnRDbG9ja3M6IHRoaXMuc3RhcnRDbG9ja3MgfSlcbiAgfVxuXG4gIGNvbXBsZXRlKGR1cmF0aW9uOiBEdXJhdGlvbikge1xuICAgIGNvbnN0IGV2ZW50Q291bnRzID0gdGhpcy5ldmVudENvdW50c1N1YnNjcmlwdGlvbi5ldmVudENvdW50c1xuICAgIHRoaXMubGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fQ09NUExFVEVELCB7XG4gICAgICBjb3VudHM6IHtcbiAgICAgICAgZXJyb3JDb3VudDogZXZlbnRDb3VudHMuZXJyb3JDb3VudCxcbiAgICAgICAgbG9uZ1Rhc2tDb3VudDogZXZlbnRDb3VudHMubG9uZ1Rhc2tDb3VudCxcbiAgICAgICAgcmVzb3VyY2VDb3VudDogZXZlbnRDb3VudHMucmVzb3VyY2VDb3VudCxcbiAgICAgIH0sXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgc3RhcnRDbG9ja3M6IHRoaXMuc3RhcnRDbG9ja3MsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICB9KVxuICAgIHRoaXMuZXZlbnRDb3VudHNTdWJzY3JpcHRpb24uc3RvcCgpXG4gIH1cblxuICBkaXNjYXJkKCkge1xuICAgIHRoaXMubGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuQVVUT19BQ1RJT05fRElTQ0FSREVEKVxuICAgIHRoaXMuZXZlbnRDb3VudHNTdWJzY3JpcHRpb24uc3RvcCgpXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIGNvbXB1dGVTdGFja1RyYWNlLFxuICBDb250ZXh0LFxuICBmb3JtYXRVbmtub3duRXJyb3IsXG4gIFJhd0Vycm9yLFxuICBFcnJvclNvdXJjZSxcbiAgQ2xvY2tzU3RhdGUsXG4gIGdlbmVyYXRlVVVJRCxcbiAgRXJyb3JIYW5kbGluZyxcbiAgT2JzZXJ2YWJsZSxcbiAgdHJhY2tDb25zb2xlRXJyb3IsXG4gIHRyYWNrUnVudGltZUVycm9yLFxufSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5pbXBvcnQgeyBDb21tb25Db250ZXh0LCBSYXdSdW1FcnJvckV2ZW50LCBSdW1FdmVudFR5cGUgfSBmcm9tICcuLi8uLi8uLi9yYXdSdW1FdmVudC50eXBlcydcbmltcG9ydCB7IExpZmVDeWNsZSwgTGlmZUN5Y2xlRXZlbnRUeXBlLCBSYXdSdW1FdmVudENvbGxlY3RlZERhdGEgfSBmcm9tICcuLi8uLi9saWZlQ3ljbGUnXG5pbXBvcnQgeyBGb3JlZ3JvdW5kQ29udGV4dHMgfSBmcm9tICcuLi8uLi9mb3JlZ3JvdW5kQ29udGV4dHMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZWRFcnJvciB7XG4gIHN0YXJ0Q2xvY2tzOiBDbG9ja3NTdGF0ZVxuICBlcnJvcjogdW5rbm93blxuICBjb250ZXh0PzogQ29udGV4dFxuICBoYW5kbGluZ1N0YWNrOiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RXJyb3JDb2xsZWN0aW9uKGxpZmVDeWNsZTogTGlmZUN5Y2xlLCBmb3JlZ3JvdW5kQ29udGV4dHM6IEZvcmVncm91bmRDb250ZXh0cykge1xuICBjb25zdCBlcnJvck9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxSYXdFcnJvcj4oKVxuICB0cmFja0NvbnNvbGVFcnJvcihlcnJvck9ic2VydmFibGUpXG4gIHRyYWNrUnVudGltZUVycm9yKGVycm9yT2JzZXJ2YWJsZSlcblxuICBlcnJvck9ic2VydmFibGUuc3Vic2NyaWJlKChlcnJvcikgPT4gbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX0VSUk9SX0NPTExFQ1RFRCwgeyBlcnJvciB9KSlcblxuICByZXR1cm4gZG9TdGFydEVycm9yQ29sbGVjdGlvbihsaWZlQ3ljbGUsIGZvcmVncm91bmRDb250ZXh0cylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvU3RhcnRFcnJvckNvbGxlY3Rpb24obGlmZUN5Y2xlOiBMaWZlQ3ljbGUsIGZvcmVncm91bmRDb250ZXh0czogRm9yZWdyb3VuZENvbnRleHRzKSB7XG4gIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19FUlJPUl9DT0xMRUNURUQsICh7IGVycm9yLCBjdXN0b21lckNvbnRleHQsIHNhdmVkQ29tbW9uQ29udGV4dCB9KSA9PiB7XG4gICAgbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsIHtcbiAgICAgIGN1c3RvbWVyQ29udGV4dCxcbiAgICAgIHNhdmVkQ29tbW9uQ29udGV4dCxcbiAgICAgIC4uLnByb2Nlc3NFcnJvcihlcnJvciwgZm9yZWdyb3VuZENvbnRleHRzKSxcbiAgICB9KVxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgYWRkRXJyb3I6IChcbiAgICAgIHsgZXJyb3IsIGhhbmRsaW5nU3RhY2ssIHN0YXJ0Q2xvY2tzLCBjb250ZXh0OiBjdXN0b21lckNvbnRleHQgfTogUHJvdmlkZWRFcnJvcixcbiAgICAgIHNhdmVkQ29tbW9uQ29udGV4dD86IENvbW1vbkNvbnRleHRcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHJhd0Vycm9yID0gY29tcHV0ZVJhd0Vycm9yKGVycm9yLCBoYW5kbGluZ1N0YWNrLCBzdGFydENsb2NrcylcbiAgICAgIGxpZmVDeWNsZS5ub3RpZnkoTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19FUlJPUl9DT0xMRUNURUQsIHtcbiAgICAgICAgY3VzdG9tZXJDb250ZXh0LFxuICAgICAgICBzYXZlZENvbW1vbkNvbnRleHQsXG4gICAgICAgIGVycm9yOiByYXdFcnJvcixcbiAgICAgIH0pXG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlUmF3RXJyb3IoZXJyb3I6IHVua25vd24sIGhhbmRsaW5nU3RhY2s6IHN0cmluZywgc3RhcnRDbG9ja3M6IENsb2Nrc1N0YXRlKTogUmF3RXJyb3Ige1xuICBjb25zdCBzdGFja1RyYWNlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yKSA6IHVuZGVmaW5lZFxuICByZXR1cm4ge1xuICAgIHN0YXJ0Q2xvY2tzLFxuICAgIHNvdXJjZTogRXJyb3JTb3VyY2UuQ1VTVE9NLFxuICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxuICAgIC4uLmZvcm1hdFVua25vd25FcnJvcihzdGFja1RyYWNlLCBlcnJvciwgJ1Byb3ZpZGVkJywgaGFuZGxpbmdTdGFjayksXG4gICAgaGFuZGxpbmc6IEVycm9ySGFuZGxpbmcuSEFORExFRCxcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzRXJyb3IoXG4gIGVycm9yOiBSYXdFcnJvcixcbiAgZm9yZWdyb3VuZENvbnRleHRzOiBGb3JlZ3JvdW5kQ29udGV4dHNcbik6IFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YTxSYXdSdW1FcnJvckV2ZW50PiB7XG4gIGNvbnN0IHJhd1J1bUV2ZW50OiBSYXdSdW1FcnJvckV2ZW50ID0ge1xuICAgIGRhdGU6IGVycm9yLnN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCxcbiAgICBlcnJvcjoge1xuICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHJlc291cmNlOiBlcnJvci5yZXNvdXJjZVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG1ldGhvZDogZXJyb3IucmVzb3VyY2UubWV0aG9kLFxuICAgICAgICAgICAgc3RhdHVzX2NvZGU6IGVycm9yLnJlc291cmNlLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICB1cmw6IGVycm9yLnJlc291cmNlLnVybCxcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc291cmNlOiBlcnJvci5zb3VyY2UsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgICBoYW5kbGluZ19zdGFjazogZXJyb3IuaGFuZGxpbmdTdGFjayxcbiAgICAgIHR5cGU6IGVycm9yLnR5cGUsXG4gICAgICBoYW5kbGluZzogZXJyb3IuaGFuZGxpbmcsXG4gICAgfSxcbiAgICB0eXBlOiBSdW1FdmVudFR5cGUuRVJST1IgYXMgY29uc3QsXG4gIH1cbiAgY29uc3QgaW5Gb3JlZ3JvdW5kID0gZm9yZWdyb3VuZENvbnRleHRzLmlzSW5Gb3JlZ3JvdW5kQXQoZXJyb3Iuc3RhcnRDbG9ja3MucmVsYXRpdmUpXG4gIGlmIChpbkZvcmVncm91bmQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJhd1J1bUV2ZW50LnZpZXcgPSB7IGluX2ZvcmVncm91bmQ6IGluRm9yZWdyb3VuZCB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJhd1J1bUV2ZW50LFxuICAgIHN0YXJ0VGltZTogZXJyb3Iuc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgZG9tYWluQ29udGV4dDoge1xuICAgICAgZXJyb3I6IGVycm9yLm9yaWdpbmFsRXJyb3IsXG4gICAgfSxcbiAgfVxufVxuIiwiaW1wb3J0IHsgdG9TZXJ2ZXJEdXJhdGlvbiwgcmVsYXRpdmVUb0Nsb2NrcywgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgUmF3UnVtTG9uZ1Rhc2tFdmVudCwgUnVtRXZlbnRUeXBlIH0gZnJvbSAnLi4vLi4vLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSB9IGZyb20gJy4uLy4uL2xpZmVDeWNsZSdcbmltcG9ydCB7IFJ1bVNlc3Npb24gfSBmcm9tICcuLi8uLi9ydW1TZXNzaW9uJ1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRMb25nVGFza0NvbGxlY3Rpb24obGlmZUN5Y2xlOiBMaWZlQ3ljbGUsIHNlc3Npb246IFJ1bVNlc3Npb24pIHtcbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuUEVSRk9STUFOQ0VfRU5UUllfQ09MTEVDVEVELCAoZW50cnkpID0+IHtcbiAgICBpZiAoZW50cnkuZW50cnlUeXBlICE9PSAnbG9uZ3Rhc2snIHx8IHNlc3Npb24uaGFzTGl0ZVBsYW4oKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0Q2xvY2tzID0gcmVsYXRpdmVUb0Nsb2NrcyhlbnRyeS5zdGFydFRpbWUpXG4gICAgY29uc3QgcmF3UnVtRXZlbnQ6IFJhd1J1bUxvbmdUYXNrRXZlbnQgPSB7XG4gICAgICBkYXRlOiBzdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICBsb25nX3Rhc2s6IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICBkdXJhdGlvbjogdG9TZXJ2ZXJEdXJhdGlvbihlbnRyeS5kdXJhdGlvbiksXG4gICAgICB9LFxuICAgICAgdHlwZTogUnVtRXZlbnRUeXBlLkxPTkdfVEFTSyxcbiAgICB9XG4gICAgbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsIHtcbiAgICAgIHJhd1J1bUV2ZW50LFxuICAgICAgc3RhcnRUaW1lOiBzdGFydENsb2Nrcy5yZWxhdGl2ZSxcbiAgICAgIGRvbWFpbkNvbnRleHQ6IHsgcGVyZm9ybWFuY2VFbnRyeTogZW50cnkudG9KU09OKCkgfSxcbiAgICB9KVxuICB9KVxufVxuIiwiaW1wb3J0IHsgRHVyYXRpb24sIFJlbGF0aXZlVGltZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFJ1bVBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcgfSBmcm9tICcuLi8uLi8uLi9icm93c2VyL3BlcmZvcm1hbmNlQ29sbGVjdGlvbidcbmltcG9ydCB7IFJlcXVlc3RDb21wbGV0ZUV2ZW50IH0gZnJvbSAnLi4vLi4vcmVxdWVzdENvbGxlY3Rpb24nXG5pbXBvcnQgeyB0b1ZhbGlkRW50cnkgfSBmcm9tICcuL3Jlc291cmNlVXRpbHMnXG5cbmludGVyZmFjZSBUaW1pbmcge1xuICBzdGFydFRpbWU6IFJlbGF0aXZlVGltZVxuICBkdXJhdGlvbjogRHVyYXRpb25cbn1cblxuLyoqXG4gKiBMb29rIGZvciBjb3JyZXNwb25kaW5nIHRpbWluZyBpbiByZXNvdXJjZSB0aW1pbmcgYnVmZmVyXG4gKlxuICogT2JzZXJ2YXRpb25zOlxuICogLSBUaW1pbmcgKHN0YXJ0LCBlbmQpIGFyZSBuZXN0ZWQgaW5zaWRlIHRoZSByZXF1ZXN0IChzdGFydCwgZW5kKVxuICogLSBTb21lIHRpbWluZyBjYW4gYmUgbm90IGV4YWN0bHkgbmVzdGVkLCBiZWluZyBvZmYgYnkgPCAxIG1zXG4gKiAtIEJyb3dzZXJzIGdlbmVyYXRlIGEgdGltaW5nIGVudHJ5IGZvciBPUFRJT05TIHJlcXVlc3RcbiAqXG4gKiBTdHJhdGVneTpcbiAqIC0gZnJvbSB2YWxpZCBuZXN0ZWQgZW50cmllcyAod2l0aCAxIG1zIGVycm9yIG1hcmdpbilcbiAqIC0gaWYgYSBzaW5nbGUgdGltaW5nIG1hdGNoLCByZXR1cm4gdGhlIHRpbWluZ1xuICogLSBpZiB0d28gZm9sbG93aW5nIHRpbWluZ3MgbWF0Y2ggKE9QVElPTlMgcmVxdWVzdCksIHJldHVybiB0aGUgdGltaW5nIGZvciB0aGUgYWN0dWFsIHJlcXVlc3RcbiAqIC0gb3RoZXJ3aXNlIHdlIGNhbid0IGRlY2lkZSwgcmV0dXJuIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hSZXF1ZXN0VGltaW5nKHJlcXVlc3Q6IFJlcXVlc3RDb21wbGV0ZUV2ZW50KSB7XG4gIGlmICghcGVyZm9ybWFuY2UgfHwgISgnZ2V0RW50cmllc0J5TmFtZScgaW4gcGVyZm9ybWFuY2UpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qgc2FtZU5hbWVFbnRyaWVzID0gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShyZXF1ZXN0LnVybCwgJ3Jlc291cmNlJylcblxuICBpZiAoIXNhbWVOYW1lRW50cmllcy5sZW5ndGggfHwgISgndG9KU09OJyBpbiBzYW1lTmFtZUVudHJpZXNbMF0pKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBjYW5kaWRhdGVzID0gc2FtZU5hbWVFbnRyaWVzXG4gICAgLm1hcCgoZW50cnkpID0+IGVudHJ5LnRvSlNPTigpIGFzIFJ1bVBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcpXG4gICAgLmZpbHRlcih0b1ZhbGlkRW50cnkpXG4gICAgLmZpbHRlcigoZW50cnkpID0+XG4gICAgICBpc0JldHdlZW4oXG4gICAgICAgIGVudHJ5LFxuICAgICAgICByZXF1ZXN0LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLFxuICAgICAgICBlbmRUaW1lKHsgc3RhcnRUaW1lOiByZXF1ZXN0LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLCBkdXJhdGlvbjogcmVxdWVzdC5kdXJhdGlvbiB9KVxuICAgICAgKVxuICAgIClcblxuICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlc1swXVxuICB9XG5cbiAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAyICYmIGZpcnN0Q2FuQmVPcHRpb25SZXF1ZXN0KGNhbmRpZGF0ZXMpKSB7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXNbMV1cbiAgfVxuXG4gIHJldHVyblxufVxuXG5mdW5jdGlvbiBmaXJzdENhbkJlT3B0aW9uUmVxdWVzdChjb3JyZXNwb25kaW5nRW50cmllczogUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZ1tdKSB7XG4gIHJldHVybiBlbmRUaW1lKGNvcnJlc3BvbmRpbmdFbnRyaWVzWzBdKSA8PSBjb3JyZXNwb25kaW5nRW50cmllc1sxXS5zdGFydFRpbWVcbn1cblxuZnVuY3Rpb24gZW5kVGltZSh0aW1pbmc6IFRpbWluZykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3Jlc3RyaWN0LXBsdXMtb3BlcmFuZHNcbiAgcmV0dXJuICh0aW1pbmcuc3RhcnRUaW1lICsgdGltaW5nLmR1cmF0aW9uKSBhcyBSZWxhdGl2ZVRpbWVcbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuKHRpbWluZzogVGltaW5nLCBzdGFydDogUmVsYXRpdmVUaW1lLCBlbmQ6IFJlbGF0aXZlVGltZSkge1xuICBjb25zdCBlcnJvck1hcmdpbiA9IDFcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC1wbHVzLW9wZXJhbmRzXG4gIHJldHVybiB0aW1pbmcuc3RhcnRUaW1lID49IHN0YXJ0IC0gZXJyb3JNYXJnaW4gJiYgZW5kVGltZSh0aW1pbmcpIDw9IGVuZCArIGVycm9yTWFyZ2luXG59XG4iLCJpbXBvcnQge1xuICBjb21iaW5lLFxuICBnZW5lcmF0ZVVVSUQsXG4gIFJlcXVlc3RUeXBlLFxuICBSZXNvdXJjZVR5cGUsXG4gIHRvU2VydmVyRHVyYXRpb24sXG4gIHJlbGF0aXZlVG9DbG9ja3MsXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7XG4gIFJ1bVBlcmZvcm1hbmNlRW50cnksXG4gIFJ1bVBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcsXG4gIHN1cHBvcnRQZXJmb3JtYW5jZUVudHJ5LFxufSBmcm9tICcuLi8uLi8uLi9icm93c2VyL3BlcmZvcm1hbmNlQ29sbGVjdGlvbidcbmltcG9ydCB7XG4gIFBlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvbixcbiAgUnVtWGhyUmVzb3VyY2VFdmVudERvbWFpbkNvbnRleHQsXG4gIFJ1bUZldGNoUmVzb3VyY2VFdmVudERvbWFpbkNvbnRleHQsXG59IGZyb20gJy4uLy4uLy4uL2RvbWFpbkNvbnRleHQudHlwZXMnXG5pbXBvcnQgeyBSYXdSdW1SZXNvdXJjZUV2ZW50LCBSdW1FdmVudFR5cGUgfSBmcm9tICcuLi8uLi8uLi9yYXdSdW1FdmVudC50eXBlcydcbmltcG9ydCB7IExpZmVDeWNsZSwgTGlmZUN5Y2xlRXZlbnRUeXBlLCBSYXdSdW1FdmVudENvbGxlY3RlZERhdGEgfSBmcm9tICcuLi8uLi9saWZlQ3ljbGUnXG5pbXBvcnQgeyBSZXF1ZXN0Q29tcGxldGVFdmVudCB9IGZyb20gJy4uLy4uL3JlcXVlc3RDb2xsZWN0aW9uJ1xuaW1wb3J0IHsgbWF0Y2hSZXF1ZXN0VGltaW5nIH0gZnJvbSAnLi9tYXRjaFJlcXVlc3RUaW1pbmcnXG5pbXBvcnQge1xuICBjb21wdXRlUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHMsXG4gIGNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRHVyYXRpb24sXG4gIGNvbXB1dGVSZXNvdXJjZUtpbmQsXG4gIGNvbXB1dGVTaXplLFxuICBpc1JlcXVlc3RLaW5kLFxufSBmcm9tICcuL3Jlc291cmNlVXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJlc291cmNlQ29sbGVjdGlvbihsaWZlQ3ljbGU6IExpZmVDeWNsZSkge1xuICBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX0NPTVBMRVRFRCwgKHJlcXVlc3Q6IFJlcXVlc3RDb21wbGV0ZUV2ZW50KSA9PiB7XG4gICAgbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuUkFXX1JVTV9FVkVOVF9DT0xMRUNURUQsIHByb2Nlc3NSZXF1ZXN0KHJlcXVlc3QpKVxuICB9KVxuXG4gIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCwgKGVudHJ5KSA9PiB7XG4gICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3Jlc291cmNlJyAmJiAhaXNSZXF1ZXN0S2luZChlbnRyeSkpIHtcbiAgICAgIGxpZmVDeWNsZS5ub3RpZnkoTGlmZUN5Y2xlRXZlbnRUeXBlLlJBV19SVU1fRVZFTlRfQ09MTEVDVEVELCBwcm9jZXNzUmVzb3VyY2VFbnRyeShlbnRyeSkpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0Q29tcGxldGVFdmVudCk6IFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YTxSYXdSdW1SZXNvdXJjZUV2ZW50PiB7XG4gIGNvbnN0IHR5cGUgPSByZXF1ZXN0LnR5cGUgPT09IFJlcXVlc3RUeXBlLlhIUiA/IFJlc291cmNlVHlwZS5YSFIgOiBSZXNvdXJjZVR5cGUuRkVUQ0hcblxuICBjb25zdCBtYXRjaGluZ1RpbWluZyA9IG1hdGNoUmVxdWVzdFRpbWluZyhyZXF1ZXN0KVxuICBjb25zdCBzdGFydENsb2NrcyA9IG1hdGNoaW5nVGltaW5nID8gcmVsYXRpdmVUb0Nsb2NrcyhtYXRjaGluZ1RpbWluZy5zdGFydFRpbWUpIDogcmVxdWVzdC5zdGFydENsb2Nrc1xuICBjb25zdCBjb3JyZXNwb25kaW5nVGltaW5nT3ZlcnJpZGVzID0gbWF0Y2hpbmdUaW1pbmcgPyBjb21wdXRlUGVyZm9ybWFuY2VFbnRyeU1ldHJpY3MobWF0Y2hpbmdUaW1pbmcpIDogdW5kZWZpbmVkXG5cbiAgY29uc3QgdHJhY2luZ0luZm8gPSBjb21wdXRlUmVxdWVzdFRyYWNpbmdJbmZvKHJlcXVlc3QpXG5cbiAgY29uc3QgcmVzb3VyY2VFdmVudCA9IGNvbWJpbmUoXG4gICAge1xuICAgICAgZGF0ZTogc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlVVVJRCgpLFxuICAgICAgICB0eXBlLFxuICAgICAgICBkdXJhdGlvbjogdG9TZXJ2ZXJEdXJhdGlvbihyZXF1ZXN0LmR1cmF0aW9uKSxcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgc3RhdHVzX2NvZGU6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICB1cmw6IHJlcXVlc3QudXJsLFxuICAgICAgfSxcbiAgICAgIHR5cGU6IFJ1bUV2ZW50VHlwZS5SRVNPVVJDRSBhcyBjb25zdCxcbiAgICB9LFxuICAgIHRyYWNpbmdJbmZvLFxuICAgIGNvcnJlc3BvbmRpbmdUaW1pbmdPdmVycmlkZXNcbiAgKVxuICByZXR1cm4ge1xuICAgIHN0YXJ0VGltZTogc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgcmF3UnVtRXZlbnQ6IHJlc291cmNlRXZlbnQsXG4gICAgZG9tYWluQ29udGV4dDoge1xuICAgICAgcGVyZm9ybWFuY2VFbnRyeTogbWF0Y2hpbmdUaW1pbmcgJiYgdG9QZXJmb3JtYW5jZUVudHJ5UmVwcmVzZW50YXRpb24obWF0Y2hpbmdUaW1pbmcpLFxuICAgICAgeGhyOiByZXF1ZXN0LnhocixcbiAgICAgIHJlc3BvbnNlOiByZXF1ZXN0LnJlc3BvbnNlLFxuICAgICAgcmVxdWVzdElucHV0OiByZXF1ZXN0LmlucHV0LFxuICAgICAgcmVxdWVzdEluaXQ6IHJlcXVlc3QuaW5pdCxcbiAgICAgIGVycm9yOiByZXF1ZXN0LmVycm9yLFxuICAgIH0gYXMgUnVtRmV0Y2hSZXNvdXJjZUV2ZW50RG9tYWluQ29udGV4dCB8IFJ1bVhoclJlc291cmNlRXZlbnREb21haW5Db250ZXh0LFxuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NSZXNvdXJjZUVudHJ5KGVudHJ5OiBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKTogUmF3UnVtRXZlbnRDb2xsZWN0ZWREYXRhPFJhd1J1bVJlc291cmNlRXZlbnQ+IHtcbiAgY29uc3QgdHlwZSA9IGNvbXB1dGVSZXNvdXJjZUtpbmQoZW50cnkpXG4gIGNvbnN0IGVudHJ5TWV0cmljcyA9IGNvbXB1dGVQZXJmb3JtYW5jZUVudHJ5TWV0cmljcyhlbnRyeSlcbiAgY29uc3QgdHJhY2luZ0luZm8gPSBjb21wdXRlRW50cnlUcmFjaW5nSW5mbyhlbnRyeSlcblxuICBjb25zdCBzdGFydENsb2NrcyA9IHJlbGF0aXZlVG9DbG9ja3MoZW50cnkuc3RhcnRUaW1lKVxuICBjb25zdCByZXNvdXJjZUV2ZW50ID0gY29tYmluZShcbiAgICB7XG4gICAgICBkYXRlOiBzdGFydENsb2Nrcy50aW1lU3RhbXAsXG4gICAgICByZXNvdXJjZToge1xuICAgICAgICBpZDogZ2VuZXJhdGVVVUlEKCksXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHVybDogZW50cnkubmFtZSxcbiAgICAgIH0sXG4gICAgICB0eXBlOiBSdW1FdmVudFR5cGUuUkVTT1VSQ0UgYXMgY29uc3QsXG4gICAgfSxcbiAgICB0cmFjaW5nSW5mbyxcbiAgICBlbnRyeU1ldHJpY3NcbiAgKVxuICByZXR1cm4ge1xuICAgIHN0YXJ0VGltZTogc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgcmF3UnVtRXZlbnQ6IHJlc291cmNlRXZlbnQsXG4gICAgZG9tYWluQ29udGV4dDoge1xuICAgICAgcGVyZm9ybWFuY2VFbnRyeTogdG9QZXJmb3JtYW5jZUVudHJ5UmVwcmVzZW50YXRpb24oZW50cnkpLFxuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZVBlcmZvcm1hbmNlRW50cnlNZXRyaWNzKHRpbWluZzogUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc291cmNlOiB7XG4gICAgICBkdXJhdGlvbjogY29tcHV0ZVBlcmZvcm1hbmNlUmVzb3VyY2VEdXJhdGlvbih0aW1pbmcpLFxuICAgICAgc2l6ZTogY29tcHV0ZVNpemUodGltaW5nKSxcbiAgICAgIC4uLmNvbXB1dGVQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlscyh0aW1pbmcpLFxuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZVJlcXVlc3RUcmFjaW5nSW5mbyhyZXF1ZXN0OiBSZXF1ZXN0Q29tcGxldGVFdmVudCkge1xuICBjb25zdCBoYXNCZWVuVHJhY2VkID0gcmVxdWVzdC50cmFjZUlkICYmIHJlcXVlc3Quc3BhbklkXG4gIGlmICghaGFzQmVlblRyYWNlZCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICByZXR1cm4ge1xuICAgIF9kZDoge1xuICAgICAgc3Bhbl9pZDogcmVxdWVzdC5zcGFuSWQhLnRvRGVjaW1hbFN0cmluZygpLFxuICAgICAgdHJhY2VfaWQ6IHJlcXVlc3QudHJhY2VJZCEudG9EZWNpbWFsU3RyaW5nKCksXG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlRW50cnlUcmFjaW5nSW5mbyhlbnRyeTogUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZykge1xuICByZXR1cm4gZW50cnkudHJhY2VJZCA/IHsgX2RkOiB7IHRyYWNlX2lkOiBlbnRyeS50cmFjZUlkIH0gfSA6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiB0b1BlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvbihlbnRyeTogUnVtUGVyZm9ybWFuY2VFbnRyeSk6IFBlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvbiB7XG4gIGlmIChzdXBwb3J0UGVyZm9ybWFuY2VFbnRyeSgpICYmIGVudHJ5IGluc3RhbmNlb2YgUGVyZm9ybWFuY2VFbnRyeSkge1xuICAgIGVudHJ5LnRvSlNPTigpXG4gIH1cbiAgcmV0dXJuIGVudHJ5IGFzIFBlcmZvcm1hbmNlRW50cnlSZXByZXNlbnRhdGlvblxufVxuIiwiaW1wb3J0IHtcbiAgYWRkTW9uaXRvcmluZ01lc3NhZ2UsXG4gIENvbmZpZ3VyYXRpb24sXG4gIGVsYXBzZWQsXG4gIGdldFBhdGhOYW1lLFxuICBpbmNsdWRlcyxcbiAgaXNWYWxpZFVybCxcbiAgUmVsYXRpdmVUaW1lLFxuICBSZXNvdXJjZVR5cGUsXG4gIFNlcnZlckR1cmF0aW9uLFxuICB0b1NlcnZlckR1cmF0aW9uLFxufSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5pbXBvcnQgeyBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nIH0gZnJvbSAnLi4vLi4vLi4vYnJvd3Nlci9wZXJmb3JtYW5jZUNvbGxlY3Rpb24nXG5cbmltcG9ydCB7IFBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzRWxlbWVudCB9IGZyb20gJy4uLy4uLy4uL3Jhd1J1bUV2ZW50LnR5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzIHtcbiAgcmVkaXJlY3Q/OiBQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlsc0VsZW1lbnRcbiAgZG5zPzogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHNFbGVtZW50XG4gIGNvbm5lY3Q/OiBQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlsc0VsZW1lbnRcbiAgc3NsPzogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHNFbGVtZW50XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZmlyc3RfYnl0ZTogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHNFbGVtZW50XG4gIGRvd25sb2FkOiBQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlsc0VsZW1lbnRcbn1cblxuZXhwb3J0IGNvbnN0IEZBS0VfSU5JVElBTF9ET0NVTUVOVCA9ICdpbml0aWFsX2RvY3VtZW50J1xuXG5jb25zdCBSRVNPVVJDRV9UWVBFUzogQXJyYXk8W1Jlc291cmNlVHlwZSwgKGluaXRpYXRvclR5cGU6IHN0cmluZywgcGF0aDogc3RyaW5nKSA9PiBib29sZWFuXT4gPSBbXG4gIFtSZXNvdXJjZVR5cGUuRE9DVU1FTlQsIChpbml0aWF0b3JUeXBlOiBzdHJpbmcpID0+IEZBS0VfSU5JVElBTF9ET0NVTUVOVCA9PT0gaW5pdGlhdG9yVHlwZV0sXG4gIFtSZXNvdXJjZVR5cGUuWEhSLCAoaW5pdGlhdG9yVHlwZTogc3RyaW5nKSA9PiAneG1saHR0cHJlcXVlc3QnID09PSBpbml0aWF0b3JUeXBlXSxcbiAgW1Jlc291cmNlVHlwZS5GRVRDSCwgKGluaXRpYXRvclR5cGU6IHN0cmluZykgPT4gJ2ZldGNoJyA9PT0gaW5pdGlhdG9yVHlwZV0sXG4gIFtSZXNvdXJjZVR5cGUuQkVBQ09OLCAoaW5pdGlhdG9yVHlwZTogc3RyaW5nKSA9PiAnYmVhY29uJyA9PT0gaW5pdGlhdG9yVHlwZV0sXG4gIFtSZXNvdXJjZVR5cGUuQ1NTLCAoXzogc3RyaW5nLCBwYXRoOiBzdHJpbmcpID0+IC9cXC5jc3MkL2kudGVzdChwYXRoKV0sXG4gIFtSZXNvdXJjZVR5cGUuSlMsIChfOiBzdHJpbmcsIHBhdGg6IHN0cmluZykgPT4gL1xcLmpzJC9pLnRlc3QocGF0aCldLFxuICBbXG4gICAgUmVzb3VyY2VUeXBlLklNQUdFLFxuICAgIChpbml0aWF0b3JUeXBlOiBzdHJpbmcsIHBhdGg6IHN0cmluZykgPT5cbiAgICAgIGluY2x1ZGVzKFsnaW1hZ2UnLCAnaW1nJywgJ2ljb24nXSwgaW5pdGlhdG9yVHlwZSkgfHwgL1xcLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnfGljbykkL2kuZXhlYyhwYXRoKSAhPT0gbnVsbCxcbiAgXSxcbiAgW1Jlc291cmNlVHlwZS5GT05ULCAoXzogc3RyaW5nLCBwYXRoOiBzdHJpbmcpID0+IC9cXC4od29mZnxlb3R8d29mZjJ8dHRmKSQvaS5leGVjKHBhdGgpICE9PSBudWxsXSxcbiAgW1xuICAgIFJlc291cmNlVHlwZS5NRURJQSxcbiAgICAoaW5pdGlhdG9yVHlwZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpID0+XG4gICAgICBpbmNsdWRlcyhbJ2F1ZGlvJywgJ3ZpZGVvJ10sIGluaXRpYXRvclR5cGUpIHx8IC9cXC4obXAzfG1wNCkkL2kuZXhlYyhwYXRoKSAhPT0gbnVsbCxcbiAgXSxcbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSZXNvdXJjZUtpbmQodGltaW5nOiBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKSB7XG4gIGNvbnN0IHVybCA9IHRpbWluZy5uYW1lXG4gIGlmICghaXNWYWxpZFVybCh1cmwpKSB7XG4gICAgYWRkTW9uaXRvcmluZ01lc3NhZ2UoYEZhaWxlZCB0byBjb25zdHJ1Y3QgVVJMIGZvciBcIiR7dGltaW5nLm5hbWV9XCJgKVxuICAgIHJldHVybiBSZXNvdXJjZVR5cGUuT1RIRVJcbiAgfVxuICBjb25zdCBwYXRoID0gZ2V0UGF0aE5hbWUodXJsKVxuICBmb3IgKGNvbnN0IFt0eXBlLCBpc1R5cGVdIG9mIFJFU09VUkNFX1RZUEVTKSB7XG4gICAgaWYgKGlzVHlwZSh0aW1pbmcuaW5pdGlhdG9yVHlwZSwgcGF0aCkpIHtcbiAgICAgIHJldHVybiB0eXBlXG4gICAgfVxuICB9XG4gIHJldHVybiBSZXNvdXJjZVR5cGUuT1RIRVJcbn1cblxuZnVuY3Rpb24gYXJlSW5PcmRlciguLi5udW1iZXJzOiBudW1iZXJbXSkge1xuICBmb3IgKGxldCBpID0gMTsgaSA8IG51bWJlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAobnVtYmVyc1tpIC0gMV0gPiBudW1iZXJzW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVxdWVzdEtpbmQodGltaW5nOiBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKSB7XG4gIHJldHVybiB0aW1pbmcuaW5pdGlhdG9yVHlwZSA9PT0gJ3htbGh0dHByZXF1ZXN0JyB8fCB0aW1pbmcuaW5pdGlhdG9yVHlwZSA9PT0gJ2ZldGNoJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBlcmZvcm1hbmNlUmVzb3VyY2VEdXJhdGlvbihlbnRyeTogUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZyk6IFNlcnZlckR1cmF0aW9uIHtcbiAgY29uc3QgeyBkdXJhdGlvbiwgc3RhcnRUaW1lLCByZXNwb25zZUVuZCB9ID0gZW50cnlcblxuICAvLyBTYWZhcmkgZHVyYXRpb24gaXMgYWx3YXlzIDAgb24gdGltaW5ncyBibG9ja2VkIGJ5IGNyb3NzIG9yaWdpbiBwb2xpY2llcy5cbiAgaWYgKGR1cmF0aW9uID09PSAwICYmIHN0YXJ0VGltZSA8IHJlc3BvbnNlRW5kKSB7XG4gICAgcmV0dXJuIHRvU2VydmVyRHVyYXRpb24oZWxhcHNlZChzdGFydFRpbWUsIHJlc3BvbnNlRW5kKSlcbiAgfVxuXG4gIHJldHVybiB0b1NlcnZlckR1cmF0aW9uKGR1cmF0aW9uKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzKFxuICBlbnRyeTogUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZ1xuKTogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHMgfCB1bmRlZmluZWQge1xuICBjb25zdCB2YWxpZEVudHJ5ID0gdG9WYWxpZEVudHJ5KGVudHJ5KVxuXG4gIGlmICghdmFsaWRFbnRyeSkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICBjb25zdCB7XG4gICAgc3RhcnRUaW1lLFxuICAgIGZldGNoU3RhcnQsXG4gICAgcmVkaXJlY3RTdGFydCxcbiAgICByZWRpcmVjdEVuZCxcbiAgICBkb21haW5Mb29rdXBTdGFydCxcbiAgICBkb21haW5Mb29rdXBFbmQsXG4gICAgY29ubmVjdFN0YXJ0LFxuICAgIHNlY3VyZUNvbm5lY3Rpb25TdGFydCxcbiAgICBjb25uZWN0RW5kLFxuICAgIHJlcXVlc3RTdGFydCxcbiAgICByZXNwb25zZVN0YXJ0LFxuICAgIHJlc3BvbnNlRW5kLFxuICB9ID0gdmFsaWRFbnRyeVxuXG4gIGNvbnN0IGRldGFpbHM6IFBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzID0ge1xuICAgIGRvd25sb2FkOiBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCByZXNwb25zZVN0YXJ0LCByZXNwb25zZUVuZCksXG4gICAgZmlyc3RfYnl0ZTogZm9ybWF0VGltaW5nKHN0YXJ0VGltZSwgcmVxdWVzdFN0YXJ0LCByZXNwb25zZVN0YXJ0KSxcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBhIGNvbm5lY3Rpb24gb2NjdXJyZWRcbiAgaWYgKGNvbm5lY3RFbmQgIT09IGZldGNoU3RhcnQpIHtcbiAgICBkZXRhaWxzLmNvbm5lY3QgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCBjb25uZWN0U3RhcnQsIGNvbm5lY3RFbmQpXG5cbiAgICAvLyBNYWtlIHN1cmUgYSBzZWN1cmUgY29ubmVjdGlvbiBvY2N1cnJlZFxuICAgIGlmIChhcmVJbk9yZGVyKGNvbm5lY3RTdGFydCwgc2VjdXJlQ29ubmVjdGlvblN0YXJ0LCBjb25uZWN0RW5kKSkge1xuICAgICAgZGV0YWlscy5zc2wgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCBzZWN1cmVDb25uZWN0aW9uU3RhcnQsIGNvbm5lY3RFbmQpXG4gICAgfVxuICB9XG5cbiAgLy8gTWFrZSBzdXJlIGEgZG9tYWluIGxvb2t1cCBvY2N1cnJlZFxuICBpZiAoZG9tYWluTG9va3VwRW5kICE9PSBmZXRjaFN0YXJ0KSB7XG4gICAgZGV0YWlscy5kbnMgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCBkb21haW5Mb29rdXBTdGFydCwgZG9tYWluTG9va3VwRW5kKVxuICB9XG5cbiAgaWYgKGhhc1JlZGlyZWN0aW9uKGVudHJ5KSkge1xuICAgIGRldGFpbHMucmVkaXJlY3QgPSBmb3JtYXRUaW1pbmcoc3RhcnRUaW1lLCByZWRpcmVjdFN0YXJ0LCByZWRpcmVjdEVuZClcbiAgfVxuXG4gIHJldHVybiBkZXRhaWxzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1ZhbGlkRW50cnkoZW50cnk6IFJ1bVBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcpIHtcbiAgLy8gRW5zdXJlIHRpbWluZ3MgYXJlIGluIHRoZSByaWdodCBvcmRlci4gT24gdG9wIG9mIGZpbHRlcmluZyBvdXQgcG90ZW50aWFsIGludmFsaWRcbiAgLy8gUnVtUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZywgaXQgd2lsbCBpZ25vcmUgZW50cmllcyBmcm9tIHJlcXVlc3RzIHdoZXJlIHRpbWluZ3MgY2Fubm90IGJlXG4gIC8vIGNvbGxlY3RlZCwgZm9yIGV4YW1wbGUgY3Jvc3Mgb3JpZ2luIHJlcXVlc3RzIHdpdGhvdXQgYSBcIlRpbWluZy1BbGxvdy1PcmlnaW5cIiBoZWFkZXIgYWxsb3dpbmdcbiAgLy8gaXQuXG4gIGlmIChcbiAgICAhYXJlSW5PcmRlcihcbiAgICAgIGVudHJ5LnN0YXJ0VGltZSxcbiAgICAgIGVudHJ5LmZldGNoU3RhcnQsXG4gICAgICBlbnRyeS5kb21haW5Mb29rdXBTdGFydCxcbiAgICAgIGVudHJ5LmRvbWFpbkxvb2t1cEVuZCxcbiAgICAgIGVudHJ5LmNvbm5lY3RTdGFydCxcbiAgICAgIGVudHJ5LmNvbm5lY3RFbmQsXG4gICAgICBlbnRyeS5yZXF1ZXN0U3RhcnQsXG4gICAgICBlbnRyeS5yZXNwb25zZVN0YXJ0LFxuICAgICAgZW50cnkucmVzcG9uc2VFbmRcbiAgICApXG4gICkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGlmICghaGFzUmVkaXJlY3Rpb24oZW50cnkpKSB7XG4gICAgcmV0dXJuIGVudHJ5XG4gIH1cblxuICBsZXQgeyByZWRpcmVjdFN0YXJ0LCByZWRpcmVjdEVuZCB9ID0gZW50cnlcbiAgLy8gRmlyZWZveCBkb2Vzbid0IHByb3ZpZGUgcmVkaXJlY3QgdGltaW5ncyBvbiBjcm9zcyBvcmlnaW4gcmVxdWVzdHMuXG4gIC8vIFByb3ZpZGUgYSBkZWZhdWx0IGZvciB0aG9zZS5cbiAgaWYgKHJlZGlyZWN0U3RhcnQgPCBlbnRyeS5zdGFydFRpbWUpIHtcbiAgICByZWRpcmVjdFN0YXJ0ID0gZW50cnkuc3RhcnRUaW1lXG4gIH1cbiAgaWYgKHJlZGlyZWN0RW5kIDwgZW50cnkuc3RhcnRUaW1lKSB7XG4gICAgcmVkaXJlY3RFbmQgPSBlbnRyeS5mZXRjaFN0YXJ0XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgcmVkaXJlY3QgdGltaW5ncyBhcmUgaW4gb3JkZXJcbiAgaWYgKCFhcmVJbk9yZGVyKGVudHJ5LnN0YXJ0VGltZSwgcmVkaXJlY3RTdGFydCwgcmVkaXJlY3RFbmQsIGVudHJ5LmZldGNoU3RhcnQpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5lbnRyeSxcbiAgICByZWRpcmVjdEVuZCxcbiAgICByZWRpcmVjdFN0YXJ0LFxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc1JlZGlyZWN0aW9uKGVudHJ5OiBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKSB7XG4gIC8vIFRoZSBvbmx5IHRpbWUgZmV0Y2hTdGFydCBpcyBkaWZmZXJlbnQgdGhhbiBzdGFydFRpbWUgaXMgaWYgYSByZWRpcmVjdGlvbiBvY2N1cnJlZC5cbiAgcmV0dXJuIGVudHJ5LmZldGNoU3RhcnQgIT09IGVudHJ5LnN0YXJ0VGltZVxufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1pbmcob3JpZ2luOiBSZWxhdGl2ZVRpbWUsIHN0YXJ0OiBSZWxhdGl2ZVRpbWUsIGVuZDogUmVsYXRpdmVUaW1lKSB7XG4gIHJldHVybiB7XG4gICAgZHVyYXRpb246IHRvU2VydmVyRHVyYXRpb24oZWxhcHNlZChzdGFydCwgZW5kKSksXG4gICAgc3RhcnQ6IHRvU2VydmVyRHVyYXRpb24oZWxhcHNlZChvcmlnaW4sIHN0YXJ0KSksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVTaXplKGVudHJ5OiBSdW1QZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKSB7XG4gIC8vIE1ha2Ugc3VyZSBhIHJlcXVlc3QgYWN0dWFsbHkgb2NjdXJyZWRcbiAgaWYgKGVudHJ5LnN0YXJ0VGltZSA8IGVudHJ5LnJlc3BvbnNlU3RhcnQpIHtcbiAgICByZXR1cm4gZW50cnkuZGVjb2RlZEJvZHlTaXplXG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBbGxvd2VkUmVxdWVzdFVybChjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLCB1cmw6IHN0cmluZykge1xuICByZXR1cm4gdXJsICYmICFjb25maWd1cmF0aW9uLmlzSW50YWtlVXJsKHVybClcbn1cbiIsImltcG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIsIERPTV9FVkVOVCwgRXZlbnRFbWl0dGVyLCBSZWxhdGl2ZVRpbWUgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5cbmxldCB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uOiB7IHRpbWVTdGFtcDogUmVsYXRpdmVUaW1lIH0gfCB1bmRlZmluZWRcbmxldCBzdG9wTGlzdGVuZXJzOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWRcblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRmlyc3RIaWRkZW4oZW1pdHRlcjogRXZlbnRFbWl0dGVyID0gd2luZG93KSB7XG4gIGlmICghdHJhY2tGaXJzdEhpZGRlblNpbmdsZXRvbikge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uID0geyB0aW1lU3RhbXA6IDAgYXMgUmVsYXRpdmVUaW1lIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJhY2tGaXJzdEhpZGRlblNpbmdsZXRvbiA9IHtcbiAgICAgICAgdGltZVN0YW1wOiBJbmZpbml0eSBhcyBSZWxhdGl2ZVRpbWUsXG4gICAgICB9XG4gICAgICA7KHsgc3RvcDogc3RvcExpc3RlbmVycyB9ID0gYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgZW1pdHRlcixcbiAgICAgICAgRE9NX0VWRU5ULlBBR0VfSElERSxcbiAgICAgICAgKHsgdGltZVN0YW1wIH0pID0+IHtcbiAgICAgICAgICB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uIS50aW1lU3RhbXAgPSB0aW1lU3RhbXAgYXMgUmVsYXRpdmVUaW1lXG4gICAgICAgIH0sXG4gICAgICAgIHsgY2FwdHVyZTogdHJ1ZSwgb25jZTogdHJ1ZSB9XG4gICAgICApKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cmFja0ZpcnN0SGlkZGVuU2luZ2xldG9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldEZpcnN0SGlkZGVuKCkge1xuICBpZiAoc3RvcExpc3RlbmVycykge1xuICAgIHN0b3BMaXN0ZW5lcnMoKVxuICB9XG4gIHRyYWNrRmlyc3RIaWRkZW5TaW5nbGV0b24gPSB1bmRlZmluZWRcbn1cbiIsImltcG9ydCB7XG4gIGFkZEV2ZW50TGlzdGVuZXJzLFxuICBET01fRVZFTlQsXG4gIER1cmF0aW9uLFxuICBlbGFwc2VkLFxuICBFdmVudEVtaXR0ZXIsXG4gIFJlbGF0aXZlVGltZSxcbiAgT05FX01JTlVURSxcbn0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9saWZlQ3ljbGUnXG5pbXBvcnQgeyB0cmFja0ZpcnN0SGlkZGVuIH0gZnJvbSAnLi90cmFja0ZpcnN0SGlkZGVuJ1xuXG4vLyBEaXNjYXJkIExDUCBhbmQgRkNQIHRpbWluZ3MgYWJvdmUgYSBjZXJ0YWluIGRlbGF5IHRvIGF2b2lkIGluY29ycmVjdCBkYXRhXG4vLyBJdCBoYXBwZW5zIGluIHNvbWUgY2FzZXMgbGlrZSBzbGVlcCBtb2RlIG9yIHNvbWUgYnJvd3NlciBpbXBsZW1lbnRhdGlvbnNcbmV4cG9ydCBjb25zdCBUSU1JTkdfTUFYSU1VTV9ERUxBWSA9IDEwICogT05FX01JTlVURVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWluZ3Mge1xuICBmaXJzdENvbnRlbnRmdWxQYWludD86IER1cmF0aW9uXG4gIGRvbUludGVyYWN0aXZlPzogRHVyYXRpb25cbiAgZG9tQ29udGVudExvYWRlZD86IER1cmF0aW9uXG4gIGRvbUNvbXBsZXRlPzogRHVyYXRpb25cbiAgbG9hZEV2ZW50PzogRHVyYXRpb25cbiAgbGFyZ2VzdENvbnRlbnRmdWxQYWludD86IER1cmF0aW9uXG4gIGZpcnN0SW5wdXREZWxheT86IER1cmF0aW9uXG4gIGZpcnN0SW5wdXRUaW1lPzogRHVyYXRpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrSW5pdGlhbFZpZXdUaW1pbmdzKGxpZmVDeWNsZTogTGlmZUN5Y2xlLCBjYWxsYmFjazogKHRpbWluZ3M6IFRpbWluZ3MpID0+IHZvaWQpIHtcbiAgbGV0IHRpbWluZ3M6IFRpbWluZ3MgfCB1bmRlZmluZWRcbiAgZnVuY3Rpb24gc2V0VGltaW5ncyhuZXdUaW1pbmdzOiBQYXJ0aWFsPFRpbWluZ3M+KSB7XG4gICAgdGltaW5ncyA9IHsgLi4udGltaW5ncywgLi4ubmV3VGltaW5ncyB9XG4gICAgY2FsbGJhY2sodGltaW5ncylcbiAgfVxuXG4gIGNvbnN0IHsgc3RvcDogc3RvcE5hdmlnYXRpb25UcmFja2luZyB9ID0gdHJhY2tOYXZpZ2F0aW9uVGltaW5ncyhsaWZlQ3ljbGUsIHNldFRpbWluZ3MpXG4gIGNvbnN0IHsgc3RvcDogc3RvcEZDUFRyYWNraW5nIH0gPSB0cmFja0ZpcnN0Q29udGVudGZ1bFBhaW50VGltaW5nKGxpZmVDeWNsZSwgKGZpcnN0Q29udGVudGZ1bFBhaW50KSA9PlxuICAgIHNldFRpbWluZ3MoeyBmaXJzdENvbnRlbnRmdWxQYWludCB9KVxuICApXG4gIGNvbnN0IHsgc3RvcDogc3RvcExDUFRyYWNraW5nIH0gPSB0cmFja0xhcmdlc3RDb250ZW50ZnVsUGFpbnRUaW1pbmcobGlmZUN5Y2xlLCB3aW5kb3csIChsYXJnZXN0Q29udGVudGZ1bFBhaW50KSA9PiB7XG4gICAgc2V0VGltaW5ncyh7XG4gICAgICBsYXJnZXN0Q29udGVudGZ1bFBhaW50LFxuICAgIH0pXG4gIH0pXG4gIGNvbnN0IHsgc3RvcDogc3RvcEZJRFRyYWNraW5nIH0gPSB0cmFja0ZpcnN0SW5wdXRUaW1pbmdzKGxpZmVDeWNsZSwgKHsgZmlyc3RJbnB1dERlbGF5LCBmaXJzdElucHV0VGltZSB9KSA9PiB7XG4gICAgc2V0VGltaW5ncyh7XG4gICAgICBmaXJzdElucHV0RGVsYXksXG4gICAgICBmaXJzdElucHV0VGltZSxcbiAgICB9KVxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgc3RvcDogKCkgPT4ge1xuICAgICAgc3RvcE5hdmlnYXRpb25UcmFja2luZygpXG4gICAgICBzdG9wRkNQVHJhY2tpbmcoKVxuICAgICAgc3RvcExDUFRyYWNraW5nKClcbiAgICAgIHN0b3BGSURUcmFja2luZygpXG4gICAgfSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tOYXZpZ2F0aW9uVGltaW5ncyhsaWZlQ3ljbGU6IExpZmVDeWNsZSwgY2FsbGJhY2s6ICh0aW1pbmdzOiBQYXJ0aWFsPFRpbWluZ3M+KSA9PiB2b2lkKSB7XG4gIGNvbnN0IHsgdW5zdWJzY3JpYmU6IHN0b3AgfSA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCwgKGVudHJ5KSA9PiB7XG4gICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ25hdmlnYXRpb24nKSB7XG4gICAgICBjYWxsYmFjayh7XG4gICAgICAgIGRvbUNvbXBsZXRlOiBlbnRyeS5kb21Db21wbGV0ZSxcbiAgICAgICAgZG9tQ29udGVudExvYWRlZDogZW50cnkuZG9tQ29udGVudExvYWRlZEV2ZW50RW5kLFxuICAgICAgICBkb21JbnRlcmFjdGl2ZTogZW50cnkuZG9tSW50ZXJhY3RpdmUsXG4gICAgICAgIGxvYWRFdmVudDogZW50cnkubG9hZEV2ZW50RW5kLFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHsgc3RvcCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0ZpcnN0Q29udGVudGZ1bFBhaW50VGltaW5nKGxpZmVDeWNsZTogTGlmZUN5Y2xlLCBjYWxsYmFjazogKGZjcFRpbWluZzogUmVsYXRpdmVUaW1lKSA9PiB2b2lkKSB7XG4gIGNvbnN0IGZpcnN0SGlkZGVuID0gdHJhY2tGaXJzdEhpZGRlbigpXG4gIGNvbnN0IHsgdW5zdWJzY3JpYmU6IHN0b3AgfSA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCwgKGVudHJ5KSA9PiB7XG4gICAgaWYgKFxuICAgICAgZW50cnkuZW50cnlUeXBlID09PSAncGFpbnQnICYmXG4gICAgICBlbnRyeS5uYW1lID09PSAnZmlyc3QtY29udGVudGZ1bC1wYWludCcgJiZcbiAgICAgIGVudHJ5LnN0YXJ0VGltZSA8IGZpcnN0SGlkZGVuLnRpbWVTdGFtcCAmJlxuICAgICAgZW50cnkuc3RhcnRUaW1lIDwgVElNSU5HX01BWElNVU1fREVMQVlcbiAgICApIHtcbiAgICAgIGNhbGxiYWNrKGVudHJ5LnN0YXJ0VGltZSlcbiAgICB9XG4gIH0pXG4gIHJldHVybiB7IHN0b3AgfVxufVxuXG4vKipcbiAqIFRyYWNrIHRoZSBsYXJnZXN0IGNvbnRlbnRmdWwgcGFpbnQgKExDUCkgb2NjdXJyaW5nIGR1cmluZyB0aGUgaW5pdGlhbCBWaWV3LiAgVGhpcyBjYW4geWllbGRcbiAqIG11bHRpcGxlIHZhbHVlcywgb25seSB0aGUgbW9zdCByZWNlbnQgb25lIHNob3VsZCBiZSB1c2VkLlxuICogRG9jdW1lbnRhdGlvbjogaHR0cHM6Ly93ZWIuZGV2L2xjcC9cbiAqIFJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2Jsb2IvbWFzdGVyL3NyYy9nZXRMQ1AudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrTGFyZ2VzdENvbnRlbnRmdWxQYWludFRpbWluZyhcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcixcbiAgY2FsbGJhY2s6IChsY3BUaW1pbmc6IFJlbGF0aXZlVGltZSkgPT4gdm9pZFxuKSB7XG4gIGNvbnN0IGZpcnN0SGlkZGVuID0gdHJhY2tGaXJzdEhpZGRlbigpXG5cbiAgLy8gSWdub3JlIGVudHJpZXMgdGhhdCBjb21lIGFmdGVyIHRoZSBmaXJzdCB1c2VyIGludGVyYWN0aW9uLiAgQWNjb3JkaW5nIHRvIHRoZSBkb2N1bWVudGF0aW9uLCB0aGVcbiAgLy8gYnJvd3NlciBzaG91bGQgbm90IHNlbmQgbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50IGVudHJpZXMgYWZ0ZXIgYSB1c2VyIGludGVyYWN0IHdpdGggdGhlIHBhZ2UsXG4gIC8vIGJ1dCB0aGUgd2ViLXZpdGFscyByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gdXNlcyB0aGlzIGFzIGEgc2FmZWd1YXJkLlxuICBsZXQgZmlyc3RJbnRlcmFjdGlvblRpbWVzdGFtcCA9IEluZmluaXR5XG4gIGNvbnN0IHsgc3RvcDogc3RvcEV2ZW50TGlzdGVuZXIgfSA9IGFkZEV2ZW50TGlzdGVuZXJzKFxuICAgIGVtaXR0ZXIsXG4gICAgW0RPTV9FVkVOVC5QT0lOVEVSX0RPV04sIERPTV9FVkVOVC5LRVlfRE9XTl0sXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBmaXJzdEludGVyYWN0aW9uVGltZXN0YW1wID0gZXZlbnQudGltZVN0YW1wXG4gICAgfSxcbiAgICB7IGNhcHR1cmU6IHRydWUsIG9uY2U6IHRydWUgfVxuICApXG5cbiAgY29uc3QgeyB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVMaWZlQ3ljbGUgfSA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoXG4gICAgTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCxcbiAgICAoZW50cnkpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZW50cnkuZW50cnlUeXBlID09PSAnbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50JyAmJlxuICAgICAgICBlbnRyeS5zdGFydFRpbWUgPCBmaXJzdEludGVyYWN0aW9uVGltZXN0YW1wICYmXG4gICAgICAgIGVudHJ5LnN0YXJ0VGltZSA8IGZpcnN0SGlkZGVuLnRpbWVTdGFtcCAmJlxuICAgICAgICBlbnRyeS5zdGFydFRpbWUgPCBUSU1JTkdfTUFYSU1VTV9ERUxBWVxuICAgICAgKSB7XG4gICAgICAgIGNhbGxiYWNrKGVudHJ5LnN0YXJ0VGltZSlcbiAgICAgIH1cbiAgICB9XG4gIClcblxuICByZXR1cm4ge1xuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIHN0b3BFdmVudExpc3RlbmVyKClcbiAgICAgIHVuc3Vic2NyaWJlTGlmZUN5Y2xlKClcbiAgICB9LFxuICB9XG59XG5cbi8qKlxuICogVHJhY2sgdGhlIGZpcnN0IGlucHV0IG9jY3VycmluZyBkdXJpbmcgdGhlIGluaXRpYWwgVmlldyB0byByZXR1cm46XG4gKiAtIEZpcnN0IElucHV0IERlbGF5XG4gKiAtIEZpcnN0IElucHV0IFRpbWVcbiAqIENhbGxiYWNrIGlzIGNhbGxlZCBhdCBtb3N0IG9uZSB0aW1lLlxuICogRG9jdW1lbnRhdGlvbjogaHR0cHM6Ly93ZWIuZGV2L2ZpZC9cbiAqIFJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbjogaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2Jsb2IvbWFzdGVyL3NyYy9nZXRGSUQudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRmlyc3RJbnB1dFRpbWluZ3MoXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBjYWxsYmFjazogKHsgZmlyc3RJbnB1dERlbGF5LCBmaXJzdElucHV0VGltZSB9OiB7IGZpcnN0SW5wdXREZWxheTogRHVyYXRpb247IGZpcnN0SW5wdXRUaW1lOiBEdXJhdGlvbiB9KSA9PiB2b2lkXG4pIHtcbiAgY29uc3QgZmlyc3RIaWRkZW4gPSB0cmFja0ZpcnN0SGlkZGVuKClcblxuICBjb25zdCB7IHVuc3Vic2NyaWJlOiBzdG9wIH0gPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5QRVJGT1JNQU5DRV9FTlRSWV9DT0xMRUNURUQsIChlbnRyeSkgPT4ge1xuICAgIGlmIChlbnRyeS5lbnRyeVR5cGUgPT09ICdmaXJzdC1pbnB1dCcgJiYgZW50cnkuc3RhcnRUaW1lIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wKSB7XG4gICAgICBjb25zdCBmaXJzdElucHV0RGVsYXkgPSBlbGFwc2VkKGVudHJ5LnN0YXJ0VGltZSwgZW50cnkucHJvY2Vzc2luZ1N0YXJ0KVxuICAgICAgY2FsbGJhY2soe1xuICAgICAgICAvLyBFbnN1cmUgZmlyc3RJbnB1dERlbGF5IHRvIGJlIHBvc2l0aXZlLCBzZWVcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTE4NTgxNVxuICAgICAgICBmaXJzdElucHV0RGVsYXk6IGZpcnN0SW5wdXREZWxheSA+PSAwID8gZmlyc3RJbnB1dERlbGF5IDogKDAgYXMgRHVyYXRpb24pLFxuICAgICAgICBmaXJzdElucHV0VGltZTogZW50cnkuc3RhcnRUaW1lIGFzIER1cmF0aW9uLFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wLFxuICB9XG59XG4iLCJpbXBvcnQgeyBEdXJhdGlvbiwgbm9vcCwgcm91bmQsIFJlbGF0aXZlVGltZSwgT05FX1NFQ09ORCwgT2JzZXJ2YWJsZSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFJ1bUxheW91dFNoaWZ0VGltaW5nLCBzdXBwb3J0UGVyZm9ybWFuY2VUaW1pbmdFdmVudCB9IGZyb20gJy4uLy4uLy4uL2Jyb3dzZXIvcGVyZm9ybWFuY2VDb2xsZWN0aW9uJ1xuaW1wb3J0IHsgVmlld0xvYWRpbmdUeXBlIH0gZnJvbSAnLi4vLi4vLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSB9IGZyb20gJy4uLy4uL2xpZmVDeWNsZSdcbmltcG9ydCB7IEV2ZW50Q291bnRzLCB0cmFja0V2ZW50Q291bnRzIH0gZnJvbSAnLi4vLi4vdHJhY2tFdmVudENvdW50cydcbmltcG9ydCB7IHdhaXRJZGxlUGFnZSB9IGZyb20gJy4uLy4uL3dhaXRJZGxlUGFnZSdcblxuZXhwb3J0IGludGVyZmFjZSBWaWV3TWV0cmljcyB7XG4gIGV2ZW50Q291bnRzOiBFdmVudENvdW50c1xuICBsb2FkaW5nVGltZT86IER1cmF0aW9uXG4gIGN1bXVsYXRpdmVMYXlvdXRTaGlmdD86IG51bWJlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tWaWV3TWV0cmljcyhcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGRvbU11dGF0aW9uT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTx2b2lkPixcbiAgc2NoZWR1bGVWaWV3VXBkYXRlOiAoKSA9PiB2b2lkLFxuICBsb2FkaW5nVHlwZTogVmlld0xvYWRpbmdUeXBlXG4pIHtcbiAgY29uc3Qgdmlld01ldHJpY3M6IFZpZXdNZXRyaWNzID0ge1xuICAgIGV2ZW50Q291bnRzOiB7XG4gICAgICBlcnJvckNvdW50OiAwLFxuICAgICAgbG9uZ1Rhc2tDb3VudDogMCxcbiAgICAgIHJlc291cmNlQ291bnQ6IDAsXG4gICAgICB1c2VyQWN0aW9uQ291bnQ6IDAsXG4gICAgfSxcbiAgfVxuICBjb25zdCB7IHN0b3A6IHN0b3BFdmVudENvdW50c1RyYWNraW5nIH0gPSB0cmFja0V2ZW50Q291bnRzKGxpZmVDeWNsZSwgKG5ld0V2ZW50Q291bnRzKSA9PiB7XG4gICAgdmlld01ldHJpY3MuZXZlbnRDb3VudHMgPSBuZXdFdmVudENvdW50c1xuICAgIHNjaGVkdWxlVmlld1VwZGF0ZSgpXG4gIH0pXG5cbiAgY29uc3QgeyBzZXRBY3Rpdml0eUxvYWRpbmdUaW1lLCBzZXRMb2FkRXZlbnQgfSA9IHRyYWNrTG9hZGluZ1RpbWUobG9hZGluZ1R5cGUsIChuZXdMb2FkaW5nVGltZSkgPT4ge1xuICAgIHZpZXdNZXRyaWNzLmxvYWRpbmdUaW1lID0gbmV3TG9hZGluZ1RpbWVcbiAgICBzY2hlZHVsZVZpZXdVcGRhdGUoKVxuICB9KVxuXG4gIGNvbnN0IHsgc3RvcDogc3RvcEFjdGl2aXR5TG9hZGluZ1RpbWVUcmFja2luZyB9ID0gdHJhY2tBY3Rpdml0eUxvYWRpbmdUaW1lKFxuICAgIGxpZmVDeWNsZSxcbiAgICBkb21NdXRhdGlvbk9ic2VydmFibGUsXG4gICAgc2V0QWN0aXZpdHlMb2FkaW5nVGltZVxuICApXG5cbiAgbGV0IHN0b3BDTFNUcmFja2luZzogKCkgPT4gdm9pZFxuICBpZiAoaXNMYXlvdXRTaGlmdFN1cHBvcnRlZCgpKSB7XG4gICAgdmlld01ldHJpY3MuY3VtdWxhdGl2ZUxheW91dFNoaWZ0ID0gMFxuICAgIDsoeyBzdG9wOiBzdG9wQ0xTVHJhY2tpbmcgfSA9IHRyYWNrQ3VtdWxhdGl2ZUxheW91dFNoaWZ0KGxpZmVDeWNsZSwgKGN1bXVsYXRpdmVMYXlvdXRTaGlmdCkgPT4ge1xuICAgICAgdmlld01ldHJpY3MuY3VtdWxhdGl2ZUxheW91dFNoaWZ0ID0gY3VtdWxhdGl2ZUxheW91dFNoaWZ0XG4gICAgICBzY2hlZHVsZVZpZXdVcGRhdGUoKVxuICAgIH0pKVxuICB9IGVsc2Uge1xuICAgIHN0b3BDTFNUcmFja2luZyA9IG5vb3BcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIHN0b3BFdmVudENvdW50c1RyYWNraW5nKClcbiAgICAgIHN0b3BBY3Rpdml0eUxvYWRpbmdUaW1lVHJhY2tpbmcoKVxuICAgICAgc3RvcENMU1RyYWNraW5nKClcbiAgICB9LFxuICAgIHNldExvYWRFdmVudCxcbiAgICB2aWV3TWV0cmljcyxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFja0xvYWRpbmdUaW1lKGxvYWRUeXBlOiBWaWV3TG9hZGluZ1R5cGUsIGNhbGxiYWNrOiAobG9hZGluZ1RpbWU6IER1cmF0aW9uKSA9PiB2b2lkKSB7XG4gIGxldCBpc1dhaXRpbmdGb3JMb2FkRXZlbnQgPSBsb2FkVHlwZSA9PT0gVmlld0xvYWRpbmdUeXBlLklOSVRJQUxfTE9BRFxuICBsZXQgaXNXYWl0aW5nRm9yQWN0aXZpdHlMb2FkaW5nVGltZSA9IHRydWVcbiAgY29uc3QgbG9hZGluZ1RpbWVDYW5kaWRhdGVzOiBEdXJhdGlvbltdID0gW11cblxuICBmdW5jdGlvbiBpbnZva2VDYWxsYmFja0lmQWxsQ2FuZGlkYXRlc0FyZVJlY2VpdmVkKCkge1xuICAgIGlmICghaXNXYWl0aW5nRm9yQWN0aXZpdHlMb2FkaW5nVGltZSAmJiAhaXNXYWl0aW5nRm9yTG9hZEV2ZW50ICYmIGxvYWRpbmdUaW1lQ2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjYWxsYmFjayhNYXRoLm1heCguLi5sb2FkaW5nVGltZUNhbmRpZGF0ZXMpIGFzIER1cmF0aW9uKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0TG9hZEV2ZW50OiAobG9hZEV2ZW50OiBEdXJhdGlvbikgPT4ge1xuICAgICAgaWYgKGlzV2FpdGluZ0ZvckxvYWRFdmVudCkge1xuICAgICAgICBpc1dhaXRpbmdGb3JMb2FkRXZlbnQgPSBmYWxzZVxuICAgICAgICBsb2FkaW5nVGltZUNhbmRpZGF0ZXMucHVzaChsb2FkRXZlbnQpXG4gICAgICAgIGludm9rZUNhbGxiYWNrSWZBbGxDYW5kaWRhdGVzQXJlUmVjZWl2ZWQoKVxuICAgICAgfVxuICAgIH0sXG4gICAgc2V0QWN0aXZpdHlMb2FkaW5nVGltZTogKGFjdGl2aXR5TG9hZGluZ1RpbWU6IER1cmF0aW9uIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICBpZiAoaXNXYWl0aW5nRm9yQWN0aXZpdHlMb2FkaW5nVGltZSkge1xuICAgICAgICBpc1dhaXRpbmdGb3JBY3Rpdml0eUxvYWRpbmdUaW1lID0gZmFsc2VcbiAgICAgICAgaWYgKGFjdGl2aXR5TG9hZGluZ1RpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxvYWRpbmdUaW1lQ2FuZGlkYXRlcy5wdXNoKGFjdGl2aXR5TG9hZGluZ1RpbWUpXG4gICAgICAgIH1cbiAgICAgICAgaW52b2tlQ2FsbGJhY2tJZkFsbENhbmRpZGF0ZXNBcmVSZWNlaXZlZCgpXG4gICAgICB9XG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFja0FjdGl2aXR5TG9hZGluZ1RpbWUoXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBkb21NdXRhdGlvbk9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD4sXG4gIGNhbGxiYWNrOiAobG9hZGluZ1RpbWVWYWx1ZTogRHVyYXRpb24gfCB1bmRlZmluZWQpID0+IHZvaWRcbikge1xuICByZXR1cm4gd2FpdElkbGVQYWdlKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQuaGFkQWN0aXZpdHkpIHtcbiAgICAgIGNhbGxiYWNrKGV2ZW50LmR1cmF0aW9uKVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh1bmRlZmluZWQpXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIFRyYWNrIHRoZSBjdW11bGF0aXZlIGxheW91dCBzaGlmdHMgKENMUykuXG4gKiBMYXlvdXQgc2hpZnRzIGFyZSBncm91cGVkIGludG8gc2Vzc2lvbiB3aW5kb3dzLlxuICogVGhlIG1pbmltdW0gZ2FwIGJldHdlZW4gc2Vzc2lvbiB3aW5kb3dzIGlzIDEgc2Vjb25kLlxuICogVGhlIG1heGltdW0gZHVyYXRpb24gb2YgYSBzZXNzaW9uIHdpbmRvdyBpcyA1IHNlY29uZC5cbiAqIFRoZSBzZXNzaW9uIHdpbmRvdyBsYXlvdXQgc2hpZnQgdmFsdWUgaXMgdGhlIHN1bSBvZiBsYXlvdXQgc2hpZnRzIGluc2lkZSBpdC5cbiAqIFRoZSBDTFMgdmFsdWUgaXMgdGhlIG1heCBvZiBzZXNzaW9uIHdpbmRvd3MgdmFsdWVzLlxuICpcbiAqIFRoaXMgeWllbGRzIGEgbmV3IHZhbHVlIHdoZW5ldmVyIHRoZSBDTFMgdmFsdWUgaXMgdXBkYXRlZCAoYSBoaWdoZXIgc2Vzc2lvbiB3aW5kb3cgdmFsdWUgaXMgY29tcHV0ZWQpLlxuICpcbiAqIFNlZSBpc0xheW91dFNoaWZ0U3VwcG9ydGVkIHRvIGNoZWNrIGZvciBicm93c2VyIHN1cHBvcnQuXG4gKlxuICogRG9jdW1lbnRhdGlvbjpcbiAqIGh0dHBzOi8vd2ViLmRldi9jbHMvXG4gKiBodHRwczovL3dlYi5kZXYvZXZvbHZpbmctY2xzL1xuICogUmVmZXJlbmNlIGltcGxlbWVudGF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvYmxvYi9tYXN0ZXIvc3JjL2dldENMUy50c1xuICovXG5mdW5jdGlvbiB0cmFja0N1bXVsYXRpdmVMYXlvdXRTaGlmdChsaWZlQ3ljbGU6IExpZmVDeWNsZSwgY2FsbGJhY2s6IChsYXlvdXRTaGlmdDogbnVtYmVyKSA9PiB2b2lkKSB7XG4gIGxldCBtYXhDbHNWYWx1ZSA9IDBcbiAgY29uc3Qgd2luZG93ID0gc2xpZGluZ1Nlc3Npb25XaW5kb3coKVxuICBjb25zdCB7IHVuc3Vic2NyaWJlOiBzdG9wIH0gPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5QRVJGT1JNQU5DRV9FTlRSWV9DT0xMRUNURUQsIChlbnRyeSkgPT4ge1xuICAgIGlmIChlbnRyeS5lbnRyeVR5cGUgPT09ICdsYXlvdXQtc2hpZnQnICYmICFlbnRyeS5oYWRSZWNlbnRJbnB1dCkge1xuICAgICAgd2luZG93LnVwZGF0ZShlbnRyeSlcbiAgICAgIGlmICh3aW5kb3cudmFsdWUoKSA+IG1heENsc1ZhbHVlKSB7XG4gICAgICAgIG1heENsc1ZhbHVlID0gd2luZG93LnZhbHVlKClcbiAgICAgICAgY2FsbGJhY2socm91bmQobWF4Q2xzVmFsdWUsIDQpKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHN0b3AsXG4gIH1cbn1cblxuZnVuY3Rpb24gc2xpZGluZ1Nlc3Npb25XaW5kb3coKSB7XG4gIGxldCB2YWx1ZSA9IDBcbiAgbGV0IHN0YXJ0VGltZTogUmVsYXRpdmVUaW1lXG4gIGxldCBlbmRUaW1lOiBSZWxhdGl2ZVRpbWVcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IChlbnRyeTogUnVtTGF5b3V0U2hpZnRUaW1pbmcpID0+IHtcbiAgICAgIGNvbnN0IHNob3VsZENyZWF0ZU5ld1dpbmRvdyA9XG4gICAgICAgIHN0YXJ0VGltZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIGVuZFRpbWUgPj0gT05FX1NFQ09ORCB8fFxuICAgICAgICBlbnRyeS5zdGFydFRpbWUgLSBzdGFydFRpbWUgPj0gNSAqIE9ORV9TRUNPTkRcbiAgICAgIGlmIChzaG91bGRDcmVhdGVOZXdXaW5kb3cpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gZW5kVGltZSA9IGVudHJ5LnN0YXJ0VGltZVxuICAgICAgICB2YWx1ZSA9IGVudHJ5LnZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSArPSBlbnRyeS52YWx1ZVxuICAgICAgICBlbmRUaW1lID0gZW50cnkuc3RhcnRUaW1lXG4gICAgICB9XG4gICAgfSxcbiAgICB2YWx1ZTogKCkgPT4gdmFsdWUsXG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGBsYXlvdXQtc2hpZnRgIGlzIHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cbiAqL1xuZnVuY3Rpb24gaXNMYXlvdXRTaGlmdFN1cHBvcnRlZCgpIHtcbiAgcmV0dXJuIHN1cHBvcnRQZXJmb3JtYW5jZVRpbWluZ0V2ZW50KCdsYXlvdXQtc2hpZnQnKVxufVxuIiwiaW1wb3J0IHtcbiAgRHVyYXRpb24sXG4gIGVsYXBzZWQsXG4gIGdlbmVyYXRlVVVJRCxcbiAgbW9uaXRvcixcbiAgT05FX01JTlVURSxcbiAgdGhyb3R0bGUsXG4gIENsb2Nrc1N0YXRlLFxuICBjbG9ja3NOb3csXG4gIGNsb2Nrc09yaWdpbixcbiAgdGltZVN0YW1wTm93LFxuICBUaW1lU3RhbXAsXG4gIGRpc3BsYXksXG4gIE9ic2VydmFibGUsXG4gIFN1YnNjcmlwdGlvbixcbiAgUmVsYXRpdmVUaW1lLFxuICBsb29rc0xpa2VSZWxhdGl2ZVRpbWUsXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFZpZXdMb2FkaW5nVHlwZSwgVmlld0N1c3RvbVRpbWluZ3MgfSBmcm9tICcuLi8uLi8uLi9yYXdSdW1FdmVudC50eXBlcydcblxuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuLi8uLi9saWZlQ3ljbGUnXG5pbXBvcnQgeyBFdmVudENvdW50cyB9IGZyb20gJy4uLy4uL3RyYWNrRXZlbnRDb3VudHMnXG5pbXBvcnQgeyBMb2NhdGlvbkNoYW5nZSB9IGZyb20gJy4uLy4uLy4uL2Jyb3dzZXIvbG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlJ1xuaW1wb3J0IHsgVGltaW5ncywgdHJhY2tJbml0aWFsVmlld1RpbWluZ3MgfSBmcm9tICcuL3RyYWNrSW5pdGlhbFZpZXdUaW1pbmdzJ1xuaW1wb3J0IHsgdHJhY2tWaWV3TWV0cmljcyB9IGZyb20gJy4vdHJhY2tWaWV3TWV0cmljcydcblxuZXhwb3J0IGludGVyZmFjZSBWaWV3RXZlbnQge1xuICBpZDogc3RyaW5nXG4gIG5hbWU/OiBzdHJpbmdcbiAgbG9jYXRpb246IFJlYWRvbmx5PExvY2F0aW9uPlxuICB0aW1pbmdzOiBUaW1pbmdzXG4gIGN1c3RvbVRpbWluZ3M6IFZpZXdDdXN0b21UaW1pbmdzXG4gIGV2ZW50Q291bnRzOiBFdmVudENvdW50c1xuICBkb2N1bWVudFZlcnNpb246IG51bWJlclxuICBzdGFydENsb2NrczogQ2xvY2tzU3RhdGVcbiAgZHVyYXRpb246IER1cmF0aW9uXG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIGxvYWRpbmdUaW1lPzogRHVyYXRpb25cbiAgbG9hZGluZ1R5cGU6IFZpZXdMb2FkaW5nVHlwZVxuICBjdW11bGF0aXZlTGF5b3V0U2hpZnQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBWaWV3Q3JlYXRlZEV2ZW50IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lPzogc3RyaW5nXG4gIHN0YXJ0Q2xvY2tzOiBDbG9ja3NTdGF0ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdFbmRlZEV2ZW50IHtcbiAgZW5kQ2xvY2tzOiBDbG9ja3NTdGF0ZVxufVxuXG5leHBvcnQgY29uc3QgVEhST1RUTEVfVklFV19VUERBVEVfUEVSSU9EID0gMzAwMFxuZXhwb3J0IGNvbnN0IFNFU1NJT05fS0VFUF9BTElWRV9JTlRFUlZBTCA9IDUgKiBPTkVfTUlOVVRFXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFja1ZpZXdzKFxuICBsb2NhdGlvbjogTG9jYXRpb24sXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBkb21NdXRhdGlvbk9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD4sXG4gIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxMb2NhdGlvbkNoYW5nZT4sXG4gIGFyZVZpZXdzVHJhY2tlZEF1dG9tYXRpY2FsbHk6IGJvb2xlYW4sXG4gIGluaXRpYWxWaWV3TmFtZT86IHN0cmluZ1xuKSB7XG4gIGNvbnN0IHsgc3RvcDogc3RvcEluaXRpYWxWaWV3VHJhY2tpbmcsIGluaXRpYWxWaWV3IH0gPSB0cmFja0luaXRpYWxWaWV3KGluaXRpYWxWaWV3TmFtZSlcbiAgbGV0IGN1cnJlbnRWaWV3ID0gaW5pdGlhbFZpZXdcblxuICBjb25zdCB7IHN0b3A6IHN0b3BWaWV3TGlmZUN5Y2xlIH0gPSBzdGFydFZpZXdMaWZlQ3ljbGUoKVxuXG4gIGxldCBsb2NhdGlvbkNoYW5nZVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uXG4gIGlmIChhcmVWaWV3c1RyYWNrZWRBdXRvbWF0aWNhbGx5KSB7XG4gICAgbG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24gPSByZW5ld1ZpZXdPbkxvY2F0aW9uQ2hhbmdlKGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWNrSW5pdGlhbFZpZXcobmFtZT86IHN0cmluZykge1xuICAgIGNvbnN0IGluaXRpYWxWaWV3ID0gbmV3VmlldyhcbiAgICAgIGxpZmVDeWNsZSxcbiAgICAgIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgVmlld0xvYWRpbmdUeXBlLklOSVRJQUxfTE9BRCxcbiAgICAgIGNsb2Nrc09yaWdpbigpLFxuICAgICAgbmFtZVxuICAgIClcbiAgICBjb25zdCB7IHN0b3AgfSA9IHRyYWNrSW5pdGlhbFZpZXdUaW1pbmdzKGxpZmVDeWNsZSwgKHRpbWluZ3MpID0+IHtcbiAgICAgIGluaXRpYWxWaWV3LnVwZGF0ZVRpbWluZ3ModGltaW5ncylcbiAgICAgIGluaXRpYWxWaWV3LnNjaGVkdWxlVXBkYXRlKClcbiAgICB9KVxuICAgIHJldHVybiB7IGluaXRpYWxWaWV3LCBzdG9wIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWNrVmlld0NoYW5nZShzdGFydENsb2Nrcz86IENsb2Nrc1N0YXRlLCBuYW1lPzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ld1ZpZXcobGlmZUN5Y2xlLCBkb21NdXRhdGlvbk9ic2VydmFibGUsIGxvY2F0aW9uLCBWaWV3TG9hZGluZ1R5cGUuUk9VVEVfQ0hBTkdFLCBzdGFydENsb2NrcywgbmFtZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0Vmlld0xpZmVDeWNsZSgpIHtcbiAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5TRVNTSU9OX1JFTkVXRUQsICgpID0+IHtcbiAgICAgIC8vIGRvIG5vdCB0cmlnZ2VyIHZpZXcgdXBkYXRlIHRvIGF2b2lkIHdyb25nIGRhdGFcbiAgICAgIGN1cnJlbnRWaWV3LmVuZCgpXG4gICAgICAvLyBSZW5ldyB2aWV3IG9uIHNlc3Npb24gcmVuZXdhbFxuICAgICAgY3VycmVudFZpZXcgPSB0cmFja1ZpZXdDaGFuZ2UodW5kZWZpbmVkLCBjdXJyZW50Vmlldy5uYW1lKVxuICAgIH0pXG5cbiAgICAvLyBFbmQgdGhlIGN1cnJlbnQgdmlldyBvbiBwYWdlIHVubG9hZFxuICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLkJFRk9SRV9VTkxPQUQsICgpID0+IHtcbiAgICAgIGN1cnJlbnRWaWV3LmVuZCgpXG4gICAgICBjdXJyZW50Vmlldy50cmlnZ2VyVXBkYXRlKClcbiAgICB9KVxuXG4gICAgLy8gU2Vzc2lvbiBrZWVwIGFsaXZlXG4gICAgY29uc3Qga2VlcEFsaXZlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG4gICAgICBtb25pdG9yKCgpID0+IHtcbiAgICAgICAgY3VycmVudFZpZXcudHJpZ2dlclVwZGF0ZSgpXG4gICAgICB9KSxcbiAgICAgIFNFU1NJT05fS0VFUF9BTElWRV9JTlRFUlZBTFxuICAgIClcblxuICAgIHJldHVybiB7XG4gICAgICBzdG9wOiAoKSA9PiB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoa2VlcEFsaXZlSW50ZXJ2YWwpXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmV3Vmlld09uTG9jYXRpb25DaGFuZ2UobG9jYXRpb25DaGFuZ2VPYnNlcnZhYmxlOiBPYnNlcnZhYmxlPExvY2F0aW9uQ2hhbmdlPikge1xuICAgIHJldHVybiBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUuc3Vic2NyaWJlKCh7IG9sZExvY2F0aW9uLCBuZXdMb2NhdGlvbiB9KSA9PiB7XG4gICAgICBpZiAoYXJlRGlmZmVyZW50TG9jYXRpb24ob2xkTG9jYXRpb24sIG5ld0xvY2F0aW9uKSkge1xuICAgICAgICBjdXJyZW50Vmlldy5lbmQoKVxuICAgICAgICBjdXJyZW50Vmlldy50cmlnZ2VyVXBkYXRlKClcbiAgICAgICAgY3VycmVudFZpZXcgPSB0cmFja1ZpZXdDaGFuZ2UoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRUaW1pbmc6IChuYW1lOiBzdHJpbmcsIHRpbWU6IFJlbGF0aXZlVGltZSB8IFRpbWVTdGFtcCA9IHRpbWVTdGFtcE5vdygpKSA9PiB7XG4gICAgICBjdXJyZW50Vmlldy5hZGRUaW1pbmcobmFtZSwgdGltZSlcbiAgICAgIGN1cnJlbnRWaWV3LnRyaWdnZXJVcGRhdGUoKVxuICAgIH0sXG4gICAgc3RhcnRWaWV3OiAobmFtZT86IHN0cmluZywgc3RhcnRDbG9ja3M/OiBDbG9ja3NTdGF0ZSkgPT4ge1xuICAgICAgY3VycmVudFZpZXcuZW5kKHN0YXJ0Q2xvY2tzKVxuICAgICAgY3VycmVudFZpZXcudHJpZ2dlclVwZGF0ZSgpXG4gICAgICBjdXJyZW50VmlldyA9IHRyYWNrVmlld0NoYW5nZShzdGFydENsb2NrcywgbmFtZSlcbiAgICB9LFxuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIGxvY2F0aW9uQ2hhbmdlU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpXG4gICAgICBzdG9wSW5pdGlhbFZpZXdUcmFja2luZygpXG4gICAgICBzdG9wVmlld0xpZmVDeWNsZSgpXG4gICAgICBjdXJyZW50Vmlldy5lbmQoKVxuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gbmV3VmlldyhcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGRvbU11dGF0aW9uT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTx2b2lkPixcbiAgaW5pdGlhbExvY2F0aW9uOiBMb2NhdGlvbixcbiAgbG9hZGluZ1R5cGU6IFZpZXdMb2FkaW5nVHlwZSxcbiAgc3RhcnRDbG9ja3M6IENsb2Nrc1N0YXRlID0gY2xvY2tzTm93KCksXG4gIG5hbWU/OiBzdHJpbmdcbikge1xuICAvLyBTZXR1cCBpbml0aWFsIHZhbHVlc1xuICBjb25zdCBpZCA9IGdlbmVyYXRlVVVJRCgpXG4gIGxldCB0aW1pbmdzOiBUaW1pbmdzID0ge31cbiAgY29uc3QgY3VzdG9tVGltaW5nczogVmlld0N1c3RvbVRpbWluZ3MgPSB7fVxuICBsZXQgZG9jdW1lbnRWZXJzaW9uID0gMFxuICBsZXQgZW5kQ2xvY2tzOiBDbG9ja3NTdGF0ZSB8IHVuZGVmaW5lZFxuICBjb25zdCBsb2NhdGlvbiA9IHsgLi4uaW5pdGlhbExvY2F0aW9uIH1cblxuICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQsIHsgaWQsIG5hbWUsIHN0YXJ0Q2xvY2tzIH0pXG5cbiAgLy8gVXBkYXRlIHRoZSB2aWV3IGV2ZXJ5IHRpbWUgdGhlIG1lYXN1cmVzIGFyZSBjaGFuZ2luZ1xuICBjb25zdCB7IHRocm90dGxlZDogc2NoZWR1bGVWaWV3VXBkYXRlLCBjYW5jZWw6IGNhbmNlbFNjaGVkdWxlVmlld1VwZGF0ZSB9ID0gdGhyb3R0bGUoXG4gICAgbW9uaXRvcih0cmlnZ2VyVmlld1VwZGF0ZSksXG4gICAgVEhST1RUTEVfVklFV19VUERBVEVfUEVSSU9ELFxuICAgIHtcbiAgICAgIGxlYWRpbmc6IGZhbHNlLFxuICAgIH1cbiAgKVxuXG4gIGNvbnN0IHsgc2V0TG9hZEV2ZW50LCBzdG9wOiBzdG9wVmlld01ldHJpY3NUcmFja2luZywgdmlld01ldHJpY3MgfSA9IHRyYWNrVmlld01ldHJpY3MoXG4gICAgbGlmZUN5Y2xlLFxuICAgIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSxcbiAgICBzY2hlZHVsZVZpZXdVcGRhdGUsXG4gICAgbG9hZGluZ1R5cGVcbiAgKVxuXG4gIC8vIEluaXRpYWwgdmlldyB1cGRhdGVcbiAgdHJpZ2dlclZpZXdVcGRhdGUoKVxuXG4gIGZ1bmN0aW9uIHRyaWdnZXJWaWV3VXBkYXRlKCkge1xuICAgIGRvY3VtZW50VmVyc2lvbiArPSAxXG4gICAgY29uc3QgY3VycmVudEVuZCA9IGVuZENsb2NrcyA9PT0gdW5kZWZpbmVkID8gdGltZVN0YW1wTm93KCkgOiBlbmRDbG9ja3MudGltZVN0YW1wXG4gICAgbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19VUERBVEVELCB7XG4gICAgICAuLi52aWV3TWV0cmljcyxcbiAgICAgIGN1c3RvbVRpbWluZ3MsXG4gICAgICBkb2N1bWVudFZlcnNpb24sXG4gICAgICBpZCxcbiAgICAgIG5hbWUsXG4gICAgICBsb2FkaW5nVHlwZSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgc3RhcnRDbG9ja3MsXG4gICAgICB0aW1pbmdzLFxuICAgICAgZHVyYXRpb246IGVsYXBzZWQoc3RhcnRDbG9ja3MudGltZVN0YW1wLCBjdXJyZW50RW5kKSxcbiAgICAgIGlzQWN0aXZlOiBlbmRDbG9ja3MgPT09IHVuZGVmaW5lZCxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIHNjaGVkdWxlVXBkYXRlOiBzY2hlZHVsZVZpZXdVcGRhdGUsXG4gICAgZW5kKGNsb2NrcyA9IGNsb2Nrc05vdygpKSB7XG4gICAgICBlbmRDbG9ja3MgPSBjbG9ja3NcbiAgICAgIHN0b3BWaWV3TWV0cmljc1RyYWNraW5nKClcbiAgICAgIGxpZmVDeWNsZS5ub3RpZnkoTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfRU5ERUQsIHsgZW5kQ2xvY2tzIH0pXG4gICAgfSxcbiAgICB0cmlnZ2VyVXBkYXRlKCkge1xuICAgICAgLy8gY2FuY2VsIGFueSBwZW5kaW5nIHZpZXcgdXBkYXRlcyBleGVjdXRpb25cbiAgICAgIGNhbmNlbFNjaGVkdWxlVmlld1VwZGF0ZSgpXG4gICAgICB0cmlnZ2VyVmlld1VwZGF0ZSgpXG4gICAgfSxcbiAgICB1cGRhdGVUaW1pbmdzKG5ld1RpbWluZ3M6IFRpbWluZ3MpIHtcbiAgICAgIHRpbWluZ3MgPSBuZXdUaW1pbmdzXG4gICAgICBpZiAobmV3VGltaW5ncy5sb2FkRXZlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRMb2FkRXZlbnQobmV3VGltaW5ncy5sb2FkRXZlbnQpXG4gICAgICB9XG4gICAgfSxcbiAgICBhZGRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lOiBSZWxhdGl2ZVRpbWUgfCBUaW1lU3RhbXApIHtcbiAgICAgIGNvbnN0IHJlbGF0aXZlVGltZSA9IGxvb2tzTGlrZVJlbGF0aXZlVGltZSh0aW1lKSA/IHRpbWUgOiBlbGFwc2VkKHN0YXJ0Q2xvY2tzLnRpbWVTdGFtcCwgdGltZSlcbiAgICAgIGN1c3RvbVRpbWluZ3Nbc2FuaXRpemVUaW1pbmcobmFtZSldID0gcmVsYXRpdmVUaW1lXG4gICAgfSxcbiAgfVxufVxuXG4vKipcbiAqIFRpbWluZyBuYW1lIGlzIHVzZWQgYXMgZmFjZXQgcGF0aCB0aGF0IG11c3QgY29udGFpbiBvbmx5IGxldHRlcnMsIGRpZ2l0cywgb3IgdGhlIGNoYXJhY3RlcnMgLSBfIC4gQCAkXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplVGltaW5nKG5hbWU6IHN0cmluZykge1xuICBjb25zdCBzYW5pdGl6ZWQgPSBuYW1lLnJlcGxhY2UoL1teYS16QS1aMC05LV8uQCRdL2csICdfJylcbiAgaWYgKHNhbml0aXplZCAhPT0gbmFtZSkge1xuICAgIGRpc3BsYXkud2FybihgSW52YWxpZCB0aW1pbmcgbmFtZTogJHtuYW1lfSwgc2FuaXRpemVkIHRvOiAke3Nhbml0aXplZH1gKVxuICB9XG4gIHJldHVybiBzYW5pdGl6ZWRcbn1cblxuZnVuY3Rpb24gYXJlRGlmZmVyZW50TG9jYXRpb24oY3VycmVudExvY2F0aW9uOiBMb2NhdGlvbiwgb3RoZXJMb2NhdGlvbjogTG9jYXRpb24pIHtcbiAgcmV0dXJuIChcbiAgICBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUgIT09IG90aGVyTG9jYXRpb24ucGF0aG5hbWUgfHxcbiAgICAoIWlzSGFzaEFuQW5jaG9yKG90aGVyTG9jYXRpb24uaGFzaCkgJiZcbiAgICAgIGdldFBhdGhGcm9tSGFzaChvdGhlckxvY2F0aW9uLmhhc2gpICE9PSBnZXRQYXRoRnJvbUhhc2goY3VycmVudExvY2F0aW9uLmhhc2gpKVxuICApXG59XG5cbmZ1bmN0aW9uIGlzSGFzaEFuQW5jaG9yKGhhc2g6IHN0cmluZykge1xuICBjb25zdCBjb3JyZXNwb25kaW5nSWQgPSBoYXNoLnN1YnN0cigxKVxuICByZXR1cm4gISFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb3JyZXNwb25kaW5nSWQpXG59XG5cbmZ1bmN0aW9uIGdldFBhdGhGcm9tSGFzaChoYXNoOiBzdHJpbmcpIHtcbiAgY29uc3QgaW5kZXggPSBoYXNoLmluZGV4T2YoJz8nKVxuICByZXR1cm4gaW5kZXggPCAwID8gaGFzaCA6IGhhc2guc2xpY2UoMCwgaW5kZXgpXG59XG4iLCJpbXBvcnQge1xuICBEdXJhdGlvbixcbiAgaXNFbXB0eU9iamVjdCxcbiAgbWFwVmFsdWVzLFxuICBTZXJ2ZXJEdXJhdGlvbixcbiAgdG9TZXJ2ZXJEdXJhdGlvbixcbiAgQ29uZmlndXJhdGlvbixcbiAgT2JzZXJ2YWJsZSxcbiAgaXNOdW1iZXIsXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFJlY29yZGVyQXBpIH0gZnJvbSAnLi4vLi4vLi4vYm9vdC9ydW1QdWJsaWNBcGknXG5pbXBvcnQgeyBSYXdSdW1WaWV3RXZlbnQsIFJ1bUV2ZW50VHlwZSB9IGZyb20gJy4uLy4uLy4uL3Jhd1J1bUV2ZW50LnR5cGVzJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUsIFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YSB9IGZyb20gJy4uLy4uL2xpZmVDeWNsZSdcbmltcG9ydCB7IEZvcmVncm91bmRDb250ZXh0cyB9IGZyb20gJy4uLy4uL2ZvcmVncm91bmRDb250ZXh0cydcbmltcG9ydCB7IExvY2F0aW9uQ2hhbmdlIH0gZnJvbSAnLi4vLi4vLi4vYnJvd3Nlci9sb2NhdGlvbkNoYW5nZU9ic2VydmFibGUnXG5pbXBvcnQgeyB0cmFja1ZpZXdzLCBWaWV3RXZlbnQgfSBmcm9tICcuL3RyYWNrVmlld3MnXG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFZpZXdDb2xsZWN0aW9uKFxuICBsaWZlQ3ljbGU6IExpZmVDeWNsZSxcbiAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbixcbiAgbG9jYXRpb246IExvY2F0aW9uLFxuICBkb21NdXRhdGlvbk9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD4sXG4gIGxvY2F0aW9uQ2hhbmdlT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxMb2NhdGlvbkNoYW5nZT4sXG4gIGZvcmVncm91bmRDb250ZXh0czogRm9yZWdyb3VuZENvbnRleHRzLFxuICByZWNvcmRlckFwaTogUmVjb3JkZXJBcGksXG4gIGluaXRpYWxWaWV3TmFtZT86IHN0cmluZ1xuKSB7XG4gIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfVVBEQVRFRCwgKHZpZXcpID0+XG4gICAgbGlmZUN5Y2xlLm5vdGlmeShcbiAgICAgIExpZmVDeWNsZUV2ZW50VHlwZS5SQVdfUlVNX0VWRU5UX0NPTExFQ1RFRCxcbiAgICAgIHByb2Nlc3NWaWV3VXBkYXRlKHZpZXcsIGZvcmVncm91bmRDb250ZXh0cywgcmVjb3JkZXJBcGkpXG4gICAgKVxuICApXG5cbiAgcmV0dXJuIHRyYWNrVmlld3MoXG4gICAgbG9jYXRpb24sXG4gICAgbGlmZUN5Y2xlLFxuICAgIGRvbU11dGF0aW9uT2JzZXJ2YWJsZSxcbiAgICBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUsXG4gICAgIWNvbmZpZ3VyYXRpb24udHJhY2tWaWV3c01hbnVhbGx5LFxuICAgIGluaXRpYWxWaWV3TmFtZVxuICApXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NWaWV3VXBkYXRlKFxuICB2aWV3OiBWaWV3RXZlbnQsXG4gIGZvcmVncm91bmRDb250ZXh0czogRm9yZWdyb3VuZENvbnRleHRzLFxuICByZWNvcmRlckFwaTogUmVjb3JkZXJBcGlcbik6IFJhd1J1bUV2ZW50Q29sbGVjdGVkRGF0YTxSYXdSdW1WaWV3RXZlbnQ+IHtcbiAgY29uc3QgcmVwbGF5U3RhdHMgPSByZWNvcmRlckFwaS5nZXRSZXBsYXlTdGF0cyh2aWV3LmlkKVxuICBjb25zdCB2aWV3RXZlbnQ6IFJhd1J1bVZpZXdFdmVudCA9IHtcbiAgICBfZGQ6IHtcbiAgICAgIGRvY3VtZW50X3ZlcnNpb246IHZpZXcuZG9jdW1lbnRWZXJzaW9uLFxuICAgICAgcmVwbGF5X3N0YXRzOiByZXBsYXlTdGF0cyxcbiAgICB9LFxuICAgIGRhdGU6IHZpZXcuc3RhcnRDbG9ja3MudGltZVN0YW1wLFxuICAgIHR5cGU6IFJ1bUV2ZW50VHlwZS5WSUVXLFxuICAgIHZpZXc6IHtcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjb3VudDogdmlldy5ldmVudENvdW50cy51c2VyQWN0aW9uQ291bnQsXG4gICAgICB9LFxuICAgICAgY3VtdWxhdGl2ZV9sYXlvdXRfc2hpZnQ6IHZpZXcuY3VtdWxhdGl2ZUxheW91dFNoaWZ0LFxuICAgICAgZG9tX2NvbXBsZXRlOiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5kb21Db21wbGV0ZSksXG4gICAgICBkb21fY29udGVudF9sb2FkZWQ6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmRvbUNvbnRlbnRMb2FkZWQpLFxuICAgICAgZG9tX2ludGVyYWN0aXZlOiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5kb21JbnRlcmFjdGl2ZSksXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb3VudDogdmlldy5ldmVudENvdW50cy5lcnJvckNvdW50LFxuICAgICAgfSxcbiAgICAgIGZpcnN0X2NvbnRlbnRmdWxfcGFpbnQ6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmZpcnN0Q29udGVudGZ1bFBhaW50KSxcbiAgICAgIGZpcnN0X2lucHV0X2RlbGF5OiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5maXJzdElucHV0RGVsYXkpLFxuICAgICAgZmlyc3RfaW5wdXRfdGltZTogdG9TZXJ2ZXJEdXJhdGlvbih2aWV3LnRpbWluZ3MuZmlyc3RJbnB1dFRpbWUpLFxuICAgICAgaXNfYWN0aXZlOiB2aWV3LmlzQWN0aXZlLFxuICAgICAgbmFtZTogdmlldy5uYW1lLFxuICAgICAgbGFyZ2VzdF9jb250ZW50ZnVsX3BhaW50OiB0b1NlcnZlckR1cmF0aW9uKHZpZXcudGltaW5ncy5sYXJnZXN0Q29udGVudGZ1bFBhaW50KSxcbiAgICAgIGxvYWRfZXZlbnQ6IHRvU2VydmVyRHVyYXRpb24odmlldy50aW1pbmdzLmxvYWRFdmVudCksXG4gICAgICBsb2FkaW5nX3RpbWU6IGRpc2NhcmROZWdhdGl2ZUR1cmF0aW9uKHRvU2VydmVyRHVyYXRpb24odmlldy5sb2FkaW5nVGltZSkpLFxuICAgICAgbG9hZGluZ190eXBlOiB2aWV3LmxvYWRpbmdUeXBlLFxuICAgICAgbG9uZ190YXNrOiB7XG4gICAgICAgIGNvdW50OiB2aWV3LmV2ZW50Q291bnRzLmxvbmdUYXNrQ291bnQsXG4gICAgICB9LFxuICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgY291bnQ6IHZpZXcuZXZlbnRDb3VudHMucmVzb3VyY2VDb3VudCxcbiAgICAgIH0sXG4gICAgICB0aW1lX3NwZW50OiB0b1NlcnZlckR1cmF0aW9uKHZpZXcuZHVyYXRpb24pLFxuICAgICAgaW5fZm9yZWdyb3VuZF9wZXJpb2RzOiBmb3JlZ3JvdW5kQ29udGV4dHMuc2VsZWN0SW5Gb3JlZ3JvdW5kUGVyaW9kc0Zvcih2aWV3LnN0YXJ0Q2xvY2tzLnJlbGF0aXZlLCB2aWV3LmR1cmF0aW9uKSxcbiAgICB9LFxuICAgIHNlc3Npb246IHtcbiAgICAgIGhhc19yZXBsYXk6IHJlcGxheVN0YXRzID8gdHJ1ZSA6IHVuZGVmaW5lZCxcbiAgICB9LFxuICB9XG4gIGlmICghaXNFbXB0eU9iamVjdCh2aWV3LmN1c3RvbVRpbWluZ3MpKSB7XG4gICAgdmlld0V2ZW50LnZpZXcuY3VzdG9tX3RpbWluZ3MgPSBtYXBWYWx1ZXMoXG4gICAgICB2aWV3LmN1c3RvbVRpbWluZ3MsXG4gICAgICB0b1NlcnZlckR1cmF0aW9uIGFzIChkdXJhdGlvbjogRHVyYXRpb24pID0+IFNlcnZlckR1cmF0aW9uXG4gICAgKVxuICB9XG4gIHJldHVybiB7XG4gICAgcmF3UnVtRXZlbnQ6IHZpZXdFdmVudCxcbiAgICBzdGFydFRpbWU6IHZpZXcuc3RhcnRDbG9ja3MucmVsYXRpdmUsXG4gICAgZG9tYWluQ29udGV4dDoge1xuICAgICAgbG9jYXRpb246IHZpZXcubG9jYXRpb24sXG4gICAgfSxcbiAgfVxufVxuXG5mdW5jdGlvbiBkaXNjYXJkTmVnYXRpdmVEdXJhdGlvbihkdXJhdGlvbjogU2VydmVyRHVyYXRpb24gfCB1bmRlZmluZWQpOiBTZXJ2ZXJEdXJhdGlvbiB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBpc051bWJlcihkdXJhdGlvbikgJiYgZHVyYXRpb24gPCAwID8gdW5kZWZpbmVkIDogZHVyYXRpb25cbn1cbiIsImltcG9ydCB7IENvbmZpZ3VyYXRpb24sIHBlcmZvcm1EcmF3LCBTZXNzaW9uLCBzdGFydFNlc3Npb25NYW5hZ2VtZW50IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuL2xpZmVDeWNsZSdcblxuZXhwb3J0IGNvbnN0IFJVTV9TRVNTSU9OX0tFWSA9ICdydW0nXG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVtU2Vzc2lvbiB7XG4gIGdldElkOiAoKSA9PiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgaXNUcmFja2VkOiAoKSA9PiBib29sZWFuXG4gIGhhc1JlcGxheVBsYW46ICgpID0+IGJvb2xlYW5cbiAgaGFzTGl0ZVBsYW46ICgpID0+IGJvb2xlYW5cbn1cblxuZXhwb3J0IGVudW0gUnVtU2Vzc2lvblBsYW4ge1xuICBMSVRFID0gMSxcbiAgUkVQTEFZID0gMixcbn1cblxuZXhwb3J0IGVudW0gUnVtVHJhY2tpbmdUeXBlIHtcbiAgTk9UX1RSQUNLRUQgPSAnMCcsXG4gIC8vIE5vdGU6IHRoZSBcInRyYWNraW5nIHR5cGVcIiB2YWx1ZSAoc3RvcmVkIGluIHRoZSBzZXNzaW9uIGNvb2tpZSkgZG9lcyBub3QgbWF0Y2ggdGhlIFwic2Vzc2lvblxuICAvLyBwbGFuXCIgdmFsdWUgKHNlbnQgaW4gUlVNIGV2ZW50cykuIFRoaXMgaXMgZXhwZWN0ZWQsIGFuZCB3YXMgZG9uZSB0byBrZWVwIHJldHJvY29tcGF0aWJpbGl0eVxuICAvLyB3aXRoIGFjdGl2ZSBzZXNzaW9ucyB3aGVuIHVwZ3JhZGluZyB0aGUgU0RLLlxuICBUUkFDS0VEX1JFUExBWSA9ICcxJyxcbiAgVFJBQ0tFRF9MSVRFID0gJzInLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1TZXNzaW9uKGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZTogTGlmZUN5Y2xlKTogUnVtU2Vzc2lvbiB7XG4gIGNvbnN0IHNlc3Npb24gPSBzdGFydFNlc3Npb25NYW5hZ2VtZW50KGNvbmZpZ3VyYXRpb24uY29va2llT3B0aW9ucywgUlVNX1NFU1NJT05fS0VZLCAocmF3VHJhY2tpbmdUeXBlKSA9PlxuICAgIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbiwgcmF3VHJhY2tpbmdUeXBlKVxuICApXG5cbiAgc2Vzc2lvbi5yZW5ld09ic2VydmFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5TRVNTSU9OX0VYUElSRUQpXG4gICAgbGlmZUN5Y2xlLm5vdGlmeShMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9SRU5FV0VEKVxuICB9KVxuXG4gIHJldHVybiB7XG4gICAgZ2V0SWQ6IHNlc3Npb24uZ2V0SWQsXG4gICAgaXNUcmFja2VkOiAoKSA9PiBpc1Nlc3Npb25UcmFja2VkKHNlc3Npb24pLFxuICAgIGhhc1JlcGxheVBsYW46ICgpID0+IGlzU2Vzc2lvblRyYWNrZWQoc2Vzc2lvbikgJiYgc2Vzc2lvbi5nZXRUcmFja2luZ1R5cGUoKSA9PT0gUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfUkVQTEFZLFxuICAgIGhhc0xpdGVQbGFuOiAoKSA9PiBpc1Nlc3Npb25UcmFja2VkKHNlc3Npb24pICYmIHNlc3Npb24uZ2V0VHJhY2tpbmdUeXBlKCkgPT09IFJ1bVRyYWNraW5nVHlwZS5UUkFDS0VEX0xJVEUsXG4gIH1cbn1cblxuLyoqXG4gKiBTdGFydCBhIHRyYWNrZWQgcmVwbGF5IHNlc3Npb24gc3R1YlxuICogSXQgbmVlZHMgdG8gYmUgYSByZXBsYXkgcGxhbiBpbiBvcmRlciB0byBnZXQgbG9uZyB0YXNrc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1TZXNzaW9uU3R1YigpOiBSdW1TZXNzaW9uIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRJZDogKCkgPT4gJzAwMDAwMDAwLWFhYWEtMDAwMC1hYWFhLTAwMDAwMDAwMDAwMCcsXG4gICAgaXNUcmFja2VkOiAoKSA9PiB0cnVlLFxuICAgIGhhc1JlcGxheVBsYW46ICgpID0+IHRydWUsXG4gICAgaGFzTGl0ZVBsYW46ICgpID0+IGZhbHNlLFxuICB9XG59XG5cbmZ1bmN0aW9uIGlzU2Vzc2lvblRyYWNrZWQoc2Vzc2lvbjogU2Vzc2lvbjxSdW1UcmFja2luZ1R5cGU+KSB7XG4gIHJldHVybiBzZXNzaW9uLmdldElkKCkgIT09IHVuZGVmaW5lZCAmJiBpc1R5cGVUcmFja2VkKHNlc3Npb24uZ2V0VHJhY2tpbmdUeXBlKCkpXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVTZXNzaW9uU3RhdGUoY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiwgcmF3VHJhY2tpbmdUeXBlPzogc3RyaW5nKSB7XG4gIGxldCB0cmFja2luZ1R5cGU6IFJ1bVRyYWNraW5nVHlwZVxuICBpZiAoaGFzVmFsaWRSdW1TZXNzaW9uKHJhd1RyYWNraW5nVHlwZSkpIHtcbiAgICB0cmFja2luZ1R5cGUgPSByYXdUcmFja2luZ1R5cGVcbiAgfSBlbHNlIGlmICghcGVyZm9ybURyYXcoY29uZmlndXJhdGlvbi5zYW1wbGVSYXRlKSkge1xuICAgIHRyYWNraW5nVHlwZSA9IFJ1bVRyYWNraW5nVHlwZS5OT1RfVFJBQ0tFRFxuICB9IGVsc2UgaWYgKCFwZXJmb3JtRHJhdyhjb25maWd1cmF0aW9uLnJlcGxheVNhbXBsZVJhdGUpKSB7XG4gICAgdHJhY2tpbmdUeXBlID0gUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfTElURVxuICB9IGVsc2Uge1xuICAgIHRyYWNraW5nVHlwZSA9IFJ1bVRyYWNraW5nVHlwZS5UUkFDS0VEX1JFUExBWVxuICB9XG4gIHJldHVybiB7XG4gICAgdHJhY2tpbmdUeXBlLFxuICAgIGlzVHJhY2tlZDogaXNUeXBlVHJhY2tlZCh0cmFja2luZ1R5cGUpLFxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkUnVtU2Vzc2lvbih0cmFja2luZ1R5cGU/OiBzdHJpbmcpOiB0cmFja2luZ1R5cGUgaXMgUnVtVHJhY2tpbmdUeXBlIHtcbiAgcmV0dXJuIChcbiAgICB0cmFja2luZ1R5cGUgPT09IFJ1bVRyYWNraW5nVHlwZS5OT1RfVFJBQ0tFRCB8fFxuICAgIHRyYWNraW5nVHlwZSA9PT0gUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfUkVQTEFZIHx8XG4gICAgdHJhY2tpbmdUeXBlID09PSBSdW1UcmFja2luZ1R5cGUuVFJBQ0tFRF9MSVRFXG4gIClcbn1cblxuZnVuY3Rpb24gaXNUeXBlVHJhY2tlZChydW1TZXNzaW9uVHlwZTogUnVtVHJhY2tpbmdUeXBlIHwgdW5kZWZpbmVkKSB7XG4gIHJldHVybiBydW1TZXNzaW9uVHlwZSA9PT0gUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfTElURSB8fCBydW1TZXNzaW9uVHlwZSA9PT0gUnVtVHJhY2tpbmdUeXBlLlRSQUNLRURfUkVQTEFZXG59XG4iLCJpbXBvcnQgeyBmaW5kQ29tbWFTZXBhcmF0ZWRWYWx1ZSwgT05FX01JTlVURSwgVGltZVN0YW1wIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuXG5pbnRlcmZhY2UgRG9jdW1lbnRUcmFjZURhdGEge1xuICB0cmFjZUlkOiBzdHJpbmdcbiAgdHJhY2VUaW1lOiBUaW1lU3RhbXBcbn1cblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfRE9DVU1FTlRfT1VUREFURURfVFJBQ0VfSURfVEhSRVNIT0xEID0gMiAqIE9ORV9NSU5VVEVcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50VHJhY2VJZChkb2N1bWVudDogRG9jdW1lbnQpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICBjb25zdCBkYXRhID0gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tTWV0YShkb2N1bWVudCkgfHwgZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tQ29tbWVudChkb2N1bWVudClcblxuICBpZiAoIWRhdGEgfHwgZGF0YS50cmFjZVRpbWUgPD0gRGF0ZS5ub3coKSAtIElOSVRJQUxfRE9DVU1FTlRfT1VUREFURURfVFJBQ0VfSURfVEhSRVNIT0xEKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgcmV0dXJuIGRhdGEudHJhY2VJZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tTWV0YShkb2N1bWVudDogRG9jdW1lbnQpOiBEb2N1bWVudFRyYWNlRGF0YSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IHRyYWNlSWRNZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MTWV0YUVsZW1lbnQ+KCdtZXRhW25hbWU9ZGQtdHJhY2UtaWRdJylcbiAgY29uc3QgdHJhY2VUaW1lTWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTE1ldGFFbGVtZW50PignbWV0YVtuYW1lPWRkLXRyYWNlLXRpbWVdJylcbiAgcmV0dXJuIGNyZWF0ZURvY3VtZW50VHJhY2VEYXRhKHRyYWNlSWRNZXRhICYmIHRyYWNlSWRNZXRhLmNvbnRlbnQsIHRyYWNlVGltZU1ldGEgJiYgdHJhY2VUaW1lTWV0YS5jb250ZW50KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRUcmFjZURhdGFGcm9tQ29tbWVudChkb2N1bWVudDogRG9jdW1lbnQpOiBEb2N1bWVudFRyYWNlRGF0YSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGNvbW1lbnQgPSBmaW5kVHJhY2VDb21tZW50KGRvY3VtZW50KVxuICBpZiAoIWNvbW1lbnQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZURvY3VtZW50VHJhY2VEYXRhKFxuICAgIGZpbmRDb21tYVNlcGFyYXRlZFZhbHVlKGNvbW1lbnQsICd0cmFjZS1pZCcpLFxuICAgIGZpbmRDb21tYVNlcGFyYXRlZFZhbHVlKGNvbW1lbnQsICd0cmFjZS10aW1lJylcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRUcmFjZURhdGEoXG4gIHRyYWNlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGwsXG4gIHJhd1RyYWNlVGltZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbFxuKTogRG9jdW1lbnRUcmFjZURhdGEgfCB1bmRlZmluZWQge1xuICBjb25zdCB0cmFjZVRpbWUgPSByYXdUcmFjZVRpbWUgJiYgKE51bWJlcihyYXdUcmFjZVRpbWUpIGFzIFRpbWVTdGFtcClcbiAgaWYgKCF0cmFjZUlkIHx8ICF0cmFjZVRpbWUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRyYWNlSWQsXG4gICAgdHJhY2VUaW1lLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kVHJhY2VDb21tZW50KGRvY3VtZW50OiBEb2N1bWVudCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIC8vIDEuIFRyeSB0byBmaW5kIHRoZSBjb21tZW50IGFzIGEgZGlyZWN0IGNoaWxkIG9mIHRoZSBkb2N1bWVudFxuICAvLyBOb3RlOiBUU0xpbnQgYWR2aXNlcyB0byB1c2UgYSAnZm9yIG9mJywgYnV0IFRTIGRvZXNuJ3QgYWxsb3cgdG8gdXNlICdmb3Igb2YnIGlmIHRoZSBpdGVyYXRlZFxuICAvLyB2YWx1ZSBpcyBub3QgYW4gYXJyYXkgb3Igc3RyaW5nIChoZXJlLCBhIE5vZGVMaXN0KS5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItZm9yLW9mXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jdW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNvbW1lbnQgPSBnZXRUcmFjZUNvbW1lbnRGcm9tTm9kZShkb2N1bWVudC5jaGlsZE5vZGVzW2ldKVxuICAgIGlmIChjb21tZW50KSB7XG4gICAgICByZXR1cm4gY29tbWVudFxuICAgIH1cbiAgfVxuXG4gIC8vIDIuIElmIHRoZSBjb21tZW50IGlzIHBsYWNlZCBhZnRlciB0aGUgPC9odG1sPiB0YWcsIGJ1dCBoYXZlIHNvbWUgc3BhY2Ugb3IgbmV3IGxpbmVzIGJlZm9yZSBvclxuICAvLyBhZnRlciwgdGhlIERPTSBwYXJzZXIgd2lsbCBsaWZ0IGl0IChhbmQgdGhlIHN1cnJvdW5kaW5nIHRleHQpIGF0IHRoZSBlbmQgb2YgdGhlIDxib2R5PiB0YWcuXG4gIC8vIFRyeSB0byBsb29rIGZvciB0aGUgY29tbWVudCBhdCB0aGUgZW5kIG9mIHRoZSA8Ym9keT4gYnkgYnkgaXRlcmF0aW5nIG92ZXIgaXRzIGNoaWxkIG5vZGVzIGluXG4gIC8vIHJldmVyc2Ugb3JkZXIsIHN0b3BwaW5nIGlmIHdlIGNvbWUgYWNyb3NzIGEgbm9uLXRleHQgbm9kZS5cbiAgaWYgKGRvY3VtZW50LmJvZHkpIHtcbiAgICBmb3IgKGxldCBpID0gZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICBjb25zdCBub2RlID0gZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzW2ldXG4gICAgICBjb25zdCBjb21tZW50ID0gZ2V0VHJhY2VDb21tZW50RnJvbU5vZGUobm9kZSlcbiAgICAgIGlmIChjb21tZW50KSB7XG4gICAgICAgIHJldHVybiBjb21tZW50XG4gICAgICB9XG4gICAgICBpZiAoIWlzVGV4dE5vZGUobm9kZSkpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VHJhY2VDb21tZW50RnJvbU5vZGUobm9kZTogTm9kZSB8IG51bGwpIHtcbiAgaWYgKG5vZGUgJiYgaXNDb21tZW50Tm9kZShub2RlKSkge1xuICAgIGNvbnN0IG1hdGNoID0gL15cXHMqREFUQURPRzsoLio/KVxccyokLy5leGVjKG5vZGUuZGF0YSlcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXRjaFsxXVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0NvbW1lbnROb2RlKG5vZGU6IE5vZGUpOiBub2RlIGlzIENvbW1lbnQge1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZSA9PT0gJyNjb21tZW50J1xufVxuXG5mdW5jdGlvbiBpc1RleHROb2RlKG5vZGU6IE5vZGUpOiBub2RlIGlzIFRleHQge1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZSA9PT0gJyN0ZXh0J1xufVxuIiwiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiwgZ2V0T3JpZ2luLCBvYmplY3RFbnRyaWVzIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHtcbiAgUnVtRmV0Y2hDb21wbGV0ZUNvbnRleHQsXG4gIFJ1bUZldGNoU3RhcnRDb250ZXh0LFxuICBSdW1YaHJDb21wbGV0ZUNvbnRleHQsXG4gIFJ1bVhoclN0YXJ0Q29udGV4dCxcbn0gZnJvbSAnLi4vcmVxdWVzdENvbGxlY3Rpb24nXG5pbXBvcnQgeyBSdW1TZXNzaW9uIH0gZnJvbSAnLi4vcnVtU2Vzc2lvbidcblxuZXhwb3J0IGludGVyZmFjZSBUcmFjZXIge1xuICB0cmFjZUZldGNoOiAoY29udGV4dDogUGFydGlhbDxSdW1GZXRjaFN0YXJ0Q29udGV4dD4pID0+IHZvaWRcbiAgdHJhY2VYaHI6IChjb250ZXh0OiBQYXJ0aWFsPFJ1bVhoclN0YXJ0Q29udGV4dD4sIHhocjogWE1MSHR0cFJlcXVlc3QpID0+IHZvaWRcbiAgY2xlYXJUcmFjaW5nSWZOZWVkZWQ6IChjb250ZXh0OiBSdW1GZXRjaENvbXBsZXRlQ29udGV4dCB8IFJ1bVhockNvbXBsZXRlQ29udGV4dCkgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgVHJhY2luZ0hlYWRlcnMge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbn1cblxuLyoqXG4gKiBDbGVhciB0cmFjaW5nIGluZm9ybWF0aW9uIHRvIGF2b2lkIGluY29tcGxldGUgdHJhY2VzLiBJZGVhbGx5LCB3ZSBzaG91bGQgZG8gaXQgd2hlbiB0aGUgdGhlXG4gKiByZXF1ZXN0IGRpZCBub3QgcmVhY2ggdGhlIHNlcnZlciwgYnV0IHdlIHRoZSBicm93c2VyIGRvZXMgbm90IGV4cG9zZSB0aGlzLiBTbywgd2UgY2xlYXIgdHJhY2luZ1xuICogaW5mb3JtYXRpb24gaWYgdGhlIHJlcXVlc3QgZW5kZWQgd2l0aCBzdGF0dXMgMCB3aXRob3V0IGJlaW5nIGFib3J0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFJlYXNvbmluZzpcbiAqXG4gKiAqIEFwcGxpY2F0aW9ucyBhcmUgdXN1YWxseSBhYm9ydGluZyByZXF1ZXN0cyBhZnRlciBhIGJpdCBvZiB0aW1lLCBmb3IgZXhhbXBsZSB3aGVuIHRoZSB1c2VyIGlzXG4gKiB0eXBpbmcgKGF1dG9jb21wbGV0aW9uKSBvciBuYXZpZ2F0aW5nIGF3YXkgKGluIGEgU1BBKS4gV2l0aCBhIHBlcmZvcm1hbnQgZGV2aWNlIGFuZCBnb29kXG4gKiBuZXR3b3JrIGNvbmRpdGlvbnMsIHRoZSByZXF1ZXN0IGlzIGxpa2VseSB0byByZWFjaCB0aGUgc2VydmVyIGJlZm9yZSBiZWluZyBjYW5jZWxlZC5cbiAqXG4gKiAqIFJlcXVlc3RzIGFib3J0ZWQgb3RoZXJ3aXNlIChleDogbGFjayBvZiBpbnRlcm5ldCwgQ09SUyBpc3N1ZSwgYmxvY2tlZCBieSBhIHByaXZhY3kgZXh0ZW5zaW9uKVxuICogYXJlIGxpa2VseSB0byBmaW5pc2ggcXVpY2tseSBhbmQgd2l0aG91dCByZWFjaGluZyB0aGUgc2VydmVyLlxuICpcbiAqIE9mIGNvdXJzZSBpdCBtaWdodCBub3QgYmUgdGhlIGNhc2UgZXZlcnkgdGltZSwgYnV0IGl0IHNob3VsZCBsaW1pdCBoYXZpbmcgaW5jb21wbGV0ZSB0cmFjZXMgYVxuICogYml0Li5cbiAqICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUcmFjaW5nSWZOZWVkZWQoY29udGV4dDogUnVtRmV0Y2hDb21wbGV0ZUNvbnRleHQgfCBSdW1YaHJDb21wbGV0ZUNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuc3RhdHVzID09PSAwICYmICFjb250ZXh0LmlzQWJvcnRlZCkge1xuICAgIGNvbnRleHQudHJhY2VJZCA9IHVuZGVmaW5lZFxuICAgIGNvbnRleHQuc3BhbklkID0gdW5kZWZpbmVkXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VHJhY2VyKGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sIHNlc3Npb246IFJ1bVNlc3Npb24pOiBUcmFjZXIge1xuICByZXR1cm4ge1xuICAgIGNsZWFyVHJhY2luZ0lmTmVlZGVkLFxuICAgIHRyYWNlRmV0Y2g6IChjb250ZXh0KSA9PlxuICAgICAgaW5qZWN0SGVhZGVyc0lmVHJhY2luZ0FsbG93ZWQoY29uZmlndXJhdGlvbiwgY29udGV4dCwgc2Vzc2lvbiwgKHRyYWNpbmdIZWFkZXJzOiBUcmFjaW5nSGVhZGVycykgPT4ge1xuICAgICAgICBpZiAoY29udGV4dC5pbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QgJiYgIWNvbnRleHQuaW5pdD8uaGVhZGVycykge1xuICAgICAgICAgIGNvbnRleHQuaW5wdXQgPSBuZXcgUmVxdWVzdChjb250ZXh0LmlucHV0KVxuICAgICAgICAgIE9iamVjdC5rZXlzKHRyYWNpbmdIZWFkZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIDsoY29udGV4dC5pbnB1dCBhcyBSZXF1ZXN0KS5oZWFkZXJzLmFwcGVuZChrZXksIHRyYWNpbmdIZWFkZXJzW2tleV0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0LmluaXQgPSB7IC4uLmNvbnRleHQuaW5pdCB9XG4gICAgICAgICAgY29uc3QgaGVhZGVyczogc3RyaW5nW11bXSA9IFtdXG4gICAgICAgICAgaWYgKGNvbnRleHQuaW5pdC5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICAgICAgY29udGV4dC5pbml0LmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICBoZWFkZXJzLnB1c2goW2tleSwgdmFsdWVdKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dC5pbml0LmhlYWRlcnMpKSB7XG4gICAgICAgICAgICBjb250ZXh0LmluaXQuaGVhZGVycy5mb3JFYWNoKChoZWFkZXIpID0+IHtcbiAgICAgICAgICAgICAgaGVhZGVycy5wdXNoKGhlYWRlcilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0LmluaXQuaGVhZGVycykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY29udGV4dC5pbml0LmhlYWRlcnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICBoZWFkZXJzLnB1c2goW2tleSwgKGNvbnRleHQuaW5pdCEuaGVhZGVycyBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KVtrZXldXSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRleHQuaW5pdC5oZWFkZXJzID0gaGVhZGVycy5jb25jYXQob2JqZWN0RW50cmllcyh0cmFjaW5nSGVhZGVycykgYXMgc3RyaW5nW11bXSlcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgdHJhY2VYaHI6IChjb250ZXh0LCB4aHIpID0+XG4gICAgICBpbmplY3RIZWFkZXJzSWZUcmFjaW5nQWxsb3dlZChjb25maWd1cmF0aW9uLCBjb250ZXh0LCBzZXNzaW9uLCAodHJhY2luZ0hlYWRlcnM6IFRyYWNpbmdIZWFkZXJzKSA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRyYWNpbmdIZWFkZXJzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdHJhY2luZ0hlYWRlcnNbbmFtZV0pXG4gICAgICAgIH0pXG4gICAgICB9KSxcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmplY3RIZWFkZXJzSWZUcmFjaW5nQWxsb3dlZChcbiAgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbixcbiAgY29udGV4dDogUGFydGlhbDxSdW1GZXRjaFN0YXJ0Q29udGV4dCB8IFJ1bVhoclN0YXJ0Q29udGV4dD4sXG4gIHNlc3Npb246IFJ1bVNlc3Npb24sXG4gIGluamVjdDogKHRyYWNpbmdIZWFkZXJzOiBUcmFjaW5nSGVhZGVycykgPT4gdm9pZFxuKSB7XG4gIGlmICghaXNUcmFjaW5nU3VwcG9ydGVkKCkgfHwgIWlzQWxsb3dlZFVybChjb25maWd1cmF0aW9uLCBjb250ZXh0LnVybCEpIHx8ICFzZXNzaW9uLmlzVHJhY2tlZCgpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb250ZXh0LnRyYWNlSWQgPSBuZXcgVHJhY2VJZGVudGlmaWVyKClcbiAgY29udGV4dC5zcGFuSWQgPSBuZXcgVHJhY2VJZGVudGlmaWVyKClcbiAgaW5qZWN0KG1ha2VUcmFjaW5nSGVhZGVycyhjb250ZXh0LnRyYWNlSWQsIGNvbnRleHQuc3BhbklkKSlcbn1cblxuZnVuY3Rpb24gaXNBbGxvd2VkVXJsKGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sIHJlcXVlc3RVcmw6IHN0cmluZykge1xuICBjb25zdCByZXF1ZXN0T3JpZ2luID0gZ2V0T3JpZ2luKHJlcXVlc3RVcmwpXG4gIGZvciAoY29uc3QgYWxsb3dlZE9yaWdpbiBvZiBjb25maWd1cmF0aW9uLmFsbG93ZWRUcmFjaW5nT3JpZ2lucykge1xuICAgIGlmIChyZXF1ZXN0T3JpZ2luID09PSBhbGxvd2VkT3JpZ2luIHx8IChhbGxvd2VkT3JpZ2luIGluc3RhbmNlb2YgUmVnRXhwICYmIGFsbG93ZWRPcmlnaW4udGVzdChyZXF1ZXN0T3JpZ2luKSkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nU3VwcG9ydGVkKCkge1xuICByZXR1cm4gZ2V0Q3J5cHRvKCkgIT09IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBnZXRDcnlwdG8oKSB7XG4gIHJldHVybiB3aW5kb3cuY3J5cHRvIHx8ICh3aW5kb3cgYXMgYW55KS5tc0NyeXB0b1xufVxuXG5mdW5jdGlvbiBtYWtlVHJhY2luZ0hlYWRlcnModHJhY2VJZDogVHJhY2VJZGVudGlmaWVyLCBzcGFuSWQ6IFRyYWNlSWRlbnRpZmllcik6IFRyYWNpbmdIZWFkZXJzIHtcbiAgcmV0dXJuIHtcbiAgICAneC1kYXRhZG9nLW9yaWdpbic6ICdydW0nLFxuICAgICd4LWRhdGFkb2ctcGFyZW50LWlkJzogc3BhbklkLnRvRGVjaW1hbFN0cmluZygpLFxuICAgICd4LWRhdGFkb2ctc2FtcGxlZCc6ICcxJyxcbiAgICAneC1kYXRhZG9nLXNhbXBsaW5nLXByaW9yaXR5JzogJzEnLFxuICAgICd4LWRhdGFkb2ctdHJhY2UtaWQnOiB0cmFjZUlkLnRvRGVjaW1hbFN0cmluZygpLFxuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cbmV4cG9ydCBjbGFzcyBUcmFjZUlkZW50aWZpZXIge1xuICBwcml2YXRlIGJ1ZmZlcjogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KDgpXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZ2V0Q3J5cHRvKCkuZ2V0UmFuZG9tVmFsdWVzKHRoaXMuYnVmZmVyKVxuICAgIHRoaXMuYnVmZmVyWzBdID0gdGhpcy5idWZmZXJbMF0gJiAweDdmIC8vIGZvcmNlIDYzLWJpdFxuICB9XG5cbiAgdG9TdHJpbmcocmFkaXg6IG51bWJlcikge1xuICAgIGxldCBoaWdoID0gdGhpcy5yZWFkSW50MzIoMClcbiAgICBsZXQgbG93ID0gdGhpcy5yZWFkSW50MzIoNClcbiAgICBsZXQgc3RyID0gJydcblxuICAgIHdoaWxlICgxKSB7XG4gICAgICBjb25zdCBtb2QgPSAoaGlnaCAlIHJhZGl4KSAqIDQyOTQ5NjcyOTYgKyBsb3dcblxuICAgICAgaGlnaCA9IE1hdGguZmxvb3IoaGlnaCAvIHJhZGl4KVxuICAgICAgbG93ID0gTWF0aC5mbG9vcihtb2QgLyByYWRpeClcbiAgICAgIHN0ciA9IChtb2QgJSByYWRpeCkudG9TdHJpbmcocmFkaXgpICsgc3RyXG5cbiAgICAgIGlmICghaGlnaCAmJiAhbG93KSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0clxuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCB1c2VkIGV2ZXJ5d2hlcmUgZXhjZXB0IHRoZSB0cmFjZSBpbnRha2VcbiAgICovXG4gIHRvRGVjaW1hbFN0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygxMClcbiAgfVxuXG4gIHByaXZhdGUgcmVhZEludDMyKG9mZnNldDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuYnVmZmVyW29mZnNldF0gKiAxNjc3NzIxNiArXG4gICAgICAodGhpcy5idWZmZXJbb2Zmc2V0ICsgMV0gPDwgMTYpICtcbiAgICAgICh0aGlzLmJ1ZmZlcltvZmZzZXQgKyAyXSA8PCA4KSArXG4gICAgICB0aGlzLmJ1ZmZlcltvZmZzZXQgKyAzXVxuICAgIClcbiAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBuby1iaXR3aXNlICovXG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgUnVtRXZlbnRUeXBlIH0gZnJvbSAnLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSB9IGZyb20gJy4vbGlmZUN5Y2xlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50Q291bnRzIHtcbiAgZXJyb3JDb3VudDogbnVtYmVyXG4gIHVzZXJBY3Rpb25Db3VudDogbnVtYmVyXG4gIGxvbmdUYXNrQ291bnQ6IG51bWJlclxuICByZXNvdXJjZUNvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrRXZlbnRDb3VudHMobGlmZUN5Y2xlOiBMaWZlQ3ljbGUsIGNhbGxiYWNrOiAoZXZlbnRDb3VudHM6IEV2ZW50Q291bnRzKSA9PiB2b2lkID0gbm9vcCkge1xuICBjb25zdCBldmVudENvdW50cyA9IHtcbiAgICBlcnJvckNvdW50OiAwLFxuICAgIGxvbmdUYXNrQ291bnQ6IDAsXG4gICAgcmVzb3VyY2VDb3VudDogMCxcbiAgICB1c2VyQWN0aW9uQ291bnQ6IDAsXG4gIH1cblxuICBjb25zdCBzdWJzY3JpcHRpb24gPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5SVU1fRVZFTlRfQ09MTEVDVEVELCAoeyB0eXBlIH0pOiB2b2lkID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUnVtRXZlbnRUeXBlLkVSUk9SOlxuICAgICAgICBldmVudENvdW50cy5lcnJvckNvdW50ICs9IDFcbiAgICAgICAgY2FsbGJhY2soZXZlbnRDb3VudHMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFJ1bUV2ZW50VHlwZS5BQ1RJT046XG4gICAgICAgIGV2ZW50Q291bnRzLnVzZXJBY3Rpb25Db3VudCArPSAxXG4gICAgICAgIGNhbGxiYWNrKGV2ZW50Q291bnRzKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBSdW1FdmVudFR5cGUuTE9OR19UQVNLOlxuICAgICAgICBldmVudENvdW50cy5sb25nVGFza0NvdW50ICs9IDFcbiAgICAgICAgY2FsbGJhY2soZXZlbnRDb3VudHMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFJ1bUV2ZW50VHlwZS5SRVNPVVJDRTpcbiAgICAgICAgZXZlbnRDb3VudHMucmVzb3VyY2VDb3VudCArPSAxXG4gICAgICAgIGNhbGxiYWNrKGV2ZW50Q291bnRzKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXG4gICAgfSxcbiAgICBldmVudENvdW50cyxcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVsYXRpdmVUaW1lLCBPYnNlcnZhYmxlLCBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZLCByZWxhdGl2ZU5vdyB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFVybENvbnRleHQgfSBmcm9tICcuLi9yYXdSdW1FdmVudC50eXBlcydcbmltcG9ydCB7IExvY2F0aW9uQ2hhbmdlIH0gZnJvbSAnLi4vYnJvd3Nlci9sb2NhdGlvbkNoYW5nZU9ic2VydmFibGUnXG5pbXBvcnQgeyBDb250ZXh0SGlzdG9yeSB9IGZyb20gJy4vY29udGV4dEhpc3RvcnknXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSB9IGZyb20gJy4vbGlmZUN5Y2xlJ1xuXG4vKipcbiAqIFdlIHdhbnQgdG8gYXR0YWNoIHRvIGFuIGV2ZW50OlxuICogLSB0aGUgdXJsIGNvcnJlc3BvbmRpbmcgdG8gaXRzIHN0YXJ0XG4gKiAtIHRoZSByZWZlcnJlciBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcmV2aW91cyB2aWV3IHVybCAob3IgZG9jdW1lbnQgcmVmZXJyZXIgZm9yIGluaXRpYWwgdmlldylcbiAqL1xuXG5leHBvcnQgY29uc3QgVVJMX0NPTlRFWFRfVElNRV9PVVRfREVMQVkgPSBTRVNTSU9OX1RJTUVfT1VUX0RFTEFZXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXJsQ29udGV4dHMge1xuICBmaW5kVXJsOiAoc3RhcnRUaW1lPzogUmVsYXRpdmVUaW1lKSA9PiBVcmxDb250ZXh0IHwgdW5kZWZpbmVkXG4gIHN0b3A6ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VXJsQ29udGV4dHMoXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGU6IE9ic2VydmFibGU8TG9jYXRpb25DaGFuZ2U+LFxuICBsb2NhdGlvbjogTG9jYXRpb25cbikge1xuICBjb25zdCB1cmxDb250ZXh0SGlzdG9yeSA9IG5ldyBDb250ZXh0SGlzdG9yeTxVcmxDb250ZXh0PihVUkxfQ09OVEVYVF9USU1FX09VVF9ERUxBWSlcblxuICBsZXQgcHJldmlvdXNWaWV3VXJsOiBzdHJpbmcgfCB1bmRlZmluZWRcblxuICBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0VOREVELCAoeyBlbmRDbG9ja3MgfSkgPT4ge1xuICAgIHVybENvbnRleHRIaXN0b3J5LmNsb3NlQ3VycmVudChlbmRDbG9ja3MucmVsYXRpdmUpXG4gIH0pXG5cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuVklFV19DUkVBVEVELCAoeyBzdGFydENsb2NrcyB9KSA9PiB7XG4gICAgY29uc3Qgdmlld1VybCA9IGxvY2F0aW9uLmhyZWZcbiAgICB1cmxDb250ZXh0SGlzdG9yeS5zZXRDdXJyZW50KFxuICAgICAgYnVpbGRVcmxDb250ZXh0KHtcbiAgICAgICAgdXJsOiB2aWV3VXJsLFxuICAgICAgICByZWZlcnJlcjogIXByZXZpb3VzVmlld1VybCA/IGRvY3VtZW50LnJlZmVycmVyIDogcHJldmlvdXNWaWV3VXJsLFxuICAgICAgfSksXG4gICAgICBzdGFydENsb2Nrcy5yZWxhdGl2ZVxuICAgIClcbiAgICBwcmV2aW91c1ZpZXdVcmwgPSB2aWV3VXJsXG4gIH0pXG5cbiAgY29uc3QgbG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24gPSBsb2NhdGlvbkNoYW5nZU9ic2VydmFibGUuc3Vic2NyaWJlKCh7IG5ld0xvY2F0aW9uIH0pID0+IHtcbiAgICBjb25zdCBjdXJyZW50ID0gdXJsQ29udGV4dEhpc3RvcnkuZ2V0Q3VycmVudCgpXG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IGNoYW5nZVRpbWUgPSByZWxhdGl2ZU5vdygpXG4gICAgICB1cmxDb250ZXh0SGlzdG9yeS5jbG9zZUN1cnJlbnQoY2hhbmdlVGltZSlcbiAgICAgIHVybENvbnRleHRIaXN0b3J5LnNldEN1cnJlbnQoXG4gICAgICAgIGJ1aWxkVXJsQ29udGV4dCh7XG4gICAgICAgICAgdXJsOiBuZXdMb2NhdGlvbi5ocmVmLFxuICAgICAgICAgIHJlZmVycmVyOiBjdXJyZW50LnZpZXcucmVmZXJyZXIsXG4gICAgICAgIH0pLFxuICAgICAgICBjaGFuZ2VUaW1lXG4gICAgICApXG4gICAgfVxuICB9KVxuXG4gIGZ1bmN0aW9uIGJ1aWxkVXJsQ29udGV4dCh7IHVybCwgcmVmZXJyZXIgfTogeyB1cmw6IHN0cmluZzsgcmVmZXJyZXI6IHN0cmluZyB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpZXc6IHtcbiAgICAgICAgdXJsLFxuICAgICAgICByZWZlcnJlcixcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmaW5kVXJsOiAoc3RhcnRUaW1lPzogUmVsYXRpdmVUaW1lKSA9PiB1cmxDb250ZXh0SGlzdG9yeS5maW5kKHN0YXJ0VGltZSksXG4gICAgc3RvcDogKCkgPT4ge1xuICAgICAgbG9jYXRpb25DaGFuZ2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICAgICAgdXJsQ29udGV4dEhpc3Rvcnkuc3RvcCgpXG4gICAgfSxcbiAgfVxufVxuIiwiaW1wb3J0IHsgRHVyYXRpb24sIGVsYXBzZWQsIG1vbml0b3IsIE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiwgdGltZVN0YW1wTm93IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuL2xpZmVDeWNsZSdcblxuLy8gRGVsYXkgdG8gd2FpdCBmb3IgYSBwYWdlIGFjdGl2aXR5IHRvIHZhbGlkYXRlIHRoZSB0cmFja2luZyBwcm9jZXNzXG5leHBvcnQgY29uc3QgUEFHRV9BQ1RJVklUWV9WQUxJREFUSU9OX0RFTEFZID0gMTAwXG4vLyBEZWxheSB0byB3YWl0IGFmdGVyIGEgcGFnZSBhY3Rpdml0eSB0byBlbmQgdGhlIHRyYWNraW5nIHByb2Nlc3NcbmV4cG9ydCBjb25zdCBQQUdFX0FDVElWSVRZX0VORF9ERUxBWSA9IDEwMFxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VBY3Rpdml0eUV2ZW50IHtcbiAgaXNCdXN5OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIElkbGVQYWdlRXZlbnQgPSB7IGhhZEFjdGl2aXR5OiB0cnVlOyBkdXJhdGlvbjogRHVyYXRpb24gfSB8IHsgaGFkQWN0aXZpdHk6IGZhbHNlIH1cblxuLyoqXG4gKiBXYWl0IGZvciB0aGUgbmV4dCBpZGxlIHBhZ2UgdGltZVxuICpcbiAqIERldGVjdGlvbiBsaWZlY3ljbGU6XG4gKiBgYGBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgV2FpdCBpZGxlIHBhZ2VcbiAqICAgICAgICAgICAgICAuLS0tLS0tLS0tLS0tLS0tLS0tLSctLS0tLS0tLS0tLS0tLS0tLS0tLS5cbiAqICAgICAgICAgICAgICB2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZcbiAqICAgICBbV2FpdCBmb3IgYSBwYWdlIGFjdGl2aXR5IF0gICAgICAgICAgW1dhaXQgZm9yIGEgbWF4aW11bSBkdXJhdGlvbl1cbiAqICAgICBbdGltZW91dDogVkFMSURBVElPTl9ERUxBWV0gICAgICAgICAgWyAgdGltZW91dDogbWF4RHVyYXRpb24gICAgIF1cbiAqICAgICAgICAgIC8gICAgICAgICAgICAgICAgICBcXCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgdiAgICAgICAgICAgICAgICAgICAgdiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogIFtObyBwYWdlIGFjdGl2aXR5XSAgIFtQYWdlIGFjdGl2aXR5XSAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgfCwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLiAgIHxcbiAqICAgICAgICAgdiAgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgIChEaXNjYXJkKSAgICAgW1dhaXQgZm9yIGEgcGFnZSBhY3Rpdml0eV0gICAgICAgIHwgICB8XG4gKiAgICAgICAgICAgICAgICAgICBbICAgdGltZW91dDogRU5EX0RFTEFZICAgXSAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgIFxcICAgICAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgICAgICAgICB2ICAgICAgICAgICB8ICAgfFxuICogICAgICAgICAgICAgW05vIHBhZ2UgYWN0aXZpdHldICAgIFtQYWdlIGFjdGl2aXR5XSAgIHwgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICctLS0tLS0tLS0tLS0nICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgJy0tLS0tLS0tLS0tLiAsLS0tLS0tLS0tLS0tLS0tLS0tLS0nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoRW5kKVxuICogYGBgXG4gKlxuICogTm90ZTogYnkgYXNzdW1pbmcgdGhhdCBtYXhEdXJhdGlvbiBpcyBncmVhdGVyIHRoYW4gVkFMSURBVElPTl9ERUxBWSwgd2UgYXJlIHN1cmUgdGhhdCBpZiB0aGVcbiAqIHByb2Nlc3MgaXMgc3RpbGwgYWxpdmUgYWZ0ZXIgbWF4RHVyYXRpb24sIGl0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhaXRJZGxlUGFnZShcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGRvbU11dGF0aW9uT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTx2b2lkPixcbiAgaWRsZVBhZ2VDYWxsYmFjazogKGV2ZW50OiBJZGxlUGFnZUV2ZW50KSA9PiB2b2lkLFxuICBtYXhEdXJhdGlvbj86IG51bWJlclxuKSB7XG4gIGNvbnN0IHBhZ2VBY3Rpdml0eU9ic2VydmFibGUgPSBjcmVhdGVQYWdlQWN0aXZpdHlPYnNlcnZhYmxlKGxpZmVDeWNsZSwgZG9tTXV0YXRpb25PYnNlcnZhYmxlKVxuICByZXR1cm4gZG9XYWl0SWRsZVBhZ2UocGFnZUFjdGl2aXR5T2JzZXJ2YWJsZSwgaWRsZVBhZ2VDYWxsYmFjaywgbWF4RHVyYXRpb24pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb1dhaXRJZGxlUGFnZShcbiAgcGFnZUFjdGl2aXR5T2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxQYWdlQWN0aXZpdHlFdmVudD4sXG4gIGlkbGVQYWdlQ2FsbGJhY2s6IChldmVudDogSWRsZVBhZ2VFdmVudCkgPT4gdm9pZCxcbiAgbWF4RHVyYXRpb24/OiBudW1iZXJcbikge1xuICBsZXQgaWRsZVRpbWVvdXRJZDogbnVtYmVyXG4gIGxldCBoYXNDb21wbGV0ZWQgPSBmYWxzZVxuICBjb25zdCBzdGFydFRpbWUgPSB0aW1lU3RhbXBOb3coKVxuXG4gIGNvbnN0IHZhbGlkYXRpb25UaW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgIG1vbml0b3IoKCkgPT4gY29tcGxldGUoeyBoYWRBY3Rpdml0eTogZmFsc2UgfSkpLFxuICAgIFBBR0VfQUNUSVZJVFlfVkFMSURBVElPTl9ERUxBWVxuICApXG4gIGNvbnN0IG1heER1cmF0aW9uVGltZW91dElkID1cbiAgICBtYXhEdXJhdGlvbiAmJlxuICAgIHNldFRpbWVvdXQoXG4gICAgICBtb25pdG9yKCgpID0+IGNvbXBsZXRlKHsgaGFkQWN0aXZpdHk6IHRydWUsIGR1cmF0aW9uOiBlbGFwc2VkKHN0YXJ0VGltZSwgdGltZVN0YW1wTm93KCkpIH0pKSxcbiAgICAgIG1heER1cmF0aW9uXG4gICAgKVxuXG4gIGNvbnN0IHBhZ2VBY3Rpdml0eVN1YnNjcmlwdGlvbiA9IHBhZ2VBY3Rpdml0eU9ic2VydmFibGUuc3Vic2NyaWJlKCh7IGlzQnVzeSB9KSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHZhbGlkYXRpb25UaW1lb3V0SWQpXG4gICAgY2xlYXJUaW1lb3V0KGlkbGVUaW1lb3V0SWQpXG4gICAgY29uc3QgbGFzdENoYW5nZVRpbWUgPSB0aW1lU3RhbXBOb3coKVxuICAgIGlmICghaXNCdXN5KSB7XG4gICAgICBpZGxlVGltZW91dElkID0gc2V0VGltZW91dChcbiAgICAgICAgbW9uaXRvcigoKSA9PiBjb21wbGV0ZSh7IGhhZEFjdGl2aXR5OiB0cnVlLCBkdXJhdGlvbjogZWxhcHNlZChzdGFydFRpbWUsIGxhc3RDaGFuZ2VUaW1lKSB9KSksXG4gICAgICAgIFBBR0VfQUNUSVZJVFlfRU5EX0RFTEFZXG4gICAgICApXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgaGFzQ29tcGxldGVkID0gdHJ1ZVxuICAgIGNsZWFyVGltZW91dCh2YWxpZGF0aW9uVGltZW91dElkKVxuICAgIGNsZWFyVGltZW91dChpZGxlVGltZW91dElkKVxuICAgIGNsZWFyVGltZW91dChtYXhEdXJhdGlvblRpbWVvdXRJZClcbiAgICBwYWdlQWN0aXZpdHlTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGUoZXZlbnQ6IElkbGVQYWdlRXZlbnQpIHtcbiAgICBpZiAoaGFzQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc3RvcCgpXG4gICAgaWRsZVBhZ2VDYWxsYmFjayhldmVudClcbiAgfVxuICByZXR1cm4geyBzdG9wIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhZ2VBY3Rpdml0eU9ic2VydmFibGUoXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBkb21NdXRhdGlvbk9ic2VydmFibGU6IE9ic2VydmFibGU8dm9pZD5cbik6IE9ic2VydmFibGU8UGFnZUFjdGl2aXR5RXZlbnQ+IHtcbiAgY29uc3Qgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPFBhZ2VBY3Rpdml0eUV2ZW50PigoKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXVxuICAgIGxldCBmaXJzdFJlcXVlc3RJbmRleDogdW5kZWZpbmVkIHwgbnVtYmVyXG4gICAgbGV0IHBlbmRpbmdSZXF1ZXN0c0NvdW50ID0gMFxuXG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgZG9tTXV0YXRpb25PYnNlcnZhYmxlLnN1YnNjcmliZSgoKSA9PiBub3RpZnlQYWdlQWN0aXZpdHkocGVuZGluZ1JlcXVlc3RzQ291bnQpKSxcbiAgICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlBFUkZPUk1BTkNFX0VOVFJZX0NPTExFQ1RFRCwgKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5lbnRyeVR5cGUgIT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIG5vdGlmeVBhZ2VBY3Rpdml0eShwZW5kaW5nUmVxdWVzdHNDb3VudClcbiAgICAgIH0pLFxuICAgICAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuUkVRVUVTVF9TVEFSVEVELCAoc3RhcnRFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZmlyc3RSZXF1ZXN0SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZpcnN0UmVxdWVzdEluZGV4ID0gc3RhcnRFdmVudC5yZXF1ZXN0SW5kZXhcbiAgICAgICAgfVxuXG4gICAgICAgIG5vdGlmeVBhZ2VBY3Rpdml0eSgrK3BlbmRpbmdSZXF1ZXN0c0NvdW50KVxuICAgICAgfSksXG4gICAgICBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5SRVFVRVNUX0NPTVBMRVRFRCwgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3Qgc3RhcnRlZCBiZWZvcmUgdGhlIHRyYWNraW5nIHN0YXJ0LCBpZ25vcmUgaXRcbiAgICAgICAgaWYgKGZpcnN0UmVxdWVzdEluZGV4ID09PSB1bmRlZmluZWQgfHwgcmVxdWVzdC5yZXF1ZXN0SW5kZXggPCBmaXJzdFJlcXVlc3RJbmRleCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIG5vdGlmeVBhZ2VBY3Rpdml0eSgtLXBlbmRpbmdSZXF1ZXN0c0NvdW50KVxuICAgICAgfSlcbiAgICApXG5cbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzKSA9PiBzLnVuc3Vic2NyaWJlKCkpXG4gIH0pXG5cbiAgZnVuY3Rpb24gbm90aWZ5UGFnZUFjdGl2aXR5KHBlbmRpbmdSZXF1ZXN0c0NvdW50OiBudW1iZXIpIHtcbiAgICBvYnNlcnZhYmxlLm5vdGlmeSh7IGlzQnVzeTogcGVuZGluZ1JlcXVlc3RzQ291bnQgPiAwIH0pXG4gIH1cblxuICByZXR1cm4gb2JzZXJ2YWJsZVxufVxuIiwiZXhwb3J0IHsgUnVtSW5pdENvbmZpZ3VyYXRpb24sIFJ1bVB1YmxpY0FwaSwgbWFrZVJ1bVB1YmxpY0FwaSwgUmVjb3JkZXJBcGksIFN0YXJ0UnVtIH0gZnJvbSAnLi9ib290L3J1bVB1YmxpY0FwaSdcbmV4cG9ydCB7XG4gIFJ1bUV2ZW50LFxuICBSdW1BY3Rpb25FdmVudCxcbiAgQ29tbW9uUHJvcGVydGllcyxcbiAgUnVtRXJyb3JFdmVudCxcbiAgUnVtVmlld0V2ZW50LFxuICBSdW1SZXNvdXJjZUV2ZW50LFxuICBSdW1Mb25nVGFza0V2ZW50LFxufSBmcm9tICcuL3J1bUV2ZW50LnR5cGVzJ1xuZXhwb3J0IHtcbiAgUnVtTG9uZ1Rhc2tFdmVudERvbWFpbkNvbnRleHQsXG4gIFJ1bUVycm9yRXZlbnREb21haW5Db250ZXh0LFxuICBSdW1PdGhlclJlc291cmNlRXZlbnREb21haW5Db250ZXh0LFxuICBSdW1YaHJSZXNvdXJjZUV2ZW50RG9tYWluQ29udGV4dCxcbiAgUnVtRmV0Y2hSZXNvdXJjZUV2ZW50RG9tYWluQ29udGV4dCxcbiAgUnVtQWN0aW9uRXZlbnREb21haW5Db250ZXh0LFxuICBSdW1WaWV3RXZlbnREb21haW5Db250ZXh0LFxuICBSdW1FdmVudERvbWFpbkNvbnRleHQsXG59IGZyb20gJy4vZG9tYWluQ29udGV4dC50eXBlcydcbmV4cG9ydCB7IFZpZXdDb250ZXh0LCBDb21tb25Db250ZXh0LCBSZXBsYXlTdGF0cyB9IGZyb20gJy4vcmF3UnVtRXZlbnQudHlwZXMnXG5leHBvcnQgeyBzdGFydFJ1bSB9IGZyb20gJy4vYm9vdC9zdGFydFJ1bSdcbmV4cG9ydCB7IExpZmVDeWNsZSwgTGlmZUN5Y2xlRXZlbnRUeXBlIH0gZnJvbSAnLi9kb21haW4vbGlmZUN5Y2xlJ1xuZXhwb3J0IHsgUGFyZW50Q29udGV4dHMgfSBmcm9tICcuL2RvbWFpbi9wYXJlbnRDb250ZXh0cydcbmV4cG9ydCB7IFJ1bVNlc3Npb24sIFJ1bVNlc3Npb25QbGFuIH0gZnJvbSAnLi9kb21haW4vcnVtU2Vzc2lvbidcbmV4cG9ydCB7IGdldE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3RvciB9IGZyb20gJy4vYnJvd3Nlci9kb21NdXRhdGlvbk9ic2VydmFibGUnXG4iLCJpbXBvcnQge1xuICBDb250ZXh0LFxuICBEdXJhdGlvbixcbiAgRXJyb3JTb3VyY2UsXG4gIEVycm9ySGFuZGxpbmcsXG4gIFJlc291cmNlVHlwZSxcbiAgU2VydmVyRHVyYXRpb24sXG4gIFRpbWVTdGFtcCxcbn0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgUnVtU2Vzc2lvblBsYW4gfSBmcm9tICcuL2RvbWFpbi9ydW1TZXNzaW9uJ1xuXG5leHBvcnQgZW51bSBSdW1FdmVudFR5cGUge1xuICBBQ1RJT04gPSAnYWN0aW9uJyxcbiAgRVJST1IgPSAnZXJyb3InLFxuICBMT05HX1RBU0sgPSAnbG9uZ190YXNrJyxcbiAgVklFVyA9ICd2aWV3JyxcbiAgUkVTT1VSQ0UgPSAncmVzb3VyY2UnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhd1J1bVJlc291cmNlRXZlbnQge1xuICBkYXRlOiBUaW1lU3RhbXBcbiAgdHlwZTogUnVtRXZlbnRUeXBlLlJFU09VUkNFXG4gIHJlc291cmNlOiB7XG4gICAgdHlwZTogUmVzb3VyY2VUeXBlXG4gICAgaWQ6IHN0cmluZ1xuICAgIGR1cmF0aW9uOiBTZXJ2ZXJEdXJhdGlvblxuICAgIHVybDogc3RyaW5nXG4gICAgbWV0aG9kPzogc3RyaW5nXG4gICAgc3RhdHVzX2NvZGU/OiBudW1iZXJcbiAgICBzaXplPzogbnVtYmVyXG4gICAgcmVkaXJlY3Q/OiBQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlsc0VsZW1lbnRcbiAgICBkbnM/OiBQZXJmb3JtYW5jZVJlc291cmNlRGV0YWlsc0VsZW1lbnRcbiAgICBjb25uZWN0PzogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHNFbGVtZW50XG4gICAgc3NsPzogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHNFbGVtZW50XG4gICAgZmlyc3RfYnl0ZT86IFBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzRWxlbWVudFxuICAgIGRvd25sb2FkPzogUGVyZm9ybWFuY2VSZXNvdXJjZURldGFpbHNFbGVtZW50XG4gIH1cbiAgX2RkPzoge1xuICAgIHRyYWNlX2lkPzogc3RyaW5nXG4gICAgc3Bhbl9pZD86IHN0cmluZyAvLyBub3QgYXZhaWxhYmxlIGZvciBpbml0aWFsIGRvY3VtZW50IHRyYWNpbmdcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlUmVzb3VyY2VEZXRhaWxzRWxlbWVudCB7XG4gIGR1cmF0aW9uOiBTZXJ2ZXJEdXJhdGlvblxuICBzdGFydDogU2VydmVyRHVyYXRpb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYXdSdW1FcnJvckV2ZW50IHtcbiAgZGF0ZTogVGltZVN0YW1wXG4gIHR5cGU6IFJ1bUV2ZW50VHlwZS5FUlJPUlxuICBlcnJvcjoge1xuICAgIHJlc291cmNlPzoge1xuICAgICAgdXJsOiBzdHJpbmdcbiAgICAgIHN0YXR1c19jb2RlOiBudW1iZXJcbiAgICAgIG1ldGhvZDogc3RyaW5nXG4gICAgfVxuICAgIGlkOiBzdHJpbmdcbiAgICB0eXBlPzogc3RyaW5nXG4gICAgc3RhY2s/OiBzdHJpbmdcbiAgICBoYW5kbGluZ19zdGFjaz86IHN0cmluZ1xuICAgIHNvdXJjZTogRXJyb3JTb3VyY2VcbiAgICBtZXNzYWdlOiBzdHJpbmdcbiAgICBoYW5kbGluZz86IEVycm9ySGFuZGxpbmdcbiAgfVxuICB2aWV3Pzoge1xuICAgIGluX2ZvcmVncm91bmQ6IGJvb2xlYW5cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhd1J1bVZpZXdFdmVudCB7XG4gIGRhdGU6IFRpbWVTdGFtcFxuICB0eXBlOiBSdW1FdmVudFR5cGUuVklFV1xuICB2aWV3OiB7XG4gICAgbG9hZGluZ190eXBlOiBWaWV3TG9hZGluZ1R5cGVcbiAgICBmaXJzdF9jb250ZW50ZnVsX3BhaW50PzogU2VydmVyRHVyYXRpb25cbiAgICBmaXJzdF9pbnB1dF9kZWxheT86IFNlcnZlckR1cmF0aW9uXG4gICAgZmlyc3RfaW5wdXRfdGltZT86IFNlcnZlckR1cmF0aW9uXG4gICAgY3VtdWxhdGl2ZV9sYXlvdXRfc2hpZnQ/OiBudW1iZXJcbiAgICBjdXN0b21fdGltaW5ncz86IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IFNlcnZlckR1cmF0aW9uXG4gICAgfVxuICAgIGxhcmdlc3RfY29udGVudGZ1bF9wYWludD86IFNlcnZlckR1cmF0aW9uXG4gICAgZG9tX2ludGVyYWN0aXZlPzogU2VydmVyRHVyYXRpb25cbiAgICBkb21fY29udGVudF9sb2FkZWQ/OiBTZXJ2ZXJEdXJhdGlvblxuICAgIGRvbV9jb21wbGV0ZT86IFNlcnZlckR1cmF0aW9uXG4gICAgbG9hZF9ldmVudD86IFNlcnZlckR1cmF0aW9uXG4gICAgbG9hZGluZ190aW1lPzogU2VydmVyRHVyYXRpb25cbiAgICB0aW1lX3NwZW50OiBTZXJ2ZXJEdXJhdGlvblxuICAgIGlzX2FjdGl2ZTogYm9vbGVhblxuICAgIG5hbWU/OiBzdHJpbmdcbiAgICBlcnJvcjogQ291bnRcbiAgICBhY3Rpb246IENvdW50XG4gICAgbG9uZ190YXNrOiBDb3VudFxuICAgIHJlc291cmNlOiBDb3VudFxuICAgIGluX2ZvcmVncm91bmRfcGVyaW9kcz86IEluRm9yZWdyb3VuZFBlcmlvZFtdXG4gIH1cbiAgc2Vzc2lvbjoge1xuICAgIGhhc19yZXBsYXk6IHRydWUgfCB1bmRlZmluZWRcbiAgfVxuICBfZGQ6IHtcbiAgICBkb2N1bWVudF92ZXJzaW9uOiBudW1iZXJcbiAgICByZXBsYXlfc3RhdHM/OiBSZXBsYXlTdGF0c1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5Gb3JlZ3JvdW5kUGVyaW9kIHtcbiAgc3RhcnQ6IFNlcnZlckR1cmF0aW9uXG4gIGR1cmF0aW9uOiBTZXJ2ZXJEdXJhdGlvblxufVxuXG5leHBvcnQgZW51bSBWaWV3TG9hZGluZ1R5cGUge1xuICBJTklUSUFMX0xPQUQgPSAnaW5pdGlhbF9sb2FkJyxcbiAgUk9VVEVfQ0hBTkdFID0gJ3JvdXRlX2NoYW5nZScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlld0N1c3RvbVRpbWluZ3Mge1xuICBba2V5OiBzdHJpbmddOiBEdXJhdGlvblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcGxheVN0YXRzIHtcbiAgcmVjb3Jkc19jb3VudDogbnVtYmVyXG4gIHNlZ21lbnRzX2NvdW50OiBudW1iZXJcbiAgc2VnbWVudHNfdG90YWxfcmF3X3NpemU6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ291bnQge1xuICBjb3VudDogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmF3UnVtTG9uZ1Rhc2tFdmVudCB7XG4gIGRhdGU6IFRpbWVTdGFtcFxuICB0eXBlOiBSdW1FdmVudFR5cGUuTE9OR19UQVNLXG4gIGxvbmdfdGFzazoge1xuICAgIGlkOiBzdHJpbmdcbiAgICBkdXJhdGlvbjogU2VydmVyRHVyYXRpb25cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhd1J1bUFjdGlvbkV2ZW50IHtcbiAgZGF0ZTogVGltZVN0YW1wXG4gIHR5cGU6IFJ1bUV2ZW50VHlwZS5BQ1RJT05cbiAgYWN0aW9uOiB7XG4gICAgaWQ6IHN0cmluZ1xuICAgIHR5cGU6IEFjdGlvblR5cGVcbiAgICBsb2FkaW5nX3RpbWU/OiBTZXJ2ZXJEdXJhdGlvblxuICAgIGVycm9yPzogQ291bnRcbiAgICBsb25nX3Rhc2s/OiBDb3VudFxuICAgIHJlc291cmNlPzogQ291bnRcbiAgICB0YXJnZXQ6IHtcbiAgICAgIG5hbWU6IHN0cmluZ1xuICAgIH1cbiAgfVxuICB2aWV3Pzoge1xuICAgIGluX2ZvcmVncm91bmQ6IGJvb2xlYW5cbiAgfVxufVxuXG5leHBvcnQgZW51bSBBY3Rpb25UeXBlIHtcbiAgQ0xJQ0sgPSAnY2xpY2snLFxuICBDVVNUT00gPSAnY3VzdG9tJyxcbn1cblxuZXhwb3J0IHR5cGUgUmF3UnVtRXZlbnQgPVxuICB8IFJhd1J1bUVycm9yRXZlbnRcbiAgfCBSYXdSdW1SZXNvdXJjZUV2ZW50XG4gIHwgUmF3UnVtVmlld0V2ZW50XG4gIHwgUmF3UnVtTG9uZ1Rhc2tFdmVudFxuICB8IFJhd1J1bUFjdGlvbkV2ZW50XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVtQ29udGV4dCB7XG4gIGRhdGU6IFRpbWVTdGFtcFxuICBhcHBsaWNhdGlvbjoge1xuICAgIGlkOiBzdHJpbmdcbiAgfVxuICBzZXJ2aWNlPzogc3RyaW5nXG4gIHNlc3Npb246IHtcbiAgICB0eXBlOiBzdHJpbmdcbiAgICBoYXNfcmVwbGF5PzogYm9vbGVhblxuICB9XG4gIHN5bnRoZXRpY3M/OiB7XG4gICAgdGVzdF9pZDogc3RyaW5nXG4gICAgcmVzdWx0X2lkOiBzdHJpbmdcbiAgfVxuICBfZGQ6IHtcbiAgICBmb3JtYXRfdmVyc2lvbjogMlxuICAgIGRyaWZ0OiBudW1iZXJcbiAgICBzZXNzaW9uOiB7XG4gICAgICBwbGFuOiBSdW1TZXNzaW9uUGxhblxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdDb250ZXh0IGV4dGVuZHMgQ29udGV4dCB7XG4gIHNlc3Npb246IHtcbiAgICBpZDogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIH1cbiAgdmlldzoge1xuICAgIGlkOiBzdHJpbmdcbiAgICBuYW1lPzogc3RyaW5nXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25Db250ZXh0IGV4dGVuZHMgQ29udGV4dCB7XG4gIGFjdGlvbjoge1xuICAgIGlkOiBzdHJpbmdcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVybENvbnRleHQgZXh0ZW5kcyBDb250ZXh0IHtcbiAgdmlldzoge1xuICAgIHVybDogc3RyaW5nXG4gICAgcmVmZXJyZXI6IHN0cmluZ1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJuYWxDb250ZXh0IHtcbiAgYXBwbGljYXRpb25faWQ6IHN0cmluZ1xuICBzZXNzaW9uX2lkOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgdmlldz86IHtcbiAgICBpZDogc3RyaW5nXG4gICAgdXJsOiBzdHJpbmdcbiAgICByZWZlcnJlcjogc3RyaW5nXG4gICAgbmFtZT86IHN0cmluZ1xuICB9XG4gIHVzZXJfYWN0aW9uPzoge1xuICAgIGlkOiBzdHJpbmdcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZD86IHN0cmluZyB8IHVuZGVmaW5lZFxuICBlbWFpbD86IHN0cmluZyB8IHVuZGVmaW5lZFxuICBuYW1lPzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIFtrZXk6IHN0cmluZ106IHVua25vd25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21tb25Db250ZXh0IHtcbiAgdXNlcjogVXNlclxuICBjb250ZXh0OiBDb250ZXh0XG4gIGhhc1JlcGxheT86IHRydWVcbn1cbiIsImltcG9ydCB7IEJhdGNoLCBjb21iaW5lLCBDb25maWd1cmF0aW9uLCBDb250ZXh0LCBIdHRwUmVxdWVzdCwgRW5kcG9pbnRCdWlsZGVyIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuLi9kb21haW4vbGlmZUN5Y2xlJ1xuaW1wb3J0IHsgUnVtRXZlbnRUeXBlIH0gZnJvbSAnLi4vcmF3UnVtRXZlbnQudHlwZXMnXG5pbXBvcnQgeyBSdW1FdmVudCB9IGZyb20gJy4uL3J1bUV2ZW50LnR5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSdW1CYXRjaChjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLCBsaWZlQ3ljbGU6IExpZmVDeWNsZSkge1xuICBjb25zdCBiYXRjaCA9IG1ha2VSdW1CYXRjaChjb25maWd1cmF0aW9uLCBsaWZlQ3ljbGUpXG5cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuUlVNX0VWRU5UX0NPTExFQ1RFRCwgKHNlcnZlclJ1bUV2ZW50OiBSdW1FdmVudCAmIENvbnRleHQpID0+IHtcbiAgICBpZiAoc2VydmVyUnVtRXZlbnQudHlwZSA9PT0gUnVtRXZlbnRUeXBlLlZJRVcpIHtcbiAgICAgIGJhdGNoLnVwc2VydChzZXJ2ZXJSdW1FdmVudCwgc2VydmVyUnVtRXZlbnQudmlldy5pZClcbiAgICB9IGVsc2Uge1xuICAgICAgYmF0Y2guYWRkKHNlcnZlclJ1bUV2ZW50KVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHN0b3A6ICgpID0+IGJhdGNoLnN0b3AoKSxcbiAgfVxufVxuXG5pbnRlcmZhY2UgUnVtQmF0Y2gge1xuICBhZGQ6IChtZXNzYWdlOiBDb250ZXh0KSA9PiB2b2lkXG4gIHN0b3A6ICgpID0+IHZvaWRcbiAgdXBzZXJ0OiAobWVzc2FnZTogQ29udGV4dCwga2V5OiBzdHJpbmcpID0+IHZvaWRcbn1cblxuZnVuY3Rpb24gbWFrZVJ1bUJhdGNoKGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sIGxpZmVDeWNsZTogTGlmZUN5Y2xlKTogUnVtQmF0Y2gge1xuICBjb25zdCBwcmltYXJ5QmF0Y2ggPSBjcmVhdGVSdW1CYXRjaChjb25maWd1cmF0aW9uLnJ1bUVuZHBvaW50QnVpbGRlciwgKCkgPT5cbiAgICBsaWZlQ3ljbGUubm90aWZ5KExpZmVDeWNsZUV2ZW50VHlwZS5CRUZPUkVfVU5MT0FEKVxuICApXG5cbiAgbGV0IHJlcGxpY2FCYXRjaDogQmF0Y2ggfCB1bmRlZmluZWRcbiAgY29uc3QgcmVwbGljYSA9IGNvbmZpZ3VyYXRpb24ucmVwbGljYVxuICBpZiAocmVwbGljYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmVwbGljYUJhdGNoID0gY3JlYXRlUnVtQmF0Y2gocmVwbGljYS5ydW1FbmRwb2ludEJ1aWxkZXIpXG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSdW1CYXRjaChlbmRwb2ludEJ1aWxkZXI6IEVuZHBvaW50QnVpbGRlciwgdW5sb2FkQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIG5ldyBCYXRjaChcbiAgICAgIG5ldyBIdHRwUmVxdWVzdChlbmRwb2ludEJ1aWxkZXIsIGNvbmZpZ3VyYXRpb24uYmF0Y2hCeXRlc0xpbWl0KSxcbiAgICAgIGNvbmZpZ3VyYXRpb24ubWF4QmF0Y2hTaXplLFxuICAgICAgY29uZmlndXJhdGlvbi5iYXRjaEJ5dGVzTGltaXQsXG4gICAgICBjb25maWd1cmF0aW9uLm1heE1lc3NhZ2VTaXplLFxuICAgICAgY29uZmlndXJhdGlvbi5mbHVzaFRpbWVvdXQsXG4gICAgICB1bmxvYWRDYWxsYmFja1xuICAgIClcbiAgfVxuXG4gIGZ1bmN0aW9uIHdpdGhSZXBsaWNhQXBwbGljYXRpb25JZChtZXNzYWdlOiBDb250ZXh0KSB7XG4gICAgcmV0dXJuIGNvbWJpbmUobWVzc2FnZSwgeyBhcHBsaWNhdGlvbjogeyBpZDogcmVwbGljYSEuYXBwbGljYXRpb25JZCB9IH0pXG4gIH1cblxuICBsZXQgc3RvcHBlZCA9IGZhbHNlXG4gIHJldHVybiB7XG4gICAgYWRkOiAobWVzc2FnZTogQ29udGV4dCkgPT4ge1xuICAgICAgaWYgKHN0b3BwZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBwcmltYXJ5QmF0Y2guYWRkKG1lc3NhZ2UpXG4gICAgICBpZiAocmVwbGljYUJhdGNoKSB7XG4gICAgICAgIHJlcGxpY2FCYXRjaC5hZGQod2l0aFJlcGxpY2FBcHBsaWNhdGlvbklkKG1lc3NhZ2UpKVxuICAgICAgfVxuICAgIH0sXG4gICAgc3RvcDogKCkgPT4ge1xuICAgICAgc3RvcHBlZCA9IHRydWVcbiAgICB9LFxuICAgIHVwc2VydDogKG1lc3NhZ2U6IENvbnRleHQsIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHByaW1hcnlCYXRjaC51cHNlcnQobWVzc2FnZSwga2V5KVxuICAgICAgaWYgKHJlcGxpY2FCYXRjaCkge1xuICAgICAgICByZXBsaWNhQmF0Y2gudXBzZXJ0KHdpdGhSZXBsaWNhQXBwbGljYXRpb25JZChtZXNzYWdlKSwga2V5KVxuICAgICAgfVxuICAgIH0sXG4gIH1cbn1cbiIsImltcG9ydCB7IENvbnRleHQsIGdldEV2ZW50QnJpZGdlIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTGlmZUN5Y2xlLCBMaWZlQ3ljbGVFdmVudFR5cGUgfSBmcm9tICcuLi9kb21haW4vbGlmZUN5Y2xlJ1xuaW1wb3J0IHsgUnVtRXZlbnQgfSBmcm9tICcuLi9ydW1FdmVudC50eXBlcydcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0UnVtRXZlbnRCcmlkZ2UobGlmZUN5Y2xlOiBMaWZlQ3ljbGUpIHtcbiAgY29uc3QgYnJpZGdlID0gZ2V0RXZlbnRCcmlkZ2U8UnVtRXZlbnRbJ3R5cGUnXSwgUnVtRXZlbnQ+KCkhXG5cbiAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuUlVNX0VWRU5UX0NPTExFQ1RFRCwgKHNlcnZlclJ1bUV2ZW50OiBSdW1FdmVudCAmIENvbnRleHQpID0+IHtcbiAgICBicmlkZ2Uuc2VuZChzZXJ2ZXJSdW1FdmVudC50eXBlLCBzZXJ2ZXJSdW1FdmVudClcbiAgfSlcbn1cbiIsImltcG9ydCB7XG4gIENvbmZpZ3VyYXRpb24sXG4gIGNhblVzZUV2ZW50QnJpZGdlLFxuICBub29wLFxuICBydW5PblJlYWR5U3RhdGUsXG4gIGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQsXG59IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7XG4gIExpZmVDeWNsZUV2ZW50VHlwZSxcbiAgUnVtSW5pdENvbmZpZ3VyYXRpb24sXG4gIExpZmVDeWNsZSxcbiAgUGFyZW50Q29udGV4dHMsXG4gIFJ1bVNlc3Npb24sXG4gIFJlY29yZGVyQXBpLFxufSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJ1xuaW1wb3J0IHsgZ2V0UmVwbGF5U3RhdHMgfSBmcm9tICcuLi9kb21haW4vcmVwbGF5U3RhdHMnXG5pbXBvcnQgeyBzdGFydERlZmxhdGVXb3JrZXIgfSBmcm9tICcuLi9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vc3RhcnREZWZsYXRlV29ya2VyJ1xuXG5pbXBvcnQgeyBzdGFydFJlY29yZGluZyB9IGZyb20gJy4vc3RhcnRSZWNvcmRpbmcnXG5cbmV4cG9ydCB0eXBlIFN0YXJ0UmVjb3JkaW5nID0gdHlwZW9mIHN0YXJ0UmVjb3JkaW5nXG5cbmNvbnN0IGVudW0gUmVjb3JkZXJTdGF0dXMge1xuICAvLyBUaGUgcmVjb3JkZXIgaXMgc3RvcHBlZC5cbiAgU3RvcHBlZCxcbiAgLy8gVGhlIHVzZXIgc3RhcnRlZCB0aGUgcmVjb3JkaW5nIHdoaWxlIGl0IHdhc24ndCBwb3NzaWJsZSB5ZXQuIFRoZSByZWNvcmRlciBzaG91bGQgc3RhcnQgYXMgc29vblxuICAvLyBhcyBwb3NzaWJsZS5cbiAgSW50ZW50VG9TdGFydCxcbiAgLy8gVGhlIHJlY29yZGVyIGlzIHN0YXJ0aW5nLiBJdCBkb2VzIG5vdCByZWNvcmQgYW55dGhpbmcgeWV0LlxuICBTdGFydGluZyxcbiAgLy8gVGhlIHJlY29yZGVyIGlzIHN0YXJ0ZWQsIGl0IHJlY29yZHMgdGhlIHNlc3Npb24uXG4gIFN0YXJ0ZWQsXG59XG50eXBlIFJlY29yZGVyU3RhdGUgPVxuICB8IHtcbiAgICAgIHN0YXR1czogUmVjb3JkZXJTdGF0dXMuU3RvcHBlZFxuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0dXM6IFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnRcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdHVzOiBSZWNvcmRlclN0YXR1cy5TdGFydGluZ1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0dXM6IFJlY29yZGVyU3RhdHVzLlN0YXJ0ZWRcbiAgICAgIHN0b3BSZWNvcmRpbmc6ICgpID0+IHZvaWRcbiAgICB9XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUmVjb3JkZXJBcGkoXG4gIHN0YXJ0UmVjb3JkaW5nSW1wbDogU3RhcnRSZWNvcmRpbmcsXG4gIHN0YXJ0RGVmbGF0ZVdvcmtlckltcGwgPSBzdGFydERlZmxhdGVXb3JrZXJcbik6IFJlY29yZGVyQXBpIHtcbiAgaWYgKGNhblVzZUV2ZW50QnJpZGdlKCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IG5vb3AsXG4gICAgICBzdG9wOiBub29wLFxuICAgICAgZ2V0UmVwbGF5U3RhdHM6ICgpID0+IHVuZGVmaW5lZCxcbiAgICAgIG9uUnVtU3RhcnQ6IG5vb3AsXG4gICAgICBpc1JlY29yZGluZzogKCkgPT4gZmFsc2UsXG4gICAgfVxuICB9XG5cbiAgbGV0IHN0YXRlOiBSZWNvcmRlclN0YXRlID0ge1xuICAgIHN0YXR1czogUmVjb3JkZXJTdGF0dXMuU3RvcHBlZCxcbiAgfVxuXG4gIGxldCBzdGFydFN0cmF0ZWd5ID0gKCkgPT4ge1xuICAgIHN0YXRlID0geyBzdGF0dXM6IFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnQgfVxuICB9XG4gIGxldCBzdG9wU3RyYXRlZ3kgPSAoKSA9PiB7XG4gICAgc3RhdGUgPSB7IHN0YXR1czogUmVjb3JkZXJTdGF0dXMuU3RvcHBlZCB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogKCkgPT4gc3RhcnRTdHJhdGVneSgpLFxuICAgIHN0b3A6ICgpID0+IHN0b3BTdHJhdGVneSgpLFxuICAgIGdldFJlcGxheVN0YXRzLFxuXG4gICAgb25SdW1TdGFydDogKFxuICAgICAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gICAgICBpbml0Q29uZmlndXJhdGlvbjogUnVtSW5pdENvbmZpZ3VyYXRpb24sXG4gICAgICBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLFxuICAgICAgc2Vzc2lvbjogUnVtU2Vzc2lvbixcbiAgICAgIHBhcmVudENvbnRleHRzOiBQYXJlbnRDb250ZXh0c1xuICAgICkgPT4ge1xuICAgICAgbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuU0VTU0lPTl9FWFBJUkVELCAoKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFJlY29yZGVyU3RhdHVzLlN0YXJ0aW5nIHx8IHN0YXRlLnN0YXR1cyA9PT0gUmVjb3JkZXJTdGF0dXMuU3RhcnRlZCkge1xuICAgICAgICAgIHN0b3BTdHJhdGVneSgpXG4gICAgICAgICAgc3RhdGUgPSB7IHN0YXR1czogUmVjb3JkZXJTdGF0dXMuSW50ZW50VG9TdGFydCB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlNFU1NJT05fUkVORVdFRCwgKCkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUuc3RhdHVzID09PSBSZWNvcmRlclN0YXR1cy5JbnRlbnRUb1N0YXJ0KSB7XG4gICAgICAgICAgc3RhcnRTdHJhdGVneSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHN0YXJ0U3RyYXRlZ3kgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc2Vzc2lvbi5oYXNSZXBsYXlQbGFuKCkpIHtcbiAgICAgICAgICBzdGF0ZSA9IHsgc3RhdHVzOiBSZWNvcmRlclN0YXR1cy5JbnRlbnRUb1N0YXJ0IH1cbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFJlY29yZGVyU3RhdHVzLlN0YXJ0aW5nIHx8IHN0YXRlLnN0YXR1cyA9PT0gUmVjb3JkZXJTdGF0dXMuU3RhcnRlZCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSB7IHN0YXR1czogUmVjb3JkZXJTdGF0dXMuU3RhcnRpbmcgfVxuXG4gICAgICAgIHJ1bk9uUmVhZHlTdGF0ZShpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKCdyZWNvcmQtYXQtZG9tLWxvYWRlZCcpID8gJ2ludGVyYWN0aXZlJyA6ICdjb21wbGV0ZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzICE9PSBSZWNvcmRlclN0YXR1cy5TdGFydGluZykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RhcnREZWZsYXRlV29ya2VySW1wbCgod29ya2VyKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuc3RhdHVzICE9PSBSZWNvcmRlclN0YXR1cy5TdGFydGluZykge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF3b3JrZXIpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBSZWNvcmRlclN0YXR1cy5TdG9wcGVkLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHN0b3A6IHN0b3BSZWNvcmRpbmcgfSA9IHN0YXJ0UmVjb3JkaW5nSW1wbChcbiAgICAgICAgICAgICAgbGlmZUN5Y2xlLFxuICAgICAgICAgICAgICBpbml0Q29uZmlndXJhdGlvbi5hcHBsaWNhdGlvbklkLFxuICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICBzZXNzaW9uLFxuICAgICAgICAgICAgICBwYXJlbnRDb250ZXh0cyxcbiAgICAgICAgICAgICAgd29ya2VyXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBSZWNvcmRlclN0YXR1cy5TdGFydGVkLFxuICAgICAgICAgICAgICBzdG9wUmVjb3JkaW5nLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHN0b3BTdHJhdGVneSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLnN0YXR1cyA9PT0gUmVjb3JkZXJTdGF0dXMuU3RvcHBlZCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRlLnN0YXR1cyA9PT0gUmVjb3JkZXJTdGF0dXMuU3RhcnRlZCkge1xuICAgICAgICAgIHN0YXRlLnN0b3BSZWNvcmRpbmcoKVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSB7XG4gICAgICAgICAgc3RhdHVzOiBSZWNvcmRlclN0YXR1cy5TdG9wcGVkLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFJlY29yZGVyU3RhdHVzLkludGVudFRvU3RhcnQpIHtcbiAgICAgICAgc3RhcnRTdHJhdGVneSgpXG4gICAgICB9XG4gICAgfSxcblxuICAgIGlzUmVjb3JkaW5nOiAoKSA9PiBzdGF0ZS5zdGF0dXMgPT09IFJlY29yZGVyU3RhdHVzLlN0YXJ0ZWQsXG4gIH1cbn1cbiIsImltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5pbXBvcnQgeyBMaWZlQ3ljbGUsIExpZmVDeWNsZUV2ZW50VHlwZSwgUGFyZW50Q29udGV4dHMsIFJ1bVNlc3Npb24gfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJ1xuXG5pbXBvcnQgeyByZWNvcmQgfSBmcm9tICcuLi9kb21haW4vcmVjb3JkJ1xuaW1wb3J0IHsgc3RhcnRTZWdtZW50Q29sbGVjdGlvbiB9IGZyb20gJy4uL2RvbWFpbi9zZWdtZW50Q29sbGVjdGlvbidcbmltcG9ydCB7IERlZmxhdGVXb3JrZXIgfSBmcm9tICcuLi9kb21haW4vc2VnbWVudENvbGxlY3Rpb24vZGVmbGF0ZVdvcmtlcidcbmltcG9ydCB7IHNlbmQgfSBmcm9tICcuLi90cmFuc3BvcnQvc2VuZCdcbmltcG9ydCB7IFJhd1JlY29yZCwgUmVjb3JkVHlwZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRSZWNvcmRpbmcoXG4gIGxpZmVDeWNsZTogTGlmZUN5Y2xlLFxuICBhcHBsaWNhdGlvbklkOiBzdHJpbmcsXG4gIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24sXG4gIHNlc3Npb246IFJ1bVNlc3Npb24sXG4gIHBhcmVudENvbnRleHRzOiBQYXJlbnRDb250ZXh0cyxcbiAgd29ya2VyOiBEZWZsYXRlV29ya2VyXG4pIHtcbiAgY29uc3QgeyBhZGRSZWNvcmQsIHN0b3A6IHN0b3BTZWdtZW50Q29sbGVjdGlvbiB9ID0gc3RhcnRTZWdtZW50Q29sbGVjdGlvbihcbiAgICBsaWZlQ3ljbGUsXG4gICAgYXBwbGljYXRpb25JZCxcbiAgICBzZXNzaW9uLFxuICAgIHBhcmVudENvbnRleHRzLFxuICAgIChkYXRhLCBtZXRhLCByYXdTZWdtZW50U2l6ZSwgZmx1c2hSZWFzb24pID0+XG4gICAgICBzZW5kKGNvbmZpZ3VyYXRpb24uc2Vzc2lvblJlcGxheUVuZHBvaW50QnVpbGRlciwgZGF0YSwgbWV0YSwgcmF3U2VnbWVudFNpemUsIGZsdXNoUmVhc29uKSxcbiAgICB3b3JrZXJcbiAgKVxuXG4gIGZ1bmN0aW9uIGFkZFJhd1JlY29yZChyYXdSZWNvcmQ6IFJhd1JlY29yZCkge1xuICAgIGFkZFJlY29yZCh7IC4uLnJhd1JlY29yZCwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0pXG4gIH1cblxuICBjb25zdCB7IHN0b3A6IHN0b3BSZWNvcmRpbmcsIHRha2VGdWxsU25hcHNob3QsIGZsdXNoTXV0YXRpb25zIH0gPSByZWNvcmQoe1xuICAgIGVtaXQ6IGFkZFJhd1JlY29yZCxcbiAgICBkZWZhdWx0UHJpdmFjeUxldmVsOiBjb25maWd1cmF0aW9uLmRlZmF1bHRQcml2YWN5TGV2ZWwsXG4gIH0pXG5cbiAgY29uc3QgeyB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVWaWV3RW5kZWQgfSA9IGxpZmVDeWNsZS5zdWJzY3JpYmUoTGlmZUN5Y2xlRXZlbnRUeXBlLlZJRVdfRU5ERUQsICgpID0+IHtcbiAgICBmbHVzaE11dGF0aW9ucygpXG4gICAgYWRkUmF3UmVjb3JkKHtcbiAgICAgIHR5cGU6IFJlY29yZFR5cGUuVmlld0VuZCxcbiAgICB9KVxuICB9KVxuICBjb25zdCB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVZpZXdDcmVhdGVkIH0gPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQsIHRha2VGdWxsU25hcHNob3QpXG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wOiAoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZVZpZXdFbmRlZCgpXG4gICAgICB1bnN1YnNjcmliZVZpZXdDcmVhdGVkKClcbiAgICAgIHN0b3BSZWNvcmRpbmcoKVxuICAgICAgc3RvcFNlZ21lbnRDb2xsZWN0aW9uKClcbiAgICB9LFxuICB9XG59XG4iLCJpbXBvcnQgeyBEZWZhdWx0UHJpdmFjeUxldmVsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuXG5leHBvcnQgY29uc3QgTm9kZVByaXZhY3lMZXZlbCA9IHtcbiAgLi4uRGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgSUdOT1JFOiAnaWdub3JlJyxcbiAgSElEREVOOiAnaGlkZGVuJyxcbn0gYXMgY29uc3RcbmV4cG9ydCB0eXBlIE5vZGVQcml2YWN5TGV2ZWwgPSB0eXBlb2YgTm9kZVByaXZhY3lMZXZlbFtrZXlvZiB0eXBlb2YgTm9kZVByaXZhY3lMZXZlbF1cblxuZXhwb3J0IGNvbnN0IFBSSVZBQ1lfQVRUUl9OQU1FID0gJ2RhdGEtZGQtcHJpdmFjeSdcblxuLy8gRGVwcmVjYXRlIHZpYSB0ZW1wb3JhcnkgQWxpYXNcbmV4cG9ydCBjb25zdCBQUklWQUNZX0NMQVNTX0lOUFVUX0lHTk9SRUQgPSAnZGQtcHJpdmFjeS1pbnB1dC1pZ25vcmVkJyAvLyBERVBSRUNBVEVELCBhbGlhc2VkIHRvIG1hc2stdXNlci1pbnB1dFxuZXhwb3J0IGNvbnN0IFBSSVZBQ1lfQ0xBU1NfSU5QVVRfTUFTS0VEID0gJ2RkLXByaXZhY3ktaW5wdXQtbWFza2VkJyAvLyBERVBSRUNBVEVELCBhbGlhc2VkIHRvIG1hc2stdXNlci1pbnB1dFxuZXhwb3J0IGNvbnN0IFBSSVZBQ1lfQVRUUl9WQUxVRV9JTlBVVF9JR05PUkVEID0gJ2lucHV0LWlnbm9yZWQnIC8vIERFUFJFQ0FURUQsIGFsaWFzZWQgdG8gbWFzay11c2VyLWlucHV0XG5leHBvcnQgY29uc3QgUFJJVkFDWV9BVFRSX1ZBTFVFX0lOUFVUX01BU0tFRCA9ICdpbnB1dC1tYXNrZWQnIC8vIERFUFJFQ0FURUQsIGFsaWFzZWQgdG8gbWFzay11c2VyLWlucHV0XG5cbi8vIFByaXZhY3kgQXR0cnNcbmV4cG9ydCBjb25zdCBQUklWQUNZX0FUVFJfVkFMVUVfQUxMT1cgPSAnYWxsb3cnXG5leHBvcnQgY29uc3QgUFJJVkFDWV9BVFRSX1ZBTFVFX01BU0sgPSAnbWFzaydcbmV4cG9ydCBjb25zdCBQUklWQUNZX0FUVFJfVkFMVUVfTUFTS19VU0VSX0lOUFVUID0gJ21hc2stdXNlci1pbnB1dCdcbmV4cG9ydCBjb25zdCBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOID0gJ2hpZGRlbidcblxuLy8gUHJpdmFjeSBDbGFzc2VzIC0gbm90IGFsbCBjdXN0b21lcnMgY2FuIHNldCBwbGFpbiBIVE1MIGF0dHJpYnV0ZXMsIHNvIHN1cHBvcnQgY2xhc3NlcyB0b29cbmV4cG9ydCBjb25zdCBQUklWQUNZX0NMQVNTX0FMTE9XID0gJ2RkLXByaXZhY3ktYWxsb3cnXG5leHBvcnQgY29uc3QgUFJJVkFDWV9DTEFTU19NQVNLID0gJ2RkLXByaXZhY3ktbWFzaydcbmV4cG9ydCBjb25zdCBQUklWQUNZX0NMQVNTX01BU0tfVVNFUl9JTlBVVCA9ICdkZC1wcml2YWN5LW1hc2stdXNlci1pbnB1dCdcbmV4cG9ydCBjb25zdCBQUklWQUNZX0NMQVNTX0hJRERFTiA9ICdkZC1wcml2YWN5LWhpZGRlbidcblxuLy8gUHJpdmF0ZSBSZXBsYWNlbWVudCBUZW1wbGF0ZXNcbmV4cG9ydCBjb25zdCBDRU5TT1JFRF9TVFJJTkdfTUFSSyA9ICcqKionXG5leHBvcnQgY29uc3QgQ0VOU09SRURfSU1HX01BUksgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBTUxDd2dBQUFDSDVCQUFBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PSdcblxuZXhwb3J0IGNvbnN0IEZPUk1fUFJJVkFURV9UQUdfTkFNRVM6IHsgW3RhZ05hbWU6IHN0cmluZ106IHRydWUgfSA9IHtcbiAgSU5QVVQ6IHRydWUsXG4gIE9VVFBVVDogdHJ1ZSxcbiAgVEVYVEFSRUE6IHRydWUsXG4gIFNFTEVDVDogdHJ1ZSxcbiAgT1BUSU9OOiB0cnVlLFxuICBEQVRBTElTVDogdHJ1ZSxcbiAgT1BUR1JPVVA6IHRydWUsXG59XG4iLCJleHBvcnQgeyByZWNvcmQgfSBmcm9tICcuL3JlY29yZCdcbiIsImltcG9ydCB7IG1vbml0b3IsIG5vb3AgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5pbXBvcnQgeyBSdW1NdXRhdGlvblJlY29yZCB9IGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogTWF4aW11bSBkdXJhdGlvbiB0byB3YWl0IGJlZm9yZSBwcm9jZXNzaW5nIG11dGF0aW9ucy4gSWYgdGhlIGJyb3dzZXIgaXMgaWRsZSwgbXV0YXRpb25zIHdpbGwgYmVcbiAqIHByb2Nlc3NlZCBtb3JlIHF1aWNrbHkuIElmIHRoZSBicm93c2VyIGlzIGJ1c3kgZXhlY3V0aW5nIHNtYWxsIHRhc2tzIChleDogcmVuZGVyaW5nIGZyYW1lcyksIHRoZVxuICogbXV0YXRpb25zIHdpbGwgd2FpdCBNVVRBVElPTl9QUk9DRVNTX01BWF9ERUxBWSBtaWxsaXNlY29uZHMgYmVmb3JlIGJlaW5nIHByb2Nlc3NlZC4gSWYgdGhlXG4gKiBicm93c2VyIGlzIGJ1c3kgZXhlY3V0aW5nIGEgbG9uZ2VyIHRhc2ssIG11dGF0aW9ucyB3aWxsIGJlIHByb2Nlc3NlZCBhZnRlciB0aGlzIHRhc2suXG4gKi9cbmNvbnN0IE1VVEFUSU9OX1BST0NFU1NfTUFYX0RFTEFZID0gMTAwXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdXRhdGlvbkJhdGNoKHByb2Nlc3NNdXRhdGlvbkJhdGNoOiAobXV0YXRpb25zOiBSdW1NdXRhdGlvblJlY29yZFtdKSA9PiB2b2lkKSB7XG4gIGxldCBjYW5jZWxTY2hlZHVsZWRGbHVzaCA9IG5vb3BcbiAgbGV0IHBlbmRpbmdNdXRhdGlvbnM6IFJ1bU11dGF0aW9uUmVjb3JkW10gPSBbXVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGNhbmNlbFNjaGVkdWxlZEZsdXNoKClcbiAgICBwcm9jZXNzTXV0YXRpb25CYXRjaChwZW5kaW5nTXV0YXRpb25zKVxuICAgIHBlbmRpbmdNdXRhdGlvbnMgPSBbXVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRNdXRhdGlvbnM6IChtdXRhdGlvbnM6IFJ1bU11dGF0aW9uUmVjb3JkW10pID0+IHtcbiAgICAgIGlmIChwZW5kaW5nTXV0YXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjYW5jZWxTY2hlZHVsZWRGbHVzaCA9IHNjaGVkdWxlTXV0YXRpb25GbHVzaChmbHVzaClcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdNdXRhdGlvbnMucHVzaCguLi5tdXRhdGlvbnMpXG4gICAgfSxcblxuICAgIGZsdXNoLFxuXG4gICAgc3RvcDogKCkgPT4ge1xuICAgICAgY2FuY2VsU2NoZWR1bGVkRmx1c2goKVxuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gc2NoZWR1bGVNdXRhdGlvbkZsdXNoKGZsdXNoOiAoKSA9PiB2b2lkKSB7XG4gIGludGVyZmFjZSBCcm93c2VyV2luZG93IGV4dGVuZHMgV2luZG93IHtcbiAgICByZXF1ZXN0SWRsZUNhbGxiYWNrOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQsIG9wdHM/OiB7IHRpbWVvdXQ/OiBudW1iZXIgfSkgPT4gbnVtYmVyXG4gICAgY2FuY2VsSWRsZUNhbGxiYWNrOiAoaGFuZGxlPzogbnVtYmVyKSA9PiB2b2lkXG4gIH1cbiAgY29uc3QgYnJvd3NlcldpbmRvdyA9ICh3aW5kb3cgYXMgdW5rbm93bikgYXMgQnJvd3NlcldpbmRvd1xuXG4gIC8vIFVzZSAncmVxdWVzdElkbGVDYWxsYmFjaycgd2hlbiBhdmFpbGFibGU6IGl0IHdpbGwgdGhyb3R0bGUgdGhlIG11dGF0aW9uIHByb2Nlc3NpbmcgaWYgdGhlXG4gIC8vIGJyb3dzZXIgaXMgYnVzeSByZW5kZXJpbmcgZnJhbWVzIChleDogd2hlbiBmcmFtZXMgYXJlIGJlbG93IDYwZnBzKS4gV2hlbiBub3QgYXZhaWxhYmxlLCB0aGVcbiAgLy8gZmFsbGJhY2sgb24gJ3JlcXVlc3RBbmltYXRpb25GcmFtZScgd2lsbCBzdGlsbCBlbnN1cmUgdGhlIG11dGF0aW9ucyBhcmUgcHJvY2Vzc2VkIGFmdGVyIGFueVxuICAvLyBicm93c2VyIHJlbmRlcmluZyBwcm9jZXNzIChMYXlvdXQsIFJlY2FsY3VsYXRlIFN0eWxlLCBldGMuKSwgc28gd2UgY2FuIHNlcmlhbGl6ZSBET00gbm9kZXNcbiAgLy8gZWZmaWNpZW50bHkuXG4gIGlmIChicm93c2VyV2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2spIHtcbiAgICBjb25zdCBpZCA9IGJyb3dzZXJXaW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhtb25pdG9yKGZsdXNoKSwgeyB0aW1lb3V0OiBNVVRBVElPTl9QUk9DRVNTX01BWF9ERUxBWSB9KVxuICAgIHJldHVybiAoKSA9PiBicm93c2VyV2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZClcbiAgfVxuICBjb25zdCBpZCA9IGJyb3dzZXJXaW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1vbml0b3IoZmx1c2gpKVxuICByZXR1cm4gKCkgPT4gYnJvd3NlcldpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShpZClcbn1cbiIsImltcG9ydCB7IERlZmF1bHRQcml2YWN5TGV2ZWwsIG1vbml0b3IsIG5vb3AgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLWNvcmUnXG5pbXBvcnQgeyBnZXRNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3IgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJ1xuaW1wb3J0IHsgTm9kZVByaXZhY3lMZXZlbCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCB7IGdldE5vZGVQcml2YWN5TGV2ZWwsIGdldFRleHRDb250ZW50IH0gZnJvbSAnLi9wcml2YWN5J1xuaW1wb3J0IHtcbiAgZ2V0RWxlbWVudElucHV0VmFsdWUsXG4gIGdldFNlcmlhbGl6ZWROb2RlSWQsXG4gIGhhc1NlcmlhbGl6ZWROb2RlLFxuICBub2RlQW5kQW5jZXN0b3JzSGF2ZVNlcmlhbGl6ZWROb2RlLFxuICBOb2RlV2l0aFNlcmlhbGl6ZWROb2RlLFxufSBmcm9tICcuL3NlcmlhbGl6YXRpb25VdGlscydcbmltcG9ydCB7IHNlcmlhbGl6ZU5vZGVXaXRoSWQsIHNlcmlhbGl6ZUF0dHJpYnV0ZSB9IGZyb20gJy4vc2VyaWFsaXplJ1xuaW1wb3J0IHtcbiAgQWRkZWROb2RlTXV0YXRpb24sXG4gIEF0dHJpYnV0ZU11dGF0aW9uLFxuICBSdW1BdHRyaWJ1dGVzTXV0YXRpb25SZWNvcmQsXG4gIFJ1bUNoYXJhY3RlckRhdGFNdXRhdGlvblJlY29yZCxcbiAgUnVtQ2hpbGRMaXN0TXV0YXRpb25SZWNvcmQsXG4gIE11dGF0aW9uQ2FsbEJhY2ssXG4gIFJ1bU11dGF0aW9uUmVjb3JkLFxuICBSZW1vdmVkTm9kZU11dGF0aW9uLFxuICBUZXh0TXV0YXRpb24sXG59IGZyb20gJy4vdHlwZXMnXG5pbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IGNyZWF0ZU11dGF0aW9uQmF0Y2ggfSBmcm9tICcuL211dGF0aW9uQmF0Y2gnXG5cbnR5cGUgV2l0aFNlcmlhbGl6ZWRUYXJnZXQ8VD4gPSBUICYgeyB0YXJnZXQ6IE5vZGVXaXRoU2VyaWFsaXplZE5vZGUgfVxuXG4vKipcbiAqIEJ1ZmZlcnMgYW5kIGFnZ3JlZ2F0ZSBtdXRhdGlvbnMgZ2VuZXJhdGVkIGJ5IGEgTXV0YXRpb25PYnNlcnZlciBpbnRvIE11dGF0aW9uUGF5bG9hZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRNdXRhdGlvbk9ic2VydmVyKFxuICBjb250cm9sbGVyOiBNdXRhdGlvbkNvbnRyb2xsZXIsXG4gIG11dGF0aW9uQ2FsbGJhY2s6IE11dGF0aW9uQ2FsbEJhY2ssXG4gIGRlZmF1bHRQcml2YWN5TGV2ZWw6IERlZmF1bHRQcml2YWN5TGV2ZWxcbikge1xuICBjb25zdCBNdXRhdGlvbk9ic2VydmVyID0gZ2V0TXV0YXRpb25PYnNlcnZlckNvbnN0cnVjdG9yKClcbiAgaWYgKCFNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgcmV0dXJuIHsgc3RvcDogbm9vcCB9XG4gIH1cbiAgY29uc3QgbXV0YXRpb25CYXRjaCA9IGNyZWF0ZU11dGF0aW9uQmF0Y2goKG11dGF0aW9ucykgPT4ge1xuICAgIHByb2Nlc3NNdXRhdGlvbnMoXG4gICAgICBtdXRhdGlvbnMuY29uY2F0KG9ic2VydmVyLnRha2VSZWNvcmRzKCkgYXMgUnVtTXV0YXRpb25SZWNvcmRbXSksXG4gICAgICBtdXRhdGlvbkNhbGxiYWNrLFxuICAgICAgZGVmYXVsdFByaXZhY3lMZXZlbFxuICAgIClcbiAgfSlcblxuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG1vbml0b3IobXV0YXRpb25CYXRjaC5hZGRNdXRhdGlvbnMpIGFzIChjYWxsYmFjazogTXV0YXRpb25SZWNvcmRbXSkgPT4gdm9pZClcblxuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZSxcbiAgfSlcbiAgY29udHJvbGxlci5vbkZsdXNoKG11dGF0aW9uQmF0Y2guZmx1c2gpXG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wOiAoKSA9PiB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICAgIG11dGF0aW9uQmF0Y2guc3RvcCgpXG4gICAgfSxcbiAgfVxufVxuXG4vKipcbiAqIENvbnRyb2xzIGhvdyBtdXRhdGlvbnMgYXJlIHByb2Nlc3NlZCwgYWxsb3dpbmcgdG8gZmx1c2ggcGVuZGluZyBtdXRhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdXRhdGlvbkNvbnRyb2xsZXIge1xuICBwcml2YXRlIGZsdXNoTGlzdGVuZXI/OiAoKSA9PiB2b2lkXG5cbiAgcHVibGljIGZsdXNoKCkge1xuICAgIHRoaXMuZmx1c2hMaXN0ZW5lcj8uKClcbiAgfVxuXG4gIHB1YmxpYyBvbkZsdXNoKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5mbHVzaExpc3RlbmVyID0gbGlzdGVuZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzTXV0YXRpb25zKFxuICBtdXRhdGlvbnM6IFJ1bU11dGF0aW9uUmVjb3JkW10sXG4gIG11dGF0aW9uQ2FsbGJhY2s6IE11dGF0aW9uQ2FsbEJhY2ssXG4gIGRlZmF1bHRQcml2YWN5TGV2ZWw6IERlZmF1bHRQcml2YWN5TGV2ZWxcbikge1xuICAvLyBEaXNjYXJkIGFueSBtdXRhdGlvbiB3aXRoIGEgJ3RhcmdldCcgbm9kZSB0aGF0OlxuICAvLyAqIGlzbid0IGluamVjdGVkIGluIHRoZSBjdXJyZW50IGRvY3VtZW50IG9yIGlzbid0IGtub3duL3NlcmlhbGl6ZWQgeWV0OiB0aG9zZSBub2RlcyBhcmUgbGlrZWx5XG4gIC8vIHBhcnQgb2YgYSBtdXRhdGlvbiBvY2N1cnJpbmcgaW4gYSBwYXJlbnQgTm9kZVxuICAvLyAqIHNob3VsZCBiZSBoaWRkZW4gb3IgaWdub3JlZFxuICBjb25zdCBmaWx0ZXJlZE11dGF0aW9ucyA9IG11dGF0aW9ucy5maWx0ZXIoXG4gICAgKG11dGF0aW9uKTogbXV0YXRpb24gaXMgV2l0aFNlcmlhbGl6ZWRUYXJnZXQ8UnVtTXV0YXRpb25SZWNvcmQ+ID0+XG4gICAgICBkb2N1bWVudC5jb250YWlucyhtdXRhdGlvbi50YXJnZXQpICYmXG4gICAgICBub2RlQW5kQW5jZXN0b3JzSGF2ZVNlcmlhbGl6ZWROb2RlKG11dGF0aW9uLnRhcmdldCkgJiZcbiAgICAgIGdldE5vZGVQcml2YWN5TGV2ZWwobXV0YXRpb24udGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKSAhPT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU5cbiAgKVxuXG4gIGNvbnN0IHsgYWRkcywgcmVtb3ZlcywgaGFzQmVlblNlcmlhbGl6ZWQgfSA9IHByb2Nlc3NDaGlsZExpc3RNdXRhdGlvbnMoXG4gICAgZmlsdGVyZWRNdXRhdGlvbnMuZmlsdGVyKFxuICAgICAgKG11dGF0aW9uKTogbXV0YXRpb24gaXMgV2l0aFNlcmlhbGl6ZWRUYXJnZXQ8UnVtQ2hpbGRMaXN0TXV0YXRpb25SZWNvcmQ+ID0+IG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnXG4gICAgKSxcbiAgICBkZWZhdWx0UHJpdmFjeUxldmVsXG4gIClcblxuICBjb25zdCB0ZXh0cyA9IHByb2Nlc3NDaGFyYWN0ZXJEYXRhTXV0YXRpb25zKFxuICAgIGZpbHRlcmVkTXV0YXRpb25zLmZpbHRlcihcbiAgICAgIChtdXRhdGlvbik6IG11dGF0aW9uIGlzIFdpdGhTZXJpYWxpemVkVGFyZ2V0PFJ1bUNoYXJhY3RlckRhdGFNdXRhdGlvblJlY29yZD4gPT5cbiAgICAgICAgbXV0YXRpb24udHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnICYmICFoYXNCZWVuU2VyaWFsaXplZChtdXRhdGlvbi50YXJnZXQpXG4gICAgKSxcbiAgICBkZWZhdWx0UHJpdmFjeUxldmVsXG4gIClcblxuICBjb25zdCBhdHRyaWJ1dGVzID0gcHJvY2Vzc0F0dHJpYnV0ZXNNdXRhdGlvbnMoXG4gICAgZmlsdGVyZWRNdXRhdGlvbnMuZmlsdGVyKFxuICAgICAgKG11dGF0aW9uKTogbXV0YXRpb24gaXMgV2l0aFNlcmlhbGl6ZWRUYXJnZXQ8UnVtQXR0cmlidXRlc011dGF0aW9uUmVjb3JkPiA9PlxuICAgICAgICBtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycgJiYgIWhhc0JlZW5TZXJpYWxpemVkKG11dGF0aW9uLnRhcmdldClcbiAgICApLFxuICAgIGRlZmF1bHRQcml2YWN5TGV2ZWxcbiAgKVxuXG4gIGlmICghdGV4dHMubGVuZ3RoICYmICFhdHRyaWJ1dGVzLmxlbmd0aCAmJiAhcmVtb3Zlcy5sZW5ndGggJiYgIWFkZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBtdXRhdGlvbkNhbGxiYWNrKHtcbiAgICBhZGRzLFxuICAgIHJlbW92ZXMsXG4gICAgdGV4dHMsXG4gICAgYXR0cmlidXRlcyxcbiAgfSlcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NoaWxkTGlzdE11dGF0aW9ucyhcbiAgbXV0YXRpb25zOiBBcnJheTxXaXRoU2VyaWFsaXplZFRhcmdldDxSdW1DaGlsZExpc3RNdXRhdGlvblJlY29yZD4+LFxuICBkZWZhdWx0UHJpdmFjeUxldmVsOiBEZWZhdWx0UHJpdmFjeUxldmVsXG4pIHtcbiAgLy8gRmlyc3QsIHdlIGl0ZXJhdGUgb3ZlciBtdXRhdGlvbnMgdG8gY29sbGVjdDpcbiAgLy9cbiAgLy8gKiBub2RlcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCBpbiB0aGUgZG9jdW1lbnQgYW5kIG5vdCByZW1vdmVkIGJ5IGEgc3Vic2VxdWVudCBtdXRhdGlvblxuICAvLyAqIG5vZGVzIHRoYXQgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgZG9jdW1lbnQgYnV0IHdlcmUgbm90IGFkZGVkIGluIGEgcHJldmlvdXMgbXV0YXRpb25cbiAgLy9cbiAgLy8gRm9yIHRoaXMgc2Vjb25kIGNhdGVnb3J5LCB3ZSBhbHNvIGNvbGxlY3QgdGhlaXIgcHJldmlvdXMgcGFyZW50IChtdXRhdGlvbi50YXJnZXQpIGJlY2F1c2Ugd2UnbGxcbiAgLy8gbmVlZCBpdCB0byBlbWl0IGEgJ3JlbW92ZScgbXV0YXRpb24uXG4gIC8vXG4gIC8vIFRob3NlIHR3byBjYXRlZ29yaWVzIG1heSBvdmVybGFwOiBpZiBhIG5vZGUgbW92ZWQgZnJvbSBhIHBvc2l0aW9uIHRvIGFub3RoZXIsIGl0IGlzIHJlcG9ydGVkIGFzXG4gIC8vIHR3byBtdXRhdGlvbiByZWNvcmRzLCBvbmUgd2l0aCBhIFwicmVtb3ZlZE5vZGVzXCIgYW5kIHRoZSBvdGhlciB3aXRoIFwiYWRkZWROb2Rlc1wiLiBJbiB0aGlzIGNhc2UsXG4gIC8vIHRoZSBub2RlIHdpbGwgYmUgaW4gYm90aCBzZXRzLlxuICBjb25zdCBhZGRlZEFuZE1vdmVkTm9kZXMgPSBuZXcgU2V0PE5vZGU+KClcbiAgY29uc3QgcmVtb3ZlZE5vZGVzID0gbmV3IE1hcDxOb2RlLCBOb2RlV2l0aFNlcmlhbGl6ZWROb2RlPigpXG4gIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgZm9yRWFjaChtdXRhdGlvbi5hZGRlZE5vZGVzLCAobm9kZSkgPT4ge1xuICAgICAgYWRkZWRBbmRNb3ZlZE5vZGVzLmFkZChub2RlKVxuICAgIH0pXG4gICAgZm9yRWFjaChtdXRhdGlvbi5yZW1vdmVkTm9kZXMsIChub2RlKSA9PiB7XG4gICAgICBpZiAoIWFkZGVkQW5kTW92ZWROb2Rlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgcmVtb3ZlZE5vZGVzLnNldChub2RlLCBtdXRhdGlvbi50YXJnZXQpXG4gICAgICB9XG4gICAgICBhZGRlZEFuZE1vdmVkTm9kZXMuZGVsZXRlKG5vZGUpXG4gICAgfSlcbiAgfVxuXG4gIC8vIFRoZW4sIHdlIHNvcnQgbm9kZXMgdGhhdCBhcmUgc3RpbGwgaW4gdGhlIGRvY3VtZW50IGJ5IHRvcG9sb2dpY2FsIG9yZGVyLCBmb3IgdHdvIHJlYXNvbnM6XG4gIC8vXG4gIC8vICogV2Ugd2lsbCBzZXJpYWxpemUgZWFjaCBhZGRlZCBub2RlcyB3aXRoIHRoZWlyIGRlc2NlbmRhbnRzLiBXZSBkb24ndCB3YW50IHRvIHNlcmlhbGl6ZSBhIG5vZGVcbiAgLy8gdHdpY2UsIHNvIHdlIG5lZWQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwYXJlbnQgbm9kZXMgZmlyc3QgYW5kIHNraXAgYW55IG5vZGUgdGhhdCBpcyBjb250YWluZWQgaW5cbiAgLy8gYSBwcmVjZWRlbnQgbm9kZS5cbiAgLy9cbiAgLy8gKiBUbyBlbWl0IFwiYWRkXCIgbXV0YXRpb25zLCB3ZSBuZWVkIHJlZmVyZW5jZXMgdG8gdGhlIHBhcmVudCBhbmQgcG90ZW50aWFsIG5leHQgc2libGluZyBvZiBlYWNoXG4gIC8vIGFkZGVkIG5vZGUuIFNvIHdlIG5lZWQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwYXJlbnQgbm9kZXMgZmlyc3QsIGFuZCB3aGVuIG11bHRpcGxlIG5vZGVzIGFyZVxuICAvLyBzaWJsaW5ncywgd2Ugd2FudCB0byBpdGVyYXRlIGZyb20gbGFzdCB0byBmaXJzdC4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGFueSBcIm5leHRcIiBub2RlIGlzXG4gIC8vIGFscmVhZHkgc2VyaWFsaXplZCBhbmQgaGF2ZSBhbiBpZC5cbiAgY29uc3Qgc29ydGVkQWRkZWRBbmRNb3ZlZE5vZGVzID0gQXJyYXkuZnJvbShhZGRlZEFuZE1vdmVkTm9kZXMpXG4gIHNvcnRBZGRlZEFuZE1vdmVkTm9kZXMoc29ydGVkQWRkZWRBbmRNb3ZlZE5vZGVzKVxuXG4gIC8vIFRoZW4sIHdlIGl0ZXJhdGUgb3ZlciBvdXIgc29ydGVkIG5vZGUgc2V0cyB0byBlbWl0IG11dGF0aW9ucy4gV2UgY29sbGVjdCB0aGUgbmV3bHkgc2VyaWFsaXplZFxuICAvLyBub2RlIGlkcyBpbiBhIHNldCB0byBiZSBhYmxlIHRvIHNraXAgc3Vic2VxdWVudCByZWxhdGVkIG11dGF0aW9ucy5cbiAgY29uc3Qgc2VyaWFsaXplZE5vZGVJZHMgPSBuZXcgU2V0PG51bWJlcj4oKVxuXG4gIGNvbnN0IGFkZGVkTm9kZU11dGF0aW9uczogQWRkZWROb2RlTXV0YXRpb25bXSA9IFtdXG4gIGZvciAoY29uc3Qgbm9kZSBvZiBzb3J0ZWRBZGRlZEFuZE1vdmVkTm9kZXMpIHtcbiAgICBpZiAoaGFzQmVlblNlcmlhbGl6ZWQobm9kZSkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCA9IGdldE5vZGVQcml2YWN5TGV2ZWwobm9kZS5wYXJlbnROb2RlISwgZGVmYXVsdFByaXZhY3lMZXZlbClcbiAgICBpZiAocGFyZW50Tm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4gfHwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5JR05PUkUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgY29uc3Qgc2VyaWFsaXplZE5vZGUgPSBzZXJpYWxpemVOb2RlV2l0aElkKG5vZGUsIHtcbiAgICAgIGRvY3VtZW50LFxuICAgICAgc2VyaWFsaXplZE5vZGVJZHMsXG4gICAgICBwYXJlbnROb2RlUHJpdmFjeUxldmVsLFxuICAgIH0pXG4gICAgaWYgKCFzZXJpYWxpemVkTm9kZSkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBhZGRlZE5vZGVNdXRhdGlvbnMucHVzaCh7XG4gICAgICBuZXh0SWQ6IGdldE5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgcGFyZW50SWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQobm9kZS5wYXJlbnROb2RlISkhLFxuICAgICAgbm9kZTogc2VyaWFsaXplZE5vZGUsXG4gICAgfSlcbiAgfVxuICAvLyBGaW5hbGx5LCB3ZSBlbWl0IHJlbW92ZSBtdXRhdGlvbnMuXG4gIGNvbnN0IHJlbW92ZWROb2RlTXV0YXRpb25zOiBSZW1vdmVkTm9kZU11dGF0aW9uW10gPSBbXVxuICByZW1vdmVkTm9kZXMuZm9yRWFjaCgocGFyZW50LCBub2RlKSA9PiB7XG4gICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKG5vZGUpKSB7XG4gICAgICByZW1vdmVkTm9kZU11dGF0aW9ucy5wdXNoKHtcbiAgICAgICAgcGFyZW50SWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQocGFyZW50KSxcbiAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQobm9kZSksXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4geyBhZGRzOiBhZGRlZE5vZGVNdXRhdGlvbnMsIHJlbW92ZXM6IHJlbW92ZWROb2RlTXV0YXRpb25zLCBoYXNCZWVuU2VyaWFsaXplZCB9XG5cbiAgZnVuY3Rpb24gaGFzQmVlblNlcmlhbGl6ZWQobm9kZTogTm9kZSkge1xuICAgIHJldHVybiBoYXNTZXJpYWxpemVkTm9kZShub2RlKSAmJiBzZXJpYWxpemVkTm9kZUlkcy5oYXMoZ2V0U2VyaWFsaXplZE5vZGVJZChub2RlKSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5leHRTaWJsaW5nKG5vZGU6IE5vZGUpOiBudWxsIHwgbnVtYmVyIHtcbiAgICBsZXQgbmV4dFNpYmxpbmcgPSBub2RlLm5leHRTaWJsaW5nXG4gICAgd2hpbGUgKG5leHRTaWJsaW5nKSB7XG4gICAgICBpZiAoaGFzU2VyaWFsaXplZE5vZGUobmV4dFNpYmxpbmcpKSB7XG4gICAgICAgIHJldHVybiBnZXRTZXJpYWxpemVkTm9kZUlkKG5leHRTaWJsaW5nKVxuICAgICAgfVxuICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5uZXh0U2libGluZ1xuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NoYXJhY3RlckRhdGFNdXRhdGlvbnMoXG4gIG11dGF0aW9uczogQXJyYXk8V2l0aFNlcmlhbGl6ZWRUYXJnZXQ8UnVtQ2hhcmFjdGVyRGF0YU11dGF0aW9uUmVjb3JkPj4sXG4gIGRlZmF1bHRQcml2YWN5TGV2ZWw6IERlZmF1bHRQcml2YWN5TGV2ZWxcbikge1xuICBjb25zdCB0ZXh0TXV0YXRpb25zOiBUZXh0TXV0YXRpb25bXSA9IFtdXG5cbiAgLy8gRGVkdXBsaWNhdGUgbXV0YXRpb25zIGJhc2VkIG9uIHRoZWlyIHRhcmdldCBub2RlXG4gIGNvbnN0IGhhbmRsZWROb2RlcyA9IG5ldyBTZXQ8Tm9kZT4oKVxuICBjb25zdCBmaWx0ZXJlZE11dGF0aW9ucyA9IG11dGF0aW9ucy5maWx0ZXIoKG11dGF0aW9uKSA9PiB7XG4gICAgaWYgKGhhbmRsZWROb2Rlcy5oYXMobXV0YXRpb24udGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGhhbmRsZWROb2Rlcy5hZGQobXV0YXRpb24udGFyZ2V0KVxuICAgIHJldHVybiB0cnVlXG4gIH0pXG5cbiAgLy8gRW1pdCBtdXRhdGlvbnNcbiAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBmaWx0ZXJlZE11dGF0aW9ucykge1xuICAgIGNvbnN0IHZhbHVlID0gbXV0YXRpb24udGFyZ2V0LnRleHRDb250ZW50XG4gICAgaWYgKHZhbHVlID09PSBtdXRhdGlvbi5vbGRWYWx1ZSkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnROb2RlUHJpdmFjeUxldmVsID0gZ2V0Tm9kZVByaXZhY3lMZXZlbChtdXRhdGlvbi50YXJnZXQucGFyZW50Tm9kZSEsIGRlZmF1bHRQcml2YWN5TGV2ZWwpXG4gICAgaWYgKHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOIHx8IHBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHRleHRNdXRhdGlvbnMucHVzaCh7XG4gICAgICBpZDogZ2V0U2VyaWFsaXplZE5vZGVJZChtdXRhdGlvbi50YXJnZXQpLFxuICAgICAgLy8gVE9ETzogcGFzcyBhIHZhbGlkIFwiaWdub3JlV2hpdGVTcGFjZVwiIGFyZ3VtZW50XG4gICAgICB2YWx1ZTogZ2V0VGV4dENvbnRlbnQobXV0YXRpb24udGFyZ2V0LCBmYWxzZSwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbCkgPz8gbnVsbCxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHRleHRNdXRhdGlvbnNcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0F0dHJpYnV0ZXNNdXRhdGlvbnMoXG4gIG11dGF0aW9uczogQXJyYXk8V2l0aFNlcmlhbGl6ZWRUYXJnZXQ8UnVtQXR0cmlidXRlc011dGF0aW9uUmVjb3JkPj4sXG4gIGRlZmF1bHRQcml2YWN5TGV2ZWw6IERlZmF1bHRQcml2YWN5TGV2ZWxcbikge1xuICBjb25zdCBhdHRyaWJ1dGVNdXRhdGlvbnM6IEF0dHJpYnV0ZU11dGF0aW9uW10gPSBbXVxuXG4gIC8vIERlZHVwbGljYXRlIG11dGF0aW9ucyBiYXNlZCBvbiB0aGVpciB0YXJnZXQgbm9kZSBhbmQgY2hhbmdlZCBhdHRyaWJ1dGVcbiAgY29uc3QgaGFuZGxlZEVsZW1lbnRzID0gbmV3IE1hcDxFbGVtZW50LCBTZXQ8c3RyaW5nPj4oKVxuICBjb25zdCBmaWx0ZXJlZE11dGF0aW9ucyA9IG11dGF0aW9ucy5maWx0ZXIoKG11dGF0aW9uKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlZEF0dHJpYnV0ZXMgPSBoYW5kbGVkRWxlbWVudHMuZ2V0KG11dGF0aW9uLnRhcmdldClcbiAgICBpZiAoaGFuZGxlZEF0dHJpYnV0ZXM/LmhhcyhtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lISkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAoIWhhbmRsZWRBdHRyaWJ1dGVzKSB7XG4gICAgICBoYW5kbGVkRWxlbWVudHMuc2V0KG11dGF0aW9uLnRhcmdldCwgbmV3IFNldChbbXV0YXRpb24uYXR0cmlidXRlTmFtZSFdKSlcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlZEF0dHJpYnV0ZXMuYWRkKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUhKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9KVxuXG4gIC8vIEVtaXQgbXV0YXRpb25zXG4gIGNvbnN0IGVtaXR0ZWRNdXRhdGlvbnMgPSBuZXcgTWFwPEVsZW1lbnQsIEF0dHJpYnV0ZU11dGF0aW9uPigpXG4gIGZvciAoY29uc3QgbXV0YXRpb24gb2YgZmlsdGVyZWRNdXRhdGlvbnMpIHtcbiAgICBjb25zdCB1bmNlbnNvcmVkVmFsdWUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUhKVxuICAgIGlmICh1bmNlbnNvcmVkVmFsdWUgPT09IG11dGF0aW9uLm9sZFZhbHVlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBjb25zdCBwcml2YWN5TGV2ZWwgPSBnZXROb2RlUHJpdmFjeUxldmVsKG11dGF0aW9uLnRhcmdldCwgZGVmYXVsdFByaXZhY3lMZXZlbClcbiAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9IHNlcmlhbGl6ZUF0dHJpYnV0ZShtdXRhdGlvbi50YXJnZXQsIHByaXZhY3lMZXZlbCwgbXV0YXRpb24uYXR0cmlidXRlTmFtZSEpXG5cbiAgICBsZXQgdHJhbnNmb3JtZWRWYWx1ZTogc3RyaW5nIHwgbnVsbFxuICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAndmFsdWUnKSB7XG4gICAgICBjb25zdCBpbnB1dFZhbHVlID0gZ2V0RWxlbWVudElucHV0VmFsdWUobXV0YXRpb24udGFyZ2V0LCBwcml2YWN5TGV2ZWwpXG4gICAgICBpZiAoaW5wdXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICB0cmFuc2Zvcm1lZFZhbHVlID0gaW5wdXRWYWx1ZVxuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlVmFsdWUgJiYgdHlwZW9mIGF0dHJpYnV0ZVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdHJhbnNmb3JtZWRWYWx1ZSA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWVkVmFsdWUgPSBudWxsXG4gICAgfVxuXG4gICAgbGV0IGVtaXR0ZWRNdXRhdGlvbiA9IGVtaXR0ZWRNdXRhdGlvbnMuZ2V0KG11dGF0aW9uLnRhcmdldClcbiAgICBpZiAoIWVtaXR0ZWRNdXRhdGlvbikge1xuICAgICAgZW1pdHRlZE11dGF0aW9uID0ge1xuICAgICAgICBpZDogZ2V0U2VyaWFsaXplZE5vZGVJZChtdXRhdGlvbi50YXJnZXQpLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgIH1cbiAgICAgIGF0dHJpYnV0ZU11dGF0aW9ucy5wdXNoKGVtaXR0ZWRNdXRhdGlvbilcbiAgICAgIGVtaXR0ZWRNdXRhdGlvbnMuc2V0KG11dGF0aW9uLnRhcmdldCwgZW1pdHRlZE11dGF0aW9uKVxuICAgIH1cblxuICAgIGVtaXR0ZWRNdXRhdGlvbi5hdHRyaWJ1dGVzW211dGF0aW9uLmF0dHJpYnV0ZU5hbWUhXSA9IHRyYW5zZm9ybWVkVmFsdWVcbiAgfVxuXG4gIHJldHVybiBhdHRyaWJ1dGVNdXRhdGlvbnNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRBZGRlZEFuZE1vdmVkTm9kZXMobm9kZXM6IE5vZGVbXSkge1xuICBub2Rlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICAgIGlmIChwb3NpdGlvbiAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlOUykge1xuICAgICAgcmV0dXJuIDFcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcpIHtcbiAgICAgIHJldHVybiAxXG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1iaXR3aXNlICovXG4gICAgcmV0dXJuIDBcbiAgfSlcbn1cbiIsImltcG9ydCB7XG4gIG1vbml0b3IsXG4gIGNhbGxNb25pdG9yZWQsXG4gIHRocm90dGxlLFxuICBET01fRVZFTlQsXG4gIGFkZEV2ZW50TGlzdGVuZXJzLFxuICBhZGRFdmVudExpc3RlbmVyLFxuICBpbmNsdWRlcyxcbiAgRGVmYXVsdFByaXZhY3lMZXZlbCxcbiAgaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCxcbiAgbm9vcCxcbn0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgTm9kZVByaXZhY3lMZXZlbCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cydcbmltcG9ydCB7IGdldE5vZGVQcml2YWN5TGV2ZWwsIHNob3VsZE1hc2tOb2RlIH0gZnJvbSAnLi9wcml2YWN5J1xuaW1wb3J0IHsgZ2V0RWxlbWVudElucHV0VmFsdWUsIGdldFNlcmlhbGl6ZWROb2RlSWQsIGhhc1NlcmlhbGl6ZWROb2RlIH0gZnJvbSAnLi9zZXJpYWxpemF0aW9uVXRpbHMnXG5pbXBvcnQge1xuICBGb2N1c0NhbGxiYWNrLFxuICBIb29rUmVzZXR0ZXIsXG4gIEluY3JlbWVudGFsU291cmNlLFxuICBJbnB1dENhbGxiYWNrLFxuICBJbnB1dFN0YXRlLFxuICBMaXN0ZW5lckhhbmRsZXIsXG4gIE1lZGlhSW50ZXJhY3Rpb25DYWxsYmFjayxcbiAgTWVkaWFJbnRlcmFjdGlvbnMsXG4gIE1vdXNlSW50ZXJhY3Rpb25DYWxsQmFjayxcbiAgTW91c2VJbnRlcmFjdGlvbnMsXG4gIE1vdXNlbW92ZUNhbGxCYWNrLFxuICBNdXRhdGlvbkNhbGxCYWNrLFxuICBPYnNlcnZlclBhcmFtLFxuICBTY3JvbGxDYWxsYmFjayxcbiAgU3R5bGVTaGVldFJ1bGVDYWxsYmFjayxcbiAgVmlld3BvcnRSZXNpemVDYWxsYmFjayxcbiAgVmlzdWFsVmlld3BvcnRSZXNpemVDYWxsYmFjayxcbiAgTW91c2VQb3NpdGlvbixcbiAgTW91c2VJbnRlcmFjdGlvblBhcmFtLFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgZm9yRWFjaCwgaG9va1NldHRlciwgaXNUb3VjaEV2ZW50IH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IHN0YXJ0TXV0YXRpb25PYnNlcnZlciwgTXV0YXRpb25Db250cm9sbGVyIH0gZnJvbSAnLi9tdXRhdGlvbk9ic2VydmVyJ1xuXG5pbXBvcnQge1xuICBnZXRWaXN1YWxWaWV3cG9ydCxcbiAgZ2V0V2luZG93SGVpZ2h0LFxuICBnZXRXaW5kb3dXaWR0aCxcbiAgZ2V0U2Nyb2xsWCxcbiAgZ2V0U2Nyb2xsWSxcbiAgY29udmVydE1vdXNlRXZlbnRUb0xheW91dENvb3JkaW5hdGVzLFxufSBmcm9tICcuL3ZpZXdwb3J0cydcblxuY29uc3QgTU9VU0VfTU9WRV9PQlNFUlZFUl9USFJFU0hPTEQgPSA1MFxuY29uc3QgU0NST0xMX09CU0VSVkVSX1RIUkVTSE9MRCA9IDEwMFxuY29uc3QgVklTVUFMX1ZJRVdQT1JUX09CU0VSVkVSX1RIUkVTSE9MRCA9IDIwMFxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdE9ic2VydmVycyhvOiBPYnNlcnZlclBhcmFtKTogTGlzdGVuZXJIYW5kbGVyIHtcbiAgY29uc3QgbXV0YXRpb25IYW5kbGVyID0gaW5pdE11dGF0aW9uT2JzZXJ2ZXIoby5tdXRhdGlvbkNvbnRyb2xsZXIsIG8ubXV0YXRpb25DYiwgby5kZWZhdWx0UHJpdmFjeUxldmVsKVxuICBjb25zdCBtb3VzZW1vdmVIYW5kbGVyID0gaW5pdE1vdmVPYnNlcnZlcihvLm1vdXNlbW92ZUNiKVxuICBjb25zdCBtb3VzZUludGVyYWN0aW9uSGFuZGxlciA9IGluaXRNb3VzZUludGVyYWN0aW9uT2JzZXJ2ZXIoby5tb3VzZUludGVyYWN0aW9uQ2IsIG8uZGVmYXVsdFByaXZhY3lMZXZlbClcbiAgY29uc3Qgc2Nyb2xsSGFuZGxlciA9IGluaXRTY3JvbGxPYnNlcnZlcihvLnNjcm9sbENiLCBvLmRlZmF1bHRQcml2YWN5TGV2ZWwpXG4gIGNvbnN0IHZpZXdwb3J0UmVzaXplSGFuZGxlciA9IGluaXRWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKG8udmlld3BvcnRSZXNpemVDYilcbiAgY29uc3QgaW5wdXRIYW5kbGVyID0gaW5pdElucHV0T2JzZXJ2ZXIoby5pbnB1dENiLCBvLmRlZmF1bHRQcml2YWN5TGV2ZWwpXG4gIGNvbnN0IG1lZGlhSW50ZXJhY3Rpb25IYW5kbGVyID0gaW5pdE1lZGlhSW50ZXJhY3Rpb25PYnNlcnZlcihvLm1lZGlhSW50ZXJhY3Rpb25DYiwgby5kZWZhdWx0UHJpdmFjeUxldmVsKVxuICBjb25zdCBzdHlsZVNoZWV0T2JzZXJ2ZXIgPSBpbml0U3R5bGVTaGVldE9ic2VydmVyKG8uc3R5bGVTaGVldFJ1bGVDYilcbiAgY29uc3QgZm9jdXNIYW5kbGVyID0gaW5pdEZvY3VzT2JzZXJ2ZXIoby5mb2N1c0NiKVxuXG4gIGNvbnN0IHZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlciA9IGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ3Zpc3VhbHZpZXdwb3J0JylcbiAgICA/IGluaXRWaXN1YWxWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKG8udmlzdWFsVmlld3BvcnRSZXNpemVDYilcbiAgICA6IG5vb3BcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIG11dGF0aW9uSGFuZGxlcigpXG4gICAgbW91c2Vtb3ZlSGFuZGxlcigpXG4gICAgbW91c2VJbnRlcmFjdGlvbkhhbmRsZXIoKVxuICAgIHNjcm9sbEhhbmRsZXIoKVxuICAgIHZpZXdwb3J0UmVzaXplSGFuZGxlcigpXG4gICAgaW5wdXRIYW5kbGVyKClcbiAgICBtZWRpYUludGVyYWN0aW9uSGFuZGxlcigpXG4gICAgc3R5bGVTaGVldE9ic2VydmVyKClcbiAgICBmb2N1c0hhbmRsZXIoKVxuICAgIHZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlcigpXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdE11dGF0aW9uT2JzZXJ2ZXIoXG4gIG11dGF0aW9uQ29udHJvbGxlcjogTXV0YXRpb25Db250cm9sbGVyLFxuICBjYjogTXV0YXRpb25DYWxsQmFjayxcbiAgZGVmYXVsdFByaXZhY3lMZXZlbDogRGVmYXVsdFByaXZhY3lMZXZlbFxuKSB7XG4gIHJldHVybiBzdGFydE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25Db250cm9sbGVyLCBjYiwgZGVmYXVsdFByaXZhY3lMZXZlbCkuc3RvcFxufVxuXG5mdW5jdGlvbiBpbml0TW92ZU9ic2VydmVyKGNiOiBNb3VzZW1vdmVDYWxsQmFjayk6IExpc3RlbmVySGFuZGxlciB7XG4gIGNvbnN0IHsgdGhyb3R0bGVkOiB1cGRhdGVQb3NpdGlvbiB9ID0gdGhyb3R0bGUoXG4gICAgbW9uaXRvcigoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgTm9kZVxuICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBpc1RvdWNoRXZlbnQoZXZlbnQpID8gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudFxuICAgICAgICBjb25zdCBwb3NpdGlvbjogTW91c2VQb3NpdGlvbiA9IHtcbiAgICAgICAgICBpZDogZ2V0U2VyaWFsaXplZE5vZGVJZCh0YXJnZXQpLFxuICAgICAgICAgIHRpbWVPZmZzZXQ6IDAsXG4gICAgICAgICAgeDogY2xpZW50WCxcbiAgICAgICAgICB5OiBjbGllbnRZLFxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKCd2aXN1YWx2aWV3cG9ydCcpICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICAgIGNvbnN0IHsgdmlzdWFsVmlld3BvcnRYLCB2aXN1YWxWaWV3cG9ydFkgfSA9IGNvbnZlcnRNb3VzZUV2ZW50VG9MYXlvdXRDb29yZGluYXRlcyhjbGllbnRYLCBjbGllbnRZKVxuICAgICAgICAgIHBvc2l0aW9uLnggPSB2aXN1YWxWaWV3cG9ydFhcbiAgICAgICAgICBwb3NpdGlvbi55ID0gdmlzdWFsVmlld3BvcnRZXG4gICAgICAgIH1cbiAgICAgICAgY2IoW3Bvc2l0aW9uXSwgaXNUb3VjaEV2ZW50KGV2ZW50KSA/IEluY3JlbWVudGFsU291cmNlLlRvdWNoTW92ZSA6IEluY3JlbWVudGFsU291cmNlLk1vdXNlTW92ZSlcbiAgICAgIH1cbiAgICB9KSxcbiAgICBNT1VTRV9NT1ZFX09CU0VSVkVSX1RIUkVTSE9MRCxcbiAgICB7XG4gICAgICB0cmFpbGluZzogZmFsc2UsXG4gICAgfVxuICApXG5cbiAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBbRE9NX0VWRU5ULk1PVVNFX01PVkUsIERPTV9FVkVOVC5UT1VDSF9NT1ZFXSwgdXBkYXRlUG9zaXRpb24sIHtcbiAgICBjYXB0dXJlOiB0cnVlLFxuICAgIHBhc3NpdmU6IHRydWUsXG4gIH0pLnN0b3Bcbn1cblxuY29uc3QgZXZlbnRUeXBlVG9Nb3VzZUludGVyYWN0aW9uID0ge1xuICBbRE9NX0VWRU5ULk1PVVNFX1VQXTogTW91c2VJbnRlcmFjdGlvbnMuTW91c2VVcCxcbiAgW0RPTV9FVkVOVC5NT1VTRV9ET1dOXTogTW91c2VJbnRlcmFjdGlvbnMuTW91c2VEb3duLFxuICBbRE9NX0VWRU5ULkNMSUNLXTogTW91c2VJbnRlcmFjdGlvbnMuQ2xpY2ssXG4gIFtET01fRVZFTlQuQ09OVEVYVF9NRU5VXTogTW91c2VJbnRlcmFjdGlvbnMuQ29udGV4dE1lbnUsXG4gIFtET01fRVZFTlQuREJMX0NMSUNLXTogTW91c2VJbnRlcmFjdGlvbnMuRGJsQ2xpY2ssXG4gIFtET01fRVZFTlQuRk9DVVNdOiBNb3VzZUludGVyYWN0aW9ucy5Gb2N1cyxcbiAgW0RPTV9FVkVOVC5CTFVSXTogTW91c2VJbnRlcmFjdGlvbnMuQmx1cixcbiAgW0RPTV9FVkVOVC5UT1VDSF9TVEFSVF06IE1vdXNlSW50ZXJhY3Rpb25zLlRvdWNoU3RhcnQsXG4gIFtET01fRVZFTlQuVE9VQ0hfRU5EXTogTW91c2VJbnRlcmFjdGlvbnMuVG91Y2hFbmQsXG59XG5mdW5jdGlvbiBpbml0TW91c2VJbnRlcmFjdGlvbk9ic2VydmVyKFxuICBjYjogTW91c2VJbnRlcmFjdGlvbkNhbGxCYWNrLFxuICBkZWZhdWx0UHJpdmFjeUxldmVsOiBEZWZhdWx0UHJpdmFjeUxldmVsXG4pOiBMaXN0ZW5lckhhbmRsZXIge1xuICBjb25zdCBoYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBOb2RlXG4gICAgaWYgKGdldE5vZGVQcml2YWN5TGV2ZWwodGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKSA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4gfHwgIWhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGlzVG91Y2hFdmVudChldmVudCkgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXSA6IGV2ZW50XG4gICAgY29uc3QgcG9zaXRpb246IE1vdXNlSW50ZXJhY3Rpb25QYXJhbSA9IHtcbiAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCksXG4gICAgICB0eXBlOiBldmVudFR5cGVUb01vdXNlSW50ZXJhY3Rpb25bZXZlbnQudHlwZSBhcyBrZXlvZiB0eXBlb2YgZXZlbnRUeXBlVG9Nb3VzZUludGVyYWN0aW9uXSxcbiAgICAgIHg6IGNsaWVudFgsXG4gICAgICB5OiBjbGllbnRZLFxuICAgIH1cbiAgICBpZiAoaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCgndmlzdWFsdmlld3BvcnQnKSAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICAgIGNvbnN0IHsgdmlzdWFsVmlld3BvcnRYLCB2aXN1YWxWaWV3cG9ydFkgfSA9IGNvbnZlcnRNb3VzZUV2ZW50VG9MYXlvdXRDb29yZGluYXRlcyhjbGllbnRYLCBjbGllbnRZKVxuICAgICAgcG9zaXRpb24ueCA9IHZpc3VhbFZpZXdwb3J0WFxuICAgICAgcG9zaXRpb24ueSA9IHZpc3VhbFZpZXdwb3J0WVxuICAgIH1cbiAgICBjYihwb3NpdGlvbilcbiAgfVxuICByZXR1cm4gYWRkRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQsIE9iamVjdC5rZXlzKGV2ZW50VHlwZVRvTW91c2VJbnRlcmFjdGlvbikgYXMgRE9NX0VWRU5UW10sIGhhbmRsZXIsIHtcbiAgICBjYXB0dXJlOiB0cnVlLFxuICAgIHBhc3NpdmU6IHRydWUsXG4gIH0pLnN0b3Bcbn1cblxuZnVuY3Rpb24gaW5pdFNjcm9sbE9ic2VydmVyKGNiOiBTY3JvbGxDYWxsYmFjaywgZGVmYXVsdFByaXZhY3lMZXZlbDogRGVmYXVsdFByaXZhY3lMZXZlbCk6IExpc3RlbmVySGFuZGxlciB7XG4gIGNvbnN0IHsgdGhyb3R0bGVkOiB1cGRhdGVQb3NpdGlvbiB9ID0gdGhyb3R0bGUoXG4gICAgbW9uaXRvcigoZXZlbnQ6IFVJRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCB8IERvY3VtZW50XG4gICAgICBpZiAoXG4gICAgICAgICF0YXJnZXQgfHxcbiAgICAgICAgZ2V0Tm9kZVByaXZhY3lMZXZlbCh0YXJnZXQsIGRlZmF1bHRQcml2YWN5TGV2ZWwpID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTiB8fFxuICAgICAgICAhaGFzU2VyaWFsaXplZE5vZGUodGFyZ2V0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgaWQgPSBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldClcbiAgICAgIGlmICh0YXJnZXQgPT09IGRvY3VtZW50KSB7XG4gICAgICAgIGlmIChpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKCd2aXN1YWx2aWV3cG9ydCcpKSB7XG4gICAgICAgICAgY2Ioe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB4OiBnZXRTY3JvbGxYKCksXG4gICAgICAgICAgICB5OiBnZXRTY3JvbGxZKCksXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzY3JvbGxFbCA9IChkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkhXG4gICAgICAgICAgY2Ioe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB4OiBzY3JvbGxFbC5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgeTogc2Nyb2xsRWwuc2Nyb2xsVG9wLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB4OiAodGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHk6ICh0YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbFRvcCxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KSxcbiAgICBTQ1JPTExfT0JTRVJWRVJfVEhSRVNIT0xEXG4gIClcbiAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIERPTV9FVkVOVC5TQ1JPTEwsIHVwZGF0ZVBvc2l0aW9uLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSkuc3RvcFxufVxuXG5mdW5jdGlvbiBpbml0Vmlld3BvcnRSZXNpemVPYnNlcnZlcihjYjogVmlld3BvcnRSZXNpemVDYWxsYmFjayk6IExpc3RlbmVySGFuZGxlciB7XG4gIGNvbnN0IHsgdGhyb3R0bGVkOiB1cGRhdGVEaW1lbnNpb24gfSA9IHRocm90dGxlKFxuICAgIG1vbml0b3IoKCkgPT4ge1xuICAgICAgY29uc3QgaGVpZ2h0ID0gZ2V0V2luZG93SGVpZ2h0KClcbiAgICAgIGNvbnN0IHdpZHRoID0gZ2V0V2luZG93V2lkdGgoKVxuICAgICAgY2Ioe1xuICAgICAgICBoZWlnaHQ6IE51bWJlcihoZWlnaHQpLFxuICAgICAgICB3aWR0aDogTnVtYmVyKHdpZHRoKSxcbiAgICAgIH0pXG4gICAgfSksXG4gICAgMjAwXG4gIClcbiAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXIod2luZG93LCBET01fRVZFTlQuUkVTSVpFLCB1cGRhdGVEaW1lbnNpb24sIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KS5zdG9wXG59XG5cbmV4cG9ydCBjb25zdCBJTlBVVF9UQUdTID0gWydJTlBVVCcsICdURVhUQVJFQScsICdTRUxFQ1QnXVxuY29uc3QgbGFzdElucHV0U3RhdGVNYXA6IFdlYWtNYXA8RXZlbnRUYXJnZXQsIElucHV0U3RhdGU+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRJbnB1dE9ic2VydmVyKGNiOiBJbnB1dENhbGxiYWNrLCBkZWZhdWx0UHJpdmFjeUxldmVsOiBEZWZhdWx0UHJpdmFjeUxldmVsKTogTGlzdGVuZXJIYW5kbGVyIHtcbiAgZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGV2ZW50OiB7IHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsIH0pIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnRcbiAgICBjb25zdCBub2RlUHJpdmFjeUxldmVsID0gZ2V0Tm9kZVByaXZhY3lMZXZlbCh0YXJnZXQsIGRlZmF1bHRQcml2YWN5TGV2ZWwpXG4gICAgaWYgKFxuICAgICAgIXRhcmdldCB8fFxuICAgICAgIXRhcmdldC50YWdOYW1lIHx8XG4gICAgICAhaW5jbHVkZXMoSU5QVVRfVEFHUywgdGFyZ2V0LnRhZ05hbWUpIHx8XG4gICAgICBub2RlUHJpdmFjeUxldmVsID09PSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTlxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdHlwZSA9IHRhcmdldC50eXBlXG5cbiAgICBsZXQgaW5wdXRTdGF0ZTogSW5wdXRTdGF0ZVxuICAgIGlmICh0eXBlID09PSAncmFkaW8nIHx8IHR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgIGlmIChzaG91bGRNYXNrTm9kZSh0YXJnZXQsIG5vZGVQcml2YWN5TGV2ZWwpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaW5wdXRTdGF0ZSA9IHsgaXNDaGVja2VkOiAodGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGdldEVsZW1lbnRJbnB1dFZhbHVlKHRhcmdldCwgbm9kZVByaXZhY3lMZXZlbClcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaW5wdXRTdGF0ZSA9IHsgdGV4dDogdmFsdWUgfVxuICAgIH1cblxuICAgIC8vIENhbiBiZSBtdWx0aXBsZSBjaGFuZ2VzIG9uIHRoZSBzYW1lIG5vZGUgd2l0aGluIHRoZSBzYW1lIGJhdGNoZWQgbXV0YXRpb24gb2JzZXJ2YXRpb24uXG4gICAgY2JXaXRoRGVkdXAodGFyZ2V0LCBpbnB1dFN0YXRlKVxuXG4gICAgLy8gSWYgYSByYWRpbyB3YXMgY2hlY2tlZCwgb3RoZXIgcmFkaW9zIHdpdGggdGhlIHNhbWUgbmFtZSBhdHRyaWJ1dGUgd2lsbCBiZSB1bmNoZWNrZWQuXG4gICAgY29uc3QgbmFtZSA9IHRhcmdldC5uYW1lXG4gICAgaWYgKHR5cGUgPT09ICdyYWRpbycgJiYgbmFtZSAmJiAodGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGZvckVhY2goZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCIke25hbWV9XCJdYCksIChlbDogRWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoZWwgIT09IHRhcmdldCkge1xuICAgICAgICAgIC8vIFRPRE86IENvbnNpZGVyIHRoZSBwcml2YWN5IGltcGxpY2F0aW9ucyBmb3IgdmFyaW91cyBkaWZmZXJpbmcgaW5wdXQgcHJpdmFjeSBsZXZlbHNcbiAgICAgICAgICBjYldpdGhEZWR1cChlbCwgeyBpc0NoZWNrZWQ6IGZhbHNlIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZXJlIGNhbiBiZSBtdWx0aXBsZSBjaGFuZ2VzIG9uIHRoZSBzYW1lIG5vZGUgd2l0aGluIHRoZSBzYW1lIGJhdGNoZWQgbXV0YXRpb24gb2JzZXJ2YXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBjYldpdGhEZWR1cCh0YXJnZXQ6IE5vZGUsIGlucHV0U3RhdGU6IElucHV0U3RhdGUpIHtcbiAgICBpZiAoIWhhc1NlcmlhbGl6ZWROb2RlKHRhcmdldCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBsYXN0SW5wdXRTdGF0ZSA9IGxhc3RJbnB1dFN0YXRlTWFwLmdldCh0YXJnZXQpXG4gICAgaWYgKFxuICAgICAgIWxhc3RJbnB1dFN0YXRlIHx8XG4gICAgICAobGFzdElucHV0U3RhdGUgYXMgeyB0ZXh0Pzogc3RyaW5nIH0pLnRleHQgIT09IChpbnB1dFN0YXRlIGFzIHsgdGV4dD86IHN0cmluZyB9KS50ZXh0IHx8XG4gICAgICAobGFzdElucHV0U3RhdGUgYXMgeyBpc0NoZWNrZWQ/OiBib29sZWFuIH0pLmlzQ2hlY2tlZCAhPT0gKGlucHV0U3RhdGUgYXMgeyBpc0NoZWNrZWQ/OiBib29sZWFuIH0pLmlzQ2hlY2tlZFxuICAgICkge1xuICAgICAgbGFzdElucHV0U3RhdGVNYXAuc2V0KHRhcmdldCwgaW5wdXRTdGF0ZSlcbiAgICAgIGNiKHtcbiAgICAgICAgLi4uaW5wdXRTdGF0ZSxcbiAgICAgICAgaWQ6IGdldFNlcmlhbGl6ZWROb2RlSWQodGFyZ2V0KSxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgeyBzdG9wOiBzdG9wRXZlbnRMaXN0ZW5lcnMgfSA9IGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBbRE9NX0VWRU5ULklOUFVULCBET01fRVZFTlQuQ0hBTkdFXSwgZXZlbnRIYW5kbGVyLCB7XG4gICAgY2FwdHVyZTogdHJ1ZSxcbiAgICBwYXNzaXZlOiB0cnVlLFxuICB9KVxuXG4gIGNvbnN0IHByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoSFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUsICd2YWx1ZScpXG4gIGNvbnN0IGhvb2tQcm9wZXJ0aWVzOiBBcnJheTxbSFRNTEVsZW1lbnQsIHN0cmluZ10+ID0gW1xuICAgIFtIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZSwgJ3ZhbHVlJ10sXG4gICAgW0hUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLCAnY2hlY2tlZCddLFxuICAgIFtIVE1MU2VsZWN0RWxlbWVudC5wcm90b3R5cGUsICd2YWx1ZSddLFxuICAgIFtIVE1MVGV4dEFyZWFFbGVtZW50LnByb3RvdHlwZSwgJ3ZhbHVlJ10sXG4gICAgLy8gU29tZSBVSSBsaWJyYXJ5IHVzZSBzZWxlY3RlZEluZGV4IHRvIHNldCBzZWxlY3QgdmFsdWVcbiAgICBbSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLCAnc2VsZWN0ZWRJbmRleCddLFxuICBdXG5cbiAgY29uc3QgaG9va1Jlc2V0dGVyczogSG9va1Jlc2V0dGVyW10gPSBbXVxuICBpZiAocHJvcGVydHlEZXNjcmlwdG9yICYmIHByb3BlcnR5RGVzY3JpcHRvci5zZXQpIHtcbiAgICBob29rUmVzZXR0ZXJzLnB1c2goXG4gICAgICAuLi5ob29rUHJvcGVydGllcy5tYXAoKHApID0+XG4gICAgICAgIGhvb2tTZXR0ZXI8SFRNTEVsZW1lbnQ+KHBbMF0sIHBbMV0sIHtcbiAgICAgICAgICBzZXQ6IG1vbml0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gbW9jayB0byBhIG5vcm1hbCBldmVudFxuICAgICAgICAgICAgZXZlbnRIYW5kbGVyKHsgdGFyZ2V0OiB0aGlzIH0pXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBob29rUmVzZXR0ZXJzLmZvckVhY2goKGgpID0+IGgoKSlcbiAgICBzdG9wRXZlbnRMaXN0ZW5lcnMoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRTdHlsZVNoZWV0T2JzZXJ2ZXIoY2I6IFN0eWxlU2hlZXRSdWxlQ2FsbGJhY2spOiBMaXN0ZW5lckhhbmRsZXIge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gIGNvbnN0IGluc2VydFJ1bGUgPSBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZS5pbnNlcnRSdWxlXG4gIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLmluc2VydFJ1bGUgPSBmdW5jdGlvbiAodGhpczogQ1NTU3R5bGVTaGVldCwgcnVsZTogc3RyaW5nLCBpbmRleD86IG51bWJlcikge1xuICAgIGNhbGxNb25pdG9yZWQoKCkgPT4ge1xuICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKHRoaXMub3duZXJOb2RlISkpIHtcbiAgICAgICAgY2Ioe1xuICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRoaXMub3duZXJOb2RlKSxcbiAgICAgICAgICBhZGRzOiBbeyBydWxlLCBpbmRleCB9XSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBpbnNlcnRSdWxlLmNhbGwodGhpcywgcnVsZSwgaW5kZXgpXG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gIGNvbnN0IGRlbGV0ZVJ1bGUgPSBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZS5kZWxldGVSdWxlXG4gIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLmRlbGV0ZVJ1bGUgPSBmdW5jdGlvbiAodGhpczogQ1NTU3R5bGVTaGVldCwgaW5kZXg6IG51bWJlcikge1xuICAgIGNhbGxNb25pdG9yZWQoKCkgPT4ge1xuICAgICAgaWYgKGhhc1NlcmlhbGl6ZWROb2RlKHRoaXMub3duZXJOb2RlISkpIHtcbiAgICAgICAgY2Ioe1xuICAgICAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRoaXMub3duZXJOb2RlKSxcbiAgICAgICAgICByZW1vdmVzOiBbeyBpbmRleCB9XSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBkZWxldGVSdWxlLmNhbGwodGhpcywgaW5kZXgpXG4gIH1cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLmluc2VydFJ1bGUgPSBpbnNlcnRSdWxlXG4gICAgQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUuZGVsZXRlUnVsZSA9IGRlbGV0ZVJ1bGVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0TWVkaWFJbnRlcmFjdGlvbk9ic2VydmVyKFxuICBtZWRpYUludGVyYWN0aW9uQ2I6IE1lZGlhSW50ZXJhY3Rpb25DYWxsYmFjayxcbiAgZGVmYXVsdFByaXZhY3lMZXZlbDogRGVmYXVsdFByaXZhY3lMZXZlbFxuKTogTGlzdGVuZXJIYW5kbGVyIHtcbiAgY29uc3QgaGFuZGxlciA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgTm9kZVxuICAgIGlmIChcbiAgICAgICF0YXJnZXQgfHxcbiAgICAgIGdldE5vZGVQcml2YWN5TGV2ZWwodGFyZ2V0LCBkZWZhdWx0UHJpdmFjeUxldmVsKSA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4gfHxcbiAgICAgICFoYXNTZXJpYWxpemVkTm9kZSh0YXJnZXQpXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbWVkaWFJbnRlcmFjdGlvbkNiKHtcbiAgICAgIGlkOiBnZXRTZXJpYWxpemVkTm9kZUlkKHRhcmdldCksXG4gICAgICB0eXBlOiBldmVudC50eXBlID09PSBET01fRVZFTlQuUExBWSA/IE1lZGlhSW50ZXJhY3Rpb25zLlBsYXkgOiBNZWRpYUludGVyYWN0aW9ucy5QYXVzZSxcbiAgICB9KVxuICB9XG4gIHJldHVybiBhZGRFdmVudExpc3RlbmVycyhkb2N1bWVudCwgW0RPTV9FVkVOVC5QTEFZLCBET01fRVZFTlQuUEFVU0VdLCBoYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSkuc3RvcFxufVxuXG5mdW5jdGlvbiBpbml0Rm9jdXNPYnNlcnZlcihmb2N1c0NiOiBGb2N1c0NhbGxiYWNrKTogTGlzdGVuZXJIYW5kbGVyIHtcbiAgcmV0dXJuIGFkZEV2ZW50TGlzdGVuZXJzKHdpbmRvdywgW0RPTV9FVkVOVC5GT0NVUywgRE9NX0VWRU5ULkJMVVJdLCAoKSA9PiB7XG4gICAgZm9jdXNDYih7IGhhc19mb2N1czogZG9jdW1lbnQuaGFzRm9jdXMoKSB9KVxuICB9KS5zdG9wXG59XG5cbmZ1bmN0aW9uIGluaXRWaXN1YWxWaWV3cG9ydFJlc2l6ZU9ic2VydmVyKGNiOiBWaXN1YWxWaWV3cG9ydFJlc2l6ZUNhbGxiYWNrKTogTGlzdGVuZXJIYW5kbGVyIHtcbiAgaWYgKCF3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICByZXR1cm4gbm9vcFxuICB9XG4gIGNvbnN0IHsgdGhyb3R0bGVkOiB1cGRhdGVEaW1lbnNpb24sIGNhbmNlbDogY2FuY2VsVGhyb3R0bGUgfSA9IHRocm90dGxlKFxuICAgIG1vbml0b3IoKCkgPT4ge1xuICAgICAgY2IoZ2V0VmlzdWFsVmlld3BvcnQoKSlcbiAgICB9KSxcbiAgICBWSVNVQUxfVklFV1BPUlRfT0JTRVJWRVJfVEhSRVNIT0xELFxuICAgIHtcbiAgICAgIHRyYWlsaW5nOiBmYWxzZSxcbiAgICB9XG4gIClcbiAgY29uc3QgcmVtb3ZlTGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVycyhcbiAgICB3aW5kb3cudmlzdWFsVmlld3BvcnQsXG4gICAgW0RPTV9FVkVOVC5SRVNJWkUsIERPTV9FVkVOVC5TQ1JPTExdLFxuICAgIHVwZGF0ZURpbWVuc2lvbixcbiAgICB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICB9XG4gICkuc3RvcFxuXG4gIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHJlbW92ZUxpc3RlbmVyKClcbiAgICBjYW5jZWxUaHJvdHRsZSgpXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIE5vZGVQcml2YWN5TGV2ZWwsXG4gIFBSSVZBQ1lfQVRUUl9OQU1FLFxuICBQUklWQUNZX0FUVFJfVkFMVUVfQUxMT1csXG4gIFBSSVZBQ1lfQVRUUl9WQUxVRV9NQVNLLFxuICBQUklWQUNZX0FUVFJfVkFMVUVfTUFTS19VU0VSX0lOUFVULFxuICBQUklWQUNZX0FUVFJfVkFMVUVfSElEREVOLFxuICBQUklWQUNZX0NMQVNTX0FMTE9XLFxuICBQUklWQUNZX0NMQVNTX01BU0ssXG4gIFBSSVZBQ1lfQ0xBU1NfTUFTS19VU0VSX0lOUFVULFxuICBQUklWQUNZX0NMQVNTX0hJRERFTixcbiAgRk9STV9QUklWQVRFX1RBR19OQU1FUyxcbiAgQ0VOU09SRURfU1RSSU5HX01BUkssXG4gIC8vIERlcHJlY2F0ZWQgKG5vdyBhbGlhc2VkKSBiZWxvd1xuICBQUklWQUNZX0NMQVNTX0lOUFVUX0lHTk9SRUQsXG4gIFBSSVZBQ1lfQ0xBU1NfSU5QVVRfTUFTS0VELFxuICBQUklWQUNZX0FUVFJfVkFMVUVfSU5QVVRfSUdOT1JFRCxcbiAgUFJJVkFDWV9BVFRSX1ZBTFVFX0lOUFVUX01BU0tFRCxcbn0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuXG5leHBvcnQgY29uc3QgTUFYX0FUVFJJQlVURV9WQUxVRV9DSEFSX0xFTkdUSCA9IDEwMF8wMDBcblxuaW1wb3J0IHsgbWFrZVN0eWxlc2hlZXRVcmxzQWJzb2x1dGUgfSBmcm9tICcuL3NlcmlhbGl6YXRpb25VdGlscydcblxuaW1wb3J0IHsgc2hvdWxkSWdub3JlRWxlbWVudCB9IGZyb20gJy4vc2VyaWFsaXplJ1xuXG5jb25zdCBURVhUX01BU0tJTkdfQ0hBUiA9ICd4J1xuXG4vKipcbiAqIEdldCBub2RlIHByaXZhY3kgbGV2ZWwgYnkgaXRlcmF0aW5nIG92ZXIgaXRzIGFuY2VzdG9ycy4gV2hlbiB0aGUgZGlyZWN0IHBhcmVudCBwcml2YWN5IGxldmVsIGlzXG4gKiBrbm93LCBpdCBpcyBiZXN0IHRvIHVzZSBzb21ldGhpbmcgbGlrZTpcbiAqXG4gKiBkZXJpdmVQcml2YWN5TGV2ZWxHaXZlblBhcmVudChnZXROb2RlU2VsZlByaXZhY3lMZXZlbChub2RlKSwgcGFyZW50Tm9kZVByaXZhY3lMZXZlbClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVQcml2YWN5TGV2ZWwobm9kZTogTm9kZSwgZGVmYXVsdFByaXZhY3lMZXZlbDogTm9kZVByaXZhY3lMZXZlbCk6IE5vZGVQcml2YWN5TGV2ZWwge1xuICBjb25zdCBwYXJlbnROb2RlUHJpdmFjeUxldmVsID0gbm9kZS5wYXJlbnROb2RlXG4gICAgPyBnZXROb2RlUHJpdmFjeUxldmVsKG5vZGUucGFyZW50Tm9kZSwgZGVmYXVsdFByaXZhY3lMZXZlbClcbiAgICA6IGRlZmF1bHRQcml2YWN5TGV2ZWxcbiAgY29uc3Qgc2VsZk5vZGVQcml2YWN5TGV2ZWwgPSBnZXROb2RlU2VsZlByaXZhY3lMZXZlbChub2RlKVxuICByZXR1cm4gcmVkdWNlUHJpdmFjeUxldmVsKHNlbGZOb2RlUHJpdmFjeUxldmVsLCBwYXJlbnROb2RlUHJpdmFjeUxldmVsKVxufVxuXG4vKipcbiAqIFJlZHVjZXMgdGhlIG5leHQgcHJpdmFjeSBsZXZlbCBiYXNlZCBvbiBzZWxmICsgcGFyZW50IHByaXZhY3kgbGV2ZWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VQcml2YWN5TGV2ZWwoXG4gIGNoaWxkUHJpdmFjeUxldmVsOiBOb2RlUHJpdmFjeUxldmVsIHwgdW5kZWZpbmVkLFxuICBwYXJlbnROb2RlUHJpdmFjeUxldmVsOiBOb2RlUHJpdmFjeUxldmVsXG4pOiBOb2RlUHJpdmFjeUxldmVsIHtcbiAgc3dpdGNoIChwYXJlbnROb2RlUHJpdmFjeUxldmVsKSB7XG4gICAgLy8gVGhlc2UgdmFsdWVzIGNhbm5vdCBiZSBvdmVycmlkZGVuXG4gICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjpcbiAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFOlxuICAgICAgcmV0dXJuIHBhcmVudE5vZGVQcml2YWN5TGV2ZWxcbiAgfVxuICBzd2l0Y2ggKGNoaWxkUHJpdmFjeUxldmVsKSB7XG4gICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkFMTE9XOlxuICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5NQVNLOlxuICAgIGNhc2UgTm9kZVByaXZhY3lMZXZlbC5NQVNLX1VTRVJfSU5QVVQ6XG4gICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjpcbiAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFOlxuICAgICAgcmV0dXJuIGNoaWxkUHJpdmFjeUxldmVsXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwYXJlbnROb2RlUHJpdmFjeUxldmVsXG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBub2RlJ3Mgb3duIHByaXZhY3kgbGV2ZWwgd2l0aG91dCBjaGVja2luZyBmb3IgYW5jZXN0b3JzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Tm9kZVNlbGZQcml2YWN5TGV2ZWwobm9kZTogTm9kZSk6IE5vZGVQcml2YWN5TGV2ZWwgfCB1bmRlZmluZWQge1xuICAvLyBPbmx5IEVsZW1lbnQgdHlwZXMgY2FuIGJlIGhhdmUgYSBwcml2YWN5IGxldmVsIHNldFxuICBpZiAoIWlzRWxlbWVudChub2RlKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgcHJpdkF0dHIgPSBub2RlLmdldEF0dHJpYnV0ZShQUklWQUNZX0FUVFJfTkFNRSlcblxuICAvLyBPdmVycnVsZXMgdG8gZW5mb3JjZSBlbmQtdXNlciBwcm90ZWN0aW9uXG4gIGlmIChub2RlLnRhZ05hbWUgPT09ICdCQVNFJykge1xuICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLkFMTE9XXG4gIH1cbiAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IG5vZGUgYXMgSFRNTElucHV0RWxlbWVudFxuICAgIGlmIChpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ3Bhc3N3b3JkJyB8fCBpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ2VtYWlsJyB8fCBpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ3RlbCcpIHtcbiAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLk1BU0tcbiAgICB9XG4gICAgaWYgKGlucHV0RWxlbWVudC50eXBlID09PSAnaGlkZGVuJykge1xuICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTS1xuICAgIH1cbiAgICBjb25zdCBhdXRvY29tcGxldGUgPSBpbnB1dEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnKVxuICAgIC8vIEhhbmRsZSBpbnB1dFthdXRvY29tcGxldGU9Y2MtbnVtYmVyL2NjLWNzYy9jYy1leHAvY2MtZXhwLW1vbnRoL2NjLWV4cC15ZWFyXVxuICAgIGlmIChhdXRvY29tcGxldGUgJiYgYXV0b2NvbXBsZXRlLmluZGV4T2YoJ2NjLScpID09PSAwKSB7XG4gICAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5NQVNLXG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgSFRNTCBwcml2YWN5IGF0dHJpYnV0ZXNcbiAgc3dpdGNoIChwcml2QXR0cikge1xuICAgIGNhc2UgUFJJVkFDWV9BVFRSX1ZBTFVFX0FMTE9XOlxuICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuQUxMT1dcbiAgICBjYXNlIFBSSVZBQ1lfQVRUUl9WQUxVRV9NQVNLOlxuICAgICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTS1xuICAgIGNhc2UgUFJJVkFDWV9BVFRSX1ZBTFVFX01BU0tfVVNFUl9JTlBVVDpcbiAgICBjYXNlIFBSSVZBQ1lfQVRUUl9WQUxVRV9JTlBVVF9JR05PUkVEOiAvLyBEZXByZWNhdGVkLCBub3cgYWxpYXNlZFxuICAgIGNhc2UgUFJJVkFDWV9BVFRSX1ZBTFVFX0lOUFVUX01BU0tFRDogLy8gRGVwcmVjYXRlZCwgbm93IGFsaWFzZWRcbiAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLk1BU0tfVVNFUl9JTlBVVFxuICAgIGNhc2UgUFJJVkFDWV9BVFRSX1ZBTFVFX0hJRERFTjpcbiAgICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLkhJRERFTlxuICB9XG5cbiAgLy8gQ2hlY2sgSFRNTCBwcml2YWN5IGNsYXNzZXNcbiAgaWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfQUxMT1cpKSB7XG4gICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuQUxMT1dcbiAgfSBlbHNlIGlmIChub2RlLmNsYXNzTGlzdC5jb250YWlucyhQUklWQUNZX0NMQVNTX01BU0spKSB7XG4gICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTS1xuICB9IGVsc2UgaWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfSElEREVOKSkge1xuICAgIHJldHVybiBOb2RlUHJpdmFjeUxldmVsLkhJRERFTlxuICB9IGVsc2UgaWYgKFxuICAgIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfTUFTS19VU0VSX0lOUFVUKSB8fFxuICAgIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfSU5QVVRfTUFTS0VEKSB8fCAvLyBEZXByZWNhdGVkLCBub3cgYWxpYXNlZFxuICAgIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFBSSVZBQ1lfQ0xBU1NfSU5QVVRfSUdOT1JFRCkgLy8gRGVwcmVjYXRlZCwgbm93IGFsaWFzZWRcbiAgKSB7XG4gICAgcmV0dXJuIE5vZGVQcml2YWN5TGV2ZWwuTUFTS19VU0VSX0lOUFVUXG4gIH0gZWxzZSBpZiAoc2hvdWxkSWdub3JlRWxlbWVudChub2RlKSkge1xuICAgIC8vIHN1Y2ggYXMgZm9yIHNjcmlwdHNcbiAgICByZXR1cm4gTm9kZVByaXZhY3lMZXZlbC5JR05PUkVcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBhaW1pbmcgdG8gdW5pZnkgYG1hc2tgIGFuZCBgbWFzay11c2VyLWlucHV0YCBwcml2YWN5IGxldmVsczpcbiAqXG4gKiBJbiB0aGUgYG1hc2tgIGNhc2UsIGl0IGlzIHRyaXZpYWw6IHdlIHNob3VsZCBtYXNrIHRoZSBlbGVtZW50LlxuICpcbiAqIEluIHRoZSBgbWFzay11c2VyLWlucHV0YCBjYXNlLCB3ZSBzaG91bGQgbWFzayB0aGUgZWxlbWVudCBvbmx5IGlmIGl0IGlzIGEgXCJmb3JtXCIgZWxlbWVudCBvciB0aGVcbiAqIGRpcmVjdCBwYXJlbnQgaXMgYSBmb3JtIGVsZW1lbnQgZm9yIHRleHQgbm9kZXMpLlxuICpcbiAqIE90aGVyIGBzaG91bGRNYXNrTm9kZWAgY2FzZXMgYXJlIGVkZ2UgY2FzZXMgdGhhdCBzaG91bGQgbm90IG1hdHRlciB0b28gbXVjaCAoZXg6IHNob3VsZCB3ZSBtYXNrIGFcbiAqIG5vZGUgaWYgaXQgaXMgaWdub3JlZCBvciBoaWRkZW4/IGl0IGRvZXNuJ3QgbWF0dGVyIHNpbmNlIGl0IHdvbid0IGJlIHNlcmlhbGl6ZWQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkTWFza05vZGUobm9kZTogTm9kZSwgcHJpdmFjeUxldmVsOiBOb2RlUHJpdmFjeUxldmVsKSB7XG4gIHN3aXRjaCAocHJpdmFjeUxldmVsKSB7XG4gICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLk1BU0s6XG4gICAgY2FzZSBOb2RlUHJpdmFjeUxldmVsLkhJRERFTjpcbiAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBjYXNlIE5vZGVQcml2YWN5TGV2ZWwuTUFTS19VU0VSX0lOUFVUOlxuICAgICAgcmV0dXJuIGlzVGV4dE5vZGUobm9kZSkgPyBpc0Zvcm1FbGVtZW50KG5vZGUucGFyZW50Tm9kZSkgOiBpc0Zvcm1FbGVtZW50KG5vZGUpXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlOiBOb2RlKTogbm9kZSBpcyBFbGVtZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IG5vZGUuRUxFTUVOVF9OT0RFXG59XG5cbmZ1bmN0aW9uIGlzVGV4dE5vZGUobm9kZTogTm9kZSk6IG5vZGUgaXMgVGV4dCB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09PSBub2RlLlRFWFRfTk9ERVxufVxuXG5mdW5jdGlvbiBpc0Zvcm1FbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsKTogYm9vbGVhbiB7XG4gIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9PSBub2RlLkVMRU1FTlRfTk9ERSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGNvbnN0IGVsZW1lbnQgPSBub2RlIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgIHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XG4gICAgICBjYXNlICdidXR0b24nOlxuICAgICAgY2FzZSAnY29sb3InOlxuICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgY2FzZSAnc3VibWl0JzpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG4gIHJldHVybiAhIUZPUk1fUFJJVkFURV9UQUdfTkFNRVNbZWxlbWVudC50YWdOYW1lXVxufVxuXG4vKipcbiAqIFRleHQgY2Vuc29yaW5nIG5vbi1kZXN0cnVjdGl2ZWx5IG1haW50YWlucyB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgaW4gb3JkZXIgdG8gcHJlc2VydmUgdGV4dCBzaGFwZVxuICogZHVyaW5nIHJlcGxheS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNlbnNvclRleHQgPSAodGV4dDogc3RyaW5nKSA9PiB0ZXh0LnJlcGxhY2UoL1xcUy9nLCBURVhUX01BU0tJTkdfQ0hBUilcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRDb250ZW50KFxuICB0ZXh0Tm9kZTogTm9kZSxcbiAgaWdub3JlV2hpdGVTcGFjZTogYm9vbGVhbixcbiAgcGFyZW50Tm9kZVByaXZhY3lMZXZlbDogTm9kZVByaXZhY3lMZXZlbFxuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgLy8gVGhlIHBhcmVudCBub2RlIG1heSBub3QgYmUgYSBodG1sIGVsZW1lbnQgd2hpY2ggaGFzIGEgdGFnTmFtZSBhdHRyaWJ1dGUuXG4gIC8vIFNvIGp1c3QgbGV0IGl0IGJlIHVuZGVmaW5lZCB3aGljaCBpcyBvayBpbiB0aGlzIHVzZSBjYXNlLlxuICBjb25zdCBwYXJlbnRUYWdOYW1lID0gdGV4dE5vZGUucGFyZW50RWxlbWVudD8udGFnTmFtZVxuICBsZXQgdGV4dENvbnRlbnQgPSB0ZXh0Tm9kZS50ZXh0Q29udGVudCB8fCAnJ1xuXG4gIGlmIChpZ25vcmVXaGl0ZVNwYWNlICYmICF0ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IG5vZGVQcml2YWN5TGV2ZWwgPSBwYXJlbnROb2RlUHJpdmFjeUxldmVsXG5cbiAgY29uc3QgaXNTdHlsZSA9IHBhcmVudFRhZ05hbWUgPT09ICdTVFlMRScgPyB0cnVlIDogdW5kZWZpbmVkXG4gIGNvbnN0IGlzU2NyaXB0ID0gcGFyZW50VGFnTmFtZSA9PT0gJ1NDUklQVCdcblxuICBpZiAoaXNTY3JpcHQpIHtcbiAgICAvLyBGb3IgcGVyZiByZWFzb25zLCB3ZSBkb24ndCByZWNvcmQgc2NyaXB0IChoZXVyaXN0aWMpXG4gICAgdGV4dENvbnRlbnQgPSBDRU5TT1JFRF9TVFJJTkdfTUFSS1xuICB9IGVsc2UgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgLy8gU2hvdWxkIG5ldmVyIG9jY3VyLCBidXQganVzdCBpbiBjYXNlLCB3ZSBzZXQgdG8gQ0VOU09SRURfTUFSSy5cbiAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLXG4gIH0gZWxzZSBpZiAoc2hvdWxkTWFza05vZGUodGV4dE5vZGUsIG5vZGVQcml2YWN5TGV2ZWwpKSB7XG4gICAgaWYgKGlzU3R5bGUpIHtcbiAgICAgIC8vIFN0eWxlIHRhZ3MgYXJlIGBvdmVycnVsZWRgIChVc2UgYGhpZGVgIHRvIGVuZm9yY2UgcHJpdmFjeSlcbiAgICAgIHRleHRDb250ZW50ID0gbWFrZVN0eWxlc2hlZXRVcmxzQWJzb2x1dGUodGV4dENvbnRlbnQsIGxvY2F0aW9uLmhyZWYpXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIFNjcmFtYmxpbmcgdGhlIGNoaWxkIGxpc3QgYnJlYWtzIHRleHQgbm9kZXMgZm9yIERBVEFMSVNUL1NFTEVDVC9PUFRHUk9VUFxuICAgICAgcGFyZW50VGFnTmFtZSA9PT0gJ0RBVEFMSVNUJyB8fFxuICAgICAgcGFyZW50VGFnTmFtZSA9PT0gJ1NFTEVDVCcgfHxcbiAgICAgIHBhcmVudFRhZ05hbWUgPT09ICdPUFRHUk9VUCdcbiAgICApIHtcbiAgICAgIGlmICghdGV4dENvbnRlbnQudHJpbSgpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGFyZW50VGFnTmFtZSA9PT0gJ09QVElPTicpIHtcbiAgICAgIC8vIDxPcHRpb24+IGhhcyBsb3cgZW50cm9weSBpbiBjaGFyc2V0ICsgdGV4dCBsZW5ndGgsIHNvIHVzZSBgQ0VOU09SRURfU1RSSU5HX01BUktgIHdoZW4gbWFza2VkXG4gICAgICB0ZXh0Q29udGVudCA9IENFTlNPUkVEX1NUUklOR19NQVJLXG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHRDb250ZW50ID0gY2Vuc29yVGV4dCh0ZXh0Q29udGVudClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHRDb250ZW50XG59XG4iLCJpbXBvcnQgeyBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgUmVjb3JkVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgc2VyaWFsaXplRG9jdW1lbnQgfSBmcm9tICcuL3NlcmlhbGl6ZSdcbmltcG9ydCB7IGluaXRPYnNlcnZlcnMgfSBmcm9tICcuL29ic2VydmVyJ1xuaW1wb3J0IHsgSW5jcmVtZW50YWxTb3VyY2UsIFJlY29yZEFQSSwgUmVjb3JkT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnXG5cbmltcG9ydCB7IE11dGF0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vbXV0YXRpb25PYnNlcnZlcidcbmltcG9ydCB7IGdldFZpc3VhbFZpZXdwb3J0LCBnZXRTY3JvbGxYLCBnZXRTY3JvbGxZLCBnZXRXaW5kb3dIZWlnaHQsIGdldFdpbmRvd1dpZHRoIH0gZnJvbSAnLi92aWV3cG9ydHMnXG5cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmQob3B0aW9uczogUmVjb3JkT3B0aW9ucyk6IFJlY29yZEFQSSB7XG4gIGNvbnN0IHsgZW1pdCB9ID0gb3B0aW9uc1xuICAvLyBydW50aW1lIGNoZWNrcyBmb3IgdXNlciBvcHRpb25zXG4gIGlmICghZW1pdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZW1pdCBmdW5jdGlvbiBpcyByZXF1aXJlZCcpXG4gIH1cblxuICBjb25zdCBtdXRhdGlvbkNvbnRyb2xsZXIgPSBuZXcgTXV0YXRpb25Db250cm9sbGVyKClcblxuICBjb25zdCB0YWtlRnVsbFNuYXBzaG90ID0gKCkgPT4ge1xuICAgIG11dGF0aW9uQ29udHJvbGxlci5mbHVzaCgpIC8vIHByb2Nlc3MgYW55IHBlbmRpbmcgbXV0YXRpb24gYmVmb3JlIHRha2luZyBhIGZ1bGwgc25hcHNob3RcblxuICAgIGVtaXQoe1xuICAgICAgZGF0YToge1xuICAgICAgICBoZWlnaHQ6IGdldFdpbmRvd0hlaWdodCgpLFxuICAgICAgICBocmVmOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgd2lkdGg6IGdldFdpbmRvd1dpZHRoKCksXG4gICAgICB9LFxuICAgICAgdHlwZTogUmVjb3JkVHlwZS5NZXRhLFxuICAgIH0pXG5cbiAgICBlbWl0KHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaGFzX2ZvY3VzOiBkb2N1bWVudC5oYXNGb2N1cygpLFxuICAgICAgfSxcbiAgICAgIHR5cGU6IFJlY29yZFR5cGUuRm9jdXMsXG4gICAgfSlcblxuICAgIGVtaXQoe1xuICAgICAgZGF0YToge1xuICAgICAgICBub2RlOiBzZXJpYWxpemVEb2N1bWVudChkb2N1bWVudCwgb3B0aW9ucy5kZWZhdWx0UHJpdmFjeUxldmVsKSxcbiAgICAgICAgaW5pdGlhbE9mZnNldDoge1xuICAgICAgICAgIGxlZnQ6IGdldFNjcm9sbFgoKSxcbiAgICAgICAgICB0b3A6IGdldFNjcm9sbFkoKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB0eXBlOiBSZWNvcmRUeXBlLkZ1bGxTbmFwc2hvdCxcbiAgICB9KVxuXG4gICAgaWYgKGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ3Zpc3VhbHZpZXdwb3J0JykgJiYgd2luZG93LnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgICBlbWl0KHtcbiAgICAgICAgZGF0YTogZ2V0VmlzdWFsVmlld3BvcnQoKSxcbiAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5WaXN1YWxWaWV3cG9ydCxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgdGFrZUZ1bGxTbmFwc2hvdCgpXG5cbiAgY29uc3Qgc3RvcE9ic2VydmVycyA9IGluaXRPYnNlcnZlcnMoe1xuICAgIG11dGF0aW9uQ29udHJvbGxlcixcbiAgICBkZWZhdWx0UHJpdmFjeUxldmVsOiBvcHRpb25zLmRlZmF1bHRQcml2YWN5TGV2ZWwsXG4gICAgaW5wdXRDYjogKHYpID0+XG4gICAgICBlbWl0KHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNvdXJjZTogSW5jcmVtZW50YWxTb3VyY2UuSW5wdXQsXG4gICAgICAgICAgLi4udixcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZTogUmVjb3JkVHlwZS5JbmNyZW1lbnRhbFNuYXBzaG90LFxuICAgICAgfSksXG4gICAgbWVkaWFJbnRlcmFjdGlvbkNiOiAocCkgPT5cbiAgICAgIGVtaXQoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc291cmNlOiBJbmNyZW1lbnRhbFNvdXJjZS5NZWRpYUludGVyYWN0aW9uLFxuICAgICAgICAgIC4uLnAsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuSW5jcmVtZW50YWxTbmFwc2hvdCxcbiAgICAgIH0pLFxuICAgIG1vdXNlSW50ZXJhY3Rpb25DYjogKGQpID0+XG4gICAgICBlbWl0KHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNvdXJjZTogSW5jcmVtZW50YWxTb3VyY2UuTW91c2VJbnRlcmFjdGlvbixcbiAgICAgICAgICAuLi5kLFxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLkluY3JlbWVudGFsU25hcHNob3QsXG4gICAgICB9KSxcbiAgICBtb3VzZW1vdmVDYjogKHBvc2l0aW9ucywgc291cmNlKSA9PlxuICAgICAgZW1pdCh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwb3NpdGlvbnMsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLkluY3JlbWVudGFsU25hcHNob3QsXG4gICAgICB9KSxcbiAgICBtdXRhdGlvbkNiOiAobSkgPT5cbiAgICAgIGVtaXQoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc291cmNlOiBJbmNyZW1lbnRhbFNvdXJjZS5NdXRhdGlvbixcbiAgICAgICAgICAuLi5tLFxuICAgICAgICB9LFxuICAgICAgICB0eXBlOiBSZWNvcmRUeXBlLkluY3JlbWVudGFsU25hcHNob3QsXG4gICAgICB9KSxcbiAgICBzY3JvbGxDYjogKHApID0+XG4gICAgICBlbWl0KHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNvdXJjZTogSW5jcmVtZW50YWxTb3VyY2UuU2Nyb2xsLFxuICAgICAgICAgIC4uLnAsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuSW5jcmVtZW50YWxTbmFwc2hvdCxcbiAgICAgIH0pLFxuICAgIHN0eWxlU2hlZXRSdWxlQ2I6IChyKSA9PlxuICAgICAgZW1pdCh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLlN0eWxlU2hlZXRSdWxlLFxuICAgICAgICAgIC4uLnIsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuSW5jcmVtZW50YWxTbmFwc2hvdCxcbiAgICAgIH0pLFxuICAgIHZpZXdwb3J0UmVzaXplQ2I6IChkKSA9PlxuICAgICAgZW1pdCh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLlZpZXdwb3J0UmVzaXplLFxuICAgICAgICAgIC4uLmQsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuSW5jcmVtZW50YWxTbmFwc2hvdCxcbiAgICAgIH0pLFxuICAgIGZvY3VzQ2I6IChkYXRhKSA9PlxuICAgICAgZW1pdCh7XG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuRm9jdXMsXG4gICAgICAgIGRhdGEsXG4gICAgICB9KSxcbiAgICB2aXN1YWxWaWV3cG9ydFJlc2l6ZUNiOiAoZGF0YSkgPT4ge1xuICAgICAgZW1pdCh7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIHR5cGU6IFJlY29yZFR5cGUuVmlzdWFsVmlld3BvcnQsXG4gICAgICB9KVxuICAgIH0sXG4gIH0pXG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wOiBzdG9wT2JzZXJ2ZXJzLFxuICAgIHRha2VGdWxsU25hcHNob3QsXG4gICAgZmx1c2hNdXRhdGlvbnM6ICgpID0+IG11dGF0aW9uQ29udHJvbGxlci5mbHVzaCgpLFxuICB9XG59XG4iLCJpbXBvcnQgeyBidWlsZFVybCwgaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IENFTlNPUkVEX1NUUklOR19NQVJLLCBOb2RlUHJpdmFjeUxldmVsIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgc2hvdWxkTWFza05vZGUgfSBmcm9tICcuL3ByaXZhY3knXG5cbmV4cG9ydCB0eXBlIE5vZGVXaXRoU2VyaWFsaXplZE5vZGUgPSBOb2RlICYgeyBzOiAnTm9kZSB3aXRoIHNlcmlhbGl6ZWQgbm9kZScgfVxuXG5jb25zdCBzZXJpYWxpemVkTm9kZUlkcyA9IG5ldyBXZWFrTWFwPE5vZGUsIG51bWJlcj4oKVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzU2VyaWFsaXplZE5vZGUobm9kZTogTm9kZSk6IG5vZGUgaXMgTm9kZVdpdGhTZXJpYWxpemVkTm9kZSB7XG4gIHJldHVybiBzZXJpYWxpemVkTm9kZUlkcy5oYXMobm9kZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVBbmRBbmNlc3RvcnNIYXZlU2VyaWFsaXplZE5vZGUobm9kZTogTm9kZSk6IG5vZGUgaXMgTm9kZVdpdGhTZXJpYWxpemVkTm9kZSB7XG4gIGxldCBjdXJyZW50OiBOb2RlIHwgbnVsbCA9IG5vZGVcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBpZiAoIWhhc1NlcmlhbGl6ZWROb2RlKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJpYWxpemVkTm9kZUlkKG5vZGU6IE5vZGVXaXRoU2VyaWFsaXplZE5vZGUpOiBudW1iZXJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJpYWxpemVkTm9kZUlkKG5vZGU6IE5vZGUpOiBudW1iZXIgfCB1bmRlZmluZWRcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJpYWxpemVkTm9kZUlkKG5vZGU6IE5vZGUpIHtcbiAgcmV0dXJuIHNlcmlhbGl6ZWROb2RlSWRzLmdldChub2RlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VyaWFsaXplZE5vZGVJZChub2RlOiBOb2RlLCBzZXJpYWxpemVOb2RlSWQ6IG51bWJlcikge1xuICBzZXJpYWxpemVkTm9kZUlkcy5zZXQobm9kZSwgc2VyaWFsaXplTm9kZUlkKVxufVxuXG5jb25zdCBVUkxfSU5fQ1NTX1JFRiA9IC91cmxcXCgoPzooJykoW14nXSopJ3woXCIpKFteXCJdKilcInwoW14pXSopKVxcKS9nbVxuY29uc3QgQUJTT0xVVEVfVVJMID0gL15bQS1aYS16XSs6fF5cXC9cXC8vXG5jb25zdCBEQVRBX1VSSSA9IC9eZGF0YTouKiwvaVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTdHlsZXNoZWV0VXJsc0Fic29sdXRlKGNzc1RleHQ6IHN0cmluZywgYmFzZVVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ2Jhc2UtdGFnJykpIHtcbiAgICByZXR1cm4gY3NzVGV4dFxuICB9XG4gIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoXG4gICAgVVJMX0lOX0NTU19SRUYsXG4gICAgKG9yaWdpbjogc3RyaW5nLCBxdW90ZTE6IHN0cmluZywgcGF0aDE6IHN0cmluZywgcXVvdGUyOiBzdHJpbmcsIHBhdGgyOiBzdHJpbmcsIHBhdGgzOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aDEgfHwgcGF0aDIgfHwgcGF0aDNcbiAgICAgIGlmICghZmlsZVBhdGggfHwgQUJTT0xVVEVfVVJMLnRlc3QoZmlsZVBhdGgpIHx8IERBVEFfVVJJLnRlc3QoZmlsZVBhdGgpKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5cbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heWJlUXVvdGUgPSBxdW90ZTEgfHwgcXVvdGUyIHx8ICcnXG4gICAgICByZXR1cm4gYHVybCgke21heWJlUXVvdGV9JHttYWtlVXJsQWJzb2x1dGUoZmlsZVBhdGgsIGJhc2VVcmwpfSR7bWF5YmVRdW90ZX0pYFxuICAgIH1cbiAgKVxufVxuXG5jb25zdCBTUkNTRVRfVVJMUyA9IC8oXlxccyp8LFxccyopKFteXFxzLF0rKS9nXG5leHBvcnQgZnVuY3Rpb24gbWFrZVNyY3NldFVybHNBYnNvbHV0ZShhdHRyaWJ1dGVWYWx1ZTogc3RyaW5nLCBiYXNlVXJsOiBzdHJpbmcpIHtcbiAgaWYgKGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ2Jhc2UtdGFnJykpIHtcbiAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVcbiAgfVxuICByZXR1cm4gYXR0cmlidXRlVmFsdWUucmVwbGFjZShcbiAgICBTUkNTRVRfVVJMUyxcbiAgICAoXywgcHJlZml4OiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiBgJHtwcmVmaXh9JHttYWtlVXJsQWJzb2x1dGUodXJsLCBiYXNlVXJsKX1gXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VVcmxBYnNvbHV0ZSh1cmw6IHN0cmluZywgYmFzZVVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgdHJ5IHtcbiAgICBpZiAoaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCgnYmFzZS10YWcnKSkge1xuICAgICAgcmV0dXJuIHVybFxuICAgIH1cbiAgICByZXR1cm4gYnVpbGRVcmwodXJsLnRyaW0oKSwgYmFzZVVybCkuaHJlZlxuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIHVybFxuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBlbGVtZW50IFwidmFsdWVcIiB0byBiZSBzZXJpYWxpemVkIGFzIGFuIGF0dHJpYnV0ZSBvciBhbiBpbnB1dCB1cGRhdGUgcmVjb3JkLiBJdCByZXNwZWN0c1xuICogdGhlIGlucHV0IHByaXZhY3kgbW9kZSBvZiB0aGUgZWxlbWVudC5cbiAqIFBFUkZST01BTkNFIE9QVElNSVpBVElPTjogQXNzdW1lcyB0aGF0IHByaXZhY3kgbGV2ZWwgYEhJRERFTmAgaXMgbmV2ZXIgZW5jb3VudGVyZWQgYmVjYXVzZSBvZiBlYXJsaWVyIGNoZWNrcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRJbnB1dFZhbHVlKGVsZW1lbnQ6IEVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWw6IE5vZGVQcml2YWN5TGV2ZWwpIHtcbiAgLypcbiAgIEJST1dTRVIgU1BFQyBOT1RFOiA8aW5wdXQ+LCA8c2VsZWN0PlxuICAgRm9yIHNvbWUgPGlucHV0PiBlbGVtZW50cywgdGhlIGB2YWx1ZWAgaXMgYW4gZXhjZXB0aW9uYWwgcHJvcGVydHkvYXR0cmlidXRlIHRoYXQgaGFzIHRoZVxuICAgdmFsdWUgc3luY2VkIGJldHdlZW4gZWwudmFsdWUgYW5kIGVsLmdldEF0dHJpYnV0ZSgpXG4gICBpbnB1dFt0eXBlPWJ1dHRvbixjaGVja2JveCxoaWRkZW4saW1hZ2UscmFkaW8scmVzZXQsc3VibWl0XVxuICAgKi9cbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZVxuICBjb25zdCB2YWx1ZSA9IChlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KS52YWx1ZVxuXG4gIGlmIChzaG91bGRNYXNrTm9kZShlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsKSkge1xuICAgIGNvbnN0IHR5cGUgPSAoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCkudHlwZVxuICAgIGlmICh0YWdOYW1lID09PSAnSU5QVVQnICYmICh0eXBlID09PSAnYnV0dG9uJyB8fCB0eXBlID09PSAnc3VibWl0JyB8fCB0eXBlID09PSAncmVzZXQnKSkge1xuICAgICAgLy8gT3ZlcnJ1bGUgYE1BU0tgIHByaXZhY3kgbGV2ZWwgZm9yIGJ1dHRvbi1saWtlIGVsZW1lbnQgdmFsdWVzLCBhcyB0aGV5IGFyZSB1c2VkIGR1cmluZyByZXBsYXlcbiAgICAgIC8vIHRvIGRpc3BsYXkgdGhlaXIgbGFiZWwuIFRoZXkgY2FuIHN0aWxsIGJlIGhpZGRlbiB2aWEgdGhlIFwiaGlkZGVuXCIgcHJpdmFjeSBhdHRyaWJ1dGUgb3IgY2xhc3MgbmFtZS5cbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH0gZWxzZSBpZiAoIXZhbHVlIHx8IHRhZ05hbWUgPT09ICdPUFRJT04nKSB7XG4gICAgICAvLyA8T3B0aW9uPiB2YWx1ZSBwcm92aWRlcyBubyBiZW5lZml0XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcmV0dXJuIENFTlNPUkVEX1NUUklOR19NQVJLXG4gIH1cblxuICBpZiAodGFnTmFtZSA9PT0gJ09QVElPTicgfHwgdGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICByZXR1cm4gKGVsZW1lbnQgYXMgSFRNTE9wdGlvbkVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCkudmFsdWVcbiAgfVxuXG4gIGlmICh0YWdOYW1lICE9PSAnSU5QVVQnICYmIHRhZ05hbWUgIT09ICdURVhUQVJFQScpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHJldHVybiB2YWx1ZVxufVxuIiwiaW1wb3J0IHtcbiAgTm9kZVByaXZhY3lMZXZlbCxcbiAgUFJJVkFDWV9BVFRSX05BTUUsXG4gIFBSSVZBQ1lfQVRUUl9WQUxVRV9ISURERU4sXG4gIENFTlNPUkVEX1NUUklOR19NQVJLLFxuICBDRU5TT1JFRF9JTUdfTUFSSyxcbn0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHtcbiAgZ2V0VGV4dENvbnRlbnQsXG4gIHNob3VsZE1hc2tOb2RlLFxuICByZWR1Y2VQcml2YWN5TGV2ZWwsXG4gIGdldE5vZGVTZWxmUHJpdmFjeUxldmVsLFxuICBNQVhfQVRUUklCVVRFX1ZBTFVFX0NIQVJfTEVOR1RILFxufSBmcm9tICcuL3ByaXZhY3knXG5pbXBvcnQge1xuICBTZXJpYWxpemVkTm9kZSxcbiAgU2VyaWFsaXplZE5vZGVXaXRoSWQsXG4gIE5vZGVUeXBlLFxuICBEb2N1bWVudE5vZGUsXG4gIERvY3VtZW50VHlwZU5vZGUsXG4gIEVsZW1lbnROb2RlLFxuICBUZXh0Tm9kZSxcbiAgQ0RhdGFOb2RlLFxufSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHtcbiAgbWFrZVN0eWxlc2hlZXRVcmxzQWJzb2x1dGUsXG4gIGdldFNlcmlhbGl6ZWROb2RlSWQsXG4gIHNldFNlcmlhbGl6ZWROb2RlSWQsXG4gIGdldEVsZW1lbnRJbnB1dFZhbHVlLFxuICBtYWtlU3Jjc2V0VXJsc0Fic29sdXRlLFxuICBtYWtlVXJsQWJzb2x1dGUsXG59IGZyb20gJy4vc2VyaWFsaXphdGlvblV0aWxzJ1xuaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gJy4vdXRpbHMnXG5cbi8vIFRob3NlIHZhbHVlcyBhcmUgdGhlIG9ubHkgb25lIHRoYXQgY2FuIGJlIHVzZWQgd2hlbiBpbmhlcml0aW5nIHByaXZhY3kgbGV2ZWxzIGZyb20gcGFyZW50IHRvXG4vLyBjaGlsZHJlbiBkdXJpbmcgc2VyaWFsaXphdGlvbiwgc2luY2UgSElEREVOIGFuZCBJR05PUkUgc2hvdWxkbid0IHNlcmlhbGl6ZSB0aGVpciBjaGlsZHJlbi4gVGhpc1xuLy8gZW5zdXJlcyB0aGF0IG5vIGNoaWxkcmVuIGFyZSBzZXJpYWxpemVkIHdoZW4gdGhleSBzaG91bGRuJ3QuXG50eXBlIFBhcmVudE5vZGVQcml2YWN5TGV2ZWwgPVxuICB8IHR5cGVvZiBOb2RlUHJpdmFjeUxldmVsLkFMTE9XXG4gIHwgdHlwZW9mIE5vZGVQcml2YWN5TGV2ZWwuTUFTS1xuICB8IHR5cGVvZiBOb2RlUHJpdmFjeUxldmVsLk1BU0tfVVNFUl9JTlBVVFxuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZU9wdGlvbnMge1xuICBkb2N1bWVudDogRG9jdW1lbnRcbiAgc2VyaWFsaXplZE5vZGVJZHM/OiBTZXQ8bnVtYmVyPlxuICBpZ25vcmVXaGl0ZVNwYWNlPzogYm9vbGVhblxuICBwYXJlbnROb2RlUHJpdmFjeUxldmVsOiBQYXJlbnROb2RlUHJpdmFjeUxldmVsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudChcbiAgZG9jdW1lbnQ6IERvY3VtZW50LFxuICBkZWZhdWx0UHJpdmFjeUxldmVsOiBQYXJlbnROb2RlUHJpdmFjeUxldmVsXG4pOiBTZXJpYWxpemVkTm9kZVdpdGhJZCB7XG4gIC8vIFdlIGFyZSBzdXJlIHRoYXQgRG9jdW1lbnRzIGFyZSBuZXZlciBpZ25vcmVkLCBzbyB0aGlzIGZ1bmN0aW9uIG5ldmVyIHJldHVybnMgbnVsbFxuICByZXR1cm4gc2VyaWFsaXplTm9kZVdpdGhJZChkb2N1bWVudCwge1xuICAgIGRvY3VtZW50LFxuICAgIHBhcmVudE5vZGVQcml2YWN5TGV2ZWw6IGRlZmF1bHRQcml2YWN5TGV2ZWwsXG4gIH0pIVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplTm9kZVdpdGhJZChub2RlOiBOb2RlLCBvcHRpb25zOiBTZXJpYWxpemVPcHRpb25zKTogU2VyaWFsaXplZE5vZGVXaXRoSWQgfCBudWxsIHtcbiAgY29uc3Qgc2VyaWFsaXplZE5vZGUgPSBzZXJpYWxpemVOb2RlKG5vZGUsIG9wdGlvbnMpXG4gIGlmICghc2VyaWFsaXplZE5vZGUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gVHJ5IHRvIHJldXNlIHRoZSBwcmV2aW91cyBpZFxuICBjb25zdCBpZCA9IGdldFNlcmlhbGl6ZWROb2RlSWQobm9kZSkgfHwgZ2VuZXJhdGVOZXh0SWQoKVxuICBjb25zdCBzZXJpYWxpemVkTm9kZVdpdGhJZCA9IHNlcmlhbGl6ZWROb2RlIGFzIFNlcmlhbGl6ZWROb2RlV2l0aElkXG4gIHNlcmlhbGl6ZWROb2RlV2l0aElkLmlkID0gaWRcbiAgc2V0U2VyaWFsaXplZE5vZGVJZChub2RlLCBpZClcbiAgaWYgKG9wdGlvbnMuc2VyaWFsaXplZE5vZGVJZHMpIHtcbiAgICBvcHRpb25zLnNlcmlhbGl6ZWROb2RlSWRzLmFkZChpZClcbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZE5vZGVXaXRoSWRcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplTm9kZShub2RlOiBOb2RlLCBvcHRpb25zOiBTZXJpYWxpemVPcHRpb25zKTogU2VyaWFsaXplZE5vZGUgfCB1bmRlZmluZWQge1xuICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICBjYXNlIG5vZGUuRE9DVU1FTlRfTk9ERTpcbiAgICAgIHJldHVybiBzZXJpYWxpemVEb2N1bWVudE5vZGUobm9kZSBhcyBEb2N1bWVudCwgb3B0aW9ucylcbiAgICBjYXNlIG5vZGUuRE9DVU1FTlRfVFlQRV9OT0RFOlxuICAgICAgcmV0dXJuIHNlcmlhbGl6ZURvY3VtZW50VHlwZU5vZGUobm9kZSBhcyBEb2N1bWVudFR5cGUpXG4gICAgY2FzZSBub2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgIHJldHVybiBzZXJpYWxpemVFbGVtZW50Tm9kZShub2RlIGFzIEVsZW1lbnQsIG9wdGlvbnMpXG4gICAgY2FzZSBub2RlLlRFWFRfTk9ERTpcbiAgICAgIHJldHVybiBzZXJpYWxpemVUZXh0Tm9kZShub2RlIGFzIFRleHQsIG9wdGlvbnMpXG4gICAgY2FzZSBub2RlLkNEQVRBX1NFQ1RJT05fTk9ERTpcbiAgICAgIHJldHVybiBzZXJpYWxpemVDRGF0YU5vZGUoKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudE5vZGUoZG9jdW1lbnQ6IERvY3VtZW50LCBvcHRpb25zOiBTZXJpYWxpemVPcHRpb25zKTogRG9jdW1lbnROb2RlIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBOb2RlVHlwZS5Eb2N1bWVudCxcbiAgICBjaGlsZE5vZGVzOiBzZXJpYWxpemVDaGlsZE5vZGVzKGRvY3VtZW50LCBvcHRpb25zKSxcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudFR5cGVOb2RlKGRvY3VtZW50VHlwZTogRG9jdW1lbnRUeXBlKTogRG9jdW1lbnRUeXBlTm9kZSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogTm9kZVR5cGUuRG9jdW1lbnRUeXBlLFxuICAgIG5hbWU6IGRvY3VtZW50VHlwZS5uYW1lLFxuICAgIHB1YmxpY0lkOiBkb2N1bWVudFR5cGUucHVibGljSWQsXG4gICAgc3lzdGVtSWQ6IGRvY3VtZW50VHlwZS5zeXN0ZW1JZCxcbiAgfVxufVxuXG4vKipcbiAqIFNlcmlhbHppbmcgRWxlbWVudCBub2RlcyBpbnZvbHZlcyBjYXB0dXJpbmc6XG4gKiAxLiBIVE1MIEFUVFJJQlVURVM6XG4gKiAyLiBKUyBTVEFURTpcbiAqIC0gc2Nyb2xsIG9mZnNldHNcbiAqIC0gRm9ybSBmaWVsZHMgKGlucHV0IHZhbHVlLCBjaGVja2JveCBjaGVja2VkLCBvdHBpb24gc2VsZWN0aW9uLCByYW5nZSlcbiAqIC0gQ2FudmFzIHN0YXRlLFxuICogLSBNZWRpYSAodmlkZW8vYXVkaW8pIHBsYXkgbW9kZSArIGN1cnJlbnRUaW1lXG4gKiAtIGlmcmFtZSBjb250ZW50c1xuICogLSB3ZWJjb21wb25lbnRzXG4gKiAzLiBDVVNUT00gUFJPUEVSVElFUzpcbiAqIC0gaGVpZ2h0K3dpZHRoIGZvciB3aGVuIGBoaWRkZW5gIHRvIGNvdmVyIHRoZSBlbGVtZW50XG4gKiA0LiBFWENMVURFRCBJTlRFUkFDVElPTiBTVEFURTpcbiAqIC0gZm9jdXMgKHBvc3NpYmxlLCBidXQgbm90IHdvcnRoIHBlcmYgaW1wYWN0KVxuICogLSBob3ZlciAodHJhY2tlZCBvbmx5IHZpYSBtb3VzZSBhY3Rpdml0eSlcbiAqIC0gZnVsbHNjcmVlbiBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVFbGVtZW50Tm9kZShlbGVtZW50OiBFbGVtZW50LCBvcHRpb25zOiBTZXJpYWxpemVPcHRpb25zKTogRWxlbWVudE5vZGUgfCB1bmRlZmluZWQge1xuICBjb25zdCB0YWdOYW1lID0gZ2V0VmFsaWRUYWdOYW1lKGVsZW1lbnQudGFnTmFtZSlcbiAgY29uc3QgaXNTVkcgPSBpc1NWR0VsZW1lbnQoZWxlbWVudCkgfHwgdW5kZWZpbmVkXG5cbiAgLy8gRm9yIHBlcmZvcm1hbmNlIHJlYXNvbiwgd2UgZG9uJ3QgdXNlIGdldE5vZGVQcml2YWN5TGV2ZWwgZGlyZWN0bHk6IHdlIGxldmVyYWdlIHRoZVxuICAvLyBwYXJlbnROb2RlUHJpdmFjeUxldmVsIG9wdGlvbiB0byBhdm9pZCBpdGVyYXRpbmcgb3ZlciBhbGwgcGFyZW50c1xuICBjb25zdCBub2RlUHJpdmFjeUxldmVsID0gcmVkdWNlUHJpdmFjeUxldmVsKGdldE5vZGVTZWxmUHJpdmFjeUxldmVsKGVsZW1lbnQpLCBvcHRpb25zLnBhcmVudE5vZGVQcml2YWN5TGV2ZWwpXG5cbiAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IE5vZGVUeXBlLkVsZW1lbnQsXG4gICAgICB0YWdOYW1lLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICBycl93aWR0aDogYCR7d2lkdGh9cHhgLFxuICAgICAgICBycl9oZWlnaHQ6IGAke2hlaWdodH1weGAsXG4gICAgICAgIFtQUklWQUNZX0FUVFJfTkFNRV06IFBSSVZBQ1lfQVRUUl9WQUxVRV9ISURERU4sXG4gICAgICB9LFxuICAgICAgY2hpbGROb2RlczogW10sXG4gICAgICBpc1NWRyxcbiAgICB9XG4gIH1cblxuICAvLyBJZ25vcmUgRWxlbWVudHMgbGlrZSBTY3JpcHQgYW5kIHNvbWUgTGluaywgTWV0YXNcbiAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSUdOT1JFKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBhdHRyaWJ1dGVzID0gZ2V0QXR0cmlidXRlc0ZvclByaXZhY3lMZXZlbChlbGVtZW50LCBub2RlUHJpdmFjeUxldmVsKVxuXG4gIGxldCBjaGlsZE5vZGVzOiBTZXJpYWxpemVkTm9kZVdpdGhJZFtdID0gW11cbiAgaWYgKGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAvLyBPQkpFQ1QgUE9PTElORyBPUFRJTUlaQVRJT046XG4gICAgLy8gV2Ugc2hvdWxkIG5vdCBjcmVhdGUgYSBuZXcgb2JqZWN0IHN5c3RlbWF0aWNhbGx5IGFzIGl0IGNvdWxkIGltcGFjdCBwZXJmb3JtYW5jZXMuIFRyeSB0byByZXVzZVxuICAgIC8vIHRoZSBzYW1lIG9iamVjdCBhcyBtdWNoIGFzIHBvc3NpYmxlLCBhbmQgY2xvbmUgaXQgb25seSBpZiB3ZSBuZWVkIHRvLlxuICAgIGxldCBjaGlsZE5vZGVzU2VyaWFsaXphdGlvbk9wdGlvbnNcbiAgICBpZiAob3B0aW9ucy5wYXJlbnROb2RlUHJpdmFjeUxldmVsID09PSBub2RlUHJpdmFjeUxldmVsICYmIG9wdGlvbnMuaWdub3JlV2hpdGVTcGFjZSA9PT0gKHRhZ05hbWUgPT09ICdoZWFkJykpIHtcbiAgICAgIGNoaWxkTm9kZXNTZXJpYWxpemF0aW9uT3B0aW9ucyA9IG9wdGlvbnNcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGROb2Rlc1NlcmlhbGl6YXRpb25PcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBwYXJlbnROb2RlUHJpdmFjeUxldmVsOiBub2RlUHJpdmFjeUxldmVsLFxuICAgICAgICBpZ25vcmVXaGl0ZVNwYWNlOiB0YWdOYW1lID09PSAnaGVhZCcsXG4gICAgICB9XG4gICAgfVxuICAgIGNoaWxkTm9kZXMgPSBzZXJpYWxpemVDaGlsZE5vZGVzKGVsZW1lbnQsIGNoaWxkTm9kZXNTZXJpYWxpemF0aW9uT3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogTm9kZVR5cGUuRWxlbWVudCxcbiAgICB0YWdOYW1lLFxuICAgIGF0dHJpYnV0ZXMsXG4gICAgY2hpbGROb2RlcyxcbiAgICBpc1NWRyxcbiAgfVxufVxuXG4vKipcbiAqIFRPRE86IFByZXNlcnZlIENTUyBlbGVtZW50IG9yZGVyLCBhbmQgcmVjb3JkIHRoZSBwcmVzZW5jZSBvZiB0aGUgdGFnLCBqdXN0IGRvbid0IHJlbmRlclxuICogV2UgZG9uJ3QgbmVlZCB0aGlzIGxvZ2ljIG9uIHRoZSByZWNvcmRlciBzaWRlLlxuICogRm9yIHNlY3VyaXR5IHJlbGF0ZWQgbWV0YSdzLCBjdXN0b21lciBjYW4gbWFzayB0aGVtbWFudWFsbHkgZ2l2ZW4gdGhleVxuICogYXJlIGVhc3kgdG8gaWRlbnRpZnkgaW4gdGhlIEhFQUQgdGFnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkSWdub3JlRWxlbWVudChlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnU0NSSVBUJykge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0xJTksnKSB7XG4gICAgY29uc3QgcmVsQXR0cmlidXRlID0gZ2V0TG93ZXJDYXNlQXR0cmlidXRlKCdyZWwnKVxuICAgIHJldHVybiAoXG4gICAgICAvLyBTY3JpcHRzXG4gICAgICAocmVsQXR0cmlidXRlID09PSAncHJlbG9hZCcgJiYgZ2V0TG93ZXJDYXNlQXR0cmlidXRlKCdhcycpID09PSAnc2NyaXB0JykgfHxcbiAgICAgIC8vIEZhdmljb25zXG4gICAgICByZWxBdHRyaWJ1dGUgPT09ICdzaG9ydGN1dCBpY29uJyB8fFxuICAgICAgcmVsQXR0cmlidXRlID09PSAnaWNvbidcbiAgICApXG4gIH1cblxuICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ01FVEEnKSB7XG4gICAgY29uc3QgbmFtZUF0dHJpYnV0ZSA9IGdldExvd2VyQ2FzZUF0dHJpYnV0ZSgnbmFtZScpXG4gICAgY29uc3QgcmVsQXR0cmlidXRlID0gZ2V0TG93ZXJDYXNlQXR0cmlidXRlKCdyZWwnKVxuICAgIGNvbnN0IHByb3BlcnR5QXR0cmlidXRlID0gZ2V0TG93ZXJDYXNlQXR0cmlidXRlKCdwcm9wZXJ0eScpXG4gICAgcmV0dXJuIChcbiAgICAgIC8vIEZhdmljb25zXG4gICAgICAvXm1zYXBwbGljYXRpb24tdGlsZShpbWFnZXxjb2xvcikkLy50ZXN0KG5hbWVBdHRyaWJ1dGUpIHx8XG4gICAgICBuYW1lQXR0cmlidXRlID09PSAnYXBwbGljYXRpb24tbmFtZScgfHxcbiAgICAgIHJlbEF0dHJpYnV0ZSA9PT0gJ2ljb24nIHx8XG4gICAgICByZWxBdHRyaWJ1dGUgPT09ICdhcHBsZS10b3VjaC1pY29uJyB8fFxuICAgICAgcmVsQXR0cmlidXRlID09PSAnc2hvcnRjdXQgaWNvbicgfHxcbiAgICAgIC8vIERlc2NyaXB0aW9uXG4gICAgICBuYW1lQXR0cmlidXRlID09PSAna2V5d29yZHMnIHx8XG4gICAgICBuYW1lQXR0cmlidXRlID09PSAnZGVzY3JpcHRpb24nIHx8XG4gICAgICAvLyBTb2NpYWxcbiAgICAgIC9eKG9nfHR3aXR0ZXJ8ZmIpOi8udGVzdChwcm9wZXJ0eUF0dHJpYnV0ZSkgfHxcbiAgICAgIC9eKG9nfHR3aXR0ZXIpOi8udGVzdChuYW1lQXR0cmlidXRlKSB8fFxuICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3BpbnRlcmVzdCcgfHxcbiAgICAgIC8vIFJvYm90c1xuICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3JvYm90cycgfHxcbiAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdnb29nbGVib3QnIHx8XG4gICAgICBuYW1lQXR0cmlidXRlID09PSAnYmluZ2JvdCcgfHxcbiAgICAgIC8vIEh0dHAgaGVhZGVycy4gRXg6IFgtVUEtQ29tcGF0aWJsZSwgQ29udGVudC1UeXBlLCBDb250ZW50LUxhbmd1YWdlLCBjYWNoZS1jb250cm9sLFxuICAgICAgLy8gWC1UcmFuc2xhdGVkLUJ5XG4gICAgICBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnaHR0cC1lcXVpdicpIHx8XG4gICAgICAvLyBBdXRob3JzaGlwXG4gICAgICBuYW1lQXR0cmlidXRlID09PSAnYXV0aG9yJyB8fFxuICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ2dlbmVyYXRvcicgfHxcbiAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdmcmFtZXdvcmsnIHx8XG4gICAgICBuYW1lQXR0cmlidXRlID09PSAncHVibGlzaGVyJyB8fFxuICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3Byb2dpZCcgfHxcbiAgICAgIC9eYXJ0aWNsZTovLnRlc3QocHJvcGVydHlBdHRyaWJ1dGUpIHx8XG4gICAgICAvXnByb2R1Y3Q6Ly50ZXN0KHByb3BlcnR5QXR0cmlidXRlKSB8fFxuICAgICAgLy8gVmVyaWZpY2F0aW9uXG4gICAgICBuYW1lQXR0cmlidXRlID09PSAnZ29vZ2xlLXNpdGUtdmVyaWZpY2F0aW9uJyB8fFxuICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3lhbmRleC12ZXJpZmljYXRpb24nIHx8XG4gICAgICBuYW1lQXR0cmlidXRlID09PSAnY3NyZi10b2tlbicgfHxcbiAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdwOmRvbWFpbl92ZXJpZnknIHx8XG4gICAgICBuYW1lQXR0cmlidXRlID09PSAndmVyaWZ5LXYxJyB8fFxuICAgICAgbmFtZUF0dHJpYnV0ZSA9PT0gJ3ZlcmlmaWNhdGlvbicgfHxcbiAgICAgIG5hbWVBdHRyaWJ1dGUgPT09ICdzaG9waWZ5LWNoZWNrb3V0LWFwaS10b2tlbidcbiAgICApXG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb3dlckNhc2VBdHRyaWJ1dGUobmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIChlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKSB8fCAnJykudG9Mb3dlckNhc2UoKVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogVGV4dCBOb2RlcyBhcmUgZGVwZW5kYW50IG9uIEVsZW1lbnQgbm9kZXNcbiAqIFByaXZhY3kgbGV2ZWxzIGFyZSBzZXQgb24gZWxlbWVudHMgc28gd2UgY2hlY2sgdGhlIHBhcmVudEVsZW1lbnQgb2YgYSB0ZXh0IG5vZGVcbiAqIGZvciBwcml2YWN5IGxldmVsLlxuICovXG5mdW5jdGlvbiBzZXJpYWxpemVUZXh0Tm9kZSh0ZXh0Tm9kZTogVGV4dCwgb3B0aW9uczogU2VyaWFsaXplT3B0aW9ucyk6IFRleHROb2RlIHwgdW5kZWZpbmVkIHtcbiAgLy8gVGhlIHBhcmVudCBub2RlIG1heSBub3QgYmUgYSBodG1sIGVsZW1lbnQgd2hpY2ggaGFzIGEgdGFnTmFtZSBhdHRyaWJ1dGUuXG4gIC8vIFNvIGp1c3QgbGV0IGl0IGJlIHVuZGVmaW5lZCB3aGljaCBpcyBvayBpbiB0aGlzIHVzZSBjYXNlLlxuICBjb25zdCBwYXJlbnRUYWdOYW1lID0gdGV4dE5vZGUucGFyZW50RWxlbWVudD8udGFnTmFtZVxuICBjb25zdCB0ZXh0Q29udGVudCA9IGdldFRleHRDb250ZW50KHRleHROb2RlLCBvcHRpb25zLmlnbm9yZVdoaXRlU3BhY2UgfHwgZmFsc2UsIG9wdGlvbnMucGFyZW50Tm9kZVByaXZhY3lMZXZlbClcbiAgaWYgKCF0ZXh0Q29udGVudCkge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiB7XG4gICAgdHlwZTogTm9kZVR5cGUuVGV4dCxcbiAgICB0ZXh0Q29udGVudCxcbiAgICBpc1N0eWxlOiBwYXJlbnRUYWdOYW1lID09PSAnU1RZTEUnID8gdHJ1ZSA6IHVuZGVmaW5lZCxcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVDRGF0YU5vZGUoKTogQ0RhdGFOb2RlIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBOb2RlVHlwZS5DREFUQSxcbiAgICB0ZXh0Q29udGVudDogJycsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUNoaWxkTm9kZXMobm9kZTogTm9kZSwgb3B0aW9uczogU2VyaWFsaXplT3B0aW9ucyk6IFNlcmlhbGl6ZWROb2RlV2l0aElkW10ge1xuICBjb25zdCByZXN1bHQ6IFNlcmlhbGl6ZWROb2RlV2l0aElkW10gPSBbXVxuXG4gIGZvckVhY2gobm9kZS5jaGlsZE5vZGVzLCAoY2hpbGROb2RlKSA9PiB7XG4gICAgY29uc3Qgc2VyaWFsaXplZENoaWxkTm9kZSA9IHNlcmlhbGl6ZU5vZGVXaXRoSWQoY2hpbGROb2RlLCBvcHRpb25zKVxuICAgIGlmIChzZXJpYWxpemVkQ2hpbGROb2RlKSB7XG4gICAgICByZXN1bHQucHVzaChzZXJpYWxpemVkQ2hpbGROb2RlKVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVBdHRyaWJ1dGUoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIG5vZGVQcml2YWN5TGV2ZWw6IE5vZGVQcml2YWN5TGV2ZWwsXG4gIGF0dHJpYnV0ZU5hbWU6IHN0cmluZ1xuKTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGwge1xuICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5ISURERU4pIHtcbiAgICAvLyBkdXAgY29uZGl0aW9uIGZvciBkaXJlY3QgYWNjZXNzIGNhc2VcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSlcbiAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuTUFTSykge1xuICAgIGNvbnN0IHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWVcblxuICAgIHN3aXRjaCAoYXR0cmlidXRlTmFtZSkge1xuICAgICAgLy8gTWFzayBBdHRyaWJ1dGUgdGV4dCBjb250ZW50XG4gICAgICBjYXNlICd0aXRsZSc6XG4gICAgICBjYXNlICdhbHQnOlxuICAgICAgICByZXR1cm4gQ0VOU09SRURfU1RSSU5HX01BUktcbiAgICB9XG4gICAgLy8gbWFzayBpbWFnZSBVUkxzXG4gICAgaWYgKHRhZ05hbWUgPT09ICdJTUcnIHx8IHRhZ05hbWUgPT09ICdTT1VSQ0UnKSB7XG4gICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PT0gJ3NyYycgfHwgYXR0cmlidXRlTmFtZSA9PT0gJ3NyY3NldCcpIHtcbiAgICAgICAgcmV0dXJuIENFTlNPUkVEX0lNR19NQVJLXG4gICAgICB9XG4gICAgfVxuICAgIC8vIG1hc2sgPGE+IFVSTHNcbiAgICBpZiAodGFnTmFtZSA9PT0gJ0EnICYmIGF0dHJpYnV0ZU5hbWUgPT09ICdocmVmJykge1xuICAgICAgcmV0dXJuIENFTlNPUkVEX1NUUklOR19NQVJLXG4gICAgfVxuICAgIC8vIG1hc2sgZGF0YS0qIGF0dHJpYnV0ZXNcbiAgICBpZiAoYXR0cmlidXRlVmFsdWUgJiYgYXR0cmlidXRlTmFtZS5pbmRleE9mKCdkYXRhLScpID09PSAwICYmIGF0dHJpYnV0ZU5hbWUgIT09IFBSSVZBQ1lfQVRUUl9OQU1FKSB7XG4gICAgICAvLyBFeGNlcHRpb246IGl0J3Mgc2FmZSB0byByZXZlYWwgdGhlIGAke1BSSVZBQ1lfQVRUUl9OQU1FfWAgYXR0clxuICAgICAgcmV0dXJuIENFTlNPUkVEX1NUUklOR19NQVJLXG4gICAgfVxuICB9XG5cbiAgaWYgKCFhdHRyaWJ1dGVWYWx1ZSB8fCB0eXBlb2YgYXR0cmlidXRlVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlXG4gIH1cblxuICAvLyBNaW5pbXVtIEZpeCBmb3IgY3VzdG9tZXIuXG4gIGlmIChhdHRyaWJ1dGVWYWx1ZS5sZW5ndGggPiBNQVhfQVRUUklCVVRFX1ZBTFVFX0NIQVJfTEVOR1RIICYmIGF0dHJpYnV0ZVZhbHVlLnNsaWNlKDAsIDUpID09PSAnZGF0YTonKSB7XG4gICAgcmV0dXJuICdkYXRhOnRydW5jYXRlZCdcbiAgfVxuXG4gIC8vIFJlYnVpbGQgYWJzb2x1dGUgVVJMcyBmcm9tIHJlbGF0aXZlICh3aXRob3V0IHVzaW5nIDxiYXNlPiB0YWcpXG4gIGNvbnN0IGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudFxuICBzd2l0Y2ggKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBjYXNlICdzcmMnOlxuICAgIGNhc2UgJ2hyZWYnOlxuICAgICAgcmV0dXJuIG1ha2VVcmxBYnNvbHV0ZShhdHRyaWJ1dGVWYWx1ZSwgZG9jLmxvY2F0aW9uPy5ocmVmKVxuICAgIGNhc2UgJ3NyY3NldCc6XG4gICAgICByZXR1cm4gbWFrZVNyY3NldFVybHNBYnNvbHV0ZShhdHRyaWJ1dGVWYWx1ZSwgZG9jLmxvY2F0aW9uPy5ocmVmKVxuICAgIGNhc2UgJ3N0eWxlJzpcbiAgICAgIHJldHVybiBtYWtlU3R5bGVzaGVldFVybHNBYnNvbHV0ZShhdHRyaWJ1dGVWYWx1ZSwgZG9jLmxvY2F0aW9uPy5ocmVmKVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVcbiAgfVxufVxuXG5sZXQgX25leHRJZCA9IDFcbmZ1bmN0aW9uIGdlbmVyYXRlTmV4dElkKCk6IG51bWJlciB7XG4gIHJldHVybiBfbmV4dElkKytcbn1cblxuY29uc3QgVEFHX05BTUVfUkVHRVggPSAvW15hLXoxLTYtX10vXG5mdW5jdGlvbiBnZXRWYWxpZFRhZ05hbWUodGFnTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcHJvY2Vzc2VkVGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKS50cmltKClcblxuICBpZiAoVEFHX05BTUVfUkVHRVgudGVzdChwcm9jZXNzZWRUYWdOYW1lKSkge1xuICAgIC8vIGlmIHRoZSB0YWcgbmFtZSBpcyBvZGQgYW5kIHdlIGNhbm5vdCBleHRyYWN0XG4gICAgLy8gYW55dGhpbmcgZnJvbSB0aGUgc3RyaW5nLCB0aGVuIHdlIHJldHVybiBhXG4gICAgLy8gZ2VuZXJpYyBkaXZcbiAgICByZXR1cm4gJ2RpdidcbiAgfVxuXG4gIHJldHVybiBwcm9jZXNzZWRUYWdOYW1lXG59XG5cbmZ1bmN0aW9uIGdldENzc1J1bGVzU3RyaW5nKHM6IENTU1N0eWxlU2hlZXQpOiBzdHJpbmcgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBydWxlcyA9IHMucnVsZXMgfHwgcy5jc3NSdWxlc1xuICAgIHJldHVybiBydWxlcyA/IEFycmF5LmZyb20ocnVsZXMpLm1hcChnZXRDc3NSdWxlU3RyaW5nKS5qb2luKCcnKSA6IG51bGxcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldENzc1J1bGVTdHJpbmcocnVsZTogQ1NTUnVsZSk6IHN0cmluZyB7XG4gIHJldHVybiBpc0NTU0ltcG9ydFJ1bGUocnVsZSkgPyBnZXRDc3NSdWxlc1N0cmluZyhydWxlLnN0eWxlU2hlZXQpIHx8ICcnIDogcnVsZS5jc3NUZXh0XG59XG5cbmZ1bmN0aW9uIGlzQ1NTSW1wb3J0UnVsZShydWxlOiBDU1NSdWxlKTogcnVsZSBpcyBDU1NJbXBvcnRSdWxlIHtcbiAgcmV0dXJuICdzdHlsZVNoZWV0JyBpbiBydWxlXG59XG5cbmZ1bmN0aW9uIGlzU1ZHRWxlbWVudChlbDogRWxlbWVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ3N2ZycgfHwgZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50XG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZXNGb3JQcml2YWN5TGV2ZWwoXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIG5vZGVQcml2YWN5TGV2ZWw6IE5vZGVQcml2YWN5TGV2ZWxcbik6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4+IHtcbiAgaWYgKG5vZGVQcml2YWN5TGV2ZWwgPT09IE5vZGVQcml2YWN5TGV2ZWwuSElEREVOKSB7XG4gICAgcmV0dXJuIHt9XG4gIH1cbiAgY29uc3Qgc2FmZUF0dHJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiA9IHt9XG4gIGNvbnN0IHRhZ05hbWUgPSBnZXRWYWxpZFRhZ05hbWUoZWxlbWVudC50YWdOYW1lKVxuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnRcblxuICB0eXBlIEh0bWxBdHRyaWJ1dGUgPSB7IG5hbWU6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gZWxlbWVudC5hdHRyaWJ1dGVzLml0ZW0oaSkgYXMgSHRtbEF0dHJpYnV0ZVxuICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGUubmFtZVxuICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gc2VyaWFsaXplQXR0cmlidXRlKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwsIGF0dHJpYnV0ZU5hbWUpXG4gICAgaWYgKGF0dHJpYnV0ZVZhbHVlICE9PSBudWxsKSB7XG4gICAgICBzYWZlQXR0cnNbYXR0cmlidXRlTmFtZV0gPSBhdHRyaWJ1dGVWYWx1ZVxuICAgIH1cbiAgfVxuXG4gIGlmIChcbiAgICAoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSAmJlxuICAgICh0YWdOYW1lID09PSAndGV4dGFyZWEnIHx8IHRhZ05hbWUgPT09ICdzZWxlY3QnIHx8IHRhZ05hbWUgPT09ICdvcHRpb24nIHx8IHRhZ05hbWUgPT09ICdpbnB1dCcpXG4gICkge1xuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IGdldEVsZW1lbnRJbnB1dFZhbHVlKGVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwpXG4gICAgaWYgKGZvcm1WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzYWZlQXR0cnMudmFsdWUgPSBmb3JtVmFsdWVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogPE9wdGlvbj4gY2FuIGJlIHNlbGVjdGVkLCB3aGljaCBvY2N1cnMgaWYgaXRzIGB2YWx1ZWAgbWF0Y2hlcyBhbmNlc3RvciBgPFNlbGVjdD4udmFsdWVgXG4gICAqL1xuICBpZiAodGFnTmFtZSA9PT0gJ29wdGlvbicgJiYgbm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5BTExPVykge1xuICAgIC8vIEZvciBwcml2YWN5PWBNQVNLYCwgYWxsIHRoZSB2YWx1ZXMgd291bGQgYmUgdGhlIHNhbWUsIHNvIHNraXAuXG4gICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTE9wdGlvbkVsZW1lbnRcbiAgICBpZiAob3B0aW9uRWxlbWVudC5zZWxlY3RlZCkge1xuICAgICAgc2FmZUF0dHJzLnNlbGVjdGVkID0gb3B0aW9uRWxlbWVudC5zZWxlY3RlZFxuICAgIH1cbiAgfVxuXG4gIC8vIHJlbW90ZSBjc3NcbiAgaWYgKHRhZ05hbWUgPT09ICdsaW5rJykge1xuICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBBcnJheS5mcm9tKGRvYy5zdHlsZVNoZWV0cykuZmluZCgocykgPT4gcy5ocmVmID09PSAoZWxlbWVudCBhcyBIVE1MTGlua0VsZW1lbnQpLmhyZWYpXG4gICAgY29uc3QgY3NzVGV4dCA9IGdldENzc1J1bGVzU3RyaW5nKHN0eWxlc2hlZXQgYXMgQ1NTU3R5bGVTaGVldClcbiAgICBpZiAoY3NzVGV4dCAmJiBzdHlsZXNoZWV0KSB7XG4gICAgICBkZWxldGUgc2FmZUF0dHJzLnJlbFxuICAgICAgZGVsZXRlIHNhZmVBdHRycy5ocmVmXG4gICAgICBzYWZlQXR0cnMuX2Nzc1RleHQgPSBtYWtlU3R5bGVzaGVldFVybHNBYnNvbHV0ZShjc3NUZXh0LCBzdHlsZXNoZWV0LmhyZWYhKVxuICAgIH1cbiAgfVxuXG4gIC8vIGR5bmFtaWMgc3R5bGVzaGVldFxuICBpZiAoXG4gICAgdGFnTmFtZSA9PT0gJ3N0eWxlJyAmJlxuICAgIChlbGVtZW50IGFzIEhUTUxTdHlsZUVsZW1lbnQpLnNoZWV0ICYmXG4gICAgLy8gVE9ETzogQ3VycmVudGx5IHdlIG9ubHkgdHJ5IHRvIGdldCBkeW5hbWljIHN0eWxlc2hlZXQgd2hlbiBpdCBpcyBhbiBlbXB0eSBzdHlsZSBlbGVtZW50XG4gICAgISgoZWxlbWVudCBhcyBIVE1MU3R5bGVFbGVtZW50KS5pbm5lclRleHQgfHwgZWxlbWVudC50ZXh0Q29udGVudCB8fCAnJykudHJpbSgpLmxlbmd0aFxuICApIHtcbiAgICBjb25zdCBjc3NUZXh0ID0gZ2V0Q3NzUnVsZXNTdHJpbmcoKGVsZW1lbnQgYXMgSFRNTFN0eWxlRWxlbWVudCkuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldClcbiAgICBpZiAoY3NzVGV4dCkge1xuICAgICAgc2FmZUF0dHJzLl9jc3NUZXh0ID0gbWFrZVN0eWxlc2hlZXRVcmxzQWJzb2x1dGUoY3NzVGV4dCwgbG9jYXRpb24uaHJlZilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRm9ybXM6IGlucHV0W3R5cGU9Y2hlY2tib3gscmFkaW9dXG4gICAqIFRoZSBgY2hlY2tlZGAgcHJvcGVydHkgZm9yIDxpbnB1dD4gaXMgYSBsaXR0bGUgYml0IHNwZWNpYWw6XG4gICAqIDEuIGVsLmNoZWNrZWQgaXMgYSBzZXR0ZXIgdGhhdCByZXR1cm5zIGlmIHRydXRoeS5cbiAgICogMi4gZ2V0QXR0cmlidXRlIHJldHVybnMgdGhlIHN0cmluZyB2YWx1ZVxuICAgKiBnZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSBkb2VzIG5vdCBzeW5jIHdpdGggYEVsZW1lbnQuY2hlY2tlZGAsIHNvIHVzZSBKUyBwcm9wZXJ0eVxuICAgKiBOT1RFOiBgY2hlY2tlZGAgcHJvcGVydHkgZXhpc3RzIG9uIGBIVE1MSW5wdXRFbGVtZW50YC4gRm9yIHNlcmlhbGl6ZXIgYXNzdW1wdGlvbnMsIHdlIGNoZWNrIGZvciB0eXBlPXJhZGlvfGNoZWNrLlxuICAgKi9cbiAgY29uc3QgaW5wdXRFbGVtZW50ID0gZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50XG4gIGlmICh0YWdOYW1lID09PSAnaW5wdXQnICYmIChpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ3JhZGlvJyB8fCBpbnB1dEVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JykpIHtcbiAgICBpZiAobm9kZVByaXZhY3lMZXZlbCA9PT0gTm9kZVByaXZhY3lMZXZlbC5BTExPVykge1xuICAgICAgc2FmZUF0dHJzLmNoZWNrZWQgPSAhIWlucHV0RWxlbWVudC5jaGVja2VkXG4gICAgfSBlbHNlIGlmIChzaG91bGRNYXNrTm9kZShpbnB1dEVsZW1lbnQsIG5vZGVQcml2YWN5TGV2ZWwpKSB7XG4gICAgICBzYWZlQXR0cnMuY2hlY2tlZCA9IENFTlNPUkVEX1NUUklOR19NQVJLXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZSB0aGUgbWVkaWEgcGxheWJhY2sgc3RhdGVcbiAgICovXG4gIGlmICh0YWdOYW1lID09PSAnYXVkaW8nIHx8IHRhZ05hbWUgPT09ICd2aWRlbycpIHtcbiAgICBjb25zdCBtZWRpYUVsZW1lbnQgPSBlbGVtZW50IGFzIEhUTUxNZWRpYUVsZW1lbnRcbiAgICBzYWZlQXR0cnMucnJfbWVkaWFTdGF0ZSA9IG1lZGlhRWxlbWVudC5wYXVzZWQgPyAncGF1c2VkJyA6ICdwbGF5ZWQnXG4gIH1cblxuICAvKipcbiAgICogU2VyaWFsaXplIHRoZSBzY3JvbGwgc3RhdGUgZm9yIGVhY2ggZWxlbWVudFxuICAgKi9cbiAgaWYgKGVsZW1lbnQuc2Nyb2xsTGVmdCkge1xuICAgIHNhZmVBdHRycy5ycl9zY3JvbGxMZWZ0ID0gTWF0aC5yb3VuZChlbGVtZW50LnNjcm9sbExlZnQpXG4gIH1cbiAgaWYgKGVsZW1lbnQuc2Nyb2xsVG9wKSB7XG4gICAgc2FmZUF0dHJzLnJyX3Njcm9sbFRvcCA9IE1hdGgucm91bmQoZWxlbWVudC5zY3JvbGxUb3ApXG4gIH1cblxuICByZXR1cm4gc2FmZUF0dHJzXG59XG4iLCJpbXBvcnQgeyBEZWZhdWx0UHJpdmFjeUxldmVsIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgRm9jdXNSZWNvcmQsIFJhd1JlY29yZCwgVmlzdWFsVmlld3BvcnRSZWNvcmQgfSBmcm9tICcuLi8uLi90eXBlcydcbmltcG9ydCB7IE11dGF0aW9uQ29udHJvbGxlciB9IGZyb20gJy4vbXV0YXRpb25PYnNlcnZlcidcblxuZXhwb3J0IGVudW0gSW5jcmVtZW50YWxTb3VyY2Uge1xuICBNdXRhdGlvbiA9IDAsXG4gIE1vdXNlTW92ZSA9IDEsXG4gIE1vdXNlSW50ZXJhY3Rpb24gPSAyLFxuICBTY3JvbGwgPSAzLFxuICBWaWV3cG9ydFJlc2l6ZSA9IDQsXG4gIElucHV0ID0gNSxcbiAgVG91Y2hNb3ZlID0gNixcbiAgTWVkaWFJbnRlcmFjdGlvbiA9IDcsXG4gIFN0eWxlU2hlZXRSdWxlID0gOCxcbiAgLy8gQ2FudmFzTXV0YXRpb24gPSA5LFxuICAvLyBGb250ID0gMTAsXG59XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uRGF0YSA9IHtcbiAgc291cmNlOiBJbmNyZW1lbnRhbFNvdXJjZS5NdXRhdGlvblxufSAmIE11dGF0aW9uUGF5bG9hZFxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdXNlbW92ZURhdGEge1xuICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLk1vdXNlTW92ZSB8IEluY3JlbWVudGFsU291cmNlLlRvdWNoTW92ZVxuICBwb3NpdGlvbnM6IE1vdXNlUG9zaXRpb25bXVxufVxuXG5leHBvcnQgdHlwZSBNb3VzZUludGVyYWN0aW9uRGF0YSA9IHtcbiAgc291cmNlOiBJbmNyZW1lbnRhbFNvdXJjZS5Nb3VzZUludGVyYWN0aW9uXG59ICYgTW91c2VJbnRlcmFjdGlvblBhcmFtXG5cbmV4cG9ydCB0eXBlIFNjcm9sbERhdGEgPSB7XG4gIHNvdXJjZTogSW5jcmVtZW50YWxTb3VyY2UuU2Nyb2xsXG59ICYgU2Nyb2xsUG9zaXRpb25cblxuZXhwb3J0IHR5cGUgVmlld3BvcnRSZXNpemVEYXRhID0ge1xuICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLlZpZXdwb3J0UmVzaXplXG59ICYgVmlld3BvcnRSZXNpemVEaW1lbnRpb25cblxuZXhwb3J0IHR5cGUgSW5wdXREYXRhID0ge1xuICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLklucHV0XG4gIGlkOiBudW1iZXJcbn0gJiBJbnB1dFN0YXRlXG5cbmV4cG9ydCB0eXBlIE1lZGlhSW50ZXJhY3Rpb25EYXRhID0ge1xuICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLk1lZGlhSW50ZXJhY3Rpb25cbn0gJiBNZWRpYUludGVyYWN0aW9uUGFyYW1cblxuZXhwb3J0IHR5cGUgU3R5bGVTaGVldFJ1bGVEYXRhID0ge1xuICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLlN0eWxlU2hlZXRSdWxlXG59ICYgU3R5bGVTaGVldFJ1bGVQYXJhbVxuXG5leHBvcnQgdHlwZSBJbmNyZW1lbnRhbERhdGEgPVxuICB8IE11dGF0aW9uRGF0YVxuICB8IE1vdXNlbW92ZURhdGFcbiAgfCBNb3VzZUludGVyYWN0aW9uRGF0YVxuICB8IFNjcm9sbERhdGFcbiAgfCBWaWV3cG9ydFJlc2l6ZURhdGFcbiAgfCBJbnB1dERhdGFcbiAgfCBNZWRpYUludGVyYWN0aW9uRGF0YVxuICB8IFN0eWxlU2hlZXRSdWxlRGF0YVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZE9wdGlvbnMge1xuICBlbWl0PzogKHJlY29yZDogUmF3UmVjb3JkKSA9PiB2b2lkXG4gIGRlZmF1bHRQcml2YWN5TGV2ZWw6IERlZmF1bHRQcml2YWN5TGV2ZWxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWNvcmRBUEkge1xuICBzdG9wOiBMaXN0ZW5lckhhbmRsZXJcbiAgdGFrZUZ1bGxTbmFwc2hvdDogKCkgPT4gdm9pZFxuICBmbHVzaE11dGF0aW9uczogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmVyUGFyYW0ge1xuICBkZWZhdWx0UHJpdmFjeUxldmVsOiBEZWZhdWx0UHJpdmFjeUxldmVsXG4gIG11dGF0aW9uQ29udHJvbGxlcjogTXV0YXRpb25Db250cm9sbGVyXG4gIG11dGF0aW9uQ2I6IE11dGF0aW9uQ2FsbEJhY2tcbiAgbW91c2Vtb3ZlQ2I6IE1vdXNlbW92ZUNhbGxCYWNrXG4gIG1vdXNlSW50ZXJhY3Rpb25DYjogTW91c2VJbnRlcmFjdGlvbkNhbGxCYWNrXG4gIHNjcm9sbENiOiBTY3JvbGxDYWxsYmFja1xuICB2aWV3cG9ydFJlc2l6ZUNiOiBWaWV3cG9ydFJlc2l6ZUNhbGxiYWNrXG4gIHZpc3VhbFZpZXdwb3J0UmVzaXplQ2I6IFZpc3VhbFZpZXdwb3J0UmVzaXplQ2FsbGJhY2tcbiAgaW5wdXRDYjogSW5wdXRDYWxsYmFja1xuICBtZWRpYUludGVyYWN0aW9uQ2I6IE1lZGlhSW50ZXJhY3Rpb25DYWxsYmFja1xuICBzdHlsZVNoZWV0UnVsZUNiOiBTdHlsZVNoZWV0UnVsZUNhbGxiYWNrXG4gIGZvY3VzQ2I6IEZvY3VzQ2FsbGJhY2tcbn1cblxuLy8gaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNpbnRlcmZhY2UtbXV0YXRpb25yZWNvcmRcbmV4cG9ydCBpbnRlcmZhY2UgUnVtQ2hhcmFjdGVyRGF0YU11dGF0aW9uUmVjb3JkIHtcbiAgdHlwZTogJ2NoYXJhY3RlckRhdGEnXG4gIHRhcmdldDogTm9kZVxuICBvbGRWYWx1ZTogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bUF0dHJpYnV0ZXNNdXRhdGlvblJlY29yZCB7XG4gIHR5cGU6ICdhdHRyaWJ1dGVzJ1xuICB0YXJnZXQ6IEVsZW1lbnRcbiAgb2xkVmFsdWU6IHN0cmluZyB8IG51bGxcbiAgYXR0cmlidXRlTmFtZTogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJ1bUNoaWxkTGlzdE11dGF0aW9uUmVjb3JkIHtcbiAgdHlwZTogJ2NoaWxkTGlzdCdcbiAgdGFyZ2V0OiBOb2RlXG4gIGFkZGVkTm9kZXM6IE5vZGVMaXN0XG4gIHJlbW92ZWROb2RlczogTm9kZUxpc3Rcbn1cblxuZXhwb3J0IHR5cGUgUnVtTXV0YXRpb25SZWNvcmQgPVxuICB8IFJ1bUNoYXJhY3RlckRhdGFNdXRhdGlvblJlY29yZFxuICB8IFJ1bUF0dHJpYnV0ZXNNdXRhdGlvblJlY29yZFxuICB8IFJ1bUNoaWxkTGlzdE11dGF0aW9uUmVjb3JkXG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dEN1cnNvciB7XG4gIG5vZGU6IE5vZGVcbiAgdmFsdWU6IHN0cmluZyB8IG51bGxcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dE11dGF0aW9uIHtcbiAgaWQ6IG51bWJlclxuICB2YWx1ZTogc3RyaW5nIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZUN1cnNvciB7XG4gIG5vZGU6IE5vZGVcbiAgYXR0cmlidXRlczoge1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bGxcbiAgfVxufVxuZXhwb3J0IGludGVyZmFjZSBBdHRyaWJ1dGVNdXRhdGlvbiB7XG4gIGlkOiBudW1iZXJcbiAgYXR0cmlidXRlczoge1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bGxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbW92ZWROb2RlTXV0YXRpb24ge1xuICBwYXJlbnRJZDogbnVtYmVyXG4gIGlkOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRlZE5vZGVNdXRhdGlvbiB7XG4gIHBhcmVudElkOiBudW1iZXJcbiAgLy8gTmV3bHkgcmVjb3JkZWQgbXV0YXRpb25zIHdpbGwgbm90IGhhdmUgcHJldmlvdXNJZCBhbnkgbW9yZSwganVzdCBmb3IgY29tcGF0aWJpbGl0eVxuICBwcmV2aW91c0lkPzogbnVtYmVyIHwgbnVsbFxuICBuZXh0SWQ6IG51bWJlciB8IG51bGxcbiAgbm9kZTogU2VyaWFsaXplZE5vZGVXaXRoSWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvblBheWxvYWQge1xuICB0ZXh0czogVGV4dE11dGF0aW9uW11cbiAgYXR0cmlidXRlczogQXR0cmlidXRlTXV0YXRpb25bXVxuICByZW1vdmVzOiBSZW1vdmVkTm9kZU11dGF0aW9uW11cbiAgYWRkczogQWRkZWROb2RlTXV0YXRpb25bXVxufVxuXG5leHBvcnQgdHlwZSBNdXRhdGlvbkNhbGxCYWNrID0gKG06IE11dGF0aW9uUGF5bG9hZCkgPT4gdm9pZFxuXG5leHBvcnQgdHlwZSBNb3VzZW1vdmVDYWxsQmFjayA9IChcbiAgcDogTW91c2VQb3NpdGlvbltdLFxuICBzb3VyY2U6IEluY3JlbWVudGFsU291cmNlLk1vdXNlTW92ZSB8IEluY3JlbWVudGFsU291cmNlLlRvdWNoTW92ZVxuKSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgTW91c2VQb3NpdGlvbiB7XG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbiAgaWQ6IG51bWJlclxuICB0aW1lT2Zmc2V0OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IE1vdXNlSW50ZXJhY3Rpb25zID0ge1xuICBNb3VzZVVwOiAwLFxuICBNb3VzZURvd246IDEsXG4gIENsaWNrOiAyLFxuICBDb250ZXh0TWVudTogMyxcbiAgRGJsQ2xpY2s6IDQsXG4gIEZvY3VzOiA1LFxuICBCbHVyOiA2LFxuICBUb3VjaFN0YXJ0OiA3LFxuICBUb3VjaEVuZDogOSxcbn0gYXMgY29uc3RcblxuZXhwb3J0IHR5cGUgTW91c2VJbnRlcmFjdGlvbnMgPSB0eXBlb2YgTW91c2VJbnRlcmFjdGlvbnNba2V5b2YgdHlwZW9mIE1vdXNlSW50ZXJhY3Rpb25zXVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdXNlSW50ZXJhY3Rpb25QYXJhbSB7XG4gIHR5cGU6IE1vdXNlSW50ZXJhY3Rpb25zXG4gIGlkOiBudW1iZXJcbiAgeDogbnVtYmVyXG4gIHk6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBNb3VzZUludGVyYWN0aW9uQ2FsbEJhY2sgPSAoZDogTW91c2VJbnRlcmFjdGlvblBhcmFtKSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsUG9zaXRpb24ge1xuICBpZDogbnVtYmVyXG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgU2Nyb2xsQ2FsbGJhY2sgPSAocDogU2Nyb2xsUG9zaXRpb24pID0+IHZvaWRcblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZVNoZWV0QWRkUnVsZSB7XG4gIHJ1bGU6IHN0cmluZ1xuICBpbmRleD86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlU2hlZXREZWxldGVSdWxlIHtcbiAgaW5kZXg6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlU2hlZXRSdWxlUGFyYW0ge1xuICBpZDogbnVtYmVyXG4gIHJlbW92ZXM/OiBTdHlsZVNoZWV0RGVsZXRlUnVsZVtdXG4gIGFkZHM/OiBTdHlsZVNoZWV0QWRkUnVsZVtdXG59XG5cbmV4cG9ydCB0eXBlIFN0eWxlU2hlZXRSdWxlQ2FsbGJhY2sgPSAoczogU3R5bGVTaGVldFJ1bGVQYXJhbSkgPT4gdm9pZFxuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdwb3J0UmVzaXplRGltZW50aW9uIHtcbiAgd2lkdGg6IG51bWJlclxuICBoZWlnaHQ6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBWaWV3cG9ydFJlc2l6ZUNhbGxiYWNrID0gKGQ6IFZpZXdwb3J0UmVzaXplRGltZW50aW9uKSA9PiB2b2lkXG5cbmV4cG9ydCB0eXBlIElucHV0U3RhdGUgPSB7IHRleHQ6IHN0cmluZyB9IHwgeyBpc0NoZWNrZWQ6IGJvb2xlYW4gfVxuXG5leHBvcnQgdHlwZSBJbnB1dENhbGxiYWNrID0gKHY6IElucHV0U3RhdGUgJiB7IGlkOiBudW1iZXIgfSkgPT4gdm9pZFxuXG5leHBvcnQgY29uc3QgTWVkaWFJbnRlcmFjdGlvbnMgPSB7XG4gIFBsYXk6IDAsXG4gIFBhdXNlOiAxLFxufSBhcyBjb25zdFxuXG5leHBvcnQgdHlwZSBNZWRpYUludGVyYWN0aW9ucyA9IHR5cGVvZiBNZWRpYUludGVyYWN0aW9uc1trZXlvZiB0eXBlb2YgTWVkaWFJbnRlcmFjdGlvbnNdXG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFJbnRlcmFjdGlvblBhcmFtIHtcbiAgdHlwZTogTWVkaWFJbnRlcmFjdGlvbnNcbiAgaWQ6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBNZWRpYUludGVyYWN0aW9uQ2FsbGJhY2sgPSAocDogTWVkaWFJbnRlcmFjdGlvblBhcmFtKSA9PiB2b2lkXG5cbmV4cG9ydCB0eXBlIEZvY3VzQ2FsbGJhY2sgPSAoZGF0YTogRm9jdXNSZWNvcmRbJ2RhdGEnXSkgPT4gdm9pZFxuXG5leHBvcnQgdHlwZSBWaXN1YWxWaWV3cG9ydFJlc2l6ZUNhbGxiYWNrID0gKGRhdGE6IFZpc3VhbFZpZXdwb3J0UmVjb3JkWydkYXRhJ10pID0+IHZvaWRcblxuZXhwb3J0IHR5cGUgTGlzdGVuZXJIYW5kbGVyID0gKCkgPT4gdm9pZFxuZXhwb3J0IHR5cGUgSG9va1Jlc2V0dGVyID0gKCkgPT4gdm9pZFxuXG5leHBvcnQgZW51bSBOb2RlVHlwZSB7XG4gIERvY3VtZW50LFxuICBEb2N1bWVudFR5cGUsXG4gIEVsZW1lbnQsXG4gIFRleHQsXG4gIENEQVRBLFxuICBDb21tZW50LFxufVxuXG5leHBvcnQgdHlwZSBEb2N1bWVudE5vZGUgPSB7XG4gIHR5cGU6IE5vZGVUeXBlLkRvY3VtZW50XG4gIGNoaWxkTm9kZXM6IFNlcmlhbGl6ZWROb2RlV2l0aElkW11cbn1cblxuZXhwb3J0IHR5cGUgRG9jdW1lbnRUeXBlTm9kZSA9IHtcbiAgdHlwZTogTm9kZVR5cGUuRG9jdW1lbnRUeXBlXG4gIG5hbWU6IHN0cmluZ1xuICBwdWJsaWNJZDogc3RyaW5nXG4gIHN5c3RlbUlkOiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgQXR0cmlidXRlcyA9IHtcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50Tm9kZSA9IHtcbiAgdHlwZTogTm9kZVR5cGUuRWxlbWVudFxuICB0YWdOYW1lOiBzdHJpbmdcbiAgYXR0cmlidXRlczogQXR0cmlidXRlc1xuICBjaGlsZE5vZGVzOiBTZXJpYWxpemVkTm9kZVdpdGhJZFtdXG4gIGlzU1ZHPzogdHJ1ZVxufVxuXG5leHBvcnQgdHlwZSBUZXh0Tm9kZSA9IHtcbiAgdHlwZTogTm9kZVR5cGUuVGV4dFxuICB0ZXh0Q29udGVudDogc3RyaW5nXG4gIGlzU3R5bGU/OiB0cnVlXG59XG5cbmV4cG9ydCB0eXBlIENEYXRhTm9kZSA9IHtcbiAgdHlwZTogTm9kZVR5cGUuQ0RBVEFcbiAgdGV4dENvbnRlbnQ6ICcnXG59XG5cbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZWROb2RlID0gRG9jdW1lbnROb2RlIHwgRG9jdW1lbnRUeXBlTm9kZSB8IEVsZW1lbnROb2RlIHwgVGV4dE5vZGUgfCBDRGF0YU5vZGVcblxuZXhwb3J0IHR5cGUgU2VyaWFsaXplZE5vZGVXaXRoSWQgPSBTZXJpYWxpemVkTm9kZSAmIHsgaWQ6IG51bWJlciB9XG4iLCJpbXBvcnQgeyBIb29rUmVzZXR0ZXIgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaG9va1NldHRlcjxUPihcbiAgdGFyZ2V0OiBULFxuICBrZXk6IHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCxcbiAgZDogeyBzZXQodGhpczogVCwgdmFsdWU6IHVua25vd24pOiB2b2lkIH1cbik6IEhvb2tSZXNldHRlciB7XG4gIGNvbnN0IG9yaWdpbmFsID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSlcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgc2V0KHRoaXM6IFQsIHZhbHVlKSB7XG4gICAgICAvLyBwdXQgaG9va2VkIHNldHRlciBpbnRvIGV2ZW50IGxvb3AgdG8gYXZvaWQgb2Ygc2V0IGxhdGVuY3lcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkLnNldC5jYWxsKHRoaXMsIHZhbHVlKVxuICAgICAgfSwgMClcbiAgICAgIGlmIChvcmlnaW5hbCAmJiBvcmlnaW5hbC5zZXQpIHtcbiAgICAgICAgb3JpZ2luYWwuc2V0LmNhbGwodGhpcywgdmFsdWUpXG4gICAgICB9XG4gICAgfSxcbiAgfSlcbiAgcmV0dXJuICgpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIG9yaWdpbmFsIHx8IHt9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RvdWNoRXZlbnQoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KTogZXZlbnQgaXMgVG91Y2hFdmVudCB7XG4gIHJldHVybiBCb29sZWFuKChldmVudCBhcyBUb3VjaEV2ZW50KS5jaGFuZ2VkVG91Y2hlcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2g8TGlzdCBleHRlbmRzIHsgW2luZGV4OiBudW1iZXJdOiBhbnkgfT4oXG4gIGxpc3Q6IExpc3QsXG4gIGNhbGxiYWNrOiAodmFsdWU6IExpc3RbbnVtYmVyXSwgaW5kZXg6IG51bWJlciwgcGFyZW50OiBMaXN0KSA9PiB2b2lkXG4pIHtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChsaXN0LCBjYWxsYmFjayBhcyBhbnkpXG59XG4iLCIvKipcbiAqIEJyb3dzZXJzIGhhdmUgbm90IHN0YW5kYXJkaXplZCB2YXJpb3VzIGRpbWVuc2lvbiBwcm9wZXJ0aWVzLiBNb2JpbGUgZGV2aWNlcyB0eXBpY2FsbHkgcmVwb3J0XG4gKiBkaW1lbnNpb25zIGluIHJlZmVyZW5jZSB0byB0aGUgdmlzdWFsIHZpZXdwb3J0LCB3aGlsZSBkZXNrdG9wIHVzZXMgdGhlIGxheW91dCB2aWV3cG9ydC4gRm9yIGV4YW1wbGUsXG4gKiBNb2JpbGUgQ2hyb21lIHdpbGwgY2hhbmdlIGlubmVyV2lkdGggd2hlbiBhIHBpbmNoIHpvb20gdGFrZXMgcGxhY2UsIHdoaWxlIENocm9tZSBEZXNrdG9wIChtYWMpIHdpbGwgbm90LlxuICpcbiAqIFdpdGggdGhlIG5ldyBWaWV3cG9ydCBBUEksIHdlIG5vdyBjYWxjdWxhdGUgYW5kIG5vcm1hbGl6ZSBkaW1lbnNpb24gcHJvcGVydGllcyB0byB0aGUgbGF5b3V0IHZpZXdwb3J0LlxuICogSWYgdGhlIFZpc3VhbFZpZXdwb3J0IEFQSSBpcyBub3Qgc3VwcG9ydGVkIGJ5IGEgYnJvd3NlciwgaXQgaXNuJ3QgcmVhc29uYWJseSBwb3NzaWJsZSB0byBkZXRlY3Qgb3Igbm9ybWFsaXplXG4gKiB3aGljaCB2aWV3cG9ydCBpcyBiZWluZyBtZWFzdXJlZC4gVGhlcmVmb3JlIHRoZXNlIGV4cG9ydGVkIGZ1bmN0aW9ucyB3aWxsIGZhbGxiYWNrIHRvIGFzc3VtaW5nIHRoYXQgdGhlIGxheW91dFxuICogdmlld3BvcnQgaXMgYmVpbmcgbWVhc3VyZWQgYnkgdGhlIGJyb3dzZXJcbiAqL1xuXG5pbXBvcnQgeyBpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHR5cGUgeyBWaXN1YWxWaWV3cG9ydFJlY29yZCB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuXG4vLyBTY3JvbGxiYXIgd2lkdGhzIHZhcnkgYWNyb3NzIHByb3BlcnRpZXMgb24gZGlmZmVyZW50IGRldmljZXMgYW5kIGJyb3dzZXJzXG5jb25zdCBUT0xFUkFOQ0UgPSAyNVxuXG4vKipcbiAqIFVzZSB0aGUgVmlzdWFsIFZpZXdwb3J0IEFQSSdzIHByb3BlcnRpZXMgdG8gbWVhc3VyZSBzY3JvbGxYL1kgaW4gcmVmZXJlbmNlIHRvIHRoZSBsYXlvdXQgdmlld3BvcnRcbiAqIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB3aW5kb3cuc2Nyb2xsWC9ZIGlzIG1lYXN1cmluZyB0aGUgbGF5b3V0IG9yIHZpc3VhbCB2aWV3cG9ydC5cbiAqIFRoaXMgZmluZGluZyBjb3JyZXNwb25kcyB0byB3aGljaCB2aWV3cG9ydCBtb3VzZUV2ZW50LmNsaWVudFgvWSBhbmQgd2luZG93LmlubmVyV2lkdGgvSGVpZ2h0IG1lYXN1cmVzLlxuICovXG5mdW5jdGlvbiBpc1Zpc3VhbFZpZXdwb3J0RmFjdG9yZWRJbigpIHtcbiAgY29uc3QgdmlzdWFsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0XG4gIHJldHVybiAoXG4gICAgTWF0aC5hYnModmlzdWFsLnBhZ2VUb3AgLSB2aXN1YWwub2Zmc2V0VG9wIC0gd2luZG93LnNjcm9sbFkpID4gVE9MRVJBTkNFIHx8XG4gICAgTWF0aC5hYnModmlzdWFsLnBhZ2VMZWZ0IC0gdmlzdWFsLm9mZnNldExlZnQgLSB3aW5kb3cuc2Nyb2xsWCkgPiBUT0xFUkFOQ0VcbiAgKVxufVxuXG5pbnRlcmZhY2UgTGF5b3V0Q29vcmRpbmF0ZXMge1xuICBsYXlvdXRWaWV3cG9ydFg6IG51bWJlclxuICBsYXlvdXRWaWV3cG9ydFk6IG51bWJlclxuICB2aXN1YWxWaWV3cG9ydFg6IG51bWJlclxuICB2aXN1YWxWaWV3cG9ydFk6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgY29udmVydE1vdXNlRXZlbnRUb0xheW91dENvb3JkaW5hdGVzID0gKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogTGF5b3V0Q29vcmRpbmF0ZXMgPT4ge1xuICBjb25zdCB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnRcbiAgY29uc3Qgbm9ybWFsaXNlZDogTGF5b3V0Q29vcmRpbmF0ZXMgPSB7XG4gICAgbGF5b3V0Vmlld3BvcnRYOiBjbGllbnRYLFxuICAgIGxheW91dFZpZXdwb3J0WTogY2xpZW50WSxcbiAgICB2aXN1YWxWaWV3cG9ydFg6IGNsaWVudFgsXG4gICAgdmlzdWFsVmlld3BvcnRZOiBjbGllbnRZLFxuICB9XG5cbiAgaWYgKCF2aXN1YWwpIHtcbiAgICAvLyBPbiBvbGQgYnJvd3NlcnMsIHdlIGNhbm5vdCBub3JtYWxpc2UsIHNvIGZhbGxiYWNrIHRvIGNsaWVudFgvWVxuICAgIHJldHVybiBub3JtYWxpc2VkXG4gIH0gZWxzZSBpZiAoaXNWaXN1YWxWaWV3cG9ydEZhY3RvcmVkSW4oKSkge1xuICAgIC8vIFR5cGljYWxseSBNb2JpbGUgRGV2aWNlc1xuICAgIG5vcm1hbGlzZWQubGF5b3V0Vmlld3BvcnRYID0gTWF0aC5yb3VuZChjbGllbnRYICsgdmlzdWFsLm9mZnNldExlZnQpXG4gICAgbm9ybWFsaXNlZC5sYXlvdXRWaWV3cG9ydFkgPSBNYXRoLnJvdW5kKGNsaWVudFkgKyB2aXN1YWwub2Zmc2V0VG9wKVxuICB9IGVsc2Uge1xuICAgIC8vIFR5cGljYWxseSBEZXNrdG9wIERldmljZXNcbiAgICBub3JtYWxpc2VkLnZpc3VhbFZpZXdwb3J0WCA9IE1hdGgucm91bmQoY2xpZW50WCAtIHZpc3VhbC5vZmZzZXRMZWZ0KVxuICAgIG5vcm1hbGlzZWQudmlzdWFsVmlld3BvcnRZID0gTWF0aC5yb3VuZChjbGllbnRZIC0gdmlzdWFsLm9mZnNldFRvcClcbiAgfVxuICByZXR1cm4gbm9ybWFsaXNlZFxufVxuXG5leHBvcnQgY29uc3QgZ2V0VmlzdWFsVmlld3BvcnQgPSAoKTogVmlzdWFsVmlld3BvcnRSZWNvcmRbJ2RhdGEnXSA9PiB7XG4gIGNvbnN0IHZpc3VhbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydFxuICByZXR1cm4ge1xuICAgIHNjYWxlOiB2aXN1YWwuc2NhbGUsXG4gICAgb2Zmc2V0TGVmdDogdmlzdWFsLm9mZnNldExlZnQsXG4gICAgb2Zmc2V0VG9wOiB2aXN1YWwub2Zmc2V0VG9wLFxuICAgIHBhZ2VMZWZ0OiB2aXN1YWwucGFnZUxlZnQsXG4gICAgcGFnZVRvcDogdmlzdWFsLnBhZ2VUb3AsXG4gICAgaGVpZ2h0OiB2aXN1YWwuaGVpZ2h0LFxuICAgIHdpZHRoOiB2aXN1YWwud2lkdGgsXG4gIH1cbn1cblxuLy8gZXhjbHVkZXMgdGhlIHdpZHRoIG9mIGFueSByZW5kZXJlZCBjbGFzc2ljIHNjcm9sbGJhciB0aGF0IGlzIGZpeGVkIHRvIHRoZSB2aXN1YWwgdmlld3BvcnRcbmV4cG9ydCBmdW5jdGlvbiBnZXRXaW5kb3dXaWR0aCgpOiBudW1iZXIge1xuICBjb25zdCB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnRcbiAgaWYgKGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ3Zpc3VhbHZpZXdwb3J0JykgJiYgdmlzdWFsKSB7XG4gICAgcmV0dXJuIHZpc3VhbC53aWR0aCAqIHZpc3VhbC5zY2FsZVxuICB9XG4gIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwXG59XG5cbi8vIGV4Y2x1ZGVzIHRoZSBoZWlnaHQgb2YgYW55IHJlbmRlcmVkIGNsYXNzaWMgc2Nyb2xsYmFyIHRoYXQgaXMgZml4ZWQgdG8gdGhlIHZpc3VhbCB2aWV3cG9ydFxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbmRvd0hlaWdodCgpOiBudW1iZXIge1xuICBjb25zdCB2aXN1YWwgPSB3aW5kb3cudmlzdWFsVmlld3BvcnRcbiAgaWYgKGlzRXhwZXJpbWVudGFsRmVhdHVyZUVuYWJsZWQoJ3Zpc3VhbHZpZXdwb3J0JykgJiYgdmlzdWFsKSB7XG4gICAgcmV0dXJuIHZpc3VhbC5oZWlnaHQgKiB2aXN1YWwuc2NhbGVcbiAgfVxuICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0IHx8IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFgoKSB7XG4gIGNvbnN0IHZpc3VhbCA9IHdpbmRvdy52aXN1YWxWaWV3cG9ydFxuICBpZiAoaXNFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZCgndmlzdWFsdmlld3BvcnQnKSAmJiB2aXN1YWwpIHtcbiAgICByZXR1cm4gdmlzdWFsLnBhZ2VMZWZ0IC0gdmlzdWFsLm9mZnNldExlZnRcbiAgfVxuICBpZiAod2luZG93LnNjcm9sbFggIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWFxuICB9XG4gIHJldHVybiB3aW5kb3cucGFnZVhPZmZzZXQgfHwgMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsWSgpIHtcbiAgY29uc3QgdmlzdWFsID0gd2luZG93LnZpc3VhbFZpZXdwb3J0XG4gIGlmIChpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkKCd2aXN1YWx2aWV3cG9ydCcpICYmIHZpc3VhbCkge1xuICAgIHJldHVybiB2aXN1YWwucGFnZVRvcCAtIHZpc3VhbC5vZmZzZXRUb3BcbiAgfVxuICBpZiAod2luZG93LnNjcm9sbFkgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWVxuICB9XG4gIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgMFxufVxuIiwiaW1wb3J0IHsgUmVwbGF5U3RhdHMgfSBmcm9tICdAZGF0YWRvZy9icm93c2VyLXJ1bS1jb3JlJ1xuXG5leHBvcnQgY29uc3QgTUFYX1NUQVRTX0hJU1RPUlkgPSAxMFxubGV0IHN0YXRzUGVyVmlldzogTWFwPHN0cmluZywgUmVwbGF5U3RhdHM+IHwgdW5kZWZpbmVkXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRTZWdtZW50KHZpZXdJZDogc3RyaW5nKSB7XG4gIGdldE9yQ3JlYXRlUmVwbGF5U3RhdHModmlld0lkKS5zZWdtZW50c19jb3VudCArPSAxXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRSZWNvcmQodmlld0lkOiBzdHJpbmcpIHtcbiAgZ2V0T3JDcmVhdGVSZXBsYXlTdGF0cyh2aWV3SWQpLnJlY29yZHNfY291bnQgKz0gMVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkV3JvdGVEYXRhKHZpZXdJZDogc3RyaW5nLCBhZGRpdGlvbmFsUmF3U2l6ZTogbnVtYmVyKSB7XG4gIGdldE9yQ3JlYXRlUmVwbGF5U3RhdHModmlld0lkKS5zZWdtZW50c190b3RhbF9yYXdfc2l6ZSArPSBhZGRpdGlvbmFsUmF3U2l6ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVwbGF5U3RhdHModmlld0lkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0YXRzUGVyVmlldz8uZ2V0KHZpZXdJZClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UmVwbGF5U3RhdHMoKSB7XG4gIHN0YXRzUGVyVmlldyA9IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVJlcGxheVN0YXRzKHZpZXdJZDogc3RyaW5nKSB7XG4gIGlmICghc3RhdHNQZXJWaWV3KSB7XG4gICAgc3RhdHNQZXJWaWV3ID0gbmV3IE1hcCgpXG4gIH1cblxuICBsZXQgcmVwbGF5U3RhdHM6IFJlcGxheVN0YXRzXG4gIGlmIChzdGF0c1BlclZpZXcuaGFzKHZpZXdJZCkpIHtcbiAgICByZXBsYXlTdGF0cyA9IHN0YXRzUGVyVmlldy5nZXQodmlld0lkKSFcbiAgfSBlbHNlIHtcbiAgICByZXBsYXlTdGF0cyA9IHtcbiAgICAgIHJlY29yZHNfY291bnQ6IDAsXG4gICAgICBzZWdtZW50c19jb3VudDogMCxcbiAgICAgIHNlZ21lbnRzX3RvdGFsX3Jhd19zaXplOiAwLFxuICAgIH1cbiAgICBzdGF0c1BlclZpZXcuc2V0KHZpZXdJZCwgcmVwbGF5U3RhdHMpXG4gICAgaWYgKHN0YXRzUGVyVmlldy5zaXplID4gTUFYX1NUQVRTX0hJU1RPUlkpIHtcbiAgICAgIGRlbGV0ZU9sZGVzdFN0YXRzKClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVwbGF5U3RhdHNcbn1cblxuZnVuY3Rpb24gZGVsZXRlT2xkZXN0U3RhdHMoKSB7XG4gIGlmICghc3RhdHNQZXJWaWV3KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHN0YXRzUGVyVmlldy5rZXlzKSB7XG4gICAgc3RhdHNQZXJWaWV3LmRlbGV0ZShzdGF0c1BlclZpZXcua2V5cygpLm5leHQoKS52YWx1ZSlcbiAgfSBlbHNlIHtcbiAgICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBtYXAua2V5c1xuICAgIGxldCBpc0ZpcnN0ID0gdHJ1ZVxuICAgIHN0YXRzUGVyVmlldy5mb3JFYWNoKChfdmFsdWUsIGtleSkgPT4ge1xuICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgc3RhdHNQZXJWaWV3IS5kZWxldGUoa2V5KVxuICAgICAgICBpc0ZpcnN0ID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJleHBvcnQgeyBzdGFydFNlZ21lbnRDb2xsZWN0aW9uIH0gZnJvbSAnLi9zZWdtZW50Q29sbGVjdGlvbidcbiIsImltcG9ydCB7IGFkZE1vbml0b3JpbmdNZXNzYWdlLCBtb25pdG9yIH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgQ3JlYXRpb25SZWFzb24sIFJlY29yZCwgUmVjb3JkVHlwZSwgU2VnbWVudENvbnRleHQsIFNlZ21lbnRNZXRhIH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5pbXBvcnQgKiBhcyByZXBsYXlTdGF0cyBmcm9tICcuLi9yZXBsYXlTdGF0cydcbmltcG9ydCB7IERlZmxhdGVXb3JrZXIsIERlZmxhdGVXb3JrZXJMaXN0ZW5lciB9IGZyb20gJy4vZGVmbGF0ZVdvcmtlcidcblxubGV0IG5leHRJZCA9IDBcblxuZXhwb3J0IGNsYXNzIFNlZ21lbnQge1xuICBwdWJsaWMgaXNGbHVzaGVkID0gZmFsc2VcbiAgcHVibGljIGZsdXNoUmVhc29uPzogc3RyaW5nXG5cbiAgcHJpdmF0ZSBpZCA9IG5leHRJZCsrXG4gIHByaXZhdGUgc3RhcnQ6IG51bWJlclxuICBwcml2YXRlIGVuZDogbnVtYmVyXG4gIHByaXZhdGUgcmVjb3Jkc0NvdW50OiBudW1iZXJcbiAgcHJpdmF0ZSBoYXNGdWxsU25hcHNob3Q6IGJvb2xlYW5cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHdvcmtlcjogRGVmbGF0ZVdvcmtlcixcbiAgICByZWFkb25seSBjb250ZXh0OiBTZWdtZW50Q29udGV4dCxcbiAgICBwcml2YXRlIGNyZWF0aW9uUmVhc29uOiBDcmVhdGlvblJlYXNvbixcbiAgICBpbml0aWFsUmVjb3JkOiBSZWNvcmQsXG4gICAgb25Xcm90ZTogKGNvbXByZXNzZWRTaXplOiBudW1iZXIpID0+IHZvaWQsXG4gICAgb25GbHVzaGVkOiAoZGF0YTogVWludDhBcnJheSwgcmF3U2l6ZTogbnVtYmVyKSA9PiB2b2lkXG4gICkge1xuICAgIHRoaXMuc3RhcnQgPSBpbml0aWFsUmVjb3JkLnRpbWVzdGFtcFxuICAgIHRoaXMuZW5kID0gaW5pdGlhbFJlY29yZC50aW1lc3RhbXBcbiAgICB0aGlzLnJlY29yZHNDb3VudCA9IDFcbiAgICB0aGlzLmhhc0Z1bGxTbmFwc2hvdCA9IGluaXRpYWxSZWNvcmQudHlwZSA9PT0gUmVjb3JkVHlwZS5GdWxsU25hcHNob3RcblxuICAgIGNvbnN0IHZpZXdJZCA9IHRoaXMuY29udGV4dC52aWV3LmlkXG4gICAgcmVwbGF5U3RhdHMuYWRkU2VnbWVudCh2aWV3SWQpXG4gICAgcmVwbGF5U3RhdHMuYWRkUmVjb3JkKHZpZXdJZClcblxuICAgIGNvbnN0IGxpc3RlbmVyOiBEZWZsYXRlV29ya2VyTGlzdGVuZXIgPSBtb25pdG9yKCh7IGRhdGEgfSkgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Vycm9yZWQnIHx8IGRhdGEudHlwZSA9PT0gJ2luaXRpYWxpemVkJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGEuaWQgPT09IHRoaXMuaWQpIHtcbiAgICAgICAgcmVwbGF5U3RhdHMuYWRkV3JvdGVEYXRhKHZpZXdJZCwgZGF0YS5hZGRpdGlvbmFsUmF3U2l6ZSlcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2ZsdXNoZWQnKSB7XG4gICAgICAgICAgb25GbHVzaGVkKGRhdGEucmVzdWx0LCBkYXRhLnJhd1NpemUpXG4gICAgICAgICAgd29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbldyb3RlKGRhdGEuY29tcHJlc3NlZFNpemUpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5pZCA+IHRoaXMuaWQpIHtcbiAgICAgICAgLy8gTWVzc2FnZXMgc2hvdWxkIGJlIHJlY2VpdmVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZXkgYXJlIHNlbnQsIHNvIGlmIHdlIHJlY2VpdmUgYVxuICAgICAgICAvLyBtZXNzYWdlIHdpdGggYW4gaWQgc3VwZXJpb3IgdG8gdGhpcyBTZWdtZW50IGluc3RhbmNlIGlkLCB3ZSBrbm93IHRoYXQgYW5vdGhlciwgbW9yZVxuICAgICAgICAvLyByZWNlbnQgU2VnbWVudCBpbnN0YW5jZSBpcyBiZWluZyB1c2VkLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJbiB0aGVvcnksIGEgXCJmbHVzaFwiIHJlc3BvbnNlIHNob3VsZCBoYXZlIGJlZW4gcmVjZWl2ZWQgYXQgdGhpcyBwb2ludCwgc28gdGhlIGxpc3RlbmVyXG4gICAgICAgIC8vIHNob3VsZCBhbHJlYWR5IGhhdmUgYmVlbiByZW1vdmVkLiBCdXQgaWYgc29tZXRoaW5nIGdvZXMgd3JvbmcgYW5kIHdlIGRpZG4ndCByZWNlaXZlIGFcbiAgICAgICAgLy8gXCJmbHVzaFwiIHJlc3BvbnNlLCByZW1vdmUgdGhlIGxpc3RlbmVyIHRvIGF2b2lkIGFueSBsZWFrLCBhbmQgc2VuZCBhIG1vbml0b3IgbWVzc2FnZSB0b1xuICAgICAgICAvLyBoZWxwIGludmVzdGlnYXRlIHRoZSBpc3N1ZS5cbiAgICAgICAgd29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lcilcbiAgICAgICAgYWRkTW9uaXRvcmluZ01lc3NhZ2UoYFNlZ21lbnQgZGlkIG5vdCByZWNlaXZlIGEgJ2ZsdXNoJyByZXNwb25zZSBiZWZvcmUgYmVpbmcgcmVwbGFjZWQuYClcbiAgICAgIH1cbiAgICB9KVxuICAgIHdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIpXG4gICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UoeyBkYXRhOiBge1wicmVjb3Jkc1wiOlske0pTT04uc3RyaW5naWZ5KGluaXRpYWxSZWNvcmQpfWAsIGlkOiB0aGlzLmlkLCBhY3Rpb246ICd3cml0ZScgfSlcbiAgfVxuXG4gIGFkZFJlY29yZChyZWNvcmQ6IFJlY29yZCk6IHZvaWQge1xuICAgIHRoaXMuZW5kID0gcmVjb3JkLnRpbWVzdGFtcFxuICAgIHRoaXMucmVjb3Jkc0NvdW50ICs9IDFcbiAgICByZXBsYXlTdGF0cy5hZGRSZWNvcmQodGhpcy5jb250ZXh0LnZpZXcuaWQpXG4gICAgdGhpcy5oYXNGdWxsU25hcHNob3QgfHw9IHJlY29yZC50eXBlID09PSBSZWNvcmRUeXBlLkZ1bGxTbmFwc2hvdFxuICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHsgZGF0YTogYCwke0pTT04uc3RyaW5naWZ5KHJlY29yZCl9YCwgaWQ6IHRoaXMuaWQsIGFjdGlvbjogJ3dyaXRlJyB9KVxuICB9XG5cbiAgZmx1c2gocmVhc29uPzogc3RyaW5nKSB7XG4gICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgZGF0YTogYF0sJHtKU09OLnN0cmluZ2lmeSh0aGlzLm1ldGEpLnNsaWNlKDEpfVxcbmAsXG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIGFjdGlvbjogJ2ZsdXNoJyxcbiAgICB9KVxuICAgIHRoaXMuaXNGbHVzaGVkID0gdHJ1ZVxuICAgIHRoaXMuZmx1c2hSZWFzb24gPSByZWFzb25cbiAgfVxuXG4gIGdldCBtZXRhKCk6IFNlZ21lbnRNZXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRpb25fcmVhc29uOiB0aGlzLmNyZWF0aW9uUmVhc29uLFxuICAgICAgZW5kOiB0aGlzLmVuZCxcbiAgICAgIGhhc19mdWxsX3NuYXBzaG90OiB0aGlzLmhhc0Z1bGxTbmFwc2hvdCxcbiAgICAgIHJlY29yZHNfY291bnQ6IHRoaXMucmVjb3Jkc0NvdW50LFxuICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICAuLi50aGlzLmNvbnRleHQsXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBhZGRFdmVudExpc3RlbmVyLCBET01fRVZFTlQsIEV2ZW50RW1pdHRlciwgbW9uaXRvciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IExpZmVDeWNsZSwgTGlmZUN5Y2xlRXZlbnRUeXBlLCBQYXJlbnRDb250ZXh0cywgUnVtU2Vzc2lvbiB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUnXG5pbXBvcnQgeyBTRU5EX0JFQUNPTl9CWVRFX0xFTkdUSF9MSU1JVCB9IGZyb20gJy4uLy4uL3RyYW5zcG9ydC9zZW5kJ1xuaW1wb3J0IHsgQ3JlYXRpb25SZWFzb24sIFJlY29yZCwgU2VnbWVudENvbnRleHQsIFNlZ21lbnRNZXRhIH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5pbXBvcnQgeyBEZWZsYXRlV29ya2VyIH0gZnJvbSAnLi9kZWZsYXRlV29ya2VyJ1xuaW1wb3J0IHsgU2VnbWVudCB9IGZyb20gJy4vc2VnbWVudCdcblxuZXhwb3J0IGNvbnN0IE1BWF9TRUdNRU5UX0RVUkFUSU9OID0gMzBfMDAwXG5sZXQgTUFYX1NFR01FTlRfU0laRSA9IFNFTkRfQkVBQ09OX0JZVEVfTEVOR1RIX0xJTUlUXG5cbi8vIFNlZ21lbnRzIGFyZSB0aGUgbWFpbiBkYXRhIHN0cnVjdHVyZSBmb3Igc2Vzc2lvbiByZXBsYXlzLiBUaGV5IGNvbnRhaW4gY29udGV4dCBpbmZvcm1hdGlvbiB1c2VkXG4vLyBmb3IgaW5kZXhpbmcgb3IgVUkgbmVlZHMsIGFuZCBhIGxpc3Qgb2YgcmVjb3JkcyAoUlJXZWIgJ2V2ZW50cycsIHJlbmFtZWQgdG8gYXZvaWQgY29uZnVzaW5nXG4vLyBuYW1pbmdzKS4gVGhleSBhcmUgc3RvcmVkIHdpdGhvdXQgYW55IHByb2Nlc3NpbmcgZnJvbSB0aGUgaW50YWtlLCBhbmQgZmV0Y2hlZCBvbmUgYWZ0ZXIgdGhlXG4vLyBvdGhlciB3aGlsZSBhIHNlc3Npb24gaXMgYmVpbmcgcmVwbGF5ZWQuIFRoZWlyIGVuY29kaW5nIChkZWZsYXRlKSBhcmUgY2FyZWZ1bGx5IGNyYWZ0ZWQgdG8gYWxsb3dcbi8vIGNvbmNhdGVuYXRpbmcgbXVsdGlwbGUgc2VnbWVudHMgdG9nZXRoZXIuIFNlZ21lbnRzIGhhdmUgYSBzaXplIG92ZXJoZWFkIChtZXRhKSwgc28gb3VyIGdvYWwgaXMgdG9cbi8vIGJ1aWxkIHNlZ21lbnRzIGNvbnRhaW5pbmcgYXMgbXVjaCByZWNvcmRzIGFzIHBvc3NpYmxlIHdoaWxlIGNvbXBseWluZyB3aXRoIHRoZSB2YXJpb3VzIGZsdXNoXG4vLyBzdHJhdGVnaWVzIHRvIGd1YXJhbnRlZSBhIGdvb2QgcmVwbGF5IHF1YWxpdHkuXG4vL1xuLy8gV2hlbiB0aGUgcmVjb3JkaW5nIHN0YXJ0cywgYSBzZWdtZW50IGlzIGluaXRpYWxseSBjcmVhdGVkLiAgVGhlIHNlZ21lbnQgaXMgZmx1c2hlZCAoZmluYWxpemVkIGFuZFxuLy8gc2VudCkgYmFzZWQgb24gdmFyaW91cyBldmVudHMgKG5vbi1leGhhdXN0aXZlIGxpc3QpOlxuLy9cbi8vICogdGhlIHBhZ2UgdmlzaWJpbGl0eSBjaGFuZ2Ugb3IgYmVjb21lcyB0byB1bmxvYWRcbi8vICogdGhlIHNlZ21lbnQgZHVyYXRpb24gcmVhY2hlcyBhIGxpbWl0XG4vLyAqIHRoZSBlbmNvZGVkIHNlZ21lbnQgc2l6ZSByZWFjaGVzIGEgbGltaXRcbi8vICogLi4uXG4vL1xuLy8gQSBzZWdtZW50IGNhbm5vdCBiZSBjcmVhdGVkIHdpdGhvdXQgaXRzIGNvbnRleHQuICBJZiB0aGUgUlVNIHNlc3Npb24gZW5kcyBhbmQgbm8gc2Vzc2lvbiBpZCBpc1xuLy8gYXZhaWxhYmxlIHdoZW4gY3JlYXRpbmcgYSBuZXcgc2VnbWVudCwgcmVjb3JkcyB3aWxsIGJlIGlnbm9yZWQsIHVudGlsIHRoZSBzZXNzaW9uIGlzIHJlbmV3ZWQgYW5kXG4vLyBhIG5ldyBzZXNzaW9uIGlkIGlzIGF2YWlsYWJsZS5cbi8vXG4vLyBFbXB0eSBzZWdtZW50cyAoc2VnbWVudHMgd2l0aCBubyByZWNvcmQpIGFyZW4ndCB1c2VmdWwgYW5kIHNob3VsZCBiZSBpZ25vcmVkLlxuLy9cbi8vIFRvIGhlbHAgaW52ZXN0aWdhdGUgc2Vzc2lvbiByZXBsYXlzIGlzc3VlcywgZWFjaCBzZWdtZW50IGlzIGNyZWF0ZWQgd2l0aCBhIFwiY3JlYXRpb24gcmVhc29uXCIsXG4vLyBpbmRpY2F0aW5nIHdoeSB0aGUgc2Vzc2lvbiBoYXMgYmVlbiBjcmVhdGVkLlxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTZWdtZW50Q29sbGVjdGlvbihcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGFwcGxpY2F0aW9uSWQ6IHN0cmluZyxcbiAgc2Vzc2lvbjogUnVtU2Vzc2lvbixcbiAgcGFyZW50Q29udGV4dHM6IFBhcmVudENvbnRleHRzLFxuICBzZW5kOiAoZGF0YTogVWludDhBcnJheSwgbWV0YTogU2VnbWVudE1ldGEsIHJhd1NlZ21lbnRTaXplOiBudW1iZXIsIGZsdXNoUmVhc29uPzogc3RyaW5nKSA9PiB2b2lkLFxuICB3b3JrZXI6IERlZmxhdGVXb3JrZXJcbikge1xuICByZXR1cm4gZG9TdGFydFNlZ21lbnRDb2xsZWN0aW9uKFxuICAgIGxpZmVDeWNsZSxcbiAgICAoKSA9PiBjb21wdXRlU2VnbWVudENvbnRleHQoYXBwbGljYXRpb25JZCwgc2Vzc2lvbiwgcGFyZW50Q29udGV4dHMpLFxuICAgIHNlbmQsXG4gICAgd29ya2VyXG4gIClcbn1cblxuY29uc3QgZW51bSBTZWdtZW50Q29sbGVjdGlvblN0YXR1cyB7XG4gIFdhaXRpbmdGb3JJbml0aWFsUmVjb3JkLFxuICBTZWdtZW50UGVuZGluZyxcbiAgU3RvcHBlZCxcbn1cbnR5cGUgU2VnbWVudENvbGxlY3Rpb25TdGF0ZSA9XG4gIHwge1xuICAgICAgc3RhdHVzOiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5XYWl0aW5nRm9ySW5pdGlhbFJlY29yZFxuICAgICAgbmV4dFNlZ21lbnRDcmVhdGlvblJlYXNvbjogQ3JlYXRpb25SZWFzb25cbiAgICB9XG4gIHwge1xuICAgICAgc3RhdHVzOiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5TZWdtZW50UGVuZGluZ1xuICAgICAgc2VnbWVudDogU2VnbWVudFxuICAgICAgZXhwaXJhdGlvblRpbWVvdXRJZDogbnVtYmVyXG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXR1czogU2VnbWVudENvbGxlY3Rpb25TdGF0dXMuU3RvcHBlZFxuICAgIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvU3RhcnRTZWdtZW50Q29sbGVjdGlvbihcbiAgbGlmZUN5Y2xlOiBMaWZlQ3ljbGUsXG4gIGdldFNlZ21lbnRDb250ZXh0OiAoKSA9PiBTZWdtZW50Q29udGV4dCB8IHVuZGVmaW5lZCxcbiAgc2VuZDogKGRhdGE6IFVpbnQ4QXJyYXksIG1ldGE6IFNlZ21lbnRNZXRhLCByYXdTZWdtZW50U2l6ZTogbnVtYmVyLCBmbHVzaFJlYXNvbj86IHN0cmluZykgPT4gdm9pZCxcbiAgd29ya2VyOiBEZWZsYXRlV29ya2VyLFxuICBlbWl0dGVyOiBFdmVudEVtaXR0ZXIgPSB3aW5kb3dcbikge1xuICBsZXQgc3RhdGU6IFNlZ21lbnRDb2xsZWN0aW9uU3RhdGUgPSB7XG4gICAgc3RhdHVzOiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5XYWl0aW5nRm9ySW5pdGlhbFJlY29yZCxcbiAgICBuZXh0U2VnbWVudENyZWF0aW9uUmVhc29uOiAnaW5pdCcsXG4gIH1cblxuICBjb25zdCB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVZpZXdDcmVhdGVkIH0gPSBsaWZlQ3ljbGUuc3Vic2NyaWJlKExpZmVDeWNsZUV2ZW50VHlwZS5WSUVXX0NSRUFURUQsICgpID0+IHtcbiAgICBmbHVzaFNlZ21lbnQoJ3ZpZXdfY2hhbmdlJylcbiAgfSlcblxuICBjb25zdCB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZUJlZm9yZVVubG9hZCB9ID0gbGlmZUN5Y2xlLnN1YnNjcmliZShMaWZlQ3ljbGVFdmVudFR5cGUuQkVGT1JFX1VOTE9BRCwgKCkgPT4ge1xuICAgIGZsdXNoU2VnbWVudCgnYmVmb3JlX3VubG9hZCcpXG4gIH0pXG5cbiAgY29uc3QgeyBzdG9wOiB1bnN1YnNjcmliZVZpc2liaWxpdHlDaGFuZ2UgfSA9IGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgZW1pdHRlcixcbiAgICBET01fRVZFTlQuVklTSUJJTElUWV9DSEFOR0UsXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgZmx1c2hTZWdtZW50KCd2aXNpYmlsaXR5X2hpZGRlbicpXG4gICAgICB9XG4gICAgfSxcbiAgICB7IGNhcHR1cmU6IHRydWUgfVxuICApXG5cbiAgZnVuY3Rpb24gZmx1c2hTZWdtZW50KG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb24/OiBDcmVhdGlvblJlYXNvbikge1xuICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFNlZ21lbnRDb2xsZWN0aW9uU3RhdHVzLlNlZ21lbnRQZW5kaW5nKSB7XG4gICAgICBzdGF0ZS5zZWdtZW50LmZsdXNoKG5leHRTZWdtZW50Q3JlYXRpb25SZWFzb24gfHwgJ3Nka19zdG9wcGVkJylcbiAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5leHBpcmF0aW9uVGltZW91dElkKVxuICAgIH1cblxuICAgIGlmIChuZXh0U2VnbWVudENyZWF0aW9uUmVhc29uKSB7XG4gICAgICBzdGF0ZSA9IHtcbiAgICAgICAgc3RhdHVzOiBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5XYWl0aW5nRm9ySW5pdGlhbFJlY29yZCxcbiAgICAgICAgbmV4dFNlZ21lbnRDcmVhdGlvblJlYXNvbixcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUgPSB7XG4gICAgICAgIHN0YXR1czogU2VnbWVudENvbGxlY3Rpb25TdGF0dXMuU3RvcHBlZCxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOZXdTZWdtZW50KGNyZWF0aW9uUmVhc29uOiBDcmVhdGlvblJlYXNvbiwgaW5pdGlhbFJlY29yZDogUmVjb3JkKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldFNlZ21lbnRDb250ZXh0KClcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgU2VnbWVudChcbiAgICAgIHdvcmtlcixcbiAgICAgIGNvbnRleHQsXG4gICAgICBjcmVhdGlvblJlYXNvbixcbiAgICAgIGluaXRpYWxSZWNvcmQsXG4gICAgICAoY29tcHJlc3NlZFNlZ21lbnRTaXplKSA9PiB7XG4gICAgICAgIGlmICghc2VnbWVudC5pc0ZsdXNoZWQgJiYgY29tcHJlc3NlZFNlZ21lbnRTaXplID4gTUFYX1NFR01FTlRfU0laRSkge1xuICAgICAgICAgIGZsdXNoU2VnbWVudCgnbWF4X3NpemUnKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGRhdGEsIHJhd1NlZ21lbnRTaXplKSA9PiB7XG4gICAgICAgIHNlbmQoZGF0YSwgc2VnbWVudC5tZXRhLCByYXdTZWdtZW50U2l6ZSwgc2VnbWVudC5mbHVzaFJlYXNvbilcbiAgICAgIH1cbiAgICApXG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgIHN0YXR1czogU2VnbWVudENvbGxlY3Rpb25TdGF0dXMuU2VnbWVudFBlbmRpbmcsXG4gICAgICBzZWdtZW50LFxuICAgICAgZXhwaXJhdGlvblRpbWVvdXRJZDogc2V0VGltZW91dChcbiAgICAgICAgbW9uaXRvcigoKSA9PiB7XG4gICAgICAgICAgZmx1c2hTZWdtZW50KCdtYXhfZHVyYXRpb24nKVxuICAgICAgICB9KSxcbiAgICAgICAgTUFYX1NFR01FTlRfRFVSQVRJT05cbiAgICAgICksXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRSZWNvcmQ6IChyZWNvcmQ6IFJlY29yZCkgPT4ge1xuICAgICAgc3dpdGNoIChzdGF0ZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBTZWdtZW50Q29sbGVjdGlvblN0YXR1cy5XYWl0aW5nRm9ySW5pdGlhbFJlY29yZDpcbiAgICAgICAgICBjcmVhdGVOZXdTZWdtZW50KHN0YXRlLm5leHRTZWdtZW50Q3JlYXRpb25SZWFzb24sIHJlY29yZClcbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgU2VnbWVudENvbGxlY3Rpb25TdGF0dXMuU2VnbWVudFBlbmRpbmc6XG4gICAgICAgICAgc3RhdGUuc2VnbWVudC5hZGRSZWNvcmQocmVjb3JkKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6ICgpID0+IHtcbiAgICAgIGZsdXNoU2VnbWVudCgpXG4gICAgICB1bnN1YnNjcmliZVZpZXdDcmVhdGVkKClcbiAgICAgIHVuc3Vic2NyaWJlQmVmb3JlVW5sb2FkKClcbiAgICAgIHVuc3Vic2NyaWJlVmlzaWJpbGl0eUNoYW5nZSgpXG4gICAgfSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVNlZ21lbnRDb250ZXh0KGFwcGxpY2F0aW9uSWQ6IHN0cmluZywgc2Vzc2lvbjogUnVtU2Vzc2lvbiwgcGFyZW50Q29udGV4dHM6IFBhcmVudENvbnRleHRzKSB7XG4gIGlmICghc2Vzc2lvbi5pc1RyYWNrZWQoKSkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuICBjb25zdCB2aWV3Q29udGV4dCA9IHBhcmVudENvbnRleHRzLmZpbmRWaWV3KClcbiAgaWYgKCF2aWV3Q29udGV4dD8uc2Vzc2lvbi5pZCB8fCB2aWV3Q29udGV4dC5zZXNzaW9uLmlkICE9PSBzZXNzaW9uLmdldElkKCkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhcHBsaWNhdGlvbjoge1xuICAgICAgaWQ6IGFwcGxpY2F0aW9uSWQsXG4gICAgfSxcbiAgICBzZXNzaW9uOiB7XG4gICAgICBpZDogdmlld0NvbnRleHQuc2Vzc2lvbi5pZCxcbiAgICB9LFxuICAgIHZpZXc6IHtcbiAgICAgIGlkOiB2aWV3Q29udGV4dC52aWV3LmlkLFxuICAgIH0sXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1heFNlZ21lbnRTaXplKG5ld1NpemU6IG51bWJlciA9IFNFTkRfQkVBQ09OX0JZVEVfTEVOR1RIX0xJTUlUKSB7XG4gIE1BWF9TRUdNRU5UX1NJWkUgPSBuZXdTaXplXG59XG4iLCJpbXBvcnQgeyBhZGRFcnJvclRvTW9uaXRvcmluZ0JhdGNoLCBkaXNwbGF5LCBpbmNsdWRlcywgbW9uaXRvciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IGNyZWF0ZURlZmxhdGVXb3JrZXIsIERlZmxhdGVXb3JrZXIgfSBmcm9tICcuL2RlZmxhdGVXb3JrZXInXG5cbi8qKlxuICogSW4gb3JkZXIgdG8gYmUgc3VyZSB0aGF0IHRoZSB3b3JrZXIgaXMgY29ycmVjdGx5IHdvcmtpbmcsIHdlIG5lZWQgYSByb3VuZCB0cmlwIG9mXG4gKiBpbml0aWFsaXphdGlvbiBtZXNzYWdlcywgbWFraW5nIHRoZSBjcmVhdGlvbiBhc3luY2hyb25vdXMuXG4gKiBUaGVzZSB3b3JrZXIgbGlmZWN5Y2xlIHN0YXRlcyBoYW5kbGUgdGhpcyBjYXNlLlxuICovXG5jb25zdCBlbnVtIERlZmxhdGVXb3JrZXJTdGF0dXMge1xuICBOaWwsXG4gIExvYWRpbmcsXG4gIEVycm9yLFxuICBJbml0aWFsaXplZCxcbn1cblxudHlwZSBEZWZsYXRlV29ya2VyU3RhdGUgPVxuICB8IHtcbiAgICAgIHN0YXR1czogRGVmbGF0ZVdvcmtlclN0YXR1cy5OaWxcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdHVzOiBEZWZsYXRlV29ya2VyU3RhdHVzLkxvYWRpbmdcbiAgICAgIGNhbGxiYWNrczogQXJyYXk8KHdvcmtlcj86IERlZmxhdGVXb3JrZXIpID0+IHZvaWQ+XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXR1czogRGVmbGF0ZVdvcmtlclN0YXR1cy5FcnJvclxuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0dXM6IERlZmxhdGVXb3JrZXJTdGF0dXMuSW5pdGlhbGl6ZWRcbiAgICAgIHdvcmtlcjogRGVmbGF0ZVdvcmtlclxuICAgIH1cblxubGV0IHN0YXRlOiBEZWZsYXRlV29ya2VyU3RhdGUgPSB7IHN0YXR1czogRGVmbGF0ZVdvcmtlclN0YXR1cy5OaWwgfVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnREZWZsYXRlV29ya2VyKFxuICBjYWxsYmFjazogKHdvcmtlcj86IERlZmxhdGVXb3JrZXIpID0+IHZvaWQsXG4gIGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsID0gY3JlYXRlRGVmbGF0ZVdvcmtlclxuKSB7XG4gIHN3aXRjaCAoc3RhdGUuc3RhdHVzKSB7XG4gICAgY2FzZSBEZWZsYXRlV29ya2VyU3RhdHVzLk5pbDpcbiAgICAgIHN0YXRlID0geyBzdGF0dXM6IERlZmxhdGVXb3JrZXJTdGF0dXMuTG9hZGluZywgY2FsbGJhY2tzOiBbY2FsbGJhY2tdIH1cbiAgICAgIGRvU3RhcnREZWZsYXRlV29ya2VyKGNyZWF0ZURlZmxhdGVXb3JrZXJJbXBsKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIERlZmxhdGVXb3JrZXJTdGF0dXMuTG9hZGluZzpcbiAgICAgIHN0YXRlLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIERlZmxhdGVXb3JrZXJTdGF0dXMuRXJyb3I6XG4gICAgICBjYWxsYmFjaygpXG4gICAgICBicmVha1xuICAgIGNhc2UgRGVmbGF0ZVdvcmtlclN0YXR1cy5Jbml0aWFsaXplZDpcbiAgICAgIGNhbGxiYWNrKHN0YXRlLndvcmtlcilcbiAgICAgIGJyZWFrXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RGVmbGF0ZVdvcmtlclN0YXRlKCkge1xuICBzdGF0ZSA9IHsgc3RhdHVzOiBEZWZsYXRlV29ya2VyU3RhdHVzLk5pbCB9XG59XG5cbi8qKlxuICogU3RhcnRzIHRoZSBkZWZsYXRlIHdvcmtlciBhbmQgaGFuZGxlIG1lc3NhZ2VzIGFuZCBlcnJvcnNcbiAqXG4gKiBUaGUgc3BlYyBhbGxvdyBicm93c2VycyB0byBoYW5kbGUgd29ya2VyIGVycm9ycyBkaWZmZXJlbnRseTpcbiAqIC0gQ2hyb21pdW0gdGhyb3dzIGFuIGV4Y2VwdGlvblxuICogLSBGaXJlZm94IGZpcmVzIGFuIGVycm9yIGV2ZW50XG4gKlxuICogbW9yZSBkZXRhaWxzOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzM2ODY1I2MyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkb1N0YXJ0RGVmbGF0ZVdvcmtlcihjcmVhdGVEZWZsYXRlV29ya2VySW1wbCA9IGNyZWF0ZURlZmxhdGVXb3JrZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB3b3JrZXIgPSBjcmVhdGVEZWZsYXRlV29ya2VySW1wbCgpXG4gICAgd29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgbW9uaXRvcihvbkVycm9yKSlcbiAgICB3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtZXNzYWdlJyxcbiAgICAgIG1vbml0b3IoKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdlcnJvcmVkJykge1xuICAgICAgICAgIG9uRXJyb3IoZGF0YS5lcnJvcilcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdpbml0aWFsaXplZCcpIHtcbiAgICAgICAgICBvbkluaXRpYWxpemVkKHdvcmtlcilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICAgd29ya2VyLnBvc3RNZXNzYWdlKHsgYWN0aW9uOiAnaW5pdCcgfSlcbiAgICByZXR1cm4gd29ya2VyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgb25FcnJvcihlcnJvcilcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkluaXRpYWxpemVkKHdvcmtlcjogRGVmbGF0ZVdvcmtlcikge1xuICBpZiAoc3RhdGUuc3RhdHVzID09PSBEZWZsYXRlV29ya2VyU3RhdHVzLkxvYWRpbmcpIHtcbiAgICBzdGF0ZS5jYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKHdvcmtlcikpXG4gICAgc3RhdGUgPSB7IHN0YXR1czogRGVmbGF0ZVdvcmtlclN0YXR1cy5Jbml0aWFsaXplZCwgd29ya2VyIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBvbkVycm9yKGVycm9yOiBFcnJvckV2ZW50IHwgRXJyb3IgfCBzdHJpbmcpIHtcbiAgaWYgKHN0YXRlLnN0YXR1cyA9PT0gRGVmbGF0ZVdvcmtlclN0YXR1cy5Mb2FkaW5nKSB7XG4gICAgZGlzcGxheS5lcnJvcignU2Vzc2lvbiBSZXBsYXkgcmVjb3JkaW5nIGZhaWxlZCB0byBzdGFydDogYW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY3JlYXRpbmcgdGhlIFdvcmtlcjonLCBlcnJvcilcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFdmVudCB8fCAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBpbmNsdWRlcyhlcnJvci5tZXNzYWdlLCAnQ29udGVudCBTZWN1cml0eSBQb2xpY3knKSkpIHtcbiAgICAgIGRpc3BsYXkuZXJyb3IoXG4gICAgICAgICdQbGVhc2UgbWFrZSBzdXJlIENTUCBpcyBjb3JyZWN0bHkgY29uZmlndXJlZCAnICtcbiAgICAgICAgICAnaHR0cHM6Ly9kb2NzLmRhdGFkb2docS5jb20vcmVhbF91c2VyX21vbml0b3JpbmcvZmFxL2NvbnRlbnRfc2VjdXJpdHlfcG9saWN5J1xuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBhZGRFcnJvclRvTW9uaXRvcmluZ0JhdGNoKGVycm9yKVxuICAgIH1cbiAgICBzdGF0ZS5jYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpXG4gICAgc3RhdGUgPSB7IHN0YXR1czogRGVmbGF0ZVdvcmtlclN0YXR1cy5FcnJvciB9XG4gIH0gZWxzZSB7XG4gICAgYWRkRXJyb3JUb01vbml0b3JpbmdCYXRjaChlcnJvcilcbiAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QsIG9iamVjdEVudHJpZXMsIEVuZHBvaW50QnVpbGRlciB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItY29yZSdcbmltcG9ydCB7IFNlZ21lbnRNZXRhIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBTRU5EX0JFQUNPTl9CWVRFX0xFTkdUSF9MSU1JVCA9IDYwXzAwMFxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZChcbiAgZW5kcG9pbnRCdWlsZGVyOiBFbmRwb2ludEJ1aWxkZXIsXG4gIGRhdGE6IFVpbnQ4QXJyYXksXG4gIG1ldGE6IFNlZ21lbnRNZXRhLFxuICByYXdTZWdtZW50U2l6ZTogbnVtYmVyLFxuICBmbHVzaFJlYXNvbj86IHN0cmluZ1xuKTogdm9pZCB7XG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcblxuICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgJ3NlZ21lbnQnLFxuICAgIG5ldyBCbG9iKFtkYXRhXSwge1xuICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgfSksXG4gICAgYCR7bWV0YS5zZXNzaW9uLmlkfS0ke21ldGEuc3RhcnR9YFxuICApXG5cbiAgdG9Gb3JtRW50cmllcyhtZXRhLCAoa2V5LCB2YWx1ZSkgPT4gZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpKVxuICBmb3JtRGF0YS5hcHBlbmQoJ3Jhd19zZWdtZW50X3NpemUnLCByYXdTZWdtZW50U2l6ZS50b1N0cmluZygpKVxuXG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgSHR0cFJlcXVlc3QoZW5kcG9pbnRCdWlsZGVyLCBTRU5EX0JFQUNPTl9CWVRFX0xFTkdUSF9MSU1JVClcbiAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhLCBkYXRhLmJ5dGVMZW5ndGgsIGZsdXNoUmVhc29uKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9Gb3JtRW50cmllcyhpbnB1dDogb2JqZWN0LCBvbkVudHJ5OiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHZvaWQsIHByZWZpeCA9ICcnKSB7XG4gIG9iamVjdEVudHJpZXMoaW5wdXQgYXMgeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICB0b0Zvcm1FbnRyaWVzKHZhbHVlLCBvbkVudHJ5LCBgJHtwcmVmaXh9JHtrZXl9LmApXG4gICAgfSBlbHNlIHtcbiAgICAgIG9uRW50cnkoYCR7cHJlZml4fSR7a2V5fWAsIFN0cmluZyh2YWx1ZSkpXG4gICAgfVxuICB9KVxufVxuIiwiaW1wb3J0IHsgSW5jcmVtZW50YWxEYXRhLCBTZXJpYWxpemVkTm9kZVdpdGhJZCB9IGZyb20gJy4vZG9tYWluL3JlY29yZC90eXBlcydcblxuZXhwb3J0IHsgSW5jcmVtZW50YWxTb3VyY2UsIE11dGF0aW9uRGF0YSwgVmlld3BvcnRSZXNpemVEYXRhLCBTY3JvbGxEYXRhIH0gZnJvbSAnLi9kb21haW4vcmVjb3JkL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlZ21lbnQgZXh0ZW5kcyBTZWdtZW50TWV0YSB7XG4gIHJlY29yZHM6IFJlY29yZFtdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VnbWVudE1ldGEgZXh0ZW5kcyBTZWdtZW50Q29udGV4dCB7XG4gIHN0YXJ0OiBudW1iZXJcbiAgZW5kOiBudW1iZXJcbiAgaGFzX2Z1bGxfc25hcHNob3Q6IGJvb2xlYW5cbiAgcmVjb3Jkc19jb3VudDogbnVtYmVyXG4gIGNyZWF0aW9uX3JlYXNvbjogQ3JlYXRpb25SZWFzb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWdtZW50Q29udGV4dCB7XG4gIGFwcGxpY2F0aW9uOiB7IGlkOiBzdHJpbmcgfVxuICBzZXNzaW9uOiB7IGlkOiBzdHJpbmcgfVxuICB2aWV3OiB7IGlkOiBzdHJpbmcgfVxufVxuXG5leHBvcnQgdHlwZSBDcmVhdGlvblJlYXNvbiA9XG4gIHwgJ2luaXQnXG4gIHwgJ21heF9kdXJhdGlvbidcbiAgfCAnbWF4X3NpemUnXG4gIHwgJ3ZpZXdfY2hhbmdlJ1xuICB8ICdiZWZvcmVfdW5sb2FkJ1xuICB8ICd2aXNpYmlsaXR5X2hpZGRlbidcblxuZXhwb3J0IHR5cGUgUmF3UmVjb3JkID1cbiAgfCBGdWxsU25hcHNob3RSZWNvcmRcbiAgfCBJbmNyZW1lbnRhbFNuYXBzaG90UmVjb3JkXG4gIHwgTWV0YVJlY29yZFxuICB8IEZvY3VzUmVjb3JkXG4gIHwgVmlld0VuZFJlY29yZFxuICB8IFZpc3VhbFZpZXdwb3J0UmVjb3JkXG5cbmV4cG9ydCB0eXBlIFJlY29yZCA9IFJhd1JlY29yZCAmIHtcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgZGVsYXk/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IFJlY29yZFR5cGUgPSB7XG4gIEZ1bGxTbmFwc2hvdDogMixcbiAgSW5jcmVtZW50YWxTbmFwc2hvdDogMyxcbiAgTWV0YTogNCxcbiAgRm9jdXM6IDYsXG4gIFZpZXdFbmQ6IDcsXG4gIFZpc3VhbFZpZXdwb3J0OiA4LFxufSBhcyBjb25zdFxuXG5leHBvcnQgdHlwZSBSZWNvcmRUeXBlID0gdHlwZW9mIFJlY29yZFR5cGVba2V5b2YgdHlwZW9mIFJlY29yZFR5cGVdXG5cbmV4cG9ydCBpbnRlcmZhY2UgRnVsbFNuYXBzaG90UmVjb3JkIHtcbiAgdHlwZTogdHlwZW9mIFJlY29yZFR5cGUuRnVsbFNuYXBzaG90XG4gIGRhdGE6IHtcbiAgICBub2RlOiBTZXJpYWxpemVkTm9kZVdpdGhJZFxuICAgIGluaXRpYWxPZmZzZXQ6IHtcbiAgICAgIHRvcDogbnVtYmVyXG4gICAgICBsZWZ0OiBudW1iZXJcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbmNyZW1lbnRhbFNuYXBzaG90UmVjb3JkIHtcbiAgdHlwZTogdHlwZW9mIFJlY29yZFR5cGUuSW5jcmVtZW50YWxTbmFwc2hvdFxuICBkYXRhOiBJbmNyZW1lbnRhbERhdGFcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRhUmVjb3JkIHtcbiAgdHlwZTogdHlwZW9mIFJlY29yZFR5cGUuTWV0YVxuICBkYXRhOiB7XG4gICAgaHJlZjogc3RyaW5nXG4gICAgd2lkdGg6IG51bWJlclxuICAgIGhlaWdodDogbnVtYmVyXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb2N1c1JlY29yZCB7XG4gIHR5cGU6IHR5cGVvZiBSZWNvcmRUeXBlLkZvY3VzXG4gIGRhdGE6IHtcbiAgICBoYXNfZm9jdXM6IGJvb2xlYW5cbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdFbmRSZWNvcmQge1xuICB0eXBlOiB0eXBlb2YgUmVjb3JkVHlwZS5WaWV3RW5kXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzdWFsVmlld3BvcnRSZWNvcmQge1xuICB0eXBlOiB0eXBlb2YgUmVjb3JkVHlwZS5WaXN1YWxWaWV3cG9ydFxuICBkYXRhOiB7XG4gICAgc2NhbGU6IG51bWJlclxuICAgIG9mZnNldExlZnQ6IG51bWJlclxuICAgIG9mZnNldFRvcDogbnVtYmVyXG4gICAgcGFnZUxlZnQ6IG51bWJlclxuICAgIHBhZ2VUb3A6IG51bWJlclxuICAgIGhlaWdodDogbnVtYmVyXG4gICAgd2lkdGg6IG51bWJlclxuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xubGV0IHdvcmtlclVSTFxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmbGF0ZVdvcmtlcigpIHtcbiAgLy8gTGF6aWx5IGNvbXB1dGUgdGhlIHdvcmtlciBVUkwgdG8gYWxsb3cgaW1wb3J0aW5nIHRoZSBTREsgaW4gTm9kZUpTXG4gIGlmICghd29ya2VyVVJMKSB7XG4gICAgd29ya2VyVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbYCgke3dvcmtlckNvZGVGbn0pKHNlbGYpYF0pKVxuICB9XG4gIHJldHVybiBuZXcgV29ya2VyKHdvcmtlclVSTClcbn1cblxuZnVuY3Rpb24gd29ya2VyQ29kZUZuKCkge1xuICBtb25pdG9yKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB7IERlZmxhdGUsIGNvbnN0YW50cyB9ID0gbWFrZVBha29EZWZsYXRlKClcblxuICAgIGxldCBkZWZsYXRlID0gbmV3IERlZmxhdGUoKVxuICAgIGxldCByYXdTaXplID0gMFxuICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtZXNzYWdlJyxcbiAgICAgIG1vbml0b3IoKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhXG4gICAgICAgIHN3aXRjaCAoZGF0YS5hY3Rpb24pIHtcbiAgICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICB0eXBlOiAnaW5pdGlhbGl6ZWQnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnd3JpdGUnOlxuICAgICAgICAgICAgY29uc3QgYWRkaXRpb25hbFJhd1NpemUgPSBwdXNoRGF0YShkYXRhLmRhdGEpXG4gICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgdHlwZTogJ3dyb3RlJyxcbiAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgIGNvbXByZXNzZWRTaXplOiBkZWZsYXRlLmNodW5rcy5yZWR1Y2UoKHRvdGFsLCBjaHVuaykgPT4gdG90YWwgKyBjaHVuay5sZW5ndGgsIDApLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsUmF3U2l6ZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2ZsdXNoJzpcbiAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWxSYXdTaXplID0gZGF0YS5kYXRhID8gcHVzaERhdGEoZGF0YS5kYXRhKSA6IDBcbiAgICAgICAgICAgIGRlZmxhdGUucHVzaCgnJywgY29uc3RhbnRzLlpfRklOSVNIKVxuICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgIHR5cGU6ICdmbHVzaGVkJyxcbiAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgIHJlc3VsdDogZGVmbGF0ZS5yZXN1bHQsXG4gICAgICAgICAgICAgIGFkZGl0aW9uYWxSYXdTaXplLFxuICAgICAgICAgICAgICByYXdTaXplLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGRlZmxhdGUgPSBuZXcgRGVmbGF0ZSgpXG4gICAgICAgICAgICByYXdTaXplID0gMFxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG5cbiAgICBmdW5jdGlvbiBwdXNoRGF0YShkYXRhKSB7XG4gICAgICBjb25zdCBiaW5hcnlEYXRhID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGRhdGEpXG4gICAgICBkZWZsYXRlLnB1c2goYmluYXJ5RGF0YSwgY29uc3RhbnRzLlpfU1lOQ19GTFVTSClcbiAgICAgIHJhd1NpemUgKz0gYmluYXJ5RGF0YS5sZW5ndGhcbiAgICAgIHJldHVybiBiaW5hcnlEYXRhLmxlbmd0aFxuICAgIH1cbiAgfSkoKVxuXG4gIGZ1bmN0aW9uIG1vbml0b3IoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcmVkJyxcbiAgICAgICAgICAgIGVycm9yOiBlLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAvLyBEQVRBX0NMT05FX0VSUiwgY2YgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9Xb3JrZXJzX0FQSS9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobVxuICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgdHlwZTogJ2Vycm9yZWQnLFxuICAgICAgICAgICAgZXJyb3I6ICcnICsgZSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvL2Jsb2IvMDM0NjY5YmEwZjFhNGMwNTkwZTQ1ZjdjMjgyMDEyODIwMGY5NzJiMy9kaXN0L3Bha29fZGVmbGF0ZS5lczUuanNcbiAgZnVuY3Rpb24gbWFrZVBha29EZWZsYXRlKCkge1xuICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgLy9cbiAgICAvLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgLy9cbiAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuICAgIC8vXG4gICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAvLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4gICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbiAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgc3BhY2UtdW5hcnktb3BzICovXG5cbiAgICAvKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuICAgIC8vIGNvbnN0IFpfRklMVEVSRUQgICAgICAgICAgPSAxO1xuICAgIC8vIGNvbnN0IFpfSFVGRk1BTl9PTkxZICAgICAgPSAyO1xuICAgIC8vIGNvbnN0IFpfUkxFICAgICAgICAgICAgICAgPSAzO1xuXG4gICAgdmFyIFpfRklYRUQgPSA0IC8vIGNvbnN0IFpfREVGQVVMVF9TVFJBVEVHWSAgPSAwO1xuXG4gICAgLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuXG4gICAgdmFyIFpfQklOQVJZID0gMFxuICAgIHZhciBaX1RFWFQgPSAxIC8vIGNvbnN0IFpfQVNDSUkgICAgICAgICAgICAgPSAxOyAvLyA9IFpfVEVYVFxuXG4gICAgdmFyIFpfVU5LTk9XTiA9IDJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICBmdW5jdGlvbiB6ZXJvKGJ1Zikge1xuICAgICAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICAgICAgd2hpbGUgKC0tbGVuID49IDApIHtcbiAgICAgICAgYnVmW2xlbl0gPSAwXG4gICAgICB9XG4gICAgfSAvLyBGcm9tIHp1dGlsLmhcblxuICAgIHZhciBTVE9SRURfQkxPQ0sgPSAwXG4gICAgdmFyIFNUQVRJQ19UUkVFUyA9IDFcbiAgICB2YXIgRFlOX1RSRUVTID0gMlxuICAgIC8qIFRoZSB0aHJlZSBraW5kcyBvZiBibG9jayB0eXBlICovXG5cbiAgICB2YXIgTUlOX01BVENIID0gM1xuICAgIHZhciBNQVhfTUFUQ0ggPSAyNThcbiAgICAvKiBUaGUgbWluaW11bSBhbmQgbWF4aW11bSBtYXRjaCBsZW5ndGhzICovXG4gICAgLy8gRnJvbSBkZWZsYXRlLmhcblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIEludGVybmFsIGNvbXByZXNzaW9uIHN0YXRlLlxuICAgICAqL1xuXG4gICAgdmFyIExFTkdUSF9DT0RFUyA9IDI5XG4gICAgLyogbnVtYmVyIG9mIGxlbmd0aCBjb2Rlcywgbm90IGNvdW50aW5nIHRoZSBzcGVjaWFsIEVORF9CTE9DSyBjb2RlICovXG5cbiAgICB2YXIgTElURVJBTFMgPSAyNTZcbiAgICAvKiBudW1iZXIgb2YgbGl0ZXJhbCBieXRlcyAwLi4yNTUgKi9cblxuICAgIHZhciBMX0NPREVTID0gTElURVJBTFMgKyAxICsgTEVOR1RIX0NPREVTXG4gICAgLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG5cbiAgICB2YXIgRF9DT0RFUyA9IDMwXG4gICAgLyogbnVtYmVyIG9mIGRpc3RhbmNlIGNvZGVzICovXG5cbiAgICB2YXIgQkxfQ09ERVMgPSAxOVxuICAgIC8qIG51bWJlciBvZiBjb2RlcyB1c2VkIHRvIHRyYW5zZmVyIHRoZSBiaXQgbGVuZ3RocyAqL1xuXG4gICAgdmFyIEhFQVBfU0laRSA9IDIgKiBMX0NPREVTICsgMVxuICAgIC8qIG1heGltdW0gaGVhcCBzaXplICovXG5cbiAgICB2YXIgTUFYX0JJVFMgPSAxNVxuICAgIC8qIEFsbCBjb2RlcyBtdXN0IG5vdCBleGNlZWQgTUFYX0JJVFMgYml0cyAqL1xuXG4gICAgdmFyIEJ1Zl9zaXplID0gMTZcbiAgICAvKiBzaXplIG9mIGJpdCBidWZmZXIgaW4gYmlfYnVmICovXG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBDb25zdGFudHNcbiAgICAgKi9cblxuICAgIHZhciBNQVhfQkxfQklUUyA9IDdcbiAgICAvKiBCaXQgbGVuZ3RoIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQkxfQklUUyBiaXRzICovXG5cbiAgICB2YXIgRU5EX0JMT0NLID0gMjU2XG4gICAgLyogZW5kIG9mIGJsb2NrIGxpdGVyYWwgY29kZSAqL1xuXG4gICAgdmFyIFJFUF8zXzYgPSAxNlxuICAgIC8qIHJlcGVhdCBwcmV2aW91cyBiaXQgbGVuZ3RoIDMtNiB0aW1lcyAoMiBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxuICAgIHZhciBSRVBaXzNfMTAgPSAxN1xuICAgIC8qIHJlcGVhdCBhIHplcm8gbGVuZ3RoIDMtMTAgdGltZXMgICgzIGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG4gICAgdmFyIFJFUFpfMTFfMTM4ID0gMThcbiAgICAvKiByZXBlYXQgYSB6ZXJvIGxlbmd0aCAxMS0xMzggdGltZXMgICg3IGJpdHMgb2YgcmVwZWF0IGNvdW50KSAqL1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cblxuICAgIHZhciBleHRyYV9sYml0cyA9XG4gICAgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGxlbmd0aCBjb2RlICovXG4gICAgICBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMiwgMiwgMiwgMiwgMywgMywgMywgMywgNCwgNCwgNCwgNCwgNSwgNSwgNSwgNSwgMF0pXG4gICAgdmFyIGV4dHJhX2RiaXRzID1cbiAgICAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggZGlzdGFuY2UgY29kZSAqL1xuICAgICAgbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDAsIDEsIDEsIDIsIDIsIDMsIDMsIDQsIDQsIDUsIDUsIDYsIDYsIDcsIDcsIDgsIDgsIDksIDksIDEwLCAxMCwgMTEsIDExLCAxMiwgMTIsIDEzLCAxM10pXG4gICAgdmFyIGV4dHJhX2JsYml0cyA9XG4gICAgICAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGJpdCBsZW5ndGggY29kZSAqL1xuICAgICAgbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDMsIDddKVxuICAgIHZhciBibF9vcmRlciA9IG5ldyBVaW50OEFycmF5KFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XSlcbiAgICAvKiBlc2xpbnQtZW5hYmxlIGNvbW1hLXNwYWNpbmcsYXJyYXktYnJhY2tldC1zcGFjaW5nICovXG5cbiAgICAvKiBUaGUgbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcyBhcmUgc2VudCBpbiBvcmRlciBvZiBkZWNyZWFzaW5nXG4gICAgICogcHJvYmFiaWxpdHksIHRvIGF2b2lkIHRyYW5zbWl0dGluZyB0aGUgbGVuZ3RocyBmb3IgdW51c2VkIGJpdCBsZW5ndGggY29kZXMuXG4gICAgICovXG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBMb2NhbCBkYXRhLiBUaGVzZSBhcmUgaW5pdGlhbGl6ZWQgb25seSBvbmNlLlxuICAgICAqL1xuICAgIC8vIFdlIHByZS1maWxsIGFycmF5cyB3aXRoIDAgdG8gYXZvaWQgdW5pbml0aWFsaXplZCBnYXBzXG5cbiAgICB2YXIgRElTVF9DT0RFX0xFTiA9IDUxMlxuICAgIC8qIHNlZSBkZWZpbml0aW9uIG9mIGFycmF5IGRpc3RfY29kZSBiZWxvdyAqL1xuICAgIC8vICEhISEgVXNlIGZsYXQgYXJyYXkgaW5zdGVhZCBvZiBzdHJ1Y3R1cmUsIEZyZXEgPSBpKjIsIExlbiA9IGkqMisxXG5cbiAgICB2YXIgc3RhdGljX2x0cmVlID0gbmV3IEFycmF5KChMX0NPREVTICsgMikgKiAyKVxuICAgIHplcm8oc3RhdGljX2x0cmVlKVxuICAgIC8qIFRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlLiBTaW5jZSB0aGUgYml0IGxlbmd0aHMgYXJlIGltcG9zZWQsIHRoZXJlIGlzIG5vXG4gICAgICogbmVlZCBmb3IgdGhlIExfQ09ERVMgZXh0cmEgY29kZXMgdXNlZCBkdXJpbmcgaGVhcCBjb25zdHJ1Y3Rpb24uIEhvd2V2ZXJcbiAgICAgKiBUaGUgY29kZXMgMjg2IGFuZCAyODcgYXJlIG5lZWRlZCB0byBidWlsZCBhIGNhbm9uaWNhbCB0cmVlIChzZWUgX3RyX2luaXRcbiAgICAgKiBiZWxvdykuXG4gICAgICovXG5cbiAgICB2YXIgc3RhdGljX2R0cmVlID0gbmV3IEFycmF5KERfQ09ERVMgKiAyKVxuICAgIHplcm8oc3RhdGljX2R0cmVlKVxuICAgIC8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZS4gKEFjdHVhbGx5IGEgdHJpdmlhbCB0cmVlIHNpbmNlIGFsbCBjb2RlcyB1c2VcbiAgICAgKiA1IGJpdHMuKVxuICAgICAqL1xuXG4gICAgdmFyIF9kaXN0X2NvZGUgPSBuZXcgQXJyYXkoRElTVF9DT0RFX0xFTilcblxuICAgIHplcm8oX2Rpc3RfY29kZSlcbiAgICAvKiBEaXN0YW5jZSBjb2Rlcy4gVGhlIGZpcnN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgZGlzdGFuY2VzXG4gICAgICogMyAuLiAyNTgsIHRoZSBsYXN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgdG9wIDggYml0cyBvZlxuICAgICAqIHRoZSAxNSBiaXQgZGlzdGFuY2VzLlxuICAgICAqL1xuXG4gICAgdmFyIF9sZW5ndGhfY29kZSA9IG5ldyBBcnJheShNQVhfTUFUQ0ggLSBNSU5fTUFUQ0ggKyAxKVxuXG4gICAgemVybyhfbGVuZ3RoX2NvZGUpXG4gICAgLyogbGVuZ3RoIGNvZGUgZm9yIGVhY2ggbm9ybWFsaXplZCBtYXRjaCBsZW5ndGggKDAgPT0gTUlOX01BVENIKSAqL1xuXG4gICAgdmFyIGJhc2VfbGVuZ3RoID0gbmV3IEFycmF5KExFTkdUSF9DT0RFUylcbiAgICB6ZXJvKGJhc2VfbGVuZ3RoKVxuICAgIC8qIEZpcnN0IG5vcm1hbGl6ZWQgbGVuZ3RoIGZvciBlYWNoIGNvZGUgKDAgPSBNSU5fTUFUQ0gpICovXG5cbiAgICB2YXIgYmFzZV9kaXN0ID0gbmV3IEFycmF5KERfQ09ERVMpXG4gICAgemVybyhiYXNlX2Rpc3QpXG4gICAgLyogRmlyc3Qgbm9ybWFsaXplZCBkaXN0YW5jZSBmb3IgZWFjaCBjb2RlICgwID0gZGlzdGFuY2Ugb2YgMSkgKi9cblxuICAgIGZ1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLCBleHRyYV9iaXRzLCBleHRyYV9iYXNlLCBlbGVtcywgbWF4X2xlbmd0aCkge1xuICAgICAgdGhpcy5zdGF0aWNfdHJlZSA9IHN0YXRpY190cmVlXG4gICAgICAvKiBzdGF0aWMgdHJlZSBvciBOVUxMICovXG5cbiAgICAgIHRoaXMuZXh0cmFfYml0cyA9IGV4dHJhX2JpdHNcbiAgICAgIC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggY29kZSBvciBOVUxMICovXG5cbiAgICAgIHRoaXMuZXh0cmFfYmFzZSA9IGV4dHJhX2Jhc2VcbiAgICAgIC8qIGJhc2UgaW5kZXggZm9yIGV4dHJhX2JpdHMgKi9cblxuICAgICAgdGhpcy5lbGVtcyA9IGVsZW1zXG4gICAgICAvKiBtYXggbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSB0cmVlICovXG5cbiAgICAgIHRoaXMubWF4X2xlbmd0aCA9IG1heF9sZW5ndGhcbiAgICAgIC8qIG1heCBiaXQgbGVuZ3RoIGZvciB0aGUgY29kZXMgKi9cbiAgICAgIC8vIHNob3cgaWYgYHN0YXRpY190cmVlYCBoYXMgZGF0YSBvciBkdW1teSAtIG5lZWRlZCBmb3IgbW9ub21vcnBoaWMgb2JqZWN0c1xuXG4gICAgICB0aGlzLmhhc19zdHJlZSA9IHN0YXRpY190cmVlICYmIHN0YXRpY190cmVlLmxlbmd0aFxuICAgIH1cblxuICAgIHZhciBzdGF0aWNfbF9kZXNjXG4gICAgdmFyIHN0YXRpY19kX2Rlc2NcbiAgICB2YXIgc3RhdGljX2JsX2Rlc2NcblxuICAgIGZ1bmN0aW9uIFRyZWVEZXNjKGR5bl90cmVlLCBzdGF0X2Rlc2MpIHtcbiAgICAgIHRoaXMuZHluX3RyZWUgPSBkeW5fdHJlZVxuICAgICAgLyogdGhlIGR5bmFtaWMgdHJlZSAqL1xuXG4gICAgICB0aGlzLm1heF9jb2RlID0gMFxuICAgICAgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG5cbiAgICAgIHRoaXMuc3RhdF9kZXNjID0gc3RhdF9kZXNjXG4gICAgICAvKiB0aGUgY29ycmVzcG9uZGluZyBzdGF0aWMgdHJlZSAqL1xuICAgIH1cblxuICAgIHZhciBkX2NvZGUgPSBmdW5jdGlvbiBkX2NvZGUoZGlzdCkge1xuICAgICAgcmV0dXJuIGRpc3QgPCAyNTYgPyBfZGlzdF9jb2RlW2Rpc3RdIDogX2Rpc3RfY29kZVsyNTYgKyAoZGlzdCA+Pj4gNyldXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIE91dHB1dCBhIHNob3J0IExTQiBmaXJzdCBvbiB0aGUgc3RyZWFtLlxuICAgICAqIElOIGFzc2VydGlvbjogdGhlcmUgaXMgZW5vdWdoIHJvb20gaW4gcGVuZGluZ0J1Zi5cbiAgICAgKi9cblxuICAgIHZhciBwdXRfc2hvcnQgPSBmdW5jdGlvbiBwdXRfc2hvcnQocywgdykge1xuICAgICAgLy8gICAgcHV0X2J5dGUocywgKHVjaCkoKHcpICYgMHhmZikpO1xuICAgICAgLy8gICAgcHV0X2J5dGUocywgKHVjaCkoKHVzaCkodykgPj4gOCkpO1xuICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSB3ICYgMHhmZlxuICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAodyA+Pj4gOCkgJiAweGZmXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNlbmQgYSB2YWx1ZSBvbiBhIGdpdmVuIG51bWJlciBvZiBiaXRzLlxuICAgICAqIElOIGFzc2VydGlvbjogbGVuZ3RoIDw9IDE2IGFuZCB2YWx1ZSBmaXRzIGluIGxlbmd0aCBiaXRzLlxuICAgICAqL1xuXG4gICAgdmFyIHNlbmRfYml0cyA9IGZ1bmN0aW9uIHNlbmRfYml0cyhzLCB2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICBpZiAocy5iaV92YWxpZCA+IEJ1Zl9zaXplIC0gbGVuZ3RoKSB7XG4gICAgICAgIHMuYmlfYnVmIHw9ICh2YWx1ZSA8PCBzLmJpX3ZhbGlkKSAmIDB4ZmZmZlxuICAgICAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpXG4gICAgICAgIHMuYmlfYnVmID0gdmFsdWUgPj4gKEJ1Zl9zaXplIC0gcy5iaV92YWxpZClcbiAgICAgICAgcy5iaV92YWxpZCArPSBsZW5ndGggLSBCdWZfc2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmXG4gICAgICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNlbmRfY29kZSA9IGZ1bmN0aW9uIHNlbmRfY29kZShzLCBjLCB0cmVlKSB7XG4gICAgICBzZW5kX2JpdHMoXG4gICAgICAgIHMsXG4gICAgICAgIHRyZWVbYyAqIDJdLFxuICAgICAgICAvKiAuQ29kZSAqL1xuICAgICAgICB0cmVlW2MgKiAyICsgMV1cbiAgICAgICAgLyogLkxlbiAqL1xuICAgICAgKVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBSZXZlcnNlIHRoZSBmaXJzdCBsZW4gYml0cyBvZiBhIGNvZGUsIHVzaW5nIHN0cmFpZ2h0Zm9yd2FyZCBjb2RlIChhIGZhc3RlclxuICAgICAqIG1ldGhvZCB3b3VsZCB1c2UgYSB0YWJsZSlcbiAgICAgKiBJTiBhc3NlcnRpb246IDEgPD0gbGVuIDw9IDE1XG4gICAgICovXG5cbiAgICB2YXIgYmlfcmV2ZXJzZSA9IGZ1bmN0aW9uIGJpX3JldmVyc2UoY29kZSwgbGVuKSB7XG4gICAgICB2YXIgcmVzID0gMFxuXG4gICAgICBkbyB7XG4gICAgICAgIHJlcyB8PSBjb2RlICYgMVxuICAgICAgICBjb2RlID4+Pj0gMVxuICAgICAgICByZXMgPDw9IDFcbiAgICAgIH0gd2hpbGUgKC0tbGVuID4gMClcblxuICAgICAgcmV0dXJuIHJlcyA+Pj4gMVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBGbHVzaCB0aGUgYml0IGJ1ZmZlciwga2VlcGluZyBhdCBtb3N0IDcgYml0cyBpbiBpdC5cbiAgICAgKi9cblxuICAgIHZhciBiaV9mbHVzaCA9IGZ1bmN0aW9uIGJpX2ZsdXNoKHMpIHtcbiAgICAgIGlmIChzLmJpX3ZhbGlkID09PSAxNikge1xuICAgICAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpXG4gICAgICAgIHMuYmlfYnVmID0gMFxuICAgICAgICBzLmJpX3ZhbGlkID0gMFxuICAgICAgfSBlbHNlIGlmIChzLmJpX3ZhbGlkID49IDgpIHtcbiAgICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBzLmJpX2J1ZiAmIDB4ZmZcbiAgICAgICAgcy5iaV9idWYgPj49IDhcbiAgICAgICAgcy5iaV92YWxpZCAtPSA4XG4gICAgICB9XG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIENvbXB1dGUgdGhlIG9wdGltYWwgYml0IGxlbmd0aHMgZm9yIGEgdHJlZSBhbmQgdXBkYXRlIHRoZSB0b3RhbCBiaXQgbGVuZ3RoXG4gICAgICogZm9yIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBmcmVxIGFuZCBkYWQgYXJlIHNldCwgaGVhcFtoZWFwX21heF0gYW5kXG4gICAgICogICAgYWJvdmUgYXJlIHRoZSB0cmVlIG5vZGVzIHNvcnRlZCBieSBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAgICAgKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkIGxlbiBpcyBzZXQgdG8gdGhlIG9wdGltYWwgYml0IGxlbmd0aCwgdGhlXG4gICAgICogICAgIGFycmF5IGJsX2NvdW50IGNvbnRhaW5zIHRoZSBmcmVxdWVuY2llcyBmb3IgZWFjaCBiaXQgbGVuZ3RoLlxuICAgICAqICAgICBUaGUgbGVuZ3RoIG9wdF9sZW4gaXMgdXBkYXRlZDsgc3RhdGljX2xlbiBpcyBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXNcbiAgICAgKiAgICAgbm90IG51bGwuXG4gICAgICovXG5cbiAgICB2YXIgZ2VuX2JpdGxlbiA9IGZ1bmN0aW9uIGdlbl9iaXRsZW4oXG4gICAgICBzLFxuICAgICAgZGVzYyAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICB0cmVlX2Rlc2MgKmRlc2M7ICAgIC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cbiAgICApIHtcbiAgICAgIHZhciB0cmVlID0gZGVzYy5keW5fdHJlZVxuICAgICAgdmFyIG1heF9jb2RlID0gZGVzYy5tYXhfY29kZVxuICAgICAgdmFyIHN0cmVlID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWVcbiAgICAgIHZhciBoYXNfc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWVcbiAgICAgIHZhciBleHRyYSA9IGRlc2Muc3RhdF9kZXNjLmV4dHJhX2JpdHNcbiAgICAgIHZhciBiYXNlID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYmFzZVxuICAgICAgdmFyIG1heF9sZW5ndGggPSBkZXNjLnN0YXRfZGVzYy5tYXhfbGVuZ3RoXG4gICAgICB2YXIgaFxuICAgICAgLyogaGVhcCBpbmRleCAqL1xuXG4gICAgICB2YXIgblxuICAgICAgdmFyIG1cbiAgICAgIC8qIGl0ZXJhdGUgb3ZlciB0aGUgdHJlZSBlbGVtZW50cyAqL1xuXG4gICAgICB2YXIgYml0c1xuICAgICAgLyogYml0IGxlbmd0aCAqL1xuXG4gICAgICB2YXIgeGJpdHNcbiAgICAgIC8qIGV4dHJhIGJpdHMgKi9cblxuICAgICAgdmFyIGZcbiAgICAgIC8qIGZyZXF1ZW5jeSAqL1xuXG4gICAgICB2YXIgb3ZlcmZsb3cgPSAwXG4gICAgICAvKiBudW1iZXIgb2YgZWxlbWVudHMgd2l0aCBiaXQgbGVuZ3RoIHRvbyBsYXJnZSAqL1xuXG4gICAgICBmb3IgKGJpdHMgPSAwOyBiaXRzIDw9IE1BWF9CSVRTOyBiaXRzKyspIHtcbiAgICAgICAgcy5ibF9jb3VudFtiaXRzXSA9IDBcbiAgICAgIH1cbiAgICAgIC8qIEluIGEgZmlyc3QgcGFzcywgY29tcHV0ZSB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RocyAod2hpY2ggbWF5XG4gICAgICAgKiBvdmVyZmxvdyBpbiB0aGUgY2FzZSBvZiB0aGUgYml0IGxlbmd0aCB0cmVlKS5cbiAgICAgICAqL1xuXG4gICAgICB0cmVlW3MuaGVhcFtzLmhlYXBfbWF4XSAqIDIgKyAxXSA9XG4gICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgMFxuICAgICAgLyogcm9vdCBvZiB0aGUgaGVhcCAqL1xuXG4gICAgICBmb3IgKGggPSBzLmhlYXBfbWF4ICsgMTsgaCA8IEhFQVBfU0laRTsgaCsrKSB7XG4gICAgICAgIG4gPSBzLmhlYXBbaF1cbiAgICAgICAgYml0cyA9XG4gICAgICAgICAgdHJlZVtcbiAgICAgICAgICAgIHRyZWVbbiAqIDIgKyAxXSAqXG4gICAgICAgICAgICAgIC8qIC5EYWQgKi9cbiAgICAgICAgICAgICAgMiArXG4gICAgICAgICAgICAgIDFcbiAgICAgICAgICBdICtcbiAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgMVxuXG4gICAgICAgIGlmIChiaXRzID4gbWF4X2xlbmd0aCkge1xuICAgICAgICAgIGJpdHMgPSBtYXhfbGVuZ3RoXG4gICAgICAgICAgb3ZlcmZsb3crK1xuICAgICAgICB9XG5cbiAgICAgICAgdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgYml0c1xuICAgICAgICAvKiBXZSBvdmVyd3JpdGUgdHJlZVtuXS5EYWQgd2hpY2ggaXMgbm8gbG9uZ2VyIG5lZWRlZCAqL1xuXG4gICAgICAgIGlmIChuID4gbWF4X2NvZGUpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIC8qIG5vdCBhIGxlYWYgbm9kZSAqL1xuXG4gICAgICAgIHMuYmxfY291bnRbYml0c10rK1xuICAgICAgICB4Yml0cyA9IDBcblxuICAgICAgICBpZiAobiA+PSBiYXNlKSB7XG4gICAgICAgICAgeGJpdHMgPSBleHRyYVtuIC0gYmFzZV1cbiAgICAgICAgfVxuXG4gICAgICAgIGYgPSB0cmVlW24gKiAyXVxuICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICBzLm9wdF9sZW4gKz0gZiAqIChiaXRzICsgeGJpdHMpXG5cbiAgICAgICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgICAgIHMuc3RhdGljX2xlbiArPVxuICAgICAgICAgICAgZiAqXG4gICAgICAgICAgICAoc3RyZWVbbiAqIDIgKyAxXSArXG4gICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgeGJpdHMpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG92ZXJmbG93ID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfSAvLyBUcmFjZSgoc3RkZXJyLFwiXFxuYml0IGxlbmd0aCBvdmVyZmxvd1xcblwiKSk7XG5cbiAgICAgIC8qIFRoaXMgaGFwcGVucyBmb3IgZXhhbXBsZSBvbiBvYmoyIGFuZCBwaWMgb2YgdGhlIENhbGdhcnkgY29ycHVzICovXG5cbiAgICAgIC8qIEZpbmQgdGhlIGZpcnN0IGJpdCBsZW5ndGggd2hpY2ggY291bGQgaW5jcmVhc2U6ICovXG5cbiAgICAgIGRvIHtcbiAgICAgICAgYml0cyA9IG1heF9sZW5ndGggLSAxXG5cbiAgICAgICAgd2hpbGUgKHMuYmxfY291bnRbYml0c10gPT09IDApIHtcbiAgICAgICAgICBiaXRzLS1cbiAgICAgICAgfVxuXG4gICAgICAgIHMuYmxfY291bnRbYml0c10tLVxuICAgICAgICAvKiBtb3ZlIG9uZSBsZWFmIGRvd24gdGhlIHRyZWUgKi9cblxuICAgICAgICBzLmJsX2NvdW50W2JpdHMgKyAxXSArPSAyXG4gICAgICAgIC8qIG1vdmUgb25lIG92ZXJmbG93IGl0ZW0gYXMgaXRzIGJyb3RoZXIgKi9cblxuICAgICAgICBzLmJsX2NvdW50W21heF9sZW5ndGhdLS1cbiAgICAgICAgLyogVGhlIGJyb3RoZXIgb2YgdGhlIG92ZXJmbG93IGl0ZW0gYWxzbyBtb3ZlcyBvbmUgc3RlcCB1cCxcbiAgICAgICAgICogYnV0IHRoaXMgZG9lcyBub3QgYWZmZWN0IGJsX2NvdW50W21heF9sZW5ndGhdXG4gICAgICAgICAqL1xuXG4gICAgICAgIG92ZXJmbG93IC09IDJcbiAgICAgIH0gd2hpbGUgKG92ZXJmbG93ID4gMClcbiAgICAgIC8qIE5vdyByZWNvbXB1dGUgYWxsIGJpdCBsZW5ndGhzLCBzY2FubmluZyBpbiBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAgICAgICAqIGggaXMgc3RpbGwgZXF1YWwgdG8gSEVBUF9TSVpFLiAoSXQgaXMgc2ltcGxlciB0byByZWNvbnN0cnVjdCBhbGxcbiAgICAgICAqIGxlbmd0aHMgaW5zdGVhZCBvZiBmaXhpbmcgb25seSB0aGUgd3Jvbmcgb25lcy4gVGhpcyBpZGVhIGlzIHRha2VuXG4gICAgICAgKiBmcm9tICdhcicgd3JpdHRlbiBieSBIYXJ1aGlrbyBPa3VtdXJhLilcbiAgICAgICAqL1xuXG4gICAgICBmb3IgKGJpdHMgPSBtYXhfbGVuZ3RoOyBiaXRzICE9PSAwOyBiaXRzLS0pIHtcbiAgICAgICAgbiA9IHMuYmxfY291bnRbYml0c11cblxuICAgICAgICB3aGlsZSAobiAhPT0gMCkge1xuICAgICAgICAgIG0gPSBzLmhlYXBbLS1oXVxuXG4gICAgICAgICAgaWYgKG0gPiBtYXhfY29kZSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0cmVlW20gKiAyICsgMV0gIT09XG4gICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICBiaXRzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBUcmFjZSgoc3RkZXJyLFwiY29kZSAlZCBiaXRzICVkLT4lZFxcblwiLCBtLCB0cmVlW21dLkxlbiwgYml0cykpO1xuICAgICAgICAgICAgcy5vcHRfbGVuICs9XG4gICAgICAgICAgICAgIChiaXRzIC0gdHJlZVttICogMiArIDFdKSAqXG4gICAgICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICAgICAgdHJlZVttICogMl1cbiAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICB0cmVlW20gKiAyICsgMV0gPVxuICAgICAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgICAgIGJpdHNcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuLS1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBHZW5lcmF0ZSB0aGUgY29kZXMgZm9yIGEgZ2l2ZW4gdHJlZSBhbmQgYml0IGNvdW50cyAod2hpY2ggbmVlZCBub3QgYmVcbiAgICAgKiBvcHRpbWFsKS5cbiAgICAgKiBJTiBhc3NlcnRpb246IHRoZSBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgYml0IGxlbmd0aCBzdGF0aXN0aWNzIGZvclxuICAgICAqIHRoZSBnaXZlbiB0cmVlIGFuZCB0aGUgZmllbGQgbGVuIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gICAgICogT1VUIGFzc2VydGlvbjogdGhlIGZpZWxkIGNvZGUgaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cyBvZiBub25cbiAgICAgKiAgICAgemVybyBjb2RlIGxlbmd0aC5cbiAgICAgKi9cblxuICAgIHZhciBnZW5fY29kZXMgPSBmdW5jdGlvbiBnZW5fY29kZXMoXG4gICAgICB0cmVlLFxuICAgICAgbWF4X2NvZGUsXG4gICAgICBibF9jb3VudCAvLyAgICBjdF9kYXRhICp0cmVlOyAgICAgICAgICAgICAvKiB0aGUgdHJlZSB0byBkZWNvcmF0ZSAqLyAvLyAgICBpbnQgbWF4X2NvZGU7ICAgICAgICAgICAgICAvKiBsYXJnZXN0IGNvZGUgd2l0aCBub24gemVybyBmcmVxdWVuY3kgKi8gLy8gICAgdXNoZiAqYmxfY291bnQ7ICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCAqL1xuICAgICkge1xuICAgICAgdmFyIG5leHRfY29kZSA9IG5ldyBBcnJheShNQVhfQklUUyArIDEpXG4gICAgICAvKiBuZXh0IGNvZGUgdmFsdWUgZm9yIGVhY2ggYml0IGxlbmd0aCAqL1xuXG4gICAgICB2YXIgY29kZSA9IDBcbiAgICAgIC8qIHJ1bm5pbmcgY29kZSB2YWx1ZSAqL1xuXG4gICAgICB2YXIgYml0c1xuICAgICAgLyogYml0IGluZGV4ICovXG5cbiAgICAgIHZhciBuXG4gICAgICAvKiBjb2RlIGluZGV4ICovXG5cbiAgICAgIC8qIFRoZSBkaXN0cmlidXRpb24gY291bnRzIGFyZSBmaXJzdCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjb2RlIHZhbHVlc1xuICAgICAgICogd2l0aG91dCBiaXQgcmV2ZXJzYWwuXG4gICAgICAgKi9cblxuICAgICAgZm9yIChiaXRzID0gMTsgYml0cyA8PSBNQVhfQklUUzsgYml0cysrKSB7XG4gICAgICAgIG5leHRfY29kZVtiaXRzXSA9IGNvZGUgPSAoY29kZSArIGJsX2NvdW50W2JpdHMgLSAxXSkgPDwgMVxuICAgICAgfVxuICAgICAgLyogQ2hlY2sgdGhhdCB0aGUgYml0IGNvdW50cyBpbiBibF9jb3VudCBhcmUgY29uc2lzdGVudC4gVGhlIGxhc3QgY29kZVxuICAgICAgICogbXVzdCBiZSBhbGwgb25lcy5cbiAgICAgICAqL1xuICAgICAgLy8gQXNzZXJ0IChjb2RlICsgYmxfY291bnRbTUFYX0JJVFNdLTEgPT0gKDE8PE1BWF9CSVRTKS0xLFxuICAgICAgLy8gICAgICAgIFwiaW5jb25zaXN0ZW50IGJpdCBjb3VudHNcIik7XG4gICAgICAvLyBUcmFjZXYoKHN0ZGVycixcIlxcbmdlbl9jb2RlczogbWF4X2NvZGUgJWQgXCIsIG1heF9jb2RlKSk7XG5cbiAgICAgIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgICAgICB2YXIgbGVuID0gdHJlZVtuICogMiArIDFdXG4gICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgLyogTm93IHJldmVyc2UgdGhlIGJpdHMgKi9cblxuICAgICAgICB0cmVlW24gKiAyXSA9XG4gICAgICAgICAgLyogLkNvZGUgKi9cbiAgICAgICAgICBiaV9yZXZlcnNlKG5leHRfY29kZVtsZW5dKyssIGxlbikgLy8gVHJhY2Vjdih0cmVlICE9IHN0YXRpY19sdHJlZSwgKHN0ZGVycixcIlxcbm4gJTNkICVjIGwgJTJkIGMgJTR4ICgleCkgXCIsXG4gICAgICAgIC8vICAgICBuLCAoaXNncmFwaChuKSA/IG4gOiAnICcpLCBsZW4sIHRyZWVbbl0uQ29kZSwgbmV4dF9jb2RlW2xlbl0tMSkpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBJbml0aWFsaXplIHRoZSB2YXJpb3VzICdjb25zdGFudCcgdGFibGVzLlxuICAgICAqL1xuXG4gICAgdmFyIHRyX3N0YXRpY19pbml0ID0gZnVuY3Rpb24gdHJfc3RhdGljX2luaXQoKSB7XG4gICAgICB2YXIgblxuICAgICAgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG5cbiAgICAgIHZhciBiaXRzXG4gICAgICAvKiBiaXQgY291bnRlciAqL1xuXG4gICAgICB2YXIgbGVuZ3RoXG4gICAgICAvKiBsZW5ndGggdmFsdWUgKi9cblxuICAgICAgdmFyIGNvZGVcbiAgICAgIC8qIGNvZGUgdmFsdWUgKi9cblxuICAgICAgdmFyIGRpc3RcbiAgICAgIC8qIGRpc3RhbmNlIGluZGV4ICovXG5cbiAgICAgIHZhciBibF9jb3VudCA9IG5ldyBBcnJheShNQVhfQklUUyArIDEpXG4gICAgICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoIGZvciBhbiBvcHRpbWFsIHRyZWUgKi9cbiAgICAgIC8vIGRvIGNoZWNrIGluIF90cl9pbml0KClcbiAgICAgIC8vIGlmIChzdGF0aWNfaW5pdF9kb25lKSByZXR1cm47XG5cbiAgICAgIC8qIEZvciBzb21lIGVtYmVkZGVkIHRhcmdldHMsIGdsb2JhbCB2YXJpYWJsZXMgYXJlIG5vdCBpbml0aWFsaXplZDogKi9cblxuICAgICAgLyogI2lmZGVmIE5PX0lOSVRfR0xPQkFMX1BPSU5URVJTXG4gICAgICBzdGF0aWNfbF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2x0cmVlO1xuICAgICAgc3RhdGljX2xfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfbGJpdHM7XG4gICAgICBzdGF0aWNfZF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2R0cmVlO1xuICAgICAgc3RhdGljX2RfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfZGJpdHM7XG4gICAgICBzdGF0aWNfYmxfZGVzYy5leHRyYV9iaXRzID0gZXh0cmFfYmxiaXRzO1xuICAgICNlbmRpZiAqL1xuXG4gICAgICAvKiBJbml0aWFsaXplIHRoZSBtYXBwaW5nIGxlbmd0aCAoMC4uMjU1KSAtPiBsZW5ndGggY29kZSAoMC4uMjgpICovXG5cbiAgICAgIGxlbmd0aCA9IDBcblxuICAgICAgZm9yIChjb2RlID0gMDsgY29kZSA8IExFTkdUSF9DT0RFUyAtIDE7IGNvZGUrKykge1xuICAgICAgICBiYXNlX2xlbmd0aFtjb2RlXSA9IGxlbmd0aFxuXG4gICAgICAgIGZvciAobiA9IDA7IG4gPCAxIDw8IGV4dHJhX2xiaXRzW2NvZGVdOyBuKyspIHtcbiAgICAgICAgICBfbGVuZ3RoX2NvZGVbbGVuZ3RoKytdID0gY29kZVxuICAgICAgICB9XG4gICAgICB9IC8vIEFzc2VydCAobGVuZ3RoID09IDI1NiwgXCJ0cl9zdGF0aWNfaW5pdDogbGVuZ3RoICE9IDI1NlwiKTtcblxuICAgICAgLyogTm90ZSB0aGF0IHRoZSBsZW5ndGggMjU1IChtYXRjaCBsZW5ndGggMjU4KSBjYW4gYmUgcmVwcmVzZW50ZWRcbiAgICAgICAqIGluIHR3byBkaWZmZXJlbnQgd2F5czogY29kZSAyODQgKyA1IGJpdHMgb3IgY29kZSAyODUsIHNvIHdlXG4gICAgICAgKiBvdmVyd3JpdGUgbGVuZ3RoX2NvZGVbMjU1XSB0byB1c2UgdGhlIGJlc3QgZW5jb2Rpbmc6XG4gICAgICAgKi9cblxuICAgICAgX2xlbmd0aF9jb2RlW2xlbmd0aCAtIDFdID0gY29kZVxuICAgICAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBkaXN0ICgwLi4zMkspIC0+IGRpc3QgY29kZSAoMC4uMjkpICovXG5cbiAgICAgIGRpc3QgPSAwXG5cbiAgICAgIGZvciAoY29kZSA9IDA7IGNvZGUgPCAxNjsgY29kZSsrKSB7XG4gICAgICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3RcblxuICAgICAgICBmb3IgKG4gPSAwOyBuIDwgMSA8PCBleHRyYV9kYml0c1tjb2RlXTsgbisrKSB7XG4gICAgICAgICAgX2Rpc3RfY29kZVtkaXN0KytdID0gY29kZVxuICAgICAgICB9XG4gICAgICB9IC8vIEFzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGRpc3QgIT0gMjU2XCIpO1xuXG4gICAgICBkaXN0ID4+PSA3XG4gICAgICAvKiBmcm9tIG5vdyBvbiwgYWxsIGRpc3RhbmNlcyBhcmUgZGl2aWRlZCBieSAxMjggKi9cblxuICAgICAgZm9yICg7IGNvZGUgPCBEX0NPREVTOyBjb2RlKyspIHtcbiAgICAgICAgYmFzZV9kaXN0W2NvZGVdID0gZGlzdCA8PCA3XG5cbiAgICAgICAgZm9yIChuID0gMDsgbiA8IDEgPDwgKGV4dHJhX2RiaXRzW2NvZGVdIC0gNyk7IG4rKykge1xuICAgICAgICAgIF9kaXN0X2NvZGVbMjU2ICsgZGlzdCsrXSA9IGNvZGVcbiAgICAgICAgfVxuICAgICAgfSAvLyBBc3NlcnQgKGRpc3QgPT0gMjU2LCBcInRyX3N0YXRpY19pbml0OiAyNTYrZGlzdCAhPSA1MTJcIik7XG5cbiAgICAgIC8qIENvbnN0cnVjdCB0aGUgY29kZXMgb2YgdGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUgKi9cblxuICAgICAgZm9yIChiaXRzID0gMDsgYml0cyA8PSBNQVhfQklUUzsgYml0cysrKSB7XG4gICAgICAgIGJsX2NvdW50W2JpdHNdID0gMFxuICAgICAgfVxuXG4gICAgICBuID0gMFxuXG4gICAgICB3aGlsZSAobiA8PSAxNDMpIHtcbiAgICAgICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICA4XG4gICAgICAgIG4rK1xuICAgICAgICBibF9jb3VudFs4XSsrXG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChuIDw9IDI1NSkge1xuICAgICAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXSA9XG4gICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgIDlcbiAgICAgICAgbisrXG4gICAgICAgIGJsX2NvdW50WzldKytcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKG4gPD0gMjc5KSB7XG4gICAgICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdID1cbiAgICAgICAgICAvKiAuTGVuICovXG4gICAgICAgICAgN1xuICAgICAgICBuKytcbiAgICAgICAgYmxfY291bnRbN10rK1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAobiA8PSAyODcpIHtcbiAgICAgICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICA4XG4gICAgICAgIG4rK1xuICAgICAgICBibF9jb3VudFs4XSsrXG4gICAgICB9XG4gICAgICAvKiBDb2RlcyAyODYgYW5kIDI4NyBkbyBub3QgZXhpc3QsIGJ1dCB3ZSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB0aGVcbiAgICAgICAqIHRyZWUgY29uc3RydWN0aW9uIHRvIGdldCBhIGNhbm9uaWNhbCBIdWZmbWFuIHRyZWUgKGxvbmdlc3QgY29kZVxuICAgICAgICogYWxsIG9uZXMpXG4gICAgICAgKi9cblxuICAgICAgZ2VuX2NvZGVzKHN0YXRpY19sdHJlZSwgTF9DT0RFUyArIDEsIGJsX2NvdW50KVxuICAgICAgLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlIGlzIHRyaXZpYWw6ICovXG5cbiAgICAgIGZvciAobiA9IDA7IG4gPCBEX0NPREVTOyBuKyspIHtcbiAgICAgICAgc3RhdGljX2R0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgICA1XG4gICAgICAgIHN0YXRpY19kdHJlZVtuICogMl0gPVxuICAgICAgICAgIC8qIC5Db2RlICovXG4gICAgICAgICAgYmlfcmV2ZXJzZShuLCA1KVxuICAgICAgfSAvLyBOb3cgZGF0YSByZWFkeSBhbmQgd2UgY2FuIGluaXQgc3RhdGljIHRyZWVzXG5cbiAgICAgIHN0YXRpY19sX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLCBleHRyYV9sYml0cywgTElURVJBTFMgKyAxLCBMX0NPREVTLCBNQVhfQklUUylcbiAgICAgIHN0YXRpY19kX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2R0cmVlLCBleHRyYV9kYml0cywgMCwgRF9DT0RFUywgTUFYX0JJVFMpXG4gICAgICBzdGF0aWNfYmxfZGVzYyA9IG5ldyBTdGF0aWNUcmVlRGVzYyhuZXcgQXJyYXkoMCksIGV4dHJhX2JsYml0cywgMCwgQkxfQ09ERVMsIE1BWF9CTF9CSVRTKSAvLyBzdGF0aWNfaW5pdF9kb25lID0gdHJ1ZTtcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBibG9jay5cbiAgICAgKi9cblxuICAgIHZhciBpbml0X2Jsb2NrID0gZnVuY3Rpb24gaW5pdF9ibG9jayhzKSB7XG4gICAgICB2YXIgblxuICAgICAgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG5cbiAgICAgIC8qIEluaXRpYWxpemUgdGhlIHRyZWVzLiAqL1xuXG4gICAgICBmb3IgKG4gPSAwOyBuIDwgTF9DT0RFUzsgbisrKSB7XG4gICAgICAgIHMuZHluX2x0cmVlW24gKiAyXSA9XG4gICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAwXG4gICAgICB9XG5cbiAgICAgIGZvciAobiA9IDA7IG4gPCBEX0NPREVTOyBuKyspIHtcbiAgICAgICAgcy5keW5fZHRyZWVbbiAqIDJdID1cbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIDBcbiAgICAgIH1cblxuICAgICAgZm9yIChuID0gMDsgbiA8IEJMX0NPREVTOyBuKyspIHtcbiAgICAgICAgcy5ibF90cmVlW24gKiAyXSA9XG4gICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAwXG4gICAgICB9XG5cbiAgICAgIHMuZHluX2x0cmVlW0VORF9CTE9DSyAqIDJdID1cbiAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgMVxuICAgICAgcy5vcHRfbGVuID0gcy5zdGF0aWNfbGVuID0gMFxuICAgICAgcy5sYXN0X2xpdCA9IHMubWF0Y2hlcyA9IDBcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogRmx1c2ggdGhlIGJpdCBidWZmZXIgYW5kIGFsaWduIHRoZSBvdXRwdXQgb24gYSBieXRlIGJvdW5kYXJ5XG4gICAgICovXG5cbiAgICB2YXIgYmlfd2luZHVwID0gZnVuY3Rpb24gYmlfd2luZHVwKHMpIHtcbiAgICAgIGlmIChzLmJpX3ZhbGlkID4gOCkge1xuICAgICAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpXG4gICAgICB9IGVsc2UgaWYgKHMuYmlfdmFsaWQgPiAwKSB7XG4gICAgICAgIC8vIHB1dF9ieXRlKHMsIChCeXRlKXMtPmJpX2J1Zik7XG4gICAgICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gcy5iaV9idWZcbiAgICAgIH1cblxuICAgICAgcy5iaV9idWYgPSAwXG4gICAgICBzLmJpX3ZhbGlkID0gMFxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBDb3B5IGEgc3RvcmVkIGJsb2NrLCBzdG9yaW5nIGZpcnN0IHRoZSBsZW5ndGggYW5kIGl0c1xuICAgICAqIG9uZSdzIGNvbXBsZW1lbnQgaWYgcmVxdWVzdGVkLlxuICAgICAqL1xuXG4gICAgdmFyIGNvcHlfYmxvY2sgPSBmdW5jdGlvbiBjb3B5X2Jsb2NrKFxuICAgICAgcyxcbiAgICAgIGJ1ZixcbiAgICAgIGxlbixcbiAgICAgIGhlYWRlciAvLyBEZWZsYXRlU3RhdGUgKnM7IC8vY2hhcmYgICAgKmJ1ZjsgICAgLyogdGhlIGlucHV0IGRhdGEgKi8gLy91bnNpZ25lZCBsZW47ICAgICAvKiBpdHMgbGVuZ3RoICovIC8vaW50ICAgICAgaGVhZGVyOyAgLyogdHJ1ZSBpZiBibG9jayBoZWFkZXIgbXVzdCBiZSB3cml0dGVuICovXG4gICAgKSB7XG4gICAgICBiaV93aW5kdXAocylcbiAgICAgIC8qIGFsaWduIG9uIGJ5dGUgYm91bmRhcnkgKi9cblxuICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICBwdXRfc2hvcnQocywgbGVuKVxuICAgICAgICBwdXRfc2hvcnQocywgfmxlbilcbiAgICAgIH0gLy8gIHdoaWxlIChsZW4tLSkge1xuICAgICAgLy8gICAgcHV0X2J5dGUocywgKmJ1ZisrKTtcbiAgICAgIC8vICB9XG5cbiAgICAgIHMucGVuZGluZ19idWYuc2V0KHMud2luZG93LnN1YmFycmF5KGJ1ZiwgYnVmICsgbGVuKSwgcy5wZW5kaW5nKVxuICAgICAgcy5wZW5kaW5nICs9IGxlblxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBDb21wYXJlcyB0byBzdWJ0cmVlcywgdXNpbmcgdGhlIHRyZWUgZGVwdGggYXMgdGllIGJyZWFrZXIgd2hlblxuICAgICAqIHRoZSBzdWJ0cmVlcyBoYXZlIGVxdWFsIGZyZXF1ZW5jeS4gVGhpcyBtaW5pbWl6ZXMgdGhlIHdvcnN0IGNhc2UgbGVuZ3RoLlxuICAgICAqL1xuXG4gICAgdmFyIHNtYWxsZXIgPSBmdW5jdGlvbiBzbWFsbGVyKHRyZWUsIG4sIG0sIGRlcHRoKSB7XG4gICAgICB2YXIgX24yID0gbiAqIDJcblxuICAgICAgdmFyIF9tMiA9IG0gKiAyXG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRyZWVbX24yXSA8XG4gICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICB0cmVlW19tMl0gfHxcbiAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgKHRyZWVbX24yXSA9PT1cbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIHRyZWVbX20yXSAmJlxuICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgZGVwdGhbbl0gPD0gZGVwdGhbbV0pXG4gICAgICApXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFJlc3RvcmUgdGhlIGhlYXAgcHJvcGVydHkgYnkgbW92aW5nIGRvd24gdGhlIHRyZWUgc3RhcnRpbmcgYXQgbm9kZSBrLFxuICAgICAqIGV4Y2hhbmdpbmcgYSBub2RlIHdpdGggdGhlIHNtYWxsZXN0IG9mIGl0cyB0d28gc29ucyBpZiBuZWNlc3NhcnksIHN0b3BwaW5nXG4gICAgICogd2hlbiB0aGUgaGVhcCBwcm9wZXJ0eSBpcyByZS1lc3RhYmxpc2hlZCAoZWFjaCBmYXRoZXIgc21hbGxlciB0aGFuIGl0c1xuICAgICAqIHR3byBzb25zKS5cbiAgICAgKi9cblxuICAgIHZhciBwcWRvd25oZWFwID0gZnVuY3Rpb24gcHFkb3duaGVhcChcbiAgICAgIHMsXG4gICAgICB0cmVlLFxuICAgICAgayAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICBjdF9kYXRhICp0cmVlOyAgLyogdGhlIHRyZWUgdG8gcmVzdG9yZSAqLyAvLyAgICBpbnQgazsgICAgICAgICAgICAgICAvKiBub2RlIHRvIG1vdmUgZG93biAqL1xuICAgICkge1xuICAgICAgdmFyIHYgPSBzLmhlYXBba11cbiAgICAgIHZhciBqID0gayA8PCAxXG4gICAgICAvKiBsZWZ0IHNvbiBvZiBrICovXG5cbiAgICAgIHdoaWxlIChqIDw9IHMuaGVhcF9sZW4pIHtcbiAgICAgICAgLyogU2V0IGogdG8gdGhlIHNtYWxsZXN0IG9mIHRoZSB0d28gc29uczogKi9cbiAgICAgICAgaWYgKGogPCBzLmhlYXBfbGVuICYmIHNtYWxsZXIodHJlZSwgcy5oZWFwW2ogKyAxXSwgcy5oZWFwW2pdLCBzLmRlcHRoKSkge1xuICAgICAgICAgIGorK1xuICAgICAgICB9XG4gICAgICAgIC8qIEV4aXQgaWYgdiBpcyBzbWFsbGVyIHRoYW4gYm90aCBzb25zICovXG5cbiAgICAgICAgaWYgKHNtYWxsZXIodHJlZSwgdiwgcy5oZWFwW2pdLCBzLmRlcHRoKSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgLyogRXhjaGFuZ2UgdiB3aXRoIHRoZSBzbWFsbGVzdCBzb24gKi9cblxuICAgICAgICBzLmhlYXBba10gPSBzLmhlYXBbal1cbiAgICAgICAgayA9IGpcbiAgICAgICAgLyogQW5kIGNvbnRpbnVlIGRvd24gdGhlIHRyZWUsIHNldHRpbmcgaiB0byB0aGUgbGVmdCBzb24gb2YgayAqL1xuXG4gICAgICAgIGogPDw9IDFcbiAgICAgIH1cblxuICAgICAgcy5oZWFwW2tdID0gdlxuICAgIH0gLy8gaW5saW5lZCBtYW51YWxseVxuICAgIC8vIGNvbnN0IFNNQUxMRVNUID0gMTtcblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNlbmQgdGhlIGJsb2NrIGRhdGEgY29tcHJlc3NlZCB1c2luZyB0aGUgZ2l2ZW4gSHVmZm1hbiB0cmVlc1xuICAgICAqL1xuXG4gICAgdmFyIGNvbXByZXNzX2Jsb2NrID0gZnVuY3Rpb24gY29tcHJlc3NfYmxvY2soXG4gICAgICBzLFxuICAgICAgbHRyZWUsXG4gICAgICBkdHJlZSAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICBjb25zdCBjdF9kYXRhICpsdHJlZTsgLyogbGl0ZXJhbCB0cmVlICovIC8vICAgIGNvbnN0IGN0X2RhdGEgKmR0cmVlOyAvKiBkaXN0YW5jZSB0cmVlICovXG4gICAgKSB7XG4gICAgICB2YXIgZGlzdFxuICAgICAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cblxuICAgICAgdmFyIGxjXG4gICAgICAvKiBtYXRjaCBsZW5ndGggb3IgdW5tYXRjaGVkIGNoYXIgKGlmIGRpc3QgPT0gMCkgKi9cblxuICAgICAgdmFyIGx4ID0gMFxuICAgICAgLyogcnVubmluZyBpbmRleCBpbiBsX2J1ZiAqL1xuXG4gICAgICB2YXIgY29kZVxuICAgICAgLyogdGhlIGNvZGUgdG8gc2VuZCAqL1xuXG4gICAgICB2YXIgZXh0cmFcbiAgICAgIC8qIG51bWJlciBvZiBleHRyYSBiaXRzIHRvIHNlbmQgKi9cblxuICAgICAgaWYgKHMubGFzdF9saXQgIT09IDApIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGRpc3QgPSAocy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgbHggKiAyXSA8PCA4KSB8IHMucGVuZGluZ19idWZbcy5kX2J1ZiArIGx4ICogMiArIDFdXG4gICAgICAgICAgbGMgPSBzLnBlbmRpbmdfYnVmW3MubF9idWYgKyBseF1cbiAgICAgICAgICBseCsrXG5cbiAgICAgICAgICBpZiAoZGlzdCA9PT0gMCkge1xuICAgICAgICAgICAgc2VuZF9jb2RlKHMsIGxjLCBsdHJlZSlcbiAgICAgICAgICAgIC8qIHNlbmQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgICAgICAgIC8vIFRyYWNlY3YoaXNncmFwaChsYyksIChzdGRlcnIsXCIgJyVjJyBcIiwgbGMpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgICAgICAgICAgY29kZSA9IF9sZW5ndGhfY29kZVtsY11cbiAgICAgICAgICAgIHNlbmRfY29kZShzLCBjb2RlICsgTElURVJBTFMgKyAxLCBsdHJlZSlcbiAgICAgICAgICAgIC8qIHNlbmQgdGhlIGxlbmd0aCBjb2RlICovXG5cbiAgICAgICAgICAgIGV4dHJhID0gZXh0cmFfbGJpdHNbY29kZV1cblxuICAgICAgICAgICAgaWYgKGV4dHJhICE9PSAwKSB7XG4gICAgICAgICAgICAgIGxjIC09IGJhc2VfbGVuZ3RoW2NvZGVdXG4gICAgICAgICAgICAgIHNlbmRfYml0cyhzLCBsYywgZXh0cmEpXG4gICAgICAgICAgICAgIC8qIHNlbmQgdGhlIGV4dHJhIGxlbmd0aCBiaXRzICovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpc3QtLVxuICAgICAgICAgICAgLyogZGlzdCBpcyBub3cgdGhlIG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuXG4gICAgICAgICAgICBjb2RlID0gZF9jb2RlKGRpc3QpIC8vIEFzc2VydCAoY29kZSA8IERfQ09ERVMsIFwiYmFkIGRfY29kZVwiKTtcblxuICAgICAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUsIGR0cmVlKVxuICAgICAgICAgICAgLyogc2VuZCB0aGUgZGlzdGFuY2UgY29kZSAqL1xuXG4gICAgICAgICAgICBleHRyYSA9IGV4dHJhX2RiaXRzW2NvZGVdXG5cbiAgICAgICAgICAgIGlmIChleHRyYSAhPT0gMCkge1xuICAgICAgICAgICAgICBkaXN0IC09IGJhc2VfZGlzdFtjb2RlXVxuICAgICAgICAgICAgICBzZW5kX2JpdHMocywgZGlzdCwgZXh0cmEpXG4gICAgICAgICAgICAgIC8qIHNlbmQgdGhlIGV4dHJhIGRpc3RhbmNlIGJpdHMgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLyogbGl0ZXJhbCBvciBtYXRjaCBwYWlyID8gKi9cblxuICAgICAgICAgIC8qIENoZWNrIHRoYXQgdGhlIG92ZXJsYXkgYmV0d2VlbiBwZW5kaW5nX2J1ZiBhbmQgZF9idWYrbF9idWYgaXMgb2s6ICovXG4gICAgICAgICAgLy8gQXNzZXJ0KCh1SW50KShzLT5wZW5kaW5nKSA8IHMtPmxpdF9idWZzaXplICsgMipseCxcbiAgICAgICAgICAvLyAgICAgICBcInBlbmRpbmdCdWYgb3ZlcmZsb3dcIik7XG4gICAgICAgIH0gd2hpbGUgKGx4IDwgcy5sYXN0X2xpdClcbiAgICAgIH1cblxuICAgICAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgbHRyZWUpXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIENvbnN0cnVjdCBvbmUgSHVmZm1hbiB0cmVlIGFuZCBhc3NpZ25zIHRoZSBjb2RlIGJpdCBzdHJpbmdzIGFuZCBsZW5ndGhzLlxuICAgICAqIFVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aCBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gICAgICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGQgZnJlcSBpcyBzZXQgZm9yIGFsbCB0cmVlIGVsZW1lbnRzLlxuICAgICAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGRzIGxlbiBhbmQgY29kZSBhcmUgc2V0IHRvIHRoZSBvcHRpbWFsIGJpdCBsZW5ndGhcbiAgICAgKiAgICAgYW5kIGNvcnJlc3BvbmRpbmcgY29kZS4gVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXNcbiAgICAgKiAgICAgYWxzbyB1cGRhdGVkIGlmIHN0cmVlIGlzIG5vdCBudWxsLiBUaGUgZmllbGQgbWF4X2NvZGUgaXMgc2V0LlxuICAgICAqL1xuXG4gICAgdmFyIGJ1aWxkX3RyZWUgPSBmdW5jdGlvbiBidWlsZF90cmVlKFxuICAgICAgcyxcbiAgICAgIGRlc2MgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqczsgLy8gICAgdHJlZV9kZXNjICpkZXNjOyAvKiB0aGUgdHJlZSBkZXNjcmlwdG9yICovXG4gICAgKSB7XG4gICAgICB2YXIgdHJlZSA9IGRlc2MuZHluX3RyZWVcbiAgICAgIHZhciBzdHJlZSA9IGRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlXG4gICAgICB2YXIgaGFzX3N0cmVlID0gZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlXG4gICAgICB2YXIgZWxlbXMgPSBkZXNjLnN0YXRfZGVzYy5lbGVtc1xuICAgICAgdmFyIG5cbiAgICAgIHZhciBtXG4gICAgICAvKiBpdGVyYXRlIG92ZXIgaGVhcCBlbGVtZW50cyAqL1xuXG4gICAgICB2YXIgbWF4X2NvZGUgPSAtMVxuICAgICAgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG5cbiAgICAgIHZhciBub2RlXG4gICAgICAvKiBuZXcgbm9kZSBiZWluZyBjcmVhdGVkICovXG5cbiAgICAgIC8qIENvbnN0cnVjdCB0aGUgaW5pdGlhbCBoZWFwLCB3aXRoIGxlYXN0IGZyZXF1ZW50IGVsZW1lbnQgaW5cbiAgICAgICAqIGhlYXBbU01BTExFU1RdLiBUaGUgc29ucyBvZiBoZWFwW25dIGFyZSBoZWFwWzIqbl0gYW5kIGhlYXBbMipuKzFdLlxuICAgICAgICogaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICAgICAqL1xuXG4gICAgICBzLmhlYXBfbGVuID0gMFxuICAgICAgcy5oZWFwX21heCA9IEhFQVBfU0laRVxuXG4gICAgICBmb3IgKG4gPSAwOyBuIDwgZWxlbXM7IG4rKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHJlZVtuICogMl0gIT09XG4gICAgICAgICAgLyogLkZyZXEgKi9cbiAgICAgICAgICAwXG4gICAgICAgICkge1xuICAgICAgICAgIHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gbWF4X2NvZGUgPSBuXG4gICAgICAgICAgcy5kZXB0aFtuXSA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgICAgMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiBUaGUgcGt6aXAgZm9ybWF0IHJlcXVpcmVzIHRoYXQgYXQgbGVhc3Qgb25lIGRpc3RhbmNlIGNvZGUgZXhpc3RzLFxuICAgICAgICogYW5kIHRoYXQgYXQgbGVhc3Qgb25lIGJpdCBzaG91bGQgYmUgc2VudCBldmVuIGlmIHRoZXJlIGlzIG9ubHkgb25lXG4gICAgICAgKiBwb3NzaWJsZSBjb2RlLiBTbyB0byBhdm9pZCBzcGVjaWFsIGNoZWNrcyBsYXRlciBvbiB3ZSBmb3JjZSBhdCBsZWFzdFxuICAgICAgICogdHdvIGNvZGVzIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeS5cbiAgICAgICAqL1xuXG4gICAgICB3aGlsZSAocy5oZWFwX2xlbiA8IDIpIHtcbiAgICAgICAgbm9kZSA9IHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gbWF4X2NvZGUgPCAyID8gKyttYXhfY29kZSA6IDBcbiAgICAgICAgdHJlZVtub2RlICogMl0gPVxuICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgMVxuICAgICAgICBzLmRlcHRoW25vZGVdID0gMFxuICAgICAgICBzLm9wdF9sZW4tLVxuXG4gICAgICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgICAgICBzLnN0YXRpY19sZW4gLT0gc3RyZWVbbm9kZSAqIDIgKyAxXVxuICAgICAgICAgIC8qIC5MZW4gKi9cbiAgICAgICAgfVxuICAgICAgICAvKiBub2RlIGlzIDAgb3IgMSBzbyBpdCBkb2VzIG5vdCBoYXZlIGV4dHJhIGJpdHMgKi9cbiAgICAgIH1cblxuICAgICAgZGVzYy5tYXhfY29kZSA9IG1heF9jb2RlXG4gICAgICAvKiBUaGUgZWxlbWVudHMgaGVhcFtoZWFwX2xlbi8yKzEgLi4gaGVhcF9sZW5dIGFyZSBsZWF2ZXMgb2YgdGhlIHRyZWUsXG4gICAgICAgKiBlc3RhYmxpc2ggc3ViLWhlYXBzIG9mIGluY3JlYXNpbmcgbGVuZ3RoczpcbiAgICAgICAqL1xuXG4gICAgICBmb3IgKFxuICAgICAgICBuID0gcy5oZWFwX2xlbiA+PiAxO1xuICAgICAgICAvKiBpbnQgLzIgKi9cbiAgICAgICAgbiA+PSAxO1xuICAgICAgICBuLS1cbiAgICAgICkge1xuICAgICAgICBwcWRvd25oZWFwKHMsIHRyZWUsIG4pXG4gICAgICB9XG4gICAgICAvKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBieSByZXBlYXRlZGx5IGNvbWJpbmluZyB0aGUgbGVhc3QgdHdvXG4gICAgICAgKiBmcmVxdWVudCBub2Rlcy5cbiAgICAgICAqL1xuXG4gICAgICBub2RlID0gZWxlbXNcbiAgICAgIC8qIG5leHQgaW50ZXJuYWwgbm9kZSBvZiB0aGUgdHJlZSAqL1xuXG4gICAgICBkbyB7XG4gICAgICAgIC8vIHBxcmVtb3ZlKHMsIHRyZWUsIG4pOyAgLyogbiA9IG5vZGUgb2YgbGVhc3QgZnJlcXVlbmN5ICovXG5cbiAgICAgICAgLyoqICogcHFyZW1vdmUgKiogKi9cbiAgICAgICAgbiA9IHMuaGVhcFsxXVxuICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICBzLmhlYXBbMV0gPSBzLmhlYXBbcy5oZWFwX2xlbi0tXVxuICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICBwcWRvd25oZWFwKFxuICAgICAgICAgIHMsXG4gICAgICAgICAgdHJlZSxcbiAgICAgICAgICAxXG4gICAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgKVxuICAgICAgICAvKioqL1xuXG4gICAgICAgIG0gPSBzLmhlYXBbMV1cbiAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgLyogbSA9IG5vZGUgb2YgbmV4dCBsZWFzdCBmcmVxdWVuY3kgKi9cblxuICAgICAgICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IG5cbiAgICAgICAgLyoga2VlcCB0aGUgbm9kZXMgc29ydGVkIGJ5IGZyZXF1ZW5jeSAqL1xuXG4gICAgICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbVxuICAgICAgICAvKiBDcmVhdGUgYSBuZXcgbm9kZSBmYXRoZXIgb2YgbiBhbmQgbSAqL1xuXG4gICAgICAgIHRyZWVbbm9kZSAqIDJdID1cbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIHRyZWVbbiAqIDJdICtcbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIHRyZWVbbSAqIDJdXG4gICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgIHMuZGVwdGhbbm9kZV0gPSAocy5kZXB0aFtuXSA+PSBzLmRlcHRoW21dID8gcy5kZXB0aFtuXSA6IHMuZGVwdGhbbV0pICsgMVxuICAgICAgICB0cmVlW24gKiAyICsgMV0gPVxuICAgICAgICAgIC8qIC5EYWQgKi9cbiAgICAgICAgICB0cmVlW20gKiAyICsgMV0gPVxuICAgICAgICAgICAgLyogLkRhZCAqL1xuICAgICAgICAgICAgbm9kZVxuICAgICAgICAvKiBhbmQgaW5zZXJ0IHRoZSBuZXcgbm9kZSBpbiB0aGUgaGVhcCAqL1xuXG4gICAgICAgIHMuaGVhcFsxXSA9IG5vZGUrK1xuICAgICAgICAvKiBTTUFMTEVTVCAqL1xuICAgICAgICBwcWRvd25oZWFwKFxuICAgICAgICAgIHMsXG4gICAgICAgICAgdHJlZSxcbiAgICAgICAgICAxXG4gICAgICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgICAgKVxuICAgICAgfSB3aGlsZSAocy5oZWFwX2xlbiA+PSAyKVxuXG4gICAgICBzLmhlYXBbLS1zLmhlYXBfbWF4XSA9IHMuaGVhcFsxXVxuICAgICAgLyogU01BTExFU1QgKi9cbiAgICAgIC8qIEF0IHRoaXMgcG9pbnQsIHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQuIFdlIGNhbiBub3dcbiAgICAgICAqIGdlbmVyYXRlIHRoZSBiaXQgbGVuZ3Rocy5cbiAgICAgICAqL1xuXG4gICAgICBnZW5fYml0bGVuKHMsIGRlc2MpXG4gICAgICAvKiBUaGUgZmllbGQgbGVuIGlzIG5vdyBzZXQsIHdlIGNhbiBnZW5lcmF0ZSB0aGUgYml0IGNvZGVzICovXG5cbiAgICAgIGdlbl9jb2Rlcyh0cmVlLCBtYXhfY29kZSwgcy5ibF9jb3VudClcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogU2NhbiBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSB0byBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jaWVzIG9mIHRoZSBjb2Rlc1xuICAgICAqIGluIHRoZSBiaXQgbGVuZ3RoIHRyZWUuXG4gICAgICovXG5cbiAgICB2YXIgc2Nhbl90cmVlID0gZnVuY3Rpb24gc2Nhbl90cmVlKFxuICAgICAgcyxcbiAgICAgIHRyZWUsXG4gICAgICBtYXhfY29kZSAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICBjdF9kYXRhICp0cmVlOyAgIC8qIHRoZSB0cmVlIHRvIGJlIHNjYW5uZWQgKi8gLy8gICAgaW50IG1heF9jb2RlOyAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cbiAgICApIHtcbiAgICAgIHZhciBuXG4gICAgICAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG5cbiAgICAgIHZhciBwcmV2bGVuID0gLTFcbiAgICAgIC8qIGxhc3QgZW1pdHRlZCBsZW5ndGggKi9cblxuICAgICAgdmFyIGN1cmxlblxuICAgICAgLyogbGVuZ3RoIG9mIGN1cnJlbnQgY29kZSAqL1xuXG4gICAgICB2YXIgbmV4dGxlbiA9IHRyZWVbMCAqIDIgKyAxXVxuICAgICAgLyogLkxlbiAqL1xuICAgICAgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuXG4gICAgICB2YXIgY291bnQgPSAwXG4gICAgICAvKiByZXBlYXQgY291bnQgb2YgdGhlIGN1cnJlbnQgY29kZSAqL1xuXG4gICAgICB2YXIgbWF4X2NvdW50ID0gN1xuICAgICAgLyogbWF4IHJlcGVhdCBjb3VudCAqL1xuXG4gICAgICB2YXIgbWluX2NvdW50ID0gNFxuICAgICAgLyogbWluIHJlcGVhdCBjb3VudCAqL1xuXG4gICAgICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgICAgICBtYXhfY291bnQgPSAxMzhcbiAgICAgICAgbWluX2NvdW50ID0gM1xuICAgICAgfVxuXG4gICAgICB0cmVlWyhtYXhfY29kZSArIDEpICogMiArIDFdID1cbiAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAweGZmZmZcbiAgICAgIC8qIGd1YXJkICovXG5cbiAgICAgIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgICAgICBjdXJsZW4gPSBuZXh0bGVuXG4gICAgICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV1cbiAgICAgICAgLyogLkxlbiAqL1xuXG4gICAgICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoY291bnQgPCBtaW5fY291bnQpIHtcbiAgICAgICAgICBzLmJsX3RyZWVbY3VybGVuICogMl0gKz1cbiAgICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgICBjb3VudFxuICAgICAgICB9IGVsc2UgaWYgKGN1cmxlbiAhPT0gMCkge1xuICAgICAgICAgIGlmIChjdXJsZW4gIT09IHByZXZsZW4pIHtcbiAgICAgICAgICAgIHMuYmxfdHJlZVtjdXJsZW4gKiAyXSAvKiAuRnJlcSAqLysrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcy5ibF90cmVlW1JFUF8zXzYgKiAyXSAvKiAuRnJlcSAqLysrXG4gICAgICAgIH0gZWxzZSBpZiAoY291bnQgPD0gMTApIHtcbiAgICAgICAgICBzLmJsX3RyZWVbUkVQWl8zXzEwICogMl0gLyogLkZyZXEgKi8rK1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuYmxfdHJlZVtSRVBaXzExXzEzOCAqIDJdIC8qIC5GcmVxICovKytcbiAgICAgICAgfVxuXG4gICAgICAgIGNvdW50ID0gMFxuICAgICAgICBwcmV2bGVuID0gY3VybGVuXG5cbiAgICAgICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgICAgICBtYXhfY291bnQgPSAxMzhcbiAgICAgICAgICBtaW5fY291bnQgPSAzXG4gICAgICAgIH0gZWxzZSBpZiAoY3VybGVuID09PSBuZXh0bGVuKSB7XG4gICAgICAgICAgbWF4X2NvdW50ID0gNlxuICAgICAgICAgIG1pbl9jb3VudCA9IDNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXhfY291bnQgPSA3XG4gICAgICAgICAgbWluX2NvdW50ID0gNFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNlbmQgYSBsaXRlcmFsIG9yIGRpc3RhbmNlIHRyZWUgaW4gY29tcHJlc3NlZCBmb3JtLCB1c2luZyB0aGUgY29kZXMgaW5cbiAgICAgKiBibF90cmVlLlxuICAgICAqL1xuXG4gICAgdmFyIHNlbmRfdHJlZSA9IGZ1bmN0aW9uIHNlbmRfdHJlZShcbiAgICAgIHMsXG4gICAgICB0cmVlLFxuICAgICAgbWF4X2NvZGUgLy8gICAgZGVmbGF0ZV9zdGF0ZSAqczsgLy8gICAgY3RfZGF0YSAqdHJlZTsgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqLyAvLyAgICBpbnQgbWF4X2NvZGU7ICAgICAgIC8qIGFuZCBpdHMgbGFyZ2VzdCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICAgICkge1xuICAgICAgdmFyIG5cbiAgICAgIC8qIGl0ZXJhdGVzIG92ZXIgYWxsIHRyZWUgZWxlbWVudHMgKi9cblxuICAgICAgdmFyIHByZXZsZW4gPSAtMVxuICAgICAgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuXG4gICAgICB2YXIgY3VybGVuXG4gICAgICAvKiBsZW5ndGggb2YgY3VycmVudCBjb2RlICovXG5cbiAgICAgIHZhciBuZXh0bGVuID0gdHJlZVswICogMiArIDFdXG4gICAgICAvKiAuTGVuICovXG4gICAgICAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG5cbiAgICAgIHZhciBjb3VudCA9IDBcbiAgICAgIC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG5cbiAgICAgIHZhciBtYXhfY291bnQgPSA3XG4gICAgICAvKiBtYXggcmVwZWF0IGNvdW50ICovXG5cbiAgICAgIHZhciBtaW5fY291bnQgPSA0XG4gICAgICAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG5cbiAgICAgIC8qIHRyZWVbbWF4X2NvZGUrMV0uTGVuID0gLTE7ICovXG5cbiAgICAgIC8qIGd1YXJkIGFscmVhZHkgc2V0ICovXG5cbiAgICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICAgIG1heF9jb3VudCA9IDEzOFxuICAgICAgICBtaW5fY291bnQgPSAzXG4gICAgICB9XG5cbiAgICAgIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgICAgICBjdXJsZW4gPSBuZXh0bGVuXG4gICAgICAgIG5leHRsZW4gPSB0cmVlWyhuICsgMSkgKiAyICsgMV1cbiAgICAgICAgLyogLkxlbiAqL1xuXG4gICAgICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoY291bnQgPCBtaW5fY291bnQpIHtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpXG4gICAgICAgICAgfSB3aGlsZSAoLS1jb3VudCAhPT0gMClcbiAgICAgICAgfSBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcbiAgICAgICAgICBpZiAoY3VybGVuICE9PSBwcmV2bGVuKSB7XG4gICAgICAgICAgICBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpXG4gICAgICAgICAgICBjb3VudC0tXG4gICAgICAgICAgfSAvLyBBc3NlcnQoY291bnQgPj0gMyAmJiBjb3VudCA8PSA2LCBcIiAzXzY/XCIpO1xuXG4gICAgICAgICAgc2VuZF9jb2RlKHMsIFJFUF8zXzYsIHMuYmxfdHJlZSlcbiAgICAgICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAyKVxuICAgICAgICB9IGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfM18xMCwgcy5ibF90cmVlKVxuICAgICAgICAgIHNlbmRfYml0cyhzLCBjb3VudCAtIDMsIDMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VuZF9jb2RlKHMsIFJFUFpfMTFfMTM4LCBzLmJsX3RyZWUpXG4gICAgICAgICAgc2VuZF9iaXRzKHMsIGNvdW50IC0gMTEsIDcpXG4gICAgICAgIH1cblxuICAgICAgICBjb3VudCA9IDBcbiAgICAgICAgcHJldmxlbiA9IGN1cmxlblxuXG4gICAgICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICAgICAgbWF4X2NvdW50ID0gMTM4XG4gICAgICAgICAgbWluX2NvdW50ID0gM1xuICAgICAgICB9IGVsc2UgaWYgKGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgICAgIG1heF9jb3VudCA9IDZcbiAgICAgICAgICBtaW5fY291bnQgPSAzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF4X2NvdW50ID0gN1xuICAgICAgICAgIG1pbl9jb3VudCA9IDRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBmb3IgdGhlIGJpdCBsZW5ndGhzIGFuZCByZXR1cm4gdGhlIGluZGV4IGluXG4gICAgICogYmxfb3JkZXIgb2YgdGhlIGxhc3QgYml0IGxlbmd0aCBjb2RlIHRvIHNlbmQuXG4gICAgICovXG5cbiAgICB2YXIgYnVpbGRfYmxfdHJlZSA9IGZ1bmN0aW9uIGJ1aWxkX2JsX3RyZWUocykge1xuICAgICAgdmFyIG1heF9ibGluZGV4XG4gICAgICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG5cbiAgICAgIC8qIERldGVybWluZSB0aGUgYml0IGxlbmd0aCBmcmVxdWVuY2llcyBmb3IgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cblxuICAgICAgc2Nhbl90cmVlKHMsIHMuZHluX2x0cmVlLCBzLmxfZGVzYy5tYXhfY29kZSlcbiAgICAgIHNjYW5fdHJlZShzLCBzLmR5bl9kdHJlZSwgcy5kX2Rlc2MubWF4X2NvZGUpXG4gICAgICAvKiBCdWlsZCB0aGUgYml0IGxlbmd0aCB0cmVlOiAqL1xuXG4gICAgICBidWlsZF90cmVlKHMsIHMuYmxfZGVzYylcbiAgICAgIC8qIG9wdF9sZW4gbm93IGluY2x1ZGVzIHRoZSBsZW5ndGggb2YgdGhlIHRyZWUgcmVwcmVzZW50YXRpb25zLCBleGNlcHRcbiAgICAgICAqIHRoZSBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RocyBjb2RlcyBhbmQgdGhlIDUrNSs0IGJpdHMgZm9yIHRoZSBjb3VudHMuXG4gICAgICAgKi9cblxuICAgICAgLyogRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgYml0IGxlbmd0aCBjb2RlcyB0byBzZW5kLiBUaGUgcGt6aXAgZm9ybWF0XG4gICAgICAgKiByZXF1aXJlcyB0aGF0IGF0IGxlYXN0IDQgYml0IGxlbmd0aCBjb2RlcyBiZSBzZW50LiAoYXBwbm90ZS50eHQgc2F5c1xuICAgICAgICogMyBidXQgdGhlIGFjdHVhbCB2YWx1ZSB1c2VkIGlzIDQuKVxuICAgICAgICovXG5cbiAgICAgIGZvciAobWF4X2JsaW5kZXggPSBCTF9DT0RFUyAtIDE7IG1heF9ibGluZGV4ID49IDM7IG1heF9ibGluZGV4LS0pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHMuYmxfdHJlZVtibF9vcmRlclttYXhfYmxpbmRleF0gKiAyICsgMV0gIT09XG4gICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgIDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogVXBkYXRlIG9wdF9sZW4gdG8gaW5jbHVkZSB0aGUgYml0IGxlbmd0aCB0cmVlIGFuZCBjb3VudHMgKi9cblxuICAgICAgcy5vcHRfbGVuICs9IDMgKiAobWF4X2JsaW5kZXggKyAxKSArIDUgKyA1ICsgNCAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5keW4gdHJlZXM6IGR5biAlbGQsIHN0YXQgJWxkXCIsXG4gICAgICAvLyAgICAgICAgcy0+b3B0X2xlbiwgcy0+c3RhdGljX2xlbikpO1xuXG4gICAgICByZXR1cm4gbWF4X2JsaW5kZXhcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogU2VuZCB0aGUgaGVhZGVyIGZvciBhIGJsb2NrIHVzaW5nIGR5bmFtaWMgSHVmZm1hbiB0cmVlczogdGhlIGNvdW50cywgdGhlXG4gICAgICogbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aCBjb2RlcywgdGhlIGxpdGVyYWwgdHJlZSBhbmQgdGhlIGRpc3RhbmNlIHRyZWUuXG4gICAgICogSU4gYXNzZXJ0aW9uOiBsY29kZXMgPj0gMjU3LCBkY29kZXMgPj0gMSwgYmxjb2RlcyA+PSA0LlxuICAgICAqL1xuXG4gICAgdmFyIHNlbmRfYWxsX3RyZWVzID0gZnVuY3Rpb24gc2VuZF9hbGxfdHJlZXMoXG4gICAgICBzLFxuICAgICAgbGNvZGVzLFxuICAgICAgZGNvZGVzLFxuICAgICAgYmxjb2RlcyAvLyAgICBkZWZsYXRlX3N0YXRlICpzOyAvLyAgICBpbnQgbGNvZGVzLCBkY29kZXMsIGJsY29kZXM7IC8qIG51bWJlciBvZiBjb2RlcyBmb3IgZWFjaCB0cmVlICovXG4gICAgKSB7XG4gICAgICB2YXIgcmFua1xuICAgICAgLyogaW5kZXggaW4gYmxfb3JkZXIgKi9cbiAgICAgIC8vIEFzc2VydCAobGNvZGVzID49IDI1NyAmJiBkY29kZXMgPj0gMSAmJiBibGNvZGVzID49IDQsIFwibm90IGVub3VnaCBjb2Rlc1wiKTtcbiAgICAgIC8vIEFzc2VydCAobGNvZGVzIDw9IExfQ09ERVMgJiYgZGNvZGVzIDw9IERfQ09ERVMgJiYgYmxjb2RlcyA8PSBCTF9DT0RFUyxcbiAgICAgIC8vICAgICAgICBcInRvbyBtYW55IGNvZGVzXCIpO1xuICAgICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY291bnRzOiBcIikpO1xuXG4gICAgICBzZW5kX2JpdHMocywgbGNvZGVzIC0gMjU3LCA1KVxuICAgICAgLyogbm90ICsyNTUgYXMgc3RhdGVkIGluIGFwcG5vdGUudHh0ICovXG5cbiAgICAgIHNlbmRfYml0cyhzLCBkY29kZXMgLSAxLCA1KVxuICAgICAgc2VuZF9iaXRzKHMsIGJsY29kZXMgLSA0LCA0KVxuICAgICAgLyogbm90IC0zIGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuXG4gICAgICBmb3IgKHJhbmsgPSAwOyByYW5rIDwgYmxjb2RlczsgcmFuaysrKSB7XG4gICAgICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvZGUgJTJkIFwiLCBibF9vcmRlcltyYW5rXSkpO1xuICAgICAgICBzZW5kX2JpdHMoXG4gICAgICAgICAgcyxcbiAgICAgICAgICBzLmJsX3RyZWVbYmxfb3JkZXJbcmFua10gKiAyICsgMV0sXG4gICAgICAgICAgLyogLkxlbiAqL1xuICAgICAgICAgIDNcbiAgICAgICAgKVxuICAgICAgfSAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5ibCB0cmVlOiBzZW50ICVsZFwiLCBzLT5iaXRzX3NlbnQpKTtcblxuICAgICAgc2VuZF90cmVlKHMsIHMuZHluX2x0cmVlLCBsY29kZXMgLSAxKVxuICAgICAgLyogbGl0ZXJhbCB0cmVlICovXG4gICAgICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG5cbiAgICAgIHNlbmRfdHJlZShzLCBzLmR5bl9kdHJlZSwgZGNvZGVzIC0gMSlcbiAgICAgIC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmRpc3QgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIENoZWNrIGlmIHRoZSBkYXRhIHR5cGUgaXMgVEVYVCBvciBCSU5BUlksIHVzaW5nIHRoZSBmb2xsb3dpbmcgYWxnb3JpdGhtOlxuICAgICAqIC0gVEVYVCBpZiB0aGUgdHdvIGNvbmRpdGlvbnMgYmVsb3cgYXJlIHNhdGlzZmllZDpcbiAgICAgKiAgICBhKSBUaGVyZSBhcmUgbm8gbm9uLXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBiZWxvbmdpbmcgdG8gdGhlXG4gICAgICogICAgICAgXCJibGFjayBsaXN0XCIgKDAuLjYsIDE0Li4yNSwgMjguLjMxKS5cbiAgICAgKiAgICBiKSBUaGVyZSBpcyBhdCBsZWFzdCBvbmUgcHJpbnRhYmxlIGNoYXJhY3RlciBiZWxvbmdpbmcgdG8gdGhlXG4gICAgICogICAgICAgXCJ3aGl0ZSBsaXN0XCIgKDkge1RBQn0sIDEwIHtMRn0sIDEzIHtDUn0sIDMyLi4yNTUpLlxuICAgICAqIC0gQklOQVJZIG90aGVyd2lzZS5cbiAgICAgKiAtIFRoZSBmb2xsb3dpbmcgcGFydGlhbGx5LXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBmb3JtIGFcbiAgICAgKiAgIFwiZ3JheSBsaXN0XCIgdGhhdCBpcyBpZ25vcmVkIGluIHRoaXMgZGV0ZWN0aW9uIGFsZ29yaXRobTpcbiAgICAgKiAgICg3IHtCRUx9LCA4IHtCU30sIDExIHtWVH0sIDEyIHtGRn0sIDI2IHtTVUJ9LCAyNyB7RVNDfSkuXG4gICAgICogSU4gYXNzZXJ0aW9uOiB0aGUgZmllbGRzIEZyZXEgb2YgZHluX2x0cmVlIGFyZSBzZXQuXG4gICAgICovXG5cbiAgICB2YXIgZGV0ZWN0X2RhdGFfdHlwZSA9IGZ1bmN0aW9uIGRldGVjdF9kYXRhX3R5cGUocykge1xuICAgICAgLyogYmxhY2tfbWFzayBpcyB0aGUgYml0IG1hc2sgb2YgYmxhY2stbGlzdGVkIGJ5dGVzXG4gICAgICAgKiBzZXQgYml0cyAwLi42LCAxNC4uMjUsIGFuZCAyOC4uMzFcbiAgICAgICAqIDB4ZjNmZmMwN2YgPSBiaW5hcnkgMTExMTAwMTExMTExMTExMTExMDAwMDAwMDExMTExMTFcbiAgICAgICAqL1xuICAgICAgdmFyIGJsYWNrX21hc2sgPSAweGYzZmZjMDdmXG4gICAgICB2YXIgblxuICAgICAgLyogQ2hlY2sgZm9yIG5vbi10ZXh0dWFsIChcImJsYWNrLWxpc3RlZFwiKSBieXRlcy4gKi9cblxuICAgICAgZm9yIChuID0gMDsgbiA8PSAzMTsgbisrLCBibGFja19tYXNrID4+Pj0gMSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYmxhY2tfbWFzayAmIDEgJiZcbiAgICAgICAgICBzLmR5bl9sdHJlZVtuICogMl0gIT09XG4gICAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgICAgMFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gWl9CSU5BUllcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogQ2hlY2sgZm9yIHRleHR1YWwgKFwid2hpdGUtbGlzdGVkXCIpIGJ5dGVzLiAqL1xuXG4gICAgICBpZiAoXG4gICAgICAgIHMuZHluX2x0cmVlWzkgKiAyXSAhPT1cbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIDAgfHxcbiAgICAgICAgcy5keW5fbHRyZWVbMTAgKiAyXSAhPT1cbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIDAgfHxcbiAgICAgICAgcy5keW5fbHRyZWVbMTMgKiAyXSAhPT1cbiAgICAgICAgICAvKiAuRnJlcSAqL1xuICAgICAgICAgIDBcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gWl9URVhUXG4gICAgICB9XG5cbiAgICAgIGZvciAobiA9IDMyOyBuIDwgTElURVJBTFM7IG4rKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcy5keW5fbHRyZWVbbiAqIDJdICE9PVxuICAgICAgICAgIC8qIC5GcmVxICovXG4gICAgICAgICAgMFxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gWl9URVhUXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIFRoZXJlIGFyZSBubyBcImJsYWNrLWxpc3RlZFwiIG9yIFwid2hpdGUtbGlzdGVkXCIgYnl0ZXM6XG4gICAgICAgKiB0aGlzIHN0cmVhbSBlaXRoZXIgaXMgZW1wdHkgb3IgaGFzIHRvbGVyYXRlZCAoXCJncmF5LWxpc3RlZFwiKSBieXRlcyBvbmx5LlxuICAgICAgICovXG5cbiAgICAgIHJldHVybiBaX0JJTkFSWVxuICAgIH1cblxuICAgIHZhciBzdGF0aWNfaW5pdF9kb25lID0gZmFsc2VcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBJbml0aWFsaXplIHRoZSB0cmVlIGRhdGEgc3RydWN0dXJlcyBmb3IgYSBuZXcgemxpYiBzdHJlYW0uXG4gICAgICovXG5cbiAgICB2YXIgX3RyX2luaXQgPSBmdW5jdGlvbiBfdHJfaW5pdChzKSB7XG4gICAgICBpZiAoIXN0YXRpY19pbml0X2RvbmUpIHtcbiAgICAgICAgdHJfc3RhdGljX2luaXQoKVxuICAgICAgICBzdGF0aWNfaW5pdF9kb25lID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBzLmxfZGVzYyA9IG5ldyBUcmVlRGVzYyhzLmR5bl9sdHJlZSwgc3RhdGljX2xfZGVzYylcbiAgICAgIHMuZF9kZXNjID0gbmV3IFRyZWVEZXNjKHMuZHluX2R0cmVlLCBzdGF0aWNfZF9kZXNjKVxuICAgICAgcy5ibF9kZXNjID0gbmV3IFRyZWVEZXNjKHMuYmxfdHJlZSwgc3RhdGljX2JsX2Rlc2MpXG4gICAgICBzLmJpX2J1ZiA9IDBcbiAgICAgIHMuYmlfdmFsaWQgPSAwXG4gICAgICAvKiBJbml0aWFsaXplIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgZmlyc3QgZmlsZTogKi9cblxuICAgICAgaW5pdF9ibG9jayhzKVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBTZW5kIGEgc3RvcmVkIGJsb2NrXG4gICAgICovXG5cbiAgICB2YXIgX3RyX3N0b3JlZF9ibG9jayA9IGZ1bmN0aW9uIF90cl9zdG9yZWRfYmxvY2soXG4gICAgICBzLFxuICAgICAgYnVmLFxuICAgICAgc3RvcmVkX2xlbixcbiAgICAgIGxhc3QgLy8gRGVmbGF0ZVN0YXRlICpzOyAvL2NoYXJmICpidWY7ICAgICAgIC8qIGlucHV0IGJsb2NrICovIC8vdWxnIHN0b3JlZF9sZW47ICAgLyogbGVuZ3RoIG9mIGlucHV0IGJsb2NrICovIC8vaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xuICAgICkge1xuICAgICAgc2VuZF9iaXRzKHMsIChTVE9SRURfQkxPQ0sgPDwgMSkgKyAobGFzdCA/IDEgOiAwKSwgMylcbiAgICAgIC8qIHNlbmQgYmxvY2sgdHlwZSAqL1xuXG4gICAgICBjb3B5X2Jsb2NrKHMsIGJ1Ziwgc3RvcmVkX2xlbiwgdHJ1ZSlcbiAgICAgIC8qIHdpdGggaGVhZGVyICovXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNlbmQgb25lIGVtcHR5IHN0YXRpYyBibG9jayB0byBnaXZlIGVub3VnaCBsb29rYWhlYWQgZm9yIGluZmxhdGUuXG4gICAgICogVGhpcyB0YWtlcyAxMCBiaXRzLCBvZiB3aGljaCA3IG1heSByZW1haW4gaW4gdGhlIGJpdCBidWZmZXIuXG4gICAgICovXG5cbiAgICB2YXIgX3RyX2FsaWduID0gZnVuY3Rpb24gX3RyX2FsaWduKHMpIHtcbiAgICAgIHNlbmRfYml0cyhzLCBTVEFUSUNfVFJFRVMgPDwgMSwgMylcbiAgICAgIHNlbmRfY29kZShzLCBFTkRfQkxPQ0ssIHN0YXRpY19sdHJlZSlcbiAgICAgIGJpX2ZsdXNoKHMpXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIERldGVybWluZSB0aGUgYmVzdCBlbmNvZGluZyBmb3IgdGhlIGN1cnJlbnQgYmxvY2s6IGR5bmFtaWMgdHJlZXMsIHN0YXRpY1xuICAgICAqIHRyZWVzIG9yIHN0b3JlLCBhbmQgb3V0cHV0IHRoZSBlbmNvZGVkIGJsb2NrIHRvIHRoZSB6aXAgZmlsZS5cbiAgICAgKi9cblxuICAgIHZhciBfdHJfZmx1c2hfYmxvY2sgPSBmdW5jdGlvbiBfdHJfZmx1c2hfYmxvY2soXG4gICAgICBzLFxuICAgICAgYnVmLFxuICAgICAgc3RvcmVkX2xlbixcbiAgICAgIGxhc3QgLy8gRGVmbGF0ZVN0YXRlICpzOyAvL2NoYXJmICpidWY7ICAgICAgIC8qIGlucHV0IGJsb2NrLCBvciBOVUxMIGlmIHRvbyBvbGQgKi8gLy91bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi8gLy9pbnQgbGFzdDsgICAgICAgICAvKiBvbmUgaWYgdGhpcyBpcyB0aGUgbGFzdCBibG9jayBmb3IgYSBmaWxlICovXG4gICAgKSB7XG4gICAgICB2YXIgb3B0X2xlbmJcbiAgICAgIHZhciBzdGF0aWNfbGVuYlxuICAgICAgLyogb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBpbiBieXRlcyAqL1xuXG4gICAgICB2YXIgbWF4X2JsaW5kZXggPSAwXG4gICAgICAvKiBpbmRleCBvZiBsYXN0IGJpdCBsZW5ndGggY29kZSBvZiBub24gemVybyBmcmVxICovXG5cbiAgICAgIC8qIEJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzIHVubGVzcyBhIHN0b3JlZCBibG9jayBpcyBmb3JjZWQgKi9cblxuICAgICAgaWYgKHMubGV2ZWwgPiAwKSB7XG4gICAgICAgIC8qIENoZWNrIGlmIHRoZSBmaWxlIGlzIGJpbmFyeSBvciB0ZXh0ICovXG4gICAgICAgIGlmIChzLnN0cm0uZGF0YV90eXBlID09PSBaX1VOS05PV04pIHtcbiAgICAgICAgICBzLnN0cm0uZGF0YV90eXBlID0gZGV0ZWN0X2RhdGFfdHlwZShzKVxuICAgICAgICB9XG4gICAgICAgIC8qIENvbnN0cnVjdCB0aGUgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cblxuICAgICAgICBidWlsZF90cmVlKHMsIHMubF9kZXNjKSAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5saXQgZGF0YTogZHluICVsZCwgc3RhdCAlbGRcIiwgcy0+b3B0X2xlbixcbiAgICAgICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcblxuICAgICAgICBidWlsZF90cmVlKHMsIHMuZF9kZXNjKSAvLyBUcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgICAgIC8vICAgICAgICBzLT5zdGF0aWNfbGVuKSk7XG5cbiAgICAgICAgLyogQXQgdGhpcyBwb2ludCwgb3B0X2xlbiBhbmQgc3RhdGljX2xlbiBhcmUgdGhlIHRvdGFsIGJpdCBsZW5ndGhzIG9mXG4gICAgICAgICAqIHRoZSBjb21wcmVzc2VkIGJsb2NrIGRhdGEsIGV4Y2x1ZGluZyB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWUgZm9yIHRoZSBhYm92ZSB0d28gdHJlZXMsIGFuZCBnZXQgdGhlIGluZGV4XG4gICAgICAgICAqIGluIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICAgICAgICAgKi9cblxuICAgICAgICBtYXhfYmxpbmRleCA9IGJ1aWxkX2JsX3RyZWUocylcbiAgICAgICAgLyogRGV0ZXJtaW5lIHRoZSBiZXN0IGVuY29kaW5nLiBDb21wdXRlIHRoZSBibG9jayBsZW5ndGhzIGluIGJ5dGVzLiAqL1xuXG4gICAgICAgIG9wdF9sZW5iID0gKHMub3B0X2xlbiArIDMgKyA3KSA+Pj4gM1xuICAgICAgICBzdGF0aWNfbGVuYiA9IChzLnN0YXRpY19sZW4gKyAzICsgNykgPj4+IDMgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxub3B0ICVsdSglbHUpIHN0YXQgJWx1KCVsdSkgc3RvcmVkICVsdSBsaXQgJXUgXCIsXG4gICAgICAgIC8vICAgICAgICBvcHRfbGVuYiwgcy0+b3B0X2xlbiwgc3RhdGljX2xlbmIsIHMtPnN0YXRpY19sZW4sIHN0b3JlZF9sZW4sXG4gICAgICAgIC8vICAgICAgICBzLT5sYXN0X2xpdCkpO1xuXG4gICAgICAgIGlmIChzdGF0aWNfbGVuYiA8PSBvcHRfbGVuYikge1xuICAgICAgICAgIG9wdF9sZW5iID0gc3RhdGljX2xlbmJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXNzZXJ0KGJ1ZiAhPSAoY2hhciopMCwgXCJsb3N0IGJ1ZlwiKTtcbiAgICAgICAgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYiA9IHN0b3JlZF9sZW4gKyA1XG4gICAgICAgIC8qIGZvcmNlIGEgc3RvcmVkIGJsb2NrICovXG4gICAgICB9XG5cbiAgICAgIGlmIChzdG9yZWRfbGVuICsgNCA8PSBvcHRfbGVuYiAmJiBidWYgIT09IC0xKSB7XG4gICAgICAgIC8qIDQ6IHR3byB3b3JkcyBmb3IgdGhlIGxlbmd0aHMgKi9cblxuICAgICAgICAvKiBUaGUgdGVzdCBidWYgIT0gTlVMTCBpcyBvbmx5IG5lY2Vzc2FyeSBpZiBMSVRfQlVGU0laRSA+IFdTSVpFLlxuICAgICAgICAgKiBPdGhlcndpc2Ugd2UgY2FuJ3QgaGF2ZSBwcm9jZXNzZWQgbW9yZSB0aGFuIFdTSVpFIGlucHV0IGJ5dGVzIHNpbmNlXG4gICAgICAgICAqIHRoZSBsYXN0IGJsb2NrIGZsdXNoLCBiZWNhdXNlIGNvbXByZXNzaW9uIHdvdWxkIGhhdmUgYmVlblxuICAgICAgICAgKiBzdWNjZXNzZnVsLiBJZiBMSVRfQlVGU0laRSA8PSBXU0laRSwgaXQgaXMgbmV2ZXIgdG9vIGxhdGUgdG9cbiAgICAgICAgICogdHJhbnNmb3JtIGEgYmxvY2sgaW50byBhIHN0b3JlZCBibG9jay5cbiAgICAgICAgICovXG4gICAgICAgIF90cl9zdG9yZWRfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KVxuICAgICAgfSBlbHNlIGlmIChzLnN0cmF0ZWd5ID09PSBaX0ZJWEVEIHx8IHN0YXRpY19sZW5iID09PSBvcHRfbGVuYikge1xuICAgICAgICBzZW5kX2JpdHMocywgKFNUQVRJQ19UUkVFUyA8PCAxKSArIChsYXN0ID8gMSA6IDApLCAzKVxuICAgICAgICBjb21wcmVzc19ibG9jayhzLCBzdGF0aWNfbHRyZWUsIHN0YXRpY19kdHJlZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbmRfYml0cyhzLCAoRFlOX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpXG4gICAgICAgIHNlbmRfYWxsX3RyZWVzKHMsIHMubF9kZXNjLm1heF9jb2RlICsgMSwgcy5kX2Rlc2MubWF4X2NvZGUgKyAxLCBtYXhfYmxpbmRleCArIDEpXG4gICAgICAgIGNvbXByZXNzX2Jsb2NrKHMsIHMuZHluX2x0cmVlLCBzLmR5bl9kdHJlZSlcbiAgICAgIH0gLy8gQXNzZXJ0IChzLT5jb21wcmVzc2VkX2xlbiA9PSBzLT5iaXRzX3NlbnQsIFwiYmFkIGNvbXByZXNzZWQgc2l6ZVwiKTtcblxuICAgICAgLyogVGhlIGFib3ZlIGNoZWNrIGlzIG1hZGUgbW9kIDJeMzIsIGZvciBmaWxlcyBsYXJnZXIgdGhhbiA1MTIgTUJcbiAgICAgICAqIGFuZCB1TG9uZyBpbXBsZW1lbnRlZCBvbiAzMiBiaXRzLlxuICAgICAgICovXG5cbiAgICAgIGluaXRfYmxvY2socylcblxuICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgYmlfd2luZHVwKHMpXG4gICAgICB9IC8vIFRyYWNldigoc3RkZXJyLFwiXFxuY29tcHJsZW4gJWx1KCVsdSkgXCIsIHMtPmNvbXByZXNzZWRfbGVuPj4zLFxuICAgICAgLy8gICAgICAgcy0+Y29tcHJlc3NlZF9sZW4tNypsYXN0KSk7XG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNhdmUgdGhlIG1hdGNoIGluZm8gYW5kIHRhbGx5IHRoZSBmcmVxdWVuY3kgY291bnRzLiBSZXR1cm4gdHJ1ZSBpZlxuICAgICAqIHRoZSBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZC5cbiAgICAgKi9cblxuICAgIHZhciBfdHJfdGFsbHkgPSBmdW5jdGlvbiBfdHJfdGFsbHkoXG4gICAgICBzLFxuICAgICAgZGlzdCxcbiAgICAgIGxjIC8vICAgIGRlZmxhdGVfc3RhdGUgKnM7IC8vICAgIHVuc2lnbmVkIGRpc3Q7ICAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqLyAvLyAgICB1bnNpZ25lZCBsYzsgICAgLyogbWF0Y2ggbGVuZ3RoLU1JTl9NQVRDSCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdD09MCkgKi9cbiAgICApIHtcbiAgICAgIC8vIGxldCBvdXRfbGVuZ3RoLCBpbl9sZW5ndGgsIGRjb2RlO1xuICAgICAgcy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgcy5sYXN0X2xpdCAqIDJdID0gKGRpc3QgPj4+IDgpICYgMHhmZlxuICAgICAgcy5wZW5kaW5nX2J1ZltzLmRfYnVmICsgcy5sYXN0X2xpdCAqIDIgKyAxXSA9IGRpc3QgJiAweGZmXG4gICAgICBzLnBlbmRpbmdfYnVmW3MubF9idWYgKyBzLmxhc3RfbGl0XSA9IGxjICYgMHhmZlxuICAgICAgcy5sYXN0X2xpdCsrXG5cbiAgICAgIGlmIChkaXN0ID09PSAwKSB7XG4gICAgICAgIC8qIGxjIGlzIHRoZSB1bm1hdGNoZWQgY2hhciAqL1xuICAgICAgICBzLmR5bl9sdHJlZVtsYyAqIDJdIC8qIC5GcmVxICovKytcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMubWF0Y2hlcysrXG4gICAgICAgIC8qIEhlcmUsIGxjIGlzIHRoZSBtYXRjaCBsZW5ndGggLSBNSU5fTUFUQ0ggKi9cblxuICAgICAgICBkaXN0LS1cbiAgICAgICAgLyogZGlzdCA9IG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuICAgICAgICAvLyBBc3NlcnQoKHVzaClkaXN0IDwgKHVzaClNQVhfRElTVChzKSAmJlxuICAgICAgICAvLyAgICAgICAodXNoKWxjIDw9ICh1c2gpKE1BWF9NQVRDSC1NSU5fTUFUQ0gpICYmXG4gICAgICAgIC8vICAgICAgICh1c2gpZF9jb2RlKGRpc3QpIDwgKHVzaClEX0NPREVTLCAgXCJfdHJfdGFsbHk6IGJhZCBtYXRjaFwiKTtcblxuICAgICAgICBzLmR5bl9sdHJlZVsoX2xlbmd0aF9jb2RlW2xjXSArIExJVEVSQUxTICsgMSkgKiAyXSAvKiAuRnJlcSAqLysrXG4gICAgICAgIHMuZHluX2R0cmVlW2RfY29kZShkaXN0KSAqIDJdIC8qIC5GcmVxICovKytcbiAgICAgIH0gLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhdWx0cyxcbiAgICAgIC8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbiAgICAgIC8vICNpZmRlZiBUUlVOQ0FURV9CTE9DS1xuICAgICAgLy8gIC8qIFRyeSB0byBndWVzcyBpZiBpdCBpcyBwcm9maXRhYmxlIHRvIHN0b3AgdGhlIGN1cnJlbnQgYmxvY2sgaGVyZSAqL1xuICAgICAgLy8gIGlmICgocy5sYXN0X2xpdCAmIDB4MWZmZikgPT09IDAgJiYgcy5sZXZlbCA+IDIpIHtcbiAgICAgIC8vICAgIC8qIENvbXB1dGUgYW4gdXBwZXIgYm91bmQgZm9yIHRoZSBjb21wcmVzc2VkIGxlbmd0aCAqL1xuICAgICAgLy8gICAgb3V0X2xlbmd0aCA9IHMubGFzdF9saXQqODtcbiAgICAgIC8vICAgIGluX2xlbmd0aCA9IHMuc3Ryc3RhcnQgLSBzLmJsb2NrX3N0YXJ0O1xuICAgICAgLy9cbiAgICAgIC8vICAgIGZvciAoZGNvZGUgPSAwOyBkY29kZSA8IERfQ09ERVM7IGRjb2RlKyspIHtcbiAgICAgIC8vICAgICAgb3V0X2xlbmd0aCArPSBzLmR5bl9kdHJlZVtkY29kZSoyXS8qLkZyZXEqLyAqICg1ICsgZXh0cmFfZGJpdHNbZGNvZGVdKTtcbiAgICAgIC8vICAgIH1cbiAgICAgIC8vICAgIG91dF9sZW5ndGggPj4+PSAzO1xuICAgICAgLy8gICAgLy9UcmFjZXYoKHN0ZGVycixcIlxcbmxhc3RfbGl0ICV1LCBpbiAlbGQsIG91dCB+JWxkKCVsZCUlKSBcIixcbiAgICAgIC8vICAgIC8vICAgICAgIHMtPmxhc3RfbGl0LCBpbl9sZW5ndGgsIG91dF9sZW5ndGgsXG4gICAgICAvLyAgICAvLyAgICAgICAxMDBMIC0gb3V0X2xlbmd0aCoxMDBML2luX2xlbmd0aCkpO1xuICAgICAgLy8gICAgaWYgKHMubWF0Y2hlcyA8IChzLmxhc3RfbGl0Pj4xKS8qaW50IC8yKi8gJiYgb3V0X2xlbmd0aCA8IChpbl9sZW5ndGg+PjEpLyppbnQgLzIqLykge1xuICAgICAgLy8gICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vICAgIH1cbiAgICAgIC8vICB9XG4gICAgICAvLyAjZW5kaWZcblxuICAgICAgcmV0dXJuIHMubGFzdF9saXQgPT09IHMubGl0X2J1ZnNpemUgLSAxXG4gICAgICAvKiBXZSBhdm9pZCBlcXVhbGl0eSB3aXRoIGxpdF9idWZzaXplIGJlY2F1c2Ugb2Ygd3JhcGFyb3VuZCBhdCA2NEtcbiAgICAgICAqIG9uIDE2IGJpdCBtYWNoaW5lcyBhbmQgYmVjYXVzZSBzdG9yZWQgYmxvY2tzIGFyZSByZXN0cmljdGVkIHRvXG4gICAgICAgKiA2NEstMSBieXRlcy5cbiAgICAgICAqL1xuICAgIH1cblxuICAgIHZhciBfdHJfaW5pdF8xID0gX3RyX2luaXRcbiAgICB2YXIgX3RyX3N0b3JlZF9ibG9ja18xID0gX3RyX3N0b3JlZF9ibG9ja1xuICAgIHZhciBfdHJfZmx1c2hfYmxvY2tfMSA9IF90cl9mbHVzaF9ibG9ja1xuICAgIHZhciBfdHJfdGFsbHlfMSA9IF90cl90YWxseVxuICAgIHZhciBfdHJfYWxpZ25fMSA9IF90cl9hbGlnblxuICAgIHZhciB0cmVlcyA9IHtcbiAgICAgIF90cl9pbml0OiBfdHJfaW5pdF8xLFxuICAgICAgX3RyX3N0b3JlZF9ibG9jazogX3RyX3N0b3JlZF9ibG9ja18xLFxuICAgICAgX3RyX2ZsdXNoX2Jsb2NrOiBfdHJfZmx1c2hfYmxvY2tfMSxcbiAgICAgIF90cl90YWxseTogX3RyX3RhbGx5XzEsXG4gICAgICBfdHJfYWxpZ246IF90cl9hbGlnbl8xLFxuICAgIH1cblxuICAgIC8vIEl0IGlzbid0IHdvcnRoIGl0IHRvIG1ha2UgYWRkaXRpb25hbCBvcHRpbWl6YXRpb25zIGFzIGluIG9yaWdpbmFsLlxuICAgIC8vIFNtYWxsIHNpemUgaXMgcHJlZmVyYWJsZS5cbiAgICAvLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbiAgICAvLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuICAgIC8vXG4gICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAvLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbiAgICAvLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuICAgIC8vXG4gICAgLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4gICAgLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAvL1xuICAgIC8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4gICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgIC8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4gICAgLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4gICAgLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cblxuICAgIHZhciBhZGxlcjMyID0gZnVuY3Rpb24gYWRsZXIzMihhZGxlciwgYnVmLCBsZW4sIHBvcykge1xuICAgICAgdmFyIHMxID0gKGFkbGVyICYgMHhmZmZmKSB8IDBcbiAgICAgIHZhciBzMiA9ICgoYWRsZXIgPj4+IDE2KSAmIDB4ZmZmZikgfCAwXG4gICAgICB2YXIgbiA9IDBcblxuICAgICAgd2hpbGUgKGxlbiAhPT0gMCkge1xuICAgICAgICAvLyBTZXQgbGltaXQgfiB0d2ljZSBsZXNzIHRoYW4gNTU1MiwgdG8ga2VlcFxuICAgICAgICAvLyBzMiBpbiAzMS1iaXRzLCBiZWNhdXNlIHdlIGZvcmNlIHNpZ25lZCBpbnRzLlxuICAgICAgICAvLyBpbiBvdGhlciBjYXNlICU9IHdpbGwgZmFpbC5cbiAgICAgICAgbiA9IGxlbiA+IDIwMDAgPyAyMDAwIDogbGVuXG4gICAgICAgIGxlbiAtPSBuXG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHMxID0gKHMxICsgYnVmW3BvcysrXSkgfCAwXG4gICAgICAgICAgczIgPSAoczIgKyBzMSkgfCAwXG4gICAgICAgIH0gd2hpbGUgKC0tbilcblxuICAgICAgICBzMSAlPSA2NTUyMVxuICAgICAgICBzMiAlPSA2NTUyMVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gczEgfCAoczIgPDwgMTYpIHwgMFxuICAgIH1cblxuICAgIHZhciBhZGxlcjMyXzEgPSBhZGxlcjMyXG5cbiAgICAvLyBTbyB3cml0ZSBjb2RlIHRvIG1pbmltaXplIHNpemUgLSBubyBwcmVnZW5lcmF0ZWQgdGFibGVzXG4gICAgLy8gYW5kIGFycmF5IHRvb2xzIGRlcGVuZGVuY2llcy5cbiAgICAvLyAoQykgMTk5NS0yMDEzIEplYW4tbG91cCBHYWlsbHkgYW5kIE1hcmsgQWRsZXJcbiAgICAvLyAoQykgMjAxNC0yMDE3IFZpdGFseSBQdXpyaW4gYW5kIEFuZHJleSBUdXBpdHNpblxuICAgIC8vXG4gICAgLy8gVGhpcyBzb2Z0d2FyZSBpcyBwcm92aWRlZCAnYXMtaXMnLCB3aXRob3V0IGFueSBleHByZXNzIG9yIGltcGxpZWRcbiAgICAvLyB3YXJyYW50eS4gSW4gbm8gZXZlbnQgd2lsbCB0aGUgYXV0aG9ycyBiZSBoZWxkIGxpYWJsZSBmb3IgYW55IGRhbWFnZXNcbiAgICAvLyBhcmlzaW5nIGZyb20gdGhlIHVzZSBvZiB0aGlzIHNvZnR3YXJlLlxuICAgIC8vXG4gICAgLy8gUGVybWlzc2lvbiBpcyBncmFudGVkIHRvIGFueW9uZSB0byB1c2UgdGhpcyBzb2Z0d2FyZSBmb3IgYW55IHB1cnBvc2UsXG4gICAgLy8gaW5jbHVkaW5nIGNvbW1lcmNpYWwgYXBwbGljYXRpb25zLCBhbmQgdG8gYWx0ZXIgaXQgYW5kIHJlZGlzdHJpYnV0ZSBpdFxuICAgIC8vIGZyZWVseSwgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIHJlc3RyaWN0aW9uczpcbiAgICAvL1xuICAgIC8vIDEuIFRoZSBvcmlnaW4gb2YgdGhpcyBzb2Z0d2FyZSBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90XG4gICAgLy8gICBjbGFpbSB0aGF0IHlvdSB3cm90ZSB0aGUgb3JpZ2luYWwgc29mdHdhcmUuIElmIHlvdSB1c2UgdGhpcyBzb2Z0d2FyZVxuICAgIC8vICAgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBpbiB0aGUgcHJvZHVjdCBkb2N1bWVudGF0aW9uIHdvdWxkIGJlXG4gICAgLy8gICBhcHByZWNpYXRlZCBidXQgaXMgbm90IHJlcXVpcmVkLlxuICAgIC8vIDIuIEFsdGVyZWQgc291cmNlIHZlcnNpb25zIG11c3QgYmUgcGxhaW5seSBtYXJrZWQgYXMgc3VjaCwgYW5kIG11c3Qgbm90IGJlXG4gICAgLy8gICBtaXNyZXByZXNlbnRlZCBhcyBiZWluZyB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXG4gICAgLy8gMy4gVGhpcyBub3RpY2UgbWF5IG5vdCBiZSByZW1vdmVkIG9yIGFsdGVyZWQgZnJvbSBhbnkgc291cmNlIGRpc3RyaWJ1dGlvbi5cbiAgICAvLyBVc2Ugb3JkaW5hcnkgYXJyYXksIHNpbmNlIHVudHlwZWQgbWFrZXMgbm8gYm9vc3QgaGVyZVxuXG4gICAgdmFyIG1ha2VUYWJsZSA9IGZ1bmN0aW9uIG1ha2VUYWJsZSgpIHtcbiAgICAgIHZhciBjXG4gICAgICB2YXIgdGFibGUgPSBbXVxuXG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IDI1NjsgbisrKSB7XG4gICAgICAgIGMgPSBuXG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCA4OyBrKyspIHtcbiAgICAgICAgICBjID0gYyAmIDEgPyAweGVkYjg4MzIwIF4gKGMgPj4+IDEpIDogYyA+Pj4gMVxuICAgICAgICB9XG5cbiAgICAgICAgdGFibGVbbl0gPSBjXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YWJsZVxuICAgIH0gLy8gQ3JlYXRlIHRhYmxlIG9uIGxvYWQuIEp1c3QgMjU1IHNpZ25lZCBsb25ncy4gTm90IGEgcHJvYmxlbS5cblxuICAgIHZhciBjcmNUYWJsZSA9IG5ldyBVaW50MzJBcnJheShtYWtlVGFibGUoKSlcblxuICAgIHZhciBjcmMzMiA9IGZ1bmN0aW9uIGNyYzMyKGNyYywgYnVmLCBsZW4sIHBvcykge1xuICAgICAgdmFyIHQgPSBjcmNUYWJsZVxuICAgICAgdmFyIGVuZCA9IHBvcyArIGxlblxuICAgICAgY3JjIF49IC0xXG5cbiAgICAgIGZvciAodmFyIGkgPSBwb3M7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBjcmMgPSAoY3JjID4+PiA4KSBeIHRbKGNyYyBeIGJ1ZltpXSkgJiAweGZmXVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JjIF4gLTEgLy8gPj4+IDA7XG4gICAgfVxuXG4gICAgdmFyIGNyYzMyXzEgPSBjcmMzMlxuXG4gICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAvL1xuICAgIC8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4gICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbiAgICAvL1xuICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgIC8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbiAgICAvLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4gICAgLy9cbiAgICAvLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuICAgIC8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbiAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgIC8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbiAgICAvLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgIC8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbiAgICB2YXIgbWVzc2FnZXMgPSB7XG4gICAgICAyOiAnbmVlZCBkaWN0aW9uYXJ5JyxcblxuICAgICAgLyogWl9ORUVEX0RJQ1QgICAgICAgMiAgKi9cbiAgICAgIDE6ICdzdHJlYW0gZW5kJyxcblxuICAgICAgLyogWl9TVFJFQU1fRU5EICAgICAgMSAgKi9cbiAgICAgIDA6ICcnLFxuXG4gICAgICAvKiBaX09LICAgICAgICAgICAgICAwICAqL1xuICAgICAgJy0xJzogJ2ZpbGUgZXJyb3InLFxuXG4gICAgICAvKiBaX0VSUk5PICAgICAgICAgKC0xKSAqL1xuICAgICAgJy0yJzogJ3N0cmVhbSBlcnJvcicsXG5cbiAgICAgIC8qIFpfU1RSRUFNX0VSUk9SICAoLTIpICovXG4gICAgICAnLTMnOiAnZGF0YSBlcnJvcicsXG5cbiAgICAgIC8qIFpfREFUQV9FUlJPUiAgICAoLTMpICovXG4gICAgICAnLTQnOiAnaW5zdWZmaWNpZW50IG1lbW9yeScsXG5cbiAgICAgIC8qIFpfTUVNX0VSUk9SICAgICAoLTQpICovXG4gICAgICAnLTUnOiAnYnVmZmVyIGVycm9yJyxcblxuICAgICAgLyogWl9CVUZfRVJST1IgICAgICgtNSkgKi9cbiAgICAgICctNic6ICdpbmNvbXBhdGlibGUgdmVyc2lvbicsXG4gICAgICAvKiBaX1ZFUlNJT05fRVJST1IgKC02KSAqL1xuICAgIH1cblxuICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgLy9cbiAgICAvLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgLy9cbiAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuICAgIC8vXG4gICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAvLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4gICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbiAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4gICAgdmFyIGNvbnN0YW50cyA9IHtcbiAgICAgIC8qIEFsbG93ZWQgZmx1c2ggdmFsdWVzOyBzZWUgZGVmbGF0ZSgpIGFuZCBpbmZsYXRlKCkgYmVsb3cgZm9yIGRldGFpbHMgKi9cbiAgICAgIFpfTk9fRkxVU0g6IDAsXG4gICAgICBaX1BBUlRJQUxfRkxVU0g6IDEsXG4gICAgICBaX1NZTkNfRkxVU0g6IDIsXG4gICAgICBaX0ZVTExfRkxVU0g6IDMsXG4gICAgICBaX0ZJTklTSDogNCxcbiAgICAgIFpfQkxPQ0s6IDUsXG4gICAgICBaX1RSRUVTOiA2LFxuXG4gICAgICAvKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gICAgICAgKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gICAgICAgKi9cbiAgICAgIFpfT0s6IDAsXG4gICAgICBaX1NUUkVBTV9FTkQ6IDEsXG4gICAgICBaX05FRURfRElDVDogMixcbiAgICAgIFpfRVJSTk86IC0xLFxuICAgICAgWl9TVFJFQU1fRVJST1I6IC0yLFxuICAgICAgWl9EQVRBX0VSUk9SOiAtMyxcbiAgICAgIFpfTUVNX0VSUk9SOiAtNCxcbiAgICAgIFpfQlVGX0VSUk9SOiAtNSxcbiAgICAgIC8vIFpfVkVSU0lPTl9FUlJPUjogLTYsXG5cbiAgICAgIC8qIGNvbXByZXNzaW9uIGxldmVscyAqL1xuICAgICAgWl9OT19DT01QUkVTU0lPTjogMCxcbiAgICAgIFpfQkVTVF9TUEVFRDogMSxcbiAgICAgIFpfQkVTVF9DT01QUkVTU0lPTjogOSxcbiAgICAgIFpfREVGQVVMVF9DT01QUkVTU0lPTjogLTEsXG4gICAgICBaX0ZJTFRFUkVEOiAxLFxuICAgICAgWl9IVUZGTUFOX09OTFk6IDIsXG4gICAgICBaX1JMRTogMyxcbiAgICAgIFpfRklYRUQ6IDQsXG4gICAgICBaX0RFRkFVTFRfU1RSQVRFR1k6IDAsXG5cbiAgICAgIC8qIFBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgZGF0YV90eXBlIGZpZWxkICh0aG91Z2ggc2VlIGluZmxhdGUoKSkgKi9cbiAgICAgIFpfQklOQVJZOiAwLFxuICAgICAgWl9URVhUOiAxLFxuICAgICAgLy8gWl9BU0NJSTogICAgICAgICAgICAgICAgMSwgLy8gPSBaX1RFWFQgKGRlcHJlY2F0ZWQpXG4gICAgICBaX1VOS05PV046IDIsXG5cbiAgICAgIC8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xuICAgICAgWl9ERUZMQVRFRDogOCwgLy8gWl9OVUxMOiAgICAgICAgICAgICAgICAgbnVsbCAvLyBVc2UgLTEgb3IgbnVsbCBpbmxpbmUsIGRlcGVuZGluZyBvbiB2YXIgdHlwZVxuICAgIH1cblxuICAgIC8vIChDKSAyMDE0LTIwMTcgVml0YWx5IFB1enJpbiBhbmQgQW5kcmV5IFR1cGl0c2luXG4gICAgLy9cbiAgICAvLyBUaGlzIHNvZnR3YXJlIGlzIHByb3ZpZGVkICdhcy1pcycsIHdpdGhvdXQgYW55IGV4cHJlc3Mgb3IgaW1wbGllZFxuICAgIC8vIHdhcnJhbnR5LiBJbiBubyBldmVudCB3aWxsIHRoZSBhdXRob3JzIGJlIGhlbGQgbGlhYmxlIGZvciBhbnkgZGFtYWdlc1xuICAgIC8vIGFyaXNpbmcgZnJvbSB0aGUgdXNlIG9mIHRoaXMgc29mdHdhcmUuXG4gICAgLy9cbiAgICAvLyBQZXJtaXNzaW9uIGlzIGdyYW50ZWQgdG8gYW55b25lIHRvIHVzZSB0aGlzIHNvZnR3YXJlIGZvciBhbnkgcHVycG9zZSxcbiAgICAvLyBpbmNsdWRpbmcgY29tbWVyY2lhbCBhcHBsaWNhdGlvbnMsIGFuZCB0byBhbHRlciBpdCBhbmQgcmVkaXN0cmlidXRlIGl0XG4gICAgLy8gZnJlZWx5LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgcmVzdHJpY3Rpb25zOlxuICAgIC8vXG4gICAgLy8gMS4gVGhlIG9yaWdpbiBvZiB0aGlzIHNvZnR3YXJlIG11c3Qgbm90IGJlIG1pc3JlcHJlc2VudGVkOyB5b3UgbXVzdCBub3RcbiAgICAvLyAgIGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS4gSWYgeW91IHVzZSB0aGlzIHNvZnR3YXJlXG4gICAgLy8gICBpbiBhIHByb2R1Y3QsIGFuIGFja25vd2xlZGdtZW50IGluIHRoZSBwcm9kdWN0IGRvY3VtZW50YXRpb24gd291bGQgYmVcbiAgICAvLyAgIGFwcHJlY2lhdGVkIGJ1dCBpcyBub3QgcmVxdWlyZWQuXG4gICAgLy8gMi4gQWx0ZXJlZCBzb3VyY2UgdmVyc2lvbnMgbXVzdCBiZSBwbGFpbmx5IG1hcmtlZCBhcyBzdWNoLCBhbmQgbXVzdCBub3QgYmVcbiAgICAvLyAgIG1pc3JlcHJlc2VudGVkIGFzIGJlaW5nIHRoZSBvcmlnaW5hbCBzb2Z0d2FyZS5cbiAgICAvLyAzLiBUaGlzIG5vdGljZSBtYXkgbm90IGJlIHJlbW92ZWQgb3IgYWx0ZXJlZCBmcm9tIGFueSBzb3VyY2UgZGlzdHJpYnV0aW9uLlxuXG4gICAgdmFyIF90cl9pbml0JDEgPSB0cmVlcy5fdHJfaW5pdFxuICAgIHZhciBfdHJfc3RvcmVkX2Jsb2NrJDEgPSB0cmVlcy5fdHJfc3RvcmVkX2Jsb2NrXG4gICAgdmFyIF90cl9mbHVzaF9ibG9jayQxID0gdHJlZXMuX3RyX2ZsdXNoX2Jsb2NrXG4gICAgdmFyIF90cl90YWxseSQxID0gdHJlZXMuX3RyX3RhbGx5XG4gICAgdmFyIF90cl9hbGlnbiQxID0gdHJlZXMuX3RyX2FsaWduXG4gICAgLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIHZhciBaX05PX0ZMVVNIID0gY29uc3RhbnRzLlpfTk9fRkxVU0hcbiAgICB2YXIgWl9QQVJUSUFMX0ZMVVNIID0gY29uc3RhbnRzLlpfUEFSVElBTF9GTFVTSFxuICAgIHZhciBaX0ZVTExfRkxVU0ggPSBjb25zdGFudHMuWl9GVUxMX0ZMVVNIXG4gICAgdmFyIFpfRklOSVNIID0gY29uc3RhbnRzLlpfRklOSVNIXG4gICAgdmFyIFpfQkxPQ0sgPSBjb25zdGFudHMuWl9CTE9DS1xuICAgIHZhciBaX09LID0gY29uc3RhbnRzLlpfT0tcbiAgICB2YXIgWl9TVFJFQU1fRU5EID0gY29uc3RhbnRzLlpfU1RSRUFNX0VORFxuICAgIHZhciBaX1NUUkVBTV9FUlJPUiA9IGNvbnN0YW50cy5aX1NUUkVBTV9FUlJPUlxuICAgIHZhciBaX0RBVEFfRVJST1IgPSBjb25zdGFudHMuWl9EQVRBX0VSUk9SXG4gICAgdmFyIFpfQlVGX0VSUk9SID0gY29uc3RhbnRzLlpfQlVGX0VSUk9SXG4gICAgdmFyIFpfREVGQVVMVF9DT01QUkVTU0lPTiA9IGNvbnN0YW50cy5aX0RFRkFVTFRfQ09NUFJFU1NJT05cbiAgICB2YXIgWl9GSUxURVJFRCA9IGNvbnN0YW50cy5aX0ZJTFRFUkVEXG4gICAgdmFyIFpfSFVGRk1BTl9PTkxZID0gY29uc3RhbnRzLlpfSFVGRk1BTl9PTkxZXG4gICAgdmFyIFpfUkxFID0gY29uc3RhbnRzLlpfUkxFXG4gICAgdmFyIFpfRklYRUQkMSA9IGNvbnN0YW50cy5aX0ZJWEVEXG4gICAgdmFyIFpfREVGQVVMVF9TVFJBVEVHWSA9IGNvbnN0YW50cy5aX0RFRkFVTFRfU1RSQVRFR1lcbiAgICB2YXIgWl9VTktOT1dOJDEgPSBjb25zdGFudHMuWl9VTktOT1dOXG4gICAgdmFyIFpfREVGTEFURUQgPSBjb25zdGFudHMuWl9ERUZMQVRFRFxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIHZhciBNQVhfTUVNX0xFVkVMID0gOVxuICAgIC8qIE1heGltdW0gdmFsdWUgZm9yIG1lbUxldmVsIGluIGRlZmxhdGVJbml0MiAqL1xuXG4gICAgdmFyIE1BWF9XQklUUyA9IDE1XG4gICAgLyogMzJLIExaNzcgd2luZG93ICovXG5cbiAgICB2YXIgREVGX01FTV9MRVZFTCA9IDhcbiAgICB2YXIgTEVOR1RIX0NPREVTJDEgPSAyOVxuICAgIC8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xuXG4gICAgdmFyIExJVEVSQUxTJDEgPSAyNTZcbiAgICAvKiBudW1iZXIgb2YgbGl0ZXJhbCBieXRlcyAwLi4yNTUgKi9cblxuICAgIHZhciBMX0NPREVTJDEgPSBMSVRFUkFMUyQxICsgMSArIExFTkdUSF9DT0RFUyQxXG4gICAgLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG5cbiAgICB2YXIgRF9DT0RFUyQxID0gMzBcbiAgICAvKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cblxuICAgIHZhciBCTF9DT0RFUyQxID0gMTlcbiAgICAvKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cblxuICAgIHZhciBIRUFQX1NJWkUkMSA9IDIgKiBMX0NPREVTJDEgKyAxXG4gICAgLyogbWF4aW11bSBoZWFwIHNpemUgKi9cblxuICAgIHZhciBNQVhfQklUUyQxID0gMTVcbiAgICAvKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cblxuICAgIHZhciBNSU5fTUFUQ0gkMSA9IDNcbiAgICB2YXIgTUFYX01BVENIJDEgPSAyNThcbiAgICB2YXIgTUlOX0xPT0tBSEVBRCA9IE1BWF9NQVRDSCQxICsgTUlOX01BVENIJDEgKyAxXG4gICAgdmFyIFBSRVNFVF9ESUNUID0gMHgyMFxuICAgIHZhciBJTklUX1NUQVRFID0gNDJcbiAgICB2YXIgRVhUUkFfU1RBVEUgPSA2OVxuICAgIHZhciBOQU1FX1NUQVRFID0gNzNcbiAgICB2YXIgQ09NTUVOVF9TVEFURSA9IDkxXG4gICAgdmFyIEhDUkNfU1RBVEUgPSAxMDNcbiAgICB2YXIgQlVTWV9TVEFURSA9IDExM1xuICAgIHZhciBGSU5JU0hfU1RBVEUgPSA2NjZcbiAgICB2YXIgQlNfTkVFRF9NT1JFID0gMVxuICAgIC8qIGJsb2NrIG5vdCBjb21wbGV0ZWQsIG5lZWQgbW9yZSBpbnB1dCBvciBtb3JlIG91dHB1dCAqL1xuXG4gICAgdmFyIEJTX0JMT0NLX0RPTkUgPSAyXG4gICAgLyogYmxvY2sgZmx1c2ggcGVyZm9ybWVkICovXG5cbiAgICB2YXIgQlNfRklOSVNIX1NUQVJURUQgPSAzXG4gICAgLyogZmluaXNoIHN0YXJ0ZWQsIG5lZWQgb25seSBtb3JlIG91dHB1dCBhdCBuZXh0IGRlZmxhdGUgKi9cblxuICAgIHZhciBCU19GSU5JU0hfRE9ORSA9IDRcbiAgICAvKiBmaW5pc2ggZG9uZSwgYWNjZXB0IG5vIG1vcmUgaW5wdXQgb3Igb3V0cHV0ICovXG5cbiAgICB2YXIgT1NfQ09ERSA9IDB4MDMgLy8gVW5peCA6KSAuIERvbid0IGRldGVjdCwgdXNlIHRoaXMgZGVmYXVsdC5cblxuICAgIHZhciBlcnIgPSBmdW5jdGlvbiBlcnIoc3RybSwgZXJyb3JDb2RlKSB7XG4gICAgICBzdHJtLm1zZyA9IG1lc3NhZ2VzW2Vycm9yQ29kZV1cbiAgICAgIHJldHVybiBlcnJvckNvZGVcbiAgICB9XG5cbiAgICB2YXIgcmFuayA9IGZ1bmN0aW9uIHJhbmsoZikge1xuICAgICAgcmV0dXJuIChmIDw8IDEpIC0gKGYgPiA0ID8gOSA6IDApXG4gICAgfVxuXG4gICAgdmFyIHplcm8kMSA9IGZ1bmN0aW9uIHplcm8oYnVmKSB7XG4gICAgICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gICAgICB3aGlsZSAoLS1sZW4gPj0gMCkge1xuICAgICAgICBidWZbbGVuXSA9IDBcbiAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqL1xuXG4gICAgdmFyIEhBU0hfWkxJQiA9IGZ1bmN0aW9uIEhBU0hfWkxJQihzLCBwcmV2LCBkYXRhKSB7XG4gICAgICByZXR1cm4gKChwcmV2IDw8IHMuaGFzaF9zaGlmdCkgXiBkYXRhKSAmIHMuaGFzaF9tYXNrXG4gICAgfSAvLyBUaGlzIGhhc2ggY2F1c2VzIGxlc3MgY29sbGlzaW9ucywgaHR0cHM6Ly9naXRodWIuY29tL25vZGVjYS9wYWtvL2lzc3Vlcy8xMzVcbiAgICAvLyBCdXQgYnJlYWtzIGJpbmFyeSBjb21wYXRpYmlsaXR5XG4gICAgLy8gbGV0IEhBU0hfRkFTVCA9IChzLCBwcmV2LCBkYXRhKSA9PiAoKHByZXYgPDwgOCkgKyAocHJldiA+PiA4KSArIChkYXRhIDw8IDQpKSAmIHMuaGFzaF9tYXNrO1xuXG4gICAgdmFyIEhBU0ggPSBIQVNIX1pMSUJcbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogRmx1c2ggYXMgbXVjaCBwZW5kaW5nIG91dHB1dCBhcyBwb3NzaWJsZS4gQWxsIGRlZmxhdGUoKSBvdXRwdXQgZ29lc1xuICAgICAqIHRocm91Z2ggdGhpcyBmdW5jdGlvbiBzbyBzb21lIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXRcbiAgICAgKiB0byBhdm9pZCBhbGxvY2F0aW5nIGEgbGFyZ2Ugc3RybS0+b3V0cHV0IGJ1ZmZlciBhbmQgY29weWluZyBpbnRvIGl0LlxuICAgICAqIChTZWUgYWxzbyByZWFkX2J1ZigpKS5cbiAgICAgKi9cblxuICAgIHZhciBmbHVzaF9wZW5kaW5nID0gZnVuY3Rpb24gZmx1c2hfcGVuZGluZyhzdHJtKSB7XG4gICAgICB2YXIgcyA9IHN0cm0uc3RhdGUgLy8gX3RyX2ZsdXNoX2JpdHMocyk7XG5cbiAgICAgIHZhciBsZW4gPSBzLnBlbmRpbmdcblxuICAgICAgaWYgKGxlbiA+IHN0cm0uYXZhaWxfb3V0KSB7XG4gICAgICAgIGxlbiA9IHN0cm0uYXZhaWxfb3V0XG4gICAgICB9XG5cbiAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHN0cm0ub3V0cHV0LnNldChzLnBlbmRpbmdfYnVmLnN1YmFycmF5KHMucGVuZGluZ19vdXQsIHMucGVuZGluZ19vdXQgKyBsZW4pLCBzdHJtLm5leHRfb3V0KVxuICAgICAgc3RybS5uZXh0X291dCArPSBsZW5cbiAgICAgIHMucGVuZGluZ19vdXQgKz0gbGVuXG4gICAgICBzdHJtLnRvdGFsX291dCArPSBsZW5cbiAgICAgIHN0cm0uYXZhaWxfb3V0IC09IGxlblxuICAgICAgcy5wZW5kaW5nIC09IGxlblxuXG4gICAgICBpZiAocy5wZW5kaW5nID09PSAwKSB7XG4gICAgICAgIHMucGVuZGluZ19vdXQgPSAwXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGZsdXNoX2Jsb2NrX29ubHkgPSBmdW5jdGlvbiBmbHVzaF9ibG9ja19vbmx5KHMsIGxhc3QpIHtcbiAgICAgIF90cl9mbHVzaF9ibG9jayQxKHMsIHMuYmxvY2tfc3RhcnQgPj0gMCA/IHMuYmxvY2tfc3RhcnQgOiAtMSwgcy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQsIGxhc3QpXG5cbiAgICAgIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0XG4gICAgICBmbHVzaF9wZW5kaW5nKHMuc3RybSlcbiAgICB9XG5cbiAgICB2YXIgcHV0X2J5dGUgPSBmdW5jdGlvbiBwdXRfYnl0ZShzLCBiKSB7XG4gICAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGJcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFB1dCBhIHNob3J0IGluIHRoZSBwZW5kaW5nIGJ1ZmZlci4gVGhlIDE2LWJpdCB2YWx1ZSBpcyBwdXQgaW4gTVNCIG9yZGVyLlxuICAgICAqIElOIGFzc2VydGlvbjogdGhlIHN0cmVhbSBzdGF0ZSBpcyBjb3JyZWN0IGFuZCB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpblxuICAgICAqIHBlbmRpbmdfYnVmLlxuICAgICAqL1xuXG4gICAgdmFyIHB1dFNob3J0TVNCID0gZnVuY3Rpb24gcHV0U2hvcnRNU0IocywgYikge1xuICAgICAgLy8gIHB1dF9ieXRlKHMsIChCeXRlKShiID4+IDgpKTtcbiAgICAgIC8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiAmIDB4ZmYpKTtcbiAgICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gKGIgPj4+IDgpICYgMHhmZlxuICAgICAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSBiICYgMHhmZlxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBSZWFkIGEgbmV3IGJ1ZmZlciBmcm9tIHRoZSBjdXJyZW50IGlucHV0IHN0cmVhbSwgdXBkYXRlIHRoZSBhZGxlcjMyXG4gICAgICogYW5kIHRvdGFsIG51bWJlciBvZiBieXRlcyByZWFkLiAgQWxsIGRlZmxhdGUoKSBpbnB1dCBnb2VzIHRocm91Z2hcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHNvIHNvbWUgYXBwbGljYXRpb25zIG1heSB3aXNoIHRvIG1vZGlmeSBpdCB0byBhdm9pZFxuICAgICAqIGFsbG9jYXRpbmcgYSBsYXJnZSBzdHJtLT5pbnB1dCBidWZmZXIgYW5kIGNvcHlpbmcgZnJvbSBpdC5cbiAgICAgKiAoU2VlIGFsc28gZmx1c2hfcGVuZGluZygpKS5cbiAgICAgKi9cblxuICAgIHZhciByZWFkX2J1ZiA9IGZ1bmN0aW9uIHJlYWRfYnVmKHN0cm0sIGJ1Ziwgc3RhcnQsIHNpemUpIHtcbiAgICAgIHZhciBsZW4gPSBzdHJtLmF2YWlsX2luXG5cbiAgICAgIGlmIChsZW4gPiBzaXplKSB7XG4gICAgICAgIGxlbiA9IHNpemVcbiAgICAgIH1cblxuICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMFxuICAgICAgfVxuXG4gICAgICBzdHJtLmF2YWlsX2luIC09IGxlbiAvLyB6bWVtY3B5KGJ1Ziwgc3RybS0+bmV4dF9pbiwgbGVuKTtcblxuICAgICAgYnVmLnNldChzdHJtLmlucHV0LnN1YmFycmF5KHN0cm0ubmV4dF9pbiwgc3RybS5uZXh0X2luICsgbGVuKSwgc3RhcnQpXG5cbiAgICAgIGlmIChzdHJtLnN0YXRlLndyYXAgPT09IDEpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGFkbGVyMzJfMShzdHJtLmFkbGVyLCBidWYsIGxlbiwgc3RhcnQpXG4gICAgICB9IGVsc2UgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMikge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBidWYsIGxlbiwgc3RhcnQpXG4gICAgICB9XG5cbiAgICAgIHN0cm0ubmV4dF9pbiArPSBsZW5cbiAgICAgIHN0cm0udG90YWxfaW4gKz0gbGVuXG4gICAgICByZXR1cm4gbGVuXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNldCBtYXRjaF9zdGFydCB0byB0aGUgbG9uZ2VzdCBtYXRjaCBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gc3RyaW5nIGFuZFxuICAgICAqIHJldHVybiBpdHMgbGVuZ3RoLiBNYXRjaGVzIHNob3J0ZXIgb3IgZXF1YWwgdG8gcHJldl9sZW5ndGggYXJlIGRpc2NhcmRlZCxcbiAgICAgKiBpbiB3aGljaCBjYXNlIHRoZSByZXN1bHQgaXMgZXF1YWwgdG8gcHJldl9sZW5ndGggYW5kIG1hdGNoX3N0YXJ0IGlzXG4gICAgICogZ2FyYmFnZS5cbiAgICAgKiBJTiBhc3NlcnRpb25zOiBjdXJfbWF0Y2ggaXMgdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW4gZm9yIHRoZSBjdXJyZW50XG4gICAgICogICBzdHJpbmcgKHN0cnN0YXJ0KSBhbmQgaXRzIGRpc3RhbmNlIGlzIDw9IE1BWF9ESVNULCBhbmQgcHJldl9sZW5ndGggPj0gMVxuICAgICAqIE9VVCBhc3NlcnRpb246IHRoZSBtYXRjaCBsZW5ndGggaXMgbm90IGdyZWF0ZXIgdGhhbiBzLT5sb29rYWhlYWQuXG4gICAgICovXG5cbiAgICB2YXIgbG9uZ2VzdF9tYXRjaCA9IGZ1bmN0aW9uIGxvbmdlc3RfbWF0Y2gocywgY3VyX21hdGNoKSB7XG4gICAgICB2YXIgY2hhaW5fbGVuZ3RoID0gcy5tYXhfY2hhaW5fbGVuZ3RoXG4gICAgICAvKiBtYXggaGFzaCBjaGFpbiBsZW5ndGggKi9cblxuICAgICAgdmFyIHNjYW4gPSBzLnN0cnN0YXJ0XG4gICAgICAvKiBjdXJyZW50IHN0cmluZyAqL1xuXG4gICAgICB2YXIgbWF0Y2hcbiAgICAgIC8qIG1hdGNoZWQgc3RyaW5nICovXG5cbiAgICAgIHZhciBsZW5cbiAgICAgIC8qIGxlbmd0aCBvZiBjdXJyZW50IG1hdGNoICovXG5cbiAgICAgIHZhciBiZXN0X2xlbiA9IHMucHJldl9sZW5ndGhcbiAgICAgIC8qIGJlc3QgbWF0Y2ggbGVuZ3RoIHNvIGZhciAqL1xuXG4gICAgICB2YXIgbmljZV9tYXRjaCA9IHMubmljZV9tYXRjaFxuICAgICAgLyogc3RvcCBpZiBtYXRjaCBsb25nIGVub3VnaCAqL1xuXG4gICAgICB2YXIgbGltaXQgPSBzLnN0cnN0YXJ0ID4gcy53X3NpemUgLSBNSU5fTE9PS0FIRUFEID8gcy5zdHJzdGFydCAtIChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIDogMFxuICAgICAgLyogTklMICovXG4gICAgICB2YXIgX3dpbiA9IHMud2luZG93IC8vIHNob3J0Y3V0XG5cbiAgICAgIHZhciB3bWFzayA9IHMud19tYXNrXG4gICAgICB2YXIgcHJldiA9IHMucHJldlxuICAgICAgLyogU3RvcCB3aGVuIGN1cl9tYXRjaCBiZWNvbWVzIDw9IGxpbWl0LiBUbyBzaW1wbGlmeSB0aGUgY29kZSxcbiAgICAgICAqIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmcgb2Ygd2luZG93IGluZGV4IDAuXG4gICAgICAgKi9cblxuICAgICAgdmFyIHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0gkMVxuICAgICAgdmFyIHNjYW5fZW5kMSA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV1cbiAgICAgIHZhciBzY2FuX2VuZCA9IF93aW5bc2NhbiArIGJlc3RfbGVuXVxuICAgICAgLyogVGhlIGNvZGUgaXMgb3B0aW1pemVkIGZvciBIQVNIX0JJVFMgPj0gOCBhbmQgTUFYX01BVENILTIgbXVsdGlwbGUgb2YgMTYuXG4gICAgICAgKiBJdCBpcyBlYXN5IHRvIGdldCByaWQgb2YgdGhpcyBvcHRpbWl6YXRpb24gaWYgbmVjZXNzYXJ5LlxuICAgICAgICovXG4gICAgICAvLyBBc3NlcnQocy0+aGFzaF9iaXRzID49IDggJiYgTUFYX01BVENIID09IDI1OCwgXCJDb2RlIHRvbyBjbGV2ZXJcIik7XG5cbiAgICAgIC8qIERvIG5vdCB3YXN0ZSB0b28gbXVjaCB0aW1lIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGdvb2QgbWF0Y2g6ICovXG5cbiAgICAgIGlmIChzLnByZXZfbGVuZ3RoID49IHMuZ29vZF9tYXRjaCkge1xuICAgICAgICBjaGFpbl9sZW5ndGggPj49IDJcbiAgICAgIH1cbiAgICAgIC8qIERvIG5vdCBsb29rIGZvciBtYXRjaGVzIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBpbnB1dC4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICAgICAqIHRvIG1ha2UgZGVmbGF0ZSBkZXRlcm1pbmlzdGljLlxuICAgICAgICovXG5cbiAgICAgIGlmIChuaWNlX21hdGNoID4gcy5sb29rYWhlYWQpIHtcbiAgICAgICAgbmljZV9tYXRjaCA9IHMubG9va2FoZWFkXG4gICAgICB9IC8vIEFzc2VydCgodWxnKXMtPnN0cnN0YXJ0IDw9IHMtPndpbmRvd19zaXplLU1JTl9MT09LQUhFQUQsIFwibmVlZCBsb29rYWhlYWRcIik7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgLy8gQXNzZXJ0KGN1cl9tYXRjaCA8IHMtPnN0cnN0YXJ0LCBcIm5vIGZ1dHVyZVwiKTtcbiAgICAgICAgbWF0Y2ggPSBjdXJfbWF0Y2hcbiAgICAgICAgLyogU2tpcCB0byBuZXh0IG1hdGNoIGlmIHRoZSBtYXRjaCBsZW5ndGggY2Fubm90IGluY3JlYXNlXG4gICAgICAgICAqIG9yIGlmIHRoZSBtYXRjaCBsZW5ndGggaXMgbGVzcyB0aGFuIDIuICBOb3RlIHRoYXQgdGhlIGNoZWNrcyBiZWxvd1xuICAgICAgICAgKiBmb3IgaW5zdWZmaWNpZW50IGxvb2thaGVhZCBvbmx5IG9jY3VyIG9jY2FzaW9uYWxseSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgICogcmVhc29ucy4gIFRoZXJlZm9yZSB1bmluaXRpYWxpemVkIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkLCBhbmRcbiAgICAgICAgICogY29uZGl0aW9uYWwganVtcHMgd2lsbCBiZSBtYWRlIHRoYXQgZGVwZW5kIG9uIHRob3NlIHZhbHVlcy5cbiAgICAgICAgICogSG93ZXZlciB0aGUgbGVuZ3RoIG9mIHRoZSBtYXRjaCBpcyBsaW1pdGVkIHRvIHRoZSBsb29rYWhlYWQsIHNvXG4gICAgICAgICAqIHRoZSBvdXRwdXQgb2YgZGVmbGF0ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHVuaW5pdGlhbGl6ZWQgdmFsdWVzLlxuICAgICAgICAgKi9cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgX3dpblttYXRjaCArIGJlc3RfbGVuXSAhPT0gc2Nhbl9lbmQgfHxcbiAgICAgICAgICBfd2luW21hdGNoICsgYmVzdF9sZW4gLSAxXSAhPT0gc2Nhbl9lbmQxIHx8XG4gICAgICAgICAgX3dpblttYXRjaF0gIT09IF93aW5bc2Nhbl0gfHxcbiAgICAgICAgICBfd2luWysrbWF0Y2hdICE9PSBfd2luW3NjYW4gKyAxXVxuICAgICAgICApIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIC8qIFRoZSBjaGVjayBhdCBiZXN0X2xlbi0xIGNhbiBiZSByZW1vdmVkIGJlY2F1c2UgaXQgd2lsbCBiZSBtYWRlXG4gICAgICAgICAqIGFnYWluIGxhdGVyLiAoVGhpcyBoZXVyaXN0aWMgaXMgbm90IGFsd2F5cyBhIHdpbi4pXG4gICAgICAgICAqIEl0IGlzIG5vdCBuZWNlc3NhcnkgdG8gY29tcGFyZSBzY2FuWzJdIGFuZCBtYXRjaFsyXSBzaW5jZSB0aGV5XG4gICAgICAgICAqIGFyZSBhbHdheXMgZXF1YWwgd2hlbiB0aGUgb3RoZXIgYnl0ZXMgbWF0Y2gsIGdpdmVuIHRoYXRcbiAgICAgICAgICogdGhlIGhhc2gga2V5cyBhcmUgZXF1YWwgYW5kIHRoYXQgSEFTSF9CSVRTID49IDguXG4gICAgICAgICAqL1xuXG4gICAgICAgIHNjYW4gKz0gMlxuICAgICAgICBtYXRjaCsrIC8vIEFzc2VydCgqc2NhbiA9PSAqbWF0Y2gsIFwibWF0Y2hbMl0/XCIpO1xuXG4gICAgICAgIC8qIFdlIGNoZWNrIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgZXZlcnkgOHRoIGNvbXBhcmlzb247XG4gICAgICAgICAqIHRoZSAyNTZ0aCBjaGVjayB3aWxsIGJlIG1hZGUgYXQgc3Ryc3RhcnQrMjU4LlxuICAgICAgICAgKi9cblxuICAgICAgICBkbyB7XG4gICAgICAgICAgLyoganNoaW50IG5vZW1wdHk6ZmFsc2UgKi9cbiAgICAgICAgfSB3aGlsZSAoXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgX3dpblsrK3NjYW5dID09PSBfd2luWysrbWF0Y2hdICYmXG4gICAgICAgICAgc2NhbiA8IHN0cmVuZFxuICAgICAgICApIC8vIEFzc2VydChzY2FuIDw9IHMtPndpbmRvdysodW5zaWduZWQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcblxuICAgICAgICBsZW4gPSBNQVhfTUFUQ0gkMSAtIChzdHJlbmQgLSBzY2FuKVxuICAgICAgICBzY2FuID0gc3RyZW5kIC0gTUFYX01BVENIJDFcblxuICAgICAgICBpZiAobGVuID4gYmVzdF9sZW4pIHtcbiAgICAgICAgICBzLm1hdGNoX3N0YXJ0ID0gY3VyX21hdGNoXG4gICAgICAgICAgYmVzdF9sZW4gPSBsZW5cblxuICAgICAgICAgIGlmIChsZW4gPj0gbmljZV9tYXRjaCkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzY2FuX2VuZDEgPSBfd2luW3NjYW4gKyBiZXN0X2xlbiAtIDFdXG4gICAgICAgICAgc2Nhbl9lbmQgPSBfd2luW3NjYW4gKyBiZXN0X2xlbl1cbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoKGN1cl9tYXRjaCA9IHByZXZbY3VyX21hdGNoICYgd21hc2tdKSA+IGxpbWl0ICYmIC0tY2hhaW5fbGVuZ3RoICE9PSAwKVxuXG4gICAgICBpZiAoYmVzdF9sZW4gPD0gcy5sb29rYWhlYWQpIHtcbiAgICAgICAgcmV0dXJuIGJlc3RfbGVuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzLmxvb2thaGVhZFxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBGaWxsIHRoZSB3aW5kb3cgd2hlbiB0aGUgbG9va2FoZWFkIGJlY29tZXMgaW5zdWZmaWNpZW50LlxuICAgICAqIFVwZGF0ZXMgc3Ryc3RhcnQgYW5kIGxvb2thaGVhZC5cbiAgICAgKlxuICAgICAqIElOIGFzc2VydGlvbjogbG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRFxuICAgICAqIE9VVCBhc3NlcnRpb25zOiBzdHJzdGFydCA8PSB3aW5kb3dfc2l6ZS1NSU5fTE9PS0FIRUFEXG4gICAgICogICAgQXQgbGVhc3Qgb25lIGJ5dGUgaGFzIGJlZW4gcmVhZCwgb3IgYXZhaWxfaW4gPT0gMDsgcmVhZHMgYXJlXG4gICAgICogICAgcGVyZm9ybWVkIGZvciBhdCBsZWFzdCB0d28gYnl0ZXMgKHJlcXVpcmVkIGZvciB0aGUgemlwIHRyYW5zbGF0ZV9lb2xcbiAgICAgKiAgICBvcHRpb24gLS0gbm90IHN1cHBvcnRlZCBoZXJlKS5cbiAgICAgKi9cblxuICAgIHZhciBmaWxsX3dpbmRvdyA9IGZ1bmN0aW9uIGZpbGxfd2luZG93KHMpIHtcbiAgICAgIHZhciBfd19zaXplID0gcy53X3NpemVcbiAgICAgIHZhciBwXG4gICAgICB2YXIgblxuICAgICAgdmFyIG1cbiAgICAgIHZhciBtb3JlXG4gICAgICB2YXIgc3RyIC8vIEFzc2VydChzLT5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFELCBcImFscmVhZHkgZW5vdWdoIGxvb2thaGVhZFwiKTtcblxuICAgICAgZG8ge1xuICAgICAgICBtb3JlID0gcy53aW5kb3dfc2l6ZSAtIHMubG9va2FoZWFkIC0gcy5zdHJzdGFydCAvLyBKUyBpbnRzIGhhdmUgMzIgYml0LCBibG9jayBiZWxvdyBub3QgbmVlZGVkXG5cbiAgICAgICAgLyogRGVhbCB3aXRoICFAIyQlIDY0SyBsaW1pdDogKi9cbiAgICAgICAgLy8gaWYgKHNpemVvZihpbnQpIDw9IDIpIHtcbiAgICAgICAgLy8gICAgaWYgKG1vcmUgPT0gMCAmJiBzLT5zdHJzdGFydCA9PSAwICYmIHMtPmxvb2thaGVhZCA9PSAwKSB7XG4gICAgICAgIC8vICAgICAgICBtb3JlID0gd3NpemU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICB9IGVsc2UgaWYgKG1vcmUgPT0gKHVuc2lnbmVkKSgtMSkpIHtcbiAgICAgICAgLy8gICAgICAgIC8qIFZlcnkgdW5saWtlbHksIGJ1dCBwb3NzaWJsZSBvbiAxNiBiaXQgbWFjaGluZSBpZlxuICAgICAgICAvLyAgICAgICAgICogc3Ryc3RhcnQgPT0gMCAmJiBsb29rYWhlYWQgPT0gMSAoaW5wdXQgZG9uZSBhIGJ5dGUgYXQgdGltZSlcbiAgICAgICAgLy8gICAgICAgICAqL1xuICAgICAgICAvLyAgICAgICAgbW9yZS0tO1xuICAgICAgICAvLyAgICB9XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvKiBJZiB0aGUgd2luZG93IGlzIGFsbW9zdCBmdWxsIGFuZCB0aGVyZSBpcyBpbnN1ZmZpY2llbnQgbG9va2FoZWFkLFxuICAgICAgICAgKiBtb3ZlIHRoZSB1cHBlciBoYWxmIHRvIHRoZSBsb3dlciBvbmUgdG8gbWFrZSByb29tIGluIHRoZSB1cHBlciBoYWxmLlxuICAgICAgICAgKi9cblxuICAgICAgICBpZiAocy5zdHJzdGFydCA+PSBfd19zaXplICsgKF93X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkge1xuICAgICAgICAgIHMud2luZG93LnNldChzLndpbmRvdy5zdWJhcnJheShfd19zaXplLCBfd19zaXplICsgX3dfc2l6ZSksIDApXG4gICAgICAgICAgcy5tYXRjaF9zdGFydCAtPSBfd19zaXplXG4gICAgICAgICAgcy5zdHJzdGFydCAtPSBfd19zaXplXG4gICAgICAgICAgLyogd2Ugbm93IGhhdmUgc3Ryc3RhcnQgPj0gTUFYX0RJU1QgKi9cblxuICAgICAgICAgIHMuYmxvY2tfc3RhcnQgLT0gX3dfc2l6ZVxuICAgICAgICAgIC8qIFNsaWRlIHRoZSBoYXNoIHRhYmxlIChjb3VsZCBiZSBhdm9pZGVkIHdpdGggMzIgYml0IHZhbHVlc1xuICAgICAgICAgYXQgdGhlIGV4cGVuc2Ugb2YgbWVtb3J5IHVzYWdlKS4gV2Ugc2xpZGUgZXZlbiB3aGVuIGxldmVsID09IDBcbiAgICAgICAgIHRvIGtlZXAgdGhlIGhhc2ggdGFibGUgY29uc2lzdGVudCBpZiB3ZSBzd2l0Y2ggYmFjayB0byBsZXZlbCA+IDBcbiAgICAgICAgIGxhdGVyLiAoVXNpbmcgbGV2ZWwgMCBwZXJtYW5lbnRseSBpcyBub3QgYW4gb3B0aW1hbCB1c2FnZSBvZlxuICAgICAgICAgemxpYiwgc28gd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGlzIHBhdGhvbG9naWNhbCBjYXNlLilcbiAgICAgICAgICovXG5cbiAgICAgICAgICBuID0gcy5oYXNoX3NpemVcbiAgICAgICAgICBwID0gblxuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgbSA9IHMuaGVhZFstLXBdXG4gICAgICAgICAgICBzLmhlYWRbcF0gPSBtID49IF93X3NpemUgPyBtIC0gX3dfc2l6ZSA6IDBcbiAgICAgICAgICB9IHdoaWxlICgtLW4pXG5cbiAgICAgICAgICBuID0gX3dfc2l6ZVxuICAgICAgICAgIHAgPSBuXG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBtID0gcy5wcmV2Wy0tcF1cbiAgICAgICAgICAgIHMucHJldltwXSA9IG0gPj0gX3dfc2l6ZSA/IG0gLSBfd19zaXplIDogMFxuICAgICAgICAgICAgLyogSWYgbiBpcyBub3Qgb24gYW55IGhhc2ggY2hhaW4sIHByZXZbbl0gaXMgZ2FyYmFnZSBidXRcbiAgICAgICAgICAgICAqIGl0cyB2YWx1ZSB3aWxsIG5ldmVyIGJlIHVzZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICB9IHdoaWxlICgtLW4pXG5cbiAgICAgICAgICBtb3JlICs9IF93X3NpemVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzLnN0cm0uYXZhaWxfaW4gPT09IDApIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIC8qIElmIHRoZXJlIHdhcyBubyBzbGlkaW5nOlxuICAgICAgICAgKiAgICBzdHJzdGFydCA8PSBXU0laRStNQVhfRElTVC0xICYmIGxvb2thaGVhZCA8PSBNSU5fTE9PS0FIRUFEIC0gMSAmJlxuICAgICAgICAgKiAgICBtb3JlID09IHdpbmRvd19zaXplIC0gbG9va2FoZWFkIC0gc3Ryc3RhcnRcbiAgICAgICAgICogPT4gbW9yZSA+PSB3aW5kb3dfc2l6ZSAtIChNSU5fTE9PS0FIRUFELTEgKyBXU0laRSArIE1BWF9ESVNULTEpXG4gICAgICAgICAqID0+IG1vcmUgPj0gd2luZG93X3NpemUgLSAyKldTSVpFICsgMlxuICAgICAgICAgKiBJbiB0aGUgQklHX01FTSBvciBNTUFQIGNhc2UgKG5vdCB5ZXQgc3VwcG9ydGVkKSxcbiAgICAgICAgICogICB3aW5kb3dfc2l6ZSA9PSBpbnB1dF9zaXplICsgTUlOX0xPT0tBSEVBRCAgJiZcbiAgICAgICAgICogICBzdHJzdGFydCArIHMtPmxvb2thaGVhZCA8PSBpbnB1dF9zaXplID0+IG1vcmUgPj0gTUlOX0xPT0tBSEVBRC5cbiAgICAgICAgICogT3RoZXJ3aXNlLCB3aW5kb3dfc2l6ZSA9PSAyKldTSVpFIHNvIG1vcmUgPj0gMi5cbiAgICAgICAgICogSWYgdGhlcmUgd2FzIHNsaWRpbmcsIG1vcmUgPj0gV1NJWkUuIFNvIGluIGFsbCBjYXNlcywgbW9yZSA+PSAyLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gQXNzZXJ0KG1vcmUgPj0gMiwgXCJtb3JlIDwgMlwiKTtcblxuICAgICAgICBuID0gcmVhZF9idWYocy5zdHJtLCBzLndpbmRvdywgcy5zdHJzdGFydCArIHMubG9va2FoZWFkLCBtb3JlKVxuICAgICAgICBzLmxvb2thaGVhZCArPSBuXG4gICAgICAgIC8qIEluaXRpYWxpemUgdGhlIGhhc2ggdmFsdWUgbm93IHRoYXQgd2UgaGF2ZSBzb21lIGlucHV0OiAqL1xuXG4gICAgICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0ID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgc3RyID0gcy5zdHJzdGFydCAtIHMuaW5zZXJ0XG4gICAgICAgICAgcy5pbnNfaCA9IHMud2luZG93W3N0cl1cbiAgICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIDFdKTsgKi9cblxuICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3N0ciArIDFdKSAvLyAjaWYgTUlOX01BVENIICE9IDNcbiAgICAgICAgICAvLyAgICAgICAgQ2FsbCB1cGRhdGVfaGFzaCgpIE1JTl9NQVRDSC0zIG1vcmUgdGltZXNcbiAgICAgICAgICAvLyAjZW5kaWZcblxuICAgICAgICAgIHdoaWxlIChzLmluc2VydCkge1xuICAgICAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy0+aW5zX2gsIHMtPndpbmRvd1tzdHIgKyBNSU5fTUFUQ0gtMV0pOyAqL1xuICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbc3RyICsgTUlOX01BVENIJDEgLSAxXSlcbiAgICAgICAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF1cbiAgICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0clxuICAgICAgICAgICAgc3RyKytcbiAgICAgICAgICAgIHMuaW5zZXJ0LS1cblxuICAgICAgICAgICAgaWYgKHMubG9va2FoZWFkICsgcy5pbnNlcnQgPCBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBJZiB0aGUgd2hvbGUgaW5wdXQgaGFzIGxlc3MgdGhhbiBNSU5fTUFUQ0ggYnl0ZXMsIGluc19oIGlzIGdhcmJhZ2UsXG4gICAgICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBpbXBvcnRhbnQgc2luY2Ugb25seSBsaXRlcmFsIGJ5dGVzIHdpbGwgYmUgZW1pdHRlZC5cbiAgICAgICAgICovXG4gICAgICB9IHdoaWxlIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgcy5zdHJtLmF2YWlsX2luICE9PSAwKVxuICAgICAgLyogSWYgdGhlIFdJTl9JTklUIGJ5dGVzIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgZGF0YSBoYXZlIG5ldmVyIGJlZW5cbiAgICAgICAqIHdyaXR0ZW4sIHRoZW4gemVybyB0aG9zZSBieXRlcyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgcmVwb3J0cyBvZlxuICAgICAgICogdGhlIHVzZSBvZiB1bmluaXRpYWxpemVkIChvciB1bmluaXRpYWxpc2VkIGFzIEp1bGlhbiB3cml0ZXMpIGJ5dGVzIGJ5XG4gICAgICAgKiB0aGUgbG9uZ2VzdCBtYXRjaCByb3V0aW5lcy4gIFVwZGF0ZSB0aGUgaGlnaCB3YXRlciBtYXJrIGZvciB0aGUgbmV4dFxuICAgICAgICogdGltZSB0aHJvdWdoIGhlcmUuICBXSU5fSU5JVCBpcyBzZXQgdG8gTUFYX01BVENIIHNpbmNlIHRoZSBsb25nZXN0IG1hdGNoXG4gICAgICAgKiByb3V0aW5lcyBhbGxvdyBzY2FubmluZyB0byBzdHJzdGFydCArIE1BWF9NQVRDSCwgaWdub3JpbmcgbG9va2FoZWFkLlxuICAgICAgICovXG4gICAgICAvLyAgaWYgKHMuaGlnaF93YXRlciA8IHMud2luZG93X3NpemUpIHtcbiAgICAgIC8vICAgIGNvbnN0IGN1cnIgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQ7XG4gICAgICAvLyAgICBsZXQgaW5pdCA9IDA7XG4gICAgICAvL1xuICAgICAgLy8gICAgaWYgKHMuaGlnaF93YXRlciA8IGN1cnIpIHtcbiAgICAgIC8vICAgICAgLyogUHJldmlvdXMgaGlnaCB3YXRlciBtYXJrIGJlbG93IGN1cnJlbnQgZGF0YSAtLSB6ZXJvIFdJTl9JTklUXG4gICAgICAvLyAgICAgICAqIGJ5dGVzIG9yIHVwIHRvIGVuZCBvZiB3aW5kb3csIHdoaWNoZXZlciBpcyBsZXNzLlxuICAgICAgLy8gICAgICAgKi9cbiAgICAgIC8vICAgICAgaW5pdCA9IHMud2luZG93X3NpemUgLSBjdXJyO1xuICAgICAgLy8gICAgICBpZiAoaW5pdCA+IFdJTl9JTklUKVxuICAgICAgLy8gICAgICAgIGluaXQgPSBXSU5fSU5JVDtcbiAgICAgIC8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgY3VyciwgKHVuc2lnbmVkKWluaXQpO1xuICAgICAgLy8gICAgICBzLT5oaWdoX3dhdGVyID0gY3VyciArIGluaXQ7XG4gICAgICAvLyAgICB9XG4gICAgICAvLyAgICBlbHNlIGlmIChzLT5oaWdoX3dhdGVyIDwgKHVsZyljdXJyICsgV0lOX0lOSVQpIHtcbiAgICAgIC8vICAgICAgLyogSGlnaCB3YXRlciBtYXJrIGF0IG9yIGFib3ZlIGN1cnJlbnQgZGF0YSwgYnV0IGJlbG93IGN1cnJlbnQgZGF0YVxuICAgICAgLy8gICAgICAgKiBwbHVzIFdJTl9JTklUIC0tIHplcm8gb3V0IHRvIGN1cnJlbnQgZGF0YSBwbHVzIFdJTl9JTklULCBvciB1cFxuICAgICAgLy8gICAgICAgKiB0byBlbmQgb2Ygd2luZG93LCB3aGljaGV2ZXIgaXMgbGVzcy5cbiAgICAgIC8vICAgICAgICovXG4gICAgICAvLyAgICAgIGluaXQgPSAodWxnKWN1cnIgKyBXSU5fSU5JVCAtIHMtPmhpZ2hfd2F0ZXI7XG4gICAgICAvLyAgICAgIGlmIChpbml0ID4gcy0+d2luZG93X3NpemUgLSBzLT5oaWdoX3dhdGVyKVxuICAgICAgLy8gICAgICAgIGluaXQgPSBzLT53aW5kb3dfc2l6ZSAtIHMtPmhpZ2hfd2F0ZXI7XG4gICAgICAvLyAgICAgIHptZW16ZXJvKHMtPndpbmRvdyArIHMtPmhpZ2hfd2F0ZXIsICh1bnNpZ25lZClpbml0KTtcbiAgICAgIC8vICAgICAgcy0+aGlnaF93YXRlciArPSBpbml0O1xuICAgICAgLy8gICAgfVxuICAgICAgLy8gIH1cbiAgICAgIC8vXG4gICAgICAvLyAgQXNzZXJ0KCh1bGcpcy0+c3Ryc3RhcnQgPD0gcy0+d2luZG93X3NpemUgLSBNSU5fTE9PS0FIRUFELFxuICAgICAgLy8gICAgXCJub3QgZW5vdWdoIHJvb20gZm9yIHNlYXJjaFwiKTtcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogQ29weSB3aXRob3V0IGNvbXByZXNzaW9uIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm5cbiAgICAgKiB0aGUgY3VycmVudCBibG9jayBzdGF0ZS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgZGljdGlvbmFyeSBzaW5jZVxuICAgICAqIHVuY29tcHJlc3NpYmxlIGRhdGEgaXMgcHJvYmFibHkgbm90IHVzZWZ1bC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkXG4gICAgICogb25seSBmb3IgdGhlIGxldmVsPTAgY29tcHJlc3Npb24gb3B0aW9uLlxuICAgICAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIG9wdGltaXplZCB0byBhdm9pZCBleHRyYSBjb3B5aW5nIGZyb21cbiAgICAgKiB3aW5kb3cgdG8gcGVuZGluZ19idWYuXG4gICAgICovXG5cbiAgICB2YXIgZGVmbGF0ZV9zdG9yZWQgPSBmdW5jdGlvbiBkZWZsYXRlX3N0b3JlZChzLCBmbHVzaCkge1xuICAgICAgLyogU3RvcmVkIGJsb2NrcyBhcmUgbGltaXRlZCB0byAweGZmZmYgYnl0ZXMsIHBlbmRpbmdfYnVmIGlzIGxpbWl0ZWRcbiAgICAgICAqIHRvIHBlbmRpbmdfYnVmX3NpemUsIGFuZCBlYWNoIHN0b3JlZCBibG9jayBoYXMgYSA1IGJ5dGUgaGVhZGVyOlxuICAgICAgICovXG4gICAgICB2YXIgbWF4X2Jsb2NrX3NpemUgPSAweGZmZmZcblxuICAgICAgaWYgKG1heF9ibG9ja19zaXplID4gcy5wZW5kaW5nX2J1Zl9zaXplIC0gNSkge1xuICAgICAgICBtYXhfYmxvY2tfc2l6ZSA9IHMucGVuZGluZ19idWZfc2l6ZSAtIDVcbiAgICAgIH1cbiAgICAgIC8qIENvcHkgYXMgbXVjaCBhcyBwb3NzaWJsZSBmcm9tIGlucHV0IHRvIG91dHB1dDogKi9cblxuICAgICAgZm9yICg7Oykge1xuICAgICAgICAvKiBGaWxsIHRoZSB3aW5kb3cgYXMgbXVjaCBhcyBwb3NzaWJsZTogKi9cbiAgICAgICAgaWYgKHMubG9va2FoZWFkIDw9IDEpIHtcbiAgICAgICAgICAvLyBBc3NlcnQocy0+c3Ryc3RhcnQgPCBzLT53X3NpemUrTUFYX0RJU1QocykgfHxcbiAgICAgICAgICAvLyAgcy0+YmxvY2tfc3RhcnQgPj0gKGxvbmcpcy0+d19zaXplLCBcInNsaWRlIHRvbyBsYXRlXCIpO1xuICAgICAgICAgIC8vICAgICAgaWYgKCEocy5zdHJzdGFydCA8IHMud19zaXplICsgKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkgfHxcbiAgICAgICAgICAvLyAgICAgICAgcy5ibG9ja19zdGFydCA+PSBzLndfc2l6ZSkpIHtcbiAgICAgICAgICAvLyAgICAgICAgdGhyb3cgIG5ldyBFcnJvcihcInNsaWRlIHRvbyBsYXRlXCIpO1xuICAgICAgICAgIC8vICAgICAgfVxuICAgICAgICAgIGZpbGxfd2luZG93KHMpXG5cbiAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDAgJiYgZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICAgIH0gLy8gQXNzZXJ0KHMtPmJsb2NrX3N0YXJ0ID49IDBMLCBcImJsb2NrIGdvbmVcIik7XG4gICAgICAgIC8vICAgIGlmIChzLmJsb2NrX3N0YXJ0IDwgMCkgdGhyb3cgbmV3IEVycm9yKFwiYmxvY2sgZ29uZVwiKTtcblxuICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubG9va2FoZWFkXG4gICAgICAgIHMubG9va2FoZWFkID0gMFxuICAgICAgICAvKiBFbWl0IGEgc3RvcmVkIGJsb2NrIGlmIHBlbmRpbmdfYnVmIHdpbGwgYmUgZnVsbDogKi9cblxuICAgICAgICB2YXIgbWF4X3N0YXJ0ID0gcy5ibG9ja19zdGFydCArIG1heF9ibG9ja19zaXplXG5cbiAgICAgICAgaWYgKHMuc3Ryc3RhcnQgPT09IDAgfHwgcy5zdHJzdGFydCA+PSBtYXhfc3RhcnQpIHtcbiAgICAgICAgICAvKiBzdHJzdGFydCA9PSAwIGlzIHBvc3NpYmxlIHdoZW4gd3JhcGFyb3VuZCBvbiAxNi1iaXQgbWFjaGluZSAqL1xuICAgICAgICAgIHMubG9va2FoZWFkID0gcy5zdHJzdGFydCAtIG1heF9zdGFydFxuICAgICAgICAgIHMuc3Ryc3RhcnQgPSBtYXhfc3RhcnRcbiAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cblxuICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpXG5cbiAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICAgIH1cbiAgICAgICAgICAvKioqL1xuICAgICAgICB9XG4gICAgICAgIC8qIEZsdXNoIGlmIHdlIG1heSBoYXZlIHRvIHNsaWRlLCBvdGhlcndpc2UgYmxvY2tfc3RhcnQgbWF5IGJlY29tZVxuICAgICAgICAgKiBuZWdhdGl2ZSBhbmQgdGhlIGRhdGEgd2lsbCBiZSBnb25lOlxuICAgICAgICAgKi9cblxuICAgICAgICBpZiAocy5zdHJzdGFydCAtIHMuYmxvY2tfc3RhcnQgPj0gcy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSB7XG4gICAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSlcblxuICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFXG4gICAgICAgICAgfVxuICAgICAgICAgIC8qKiovXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcy5pbnNlcnQgPSAwXG5cbiAgICAgIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSlcblxuICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRFxuICAgICAgICB9XG4gICAgICAgIC8qKiovXG5cbiAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FXG4gICAgICB9XG5cbiAgICAgIGlmIChzLnN0cnN0YXJ0ID4gcy5ibG9ja19zdGFydCkge1xuICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSlcblxuICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkVcbiAgICAgICAgfVxuICAgICAgICAvKioqL1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIENvbXByZXNzIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm4gdGhlIGN1cnJlbnRcbiAgICAgKiBibG9jayBzdGF0ZS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHBlcmZvcm0gbGF6eSBldmFsdWF0aW9uIG9mIG1hdGNoZXMgYW5kIGluc2VydHNcbiAgICAgKiBuZXcgc3RyaW5ncyBpbiB0aGUgZGljdGlvbmFyeSBvbmx5IGZvciB1bm1hdGNoZWQgc3RyaW5ncyBvciBmb3Igc2hvcnRcbiAgICAgKiBtYXRjaGVzLiBJdCBpcyB1c2VkIG9ubHkgZm9yIHRoZSBmYXN0IGNvbXByZXNzaW9uIG9wdGlvbnMuXG4gICAgICovXG5cbiAgICB2YXIgZGVmbGF0ZV9mYXN0ID0gZnVuY3Rpb24gZGVmbGF0ZV9mYXN0KHMsIGZsdXNoKSB7XG4gICAgICB2YXIgaGFzaF9oZWFkXG4gICAgICAvKiBoZWFkIG9mIHRoZSBoYXNoIGNoYWluICovXG5cbiAgICAgIHZhciBiZmx1c2hcbiAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgICAgICogc3RyaW5nIGZvbGxvd2luZyB0aGUgbmV4dCBtYXRjaC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgICAgICBmaWxsX3dpbmRvdyhzKVxuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIEluc2VydCB0aGUgc3RyaW5nIHdpbmRvd1tzdHJzdGFydCAuLiBzdHJzdGFydCsyXSBpbiB0aGVcbiAgICAgICAgICogZGljdGlvbmFyeSwgYW5kIHNldCBoYXNoX2hlYWQgdG8gdGhlIGhlYWQgb2YgdGhlIGhhc2ggY2hhaW46XG4gICAgICAgICAqL1xuXG4gICAgICAgIGhhc2hfaGVhZCA9IDBcbiAgICAgICAgLyogTklMICovXG5cbiAgICAgICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgLyoqICogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiAqL1xuICAgICAgICAgIHMuaW5zX2ggPSBIQVNIKHMsIHMuaW5zX2gsIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0gkMSAtIDFdKVxuICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdXG4gICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydFxuICAgICAgICAgIC8qKiovXG4gICAgICAgIH1cbiAgICAgICAgLyogRmluZCB0aGUgbG9uZ2VzdCBtYXRjaCwgZGlzY2FyZGluZyB0aG9zZSA8PSBwcmV2X2xlbmd0aC5cbiAgICAgICAgICogQXQgdGhpcyBwb2ludCB3ZSBoYXZlIGFsd2F5cyBtYXRjaF9sZW5ndGggPCBNSU5fTUFUQ0hcbiAgICAgICAgICovXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGhhc2hfaGVhZCAhPT0gMCAmJlxuICAgICAgICAgIC8qIE5JTCAqL1xuICAgICAgICAgIHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQgPD0gcy53X3NpemUgLSBNSU5fTE9PS0FIRUFEXG4gICAgICAgICkge1xuICAgICAgICAgIC8qIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nXG4gICAgICAgICAgICogb2Ygd2luZG93IGluZGV4IDAgKGluIHBhcnRpY3VsYXIgd2UgaGF2ZSB0byBhdm9pZCBhIG1hdGNoXG4gICAgICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gbG9uZ2VzdF9tYXRjaChzLCBoYXNoX2hlYWQpXG4gICAgICAgICAgLyogbG9uZ2VzdF9tYXRjaCgpIHNldHMgbWF0Y2hfc3RhcnQgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoKTsgLy8gZm9yIGRlYnVnIG9ubHlcblxuICAgICAgICAgIC8qKiAqIF90cl90YWxseV9kaXN0KHMsIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gkMSlcbiAgICAgICAgICBzLmxvb2thaGVhZCAtPSBzLm1hdGNoX2xlbmd0aFxuICAgICAgICAgIC8qIEluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgaGFzaCB0YWJsZSBvbmx5IGlmIHRoZSBtYXRjaCBsZW5ndGhcbiAgICAgICAgICAgKiBpcyBub3QgdG9vIGxhcmdlLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgICAgICAgICAqL1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPD0gcy5tYXhfbGF6eV9tYXRjaCAmJlxuICAgICAgICAgICAgLyogbWF4X2luc2VydF9sZW5ndGggKi9cbiAgICAgICAgICAgIHMubG9va2FoZWFkID49IE1JTl9NQVRDSCQxXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzLm1hdGNoX2xlbmd0aC0tXG4gICAgICAgICAgICAvKiBzdHJpbmcgYXQgc3Ryc3RhcnQgYWxyZWFkeSBpbiB0YWJsZSAqL1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIHMuc3Ryc3RhcnQrK1xuICAgICAgICAgICAgICAvKiogKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqICovXG5cbiAgICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIE1JTl9NQVRDSCQxIC0gMV0pXG4gICAgICAgICAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdXG4gICAgICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnRcbiAgICAgICAgICAgICAgLyoqKi9cblxuICAgICAgICAgICAgICAvKiBzdHJzdGFydCBuZXZlciBleGNlZWRzIFdTSVpFLU1BWF9NQVRDSCwgc28gdGhlcmUgYXJlXG4gICAgICAgICAgICAgICAqIGFsd2F5cyBNSU5fTUFUQ0ggYnl0ZXMgYWhlYWQuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgfSB3aGlsZSAoLS1zLm1hdGNoX2xlbmd0aCAhPT0gMClcblxuICAgICAgICAgICAgcy5zdHJzdGFydCsrXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMuc3Ryc3RhcnQgKz0gcy5tYXRjaF9sZW5ndGhcbiAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMFxuICAgICAgICAgICAgcy5pbnNfaCA9IHMud2luZG93W3Muc3Ryc3RhcnRdXG4gICAgICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0KzFdKTsgKi9cblxuICAgICAgICAgICAgcy5pbnNfaCA9IEhBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCArIDFdKSAvLyAjaWYgTUlOX01BVENIICE9IDNcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIENhbGwgVVBEQVRFX0hBU0goKSBNSU5fTUFUQ0gtMyBtb3JlIHRpbWVzXG4gICAgICAgICAgICAvLyAjZW5kaWZcblxuICAgICAgICAgICAgLyogSWYgbG9va2FoZWFkIDwgTUlOX01BVENILCBpbnNfaCBpcyBnYXJiYWdlLCBidXQgaXQgZG9lcyBub3RcbiAgICAgICAgICAgICAqIG1hdHRlciBzaW5jZSBpdCB3aWxsIGJlIHJlY29tcHV0ZWQgYXQgbmV4dCBkZWZsYXRlIGNhbGwuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgICAgIC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMud2luZG93W3Muc3Ryc3RhcnRdKSk7XG5cbiAgICAgICAgICAvKiogKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKVxuICAgICAgICAgIHMubG9va2FoZWFkLS1cbiAgICAgICAgICBzLnN0cnN0YXJ0KytcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKVxuXG4gICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkVcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqKi9cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzLmluc2VydCA9IHMuc3Ryc3RhcnQgPCBNSU5fTUFUQ0gkMSAtIDEgPyBzLnN0cnN0YXJ0IDogTUlOX01BVENIJDEgLSAxXG5cbiAgICAgIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMSk7ICoqICovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSlcblxuICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRFxuICAgICAgICB9XG4gICAgICAgIC8qKiovXG5cbiAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FXG4gICAgICB9XG5cbiAgICAgIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKVxuXG4gICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICB9XG4gICAgICAgIC8qKiovXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBCU19CTE9DS19ET05FXG4gICAgfVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIFNhbWUgYXMgYWJvdmUsIGJ1dCBhY2hpZXZlcyBiZXR0ZXIgY29tcHJlc3Npb24uIFdlIHVzZSBhIGxhenlcbiAgICAgKiBldmFsdWF0aW9uIGZvciBtYXRjaGVzOiBhIG1hdGNoIGlzIGZpbmFsbHkgYWRvcHRlZCBvbmx5IGlmIHRoZXJlIGlzXG4gICAgICogbm8gYmV0dGVyIG1hdGNoIGF0IHRoZSBuZXh0IHdpbmRvdyBwb3NpdGlvbi5cbiAgICAgKi9cblxuICAgIHZhciBkZWZsYXRlX3Nsb3cgPSBmdW5jdGlvbiBkZWZsYXRlX3Nsb3cocywgZmx1c2gpIHtcbiAgICAgIHZhciBoYXNoX2hlYWRcbiAgICAgIC8qIGhlYWQgb2YgaGFzaCBjaGFpbiAqL1xuXG4gICAgICB2YXIgYmZsdXNoXG4gICAgICAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICAgICAgdmFyIG1heF9pbnNlcnRcbiAgICAgIC8qIFByb2Nlc3MgdGhlIGlucHV0IGJsb2NrLiAqL1xuXG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgICAgICogc3RyaW5nIGZvbGxvd2luZyB0aGUgbmV4dCBtYXRjaC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgICAgICBmaWxsX3dpbmRvdyhzKVxuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgICAgfVxuICAgICAgICAvKiBJbnNlcnQgdGhlIHN0cmluZyB3aW5kb3dbc3Ryc3RhcnQgLi4gc3Ryc3RhcnQrMl0gaW4gdGhlXG4gICAgICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAgICAgKi9cblxuICAgICAgICBoYXNoX2hlYWQgPSAwXG4gICAgICAgIC8qIE5JTCAqL1xuXG4gICAgICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gkMSkge1xuICAgICAgICAgIC8qKiAqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKiogKi9cbiAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIJDEgLSAxXSlcbiAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXVxuICAgICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnRcbiAgICAgICAgICAvKioqL1xuICAgICAgICB9XG4gICAgICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICAgICAqL1xuXG4gICAgICAgIHMucHJldl9sZW5ndGggPSBzLm1hdGNoX2xlbmd0aFxuICAgICAgICBzLnByZXZfbWF0Y2ggPSBzLm1hdGNoX3N0YXJ0XG4gICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIJDEgLSAxXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGhhc2hfaGVhZCAhPT0gMCAmJlxuICAgICAgICAgIC8qIE5JTCAqL1xuICAgICAgICAgIHMucHJldl9sZW5ndGggPCBzLm1heF9sYXp5X21hdGNoICYmXG4gICAgICAgICAgcy5zdHJzdGFydCAtIGhhc2hfaGVhZCA8PSBzLndfc2l6ZSAtIE1JTl9MT09LQUhFQURcbiAgICAgICAgICAvKiBNQVhfRElTVChzKSAqL1xuICAgICAgICApIHtcbiAgICAgICAgICAvKiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZ1xuICAgICAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKVxuICAgICAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA8PSA1ICYmXG4gICAgICAgICAgICAocy5zdHJhdGVneSA9PT0gWl9GSUxURVJFRCB8fCAocy5tYXRjaF9sZW5ndGggPT09IE1JTl9NQVRDSCQxICYmIHMuc3Ryc3RhcnQgLSBzLm1hdGNoX3N0YXJ0ID4gNDA5NikpXG4gICAgICAgICAgICAvKiBUT09fRkFSICovXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvKiBJZiBwcmV2X21hdGNoIGlzIGFsc28gTUlOX01BVENILCBtYXRjaF9zdGFydCBpcyBnYXJiYWdlXG4gICAgICAgICAgICAgKiBidXQgd2Ugd2lsbCBpZ25vcmUgdGhlIGN1cnJlbnQgbWF0Y2ggYW55d2F5LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCQxIC0gMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiBJZiB0aGVyZSB3YXMgYSBtYXRjaCBhdCB0aGUgcHJldmlvdXMgc3RlcCBhbmQgdGhlIGN1cnJlbnRcbiAgICAgICAgICogbWF0Y2ggaXMgbm90IGJldHRlciwgb3V0cHV0IHRoZSBwcmV2aW91cyBtYXRjaDpcbiAgICAgICAgICovXG5cbiAgICAgICAgaWYgKHMucHJldl9sZW5ndGggPj0gTUlOX01BVENIJDEgJiYgcy5tYXRjaF9sZW5ndGggPD0gcy5wcmV2X2xlbmd0aCkge1xuICAgICAgICAgIG1heF9pbnNlcnQgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQgLSBNSU5fTUFUQ0gkMVxuICAgICAgICAgIC8qIERvIG5vdCBpbnNlcnQgc3RyaW5ncyBpbiBoYXNoIHRhYmxlIGJleW9uZCB0aGlzLiAqL1xuICAgICAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQtMSwgcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoKTtcblxuICAgICAgICAgIC8qKiAqX3RyX3RhbGx5X2Rpc3Qocywgcy5zdHJzdGFydCAtIDEgLSBzLnByZXZfbWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7KiogKi9cblxuICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIHMuc3Ryc3RhcnQgLSAxIC0gcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoIC0gTUlOX01BVENIJDEpXG4gICAgICAgICAgLyogSW5zZXJ0IGluIGhhc2ggdGFibGUgYWxsIHN0cmluZ3MgdXAgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2guXG4gICAgICAgICAgICogc3Ryc3RhcnQtMSBhbmQgc3Ryc3RhcnQgYXJlIGFscmVhZHkgaW5zZXJ0ZWQuIElmIHRoZXJlIGlzIG5vdFxuICAgICAgICAgICAqIGVub3VnaCBsb29rYWhlYWQsIHRoZSBsYXN0IHR3byBzdHJpbmdzIGFyZSBub3QgaW5zZXJ0ZWQgaW5cbiAgICAgICAgICAgKiB0aGUgaGFzaCB0YWJsZS5cbiAgICAgICAgICAgKi9cblxuICAgICAgICAgIHMubG9va2FoZWFkIC09IHMucHJldl9sZW5ndGggLSAxXG4gICAgICAgICAgcy5wcmV2X2xlbmd0aCAtPSAyXG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKytzLnN0cnN0YXJ0IDw9IG1heF9pbnNlcnQpIHtcbiAgICAgICAgICAgICAgLyoqICogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiAqL1xuICAgICAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIJDEgLSAxXSlcbiAgICAgICAgICAgICAgaGFzaF9oZWFkID0gcy5wcmV2W3Muc3Ryc3RhcnQgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF1cbiAgICAgICAgICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydFxuICAgICAgICAgICAgICAvKioqL1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gd2hpbGUgKC0tcy5wcmV2X2xlbmd0aCAhPT0gMClcblxuICAgICAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMFxuICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoID0gTUlOX01BVENIJDEgLSAxXG4gICAgICAgICAgcy5zdHJzdGFydCsrXG5cbiAgICAgICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpXG5cbiAgICAgICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKiovXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgICAgICAgLyogSWYgdGhlcmUgd2FzIG5vIG1hdGNoIGF0IHRoZSBwcmV2aW91cyBwb3NpdGlvbiwgb3V0cHV0IGFcbiAgICAgICAgICAgKiBzaW5nbGUgbGl0ZXJhbC4gSWYgdGhlcmUgd2FzIGEgbWF0Y2ggYnV0IHRoZSBjdXJyZW50IG1hdGNoXG4gICAgICAgICAgICogaXMgbG9uZ2VyLCB0cnVuY2F0ZSB0aGUgcHJldmlvdXMgbWF0Y2ggdG8gYSBzaW5nbGUgbGl0ZXJhbC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICAvLyBUcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcblxuICAgICAgICAgIC8qKiAqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydC0xXSwgYmZsdXNoKTsgKiogKi9cbiAgICAgICAgICBiZmx1c2ggPSBfdHJfdGFsbHkkMShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0IC0gMV0pXG5cbiAgICAgICAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DS19PTkxZKHMsIDApICoqICovXG4gICAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKVxuICAgICAgICAgICAgLyoqKi9cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzLnN0cnN0YXJ0KytcbiAgICAgICAgICBzLmxvb2thaGVhZC0tXG5cbiAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBUaGVyZSBpcyBubyBwcmV2aW91cyBtYXRjaCB0byBjb21wYXJlIHdpdGgsIHdhaXQgZm9yXG4gICAgICAgICAgICogdGhlIG5leHQgc3RlcCB0byBkZWNpZGUuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAxXG4gICAgICAgICAgcy5zdHJzdGFydCsrXG4gICAgICAgICAgcy5sb29rYWhlYWQtLVxuICAgICAgICB9XG4gICAgICB9IC8vIEFzc2VydCAoZmx1c2ggIT0gWl9OT19GTFVTSCwgXCJubyBmbHVzaD9cIik7XG5cbiAgICAgIGlmIChzLm1hdGNoX2F2YWlsYWJsZSkge1xuICAgICAgICAvLyBUcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcblxuICAgICAgICAvKiogKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnQtMV0sIGJmbHVzaCk7ICoqICovXG4gICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSlcbiAgICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAwXG4gICAgICB9XG5cbiAgICAgIHMuaW5zZXJ0ID0gcy5zdHJzdGFydCA8IE1JTl9NQVRDSCQxIC0gMSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0gkMSAtIDFcblxuICAgICAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAxKTsgKiogKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKVxuXG4gICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEXG4gICAgICAgIH1cbiAgICAgICAgLyoqKi9cblxuICAgICAgICByZXR1cm4gQlNfRklOSVNIX0RPTkVcbiAgICAgIH1cblxuICAgICAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpXG5cbiAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFXG4gICAgICAgIH1cbiAgICAgICAgLyoqKi9cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEJTX0JMT0NLX0RPTkVcbiAgICB9XG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogRm9yIFpfUkxFLCBzaW1wbHkgbG9vayBmb3IgcnVucyBvZiBieXRlcywgZ2VuZXJhdGUgbWF0Y2hlcyBvbmx5IG9mIGRpc3RhbmNlXG4gICAgICogb25lLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS4gIChJdCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGlmIHRoaXMgcnVuIG9mXG4gICAgICogZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gWl9STEUuKVxuICAgICAqL1xuXG4gICAgdmFyIGRlZmxhdGVfcmxlID0gZnVuY3Rpb24gZGVmbGF0ZV9ybGUocywgZmx1c2gpIHtcbiAgICAgIHZhciBiZmx1c2hcbiAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gICAgICB2YXIgcHJldlxuICAgICAgLyogYnl0ZSBhdCBkaXN0YW5jZSBvbmUgdG8gbWF0Y2ggKi9cblxuICAgICAgdmFyIHNjYW5cbiAgICAgIHZhciBzdHJlbmRcbiAgICAgIC8qIHNjYW4gZ29lcyB1cCB0byBzdHJlbmQgZm9yIGxlbmd0aCBvZiBydW4gKi9cblxuICAgICAgdmFyIF93aW4gPSBzLndpbmRvd1xuXG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAgICAgKiBmb3IgdGhlIGxvbmdlc3QgcnVuLCBwbHVzIG9uZSBmb3IgdGhlIHVucm9sbGVkIGxvb3AuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocy5sb29rYWhlYWQgPD0gTUFYX01BVENIJDEpIHtcbiAgICAgICAgICBmaWxsX3dpbmRvdyhzKVxuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCQxICYmIGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgICB9XG4gICAgICAgIC8qIFNlZSBob3cgbWFueSB0aW1lcyB0aGUgcHJldmlvdXMgYnl0ZSByZXBlYXRzICovXG5cbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwXG5cbiAgICAgICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCQxICYmIHMuc3Ryc3RhcnQgPiAwKSB7XG4gICAgICAgICAgc2NhbiA9IHMuc3Ryc3RhcnQgLSAxXG4gICAgICAgICAgcHJldiA9IF93aW5bc2Nhbl1cblxuICAgICAgICAgIGlmIChwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSkge1xuICAgICAgICAgICAgc3RyZW5kID0gcy5zdHJzdGFydCArIE1BWF9NQVRDSCQxXG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgLyoganNoaW50IG5vZW1wdHk6ZmFsc2UgKi9cbiAgICAgICAgICAgIH0gd2hpbGUgKFxuICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgICAgIHNjYW4gPCBzdHJlbmRcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSBNQVhfTUFUQ0gkMSAtIChzdHJlbmQgLSBzY2FuKVxuXG4gICAgICAgICAgICBpZiAocy5tYXRjaF9sZW5ndGggPiBzLmxvb2thaGVhZCkge1xuICAgICAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IHMubG9va2FoZWFkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBBc3NlcnQoc2NhbiA8PSBzLT53aW5kb3crKHVJbnQpKHMtPndpbmRvd19zaXplLTEpLCBcIndpbGQgc2NhblwiKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBFbWl0IG1hdGNoIGlmIGhhdmUgcnVuIG9mIE1JTl9NQVRDSCBvciBsb25nZXIsIGVsc2UgZW1pdCBsaXRlcmFsICovXG5cbiAgICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoID49IE1JTl9NQVRDSCQxKSB7XG4gICAgICAgICAgLy8gY2hlY2tfbWF0Y2gocywgcy5zdHJzdGFydCwgcy5zdHJzdGFydCAtIDEsIHMubWF0Y2hfbGVuZ3RoKTtcblxuICAgICAgICAgIC8qKiAqIF90cl90YWxseV9kaXN0KHMsIDEsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiAqL1xuICAgICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDEsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIJDEpXG4gICAgICAgICAgcy5sb29rYWhlYWQgLT0gcy5tYXRjaF9sZW5ndGhcbiAgICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoXG4gICAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgICAgIC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcblxuICAgICAgICAgIC8qKiAqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqICovXG4gICAgICAgICAgYmZsdXNoID0gX3RyX3RhbGx5JDEocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pXG4gICAgICAgICAgcy5sb29rYWhlYWQtLVxuICAgICAgICAgIHMuc3Ryc3RhcnQrK1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiAqL1xuICAgICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpXG5cbiAgICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICAgIH1cbiAgICAgICAgICAvKioqL1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHMuaW5zZXJ0ID0gMFxuXG4gICAgICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgICAgIC8qKiAqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiAqL1xuICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpXG5cbiAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURURcbiAgICAgICAgfVxuICAgICAgICAvKioqL1xuXG4gICAgICAgIHJldHVybiBCU19GSU5JU0hfRE9ORVxuICAgICAgfVxuXG4gICAgICBpZiAocy5sYXN0X2xpdCkge1xuICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSlcblxuICAgICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkVcbiAgICAgICAgfVxuICAgICAgICAvKioqL1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQlNfQkxPQ0tfRE9ORVxuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiBGb3IgWl9IVUZGTUFOX09OTFksIGRvIG5vdCBsb29rIGZvciBtYXRjaGVzLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS5cbiAgICAgKiAoSXQgd2lsbCBiZSByZWdlbmVyYXRlZCBpZiB0aGlzIHJ1biBvZiBkZWZsYXRlIHN3aXRjaGVzIGF3YXkgZnJvbSBIdWZmbWFuLilcbiAgICAgKi9cblxuICAgIHZhciBkZWZsYXRlX2h1ZmYgPSBmdW5jdGlvbiBkZWZsYXRlX2h1ZmYocywgZmx1c2gpIHtcbiAgICAgIHZhciBiZmx1c2hcbiAgICAgIC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGhhdmUgYSBsaXRlcmFsIHRvIHdyaXRlLiAqL1xuICAgICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgICBmaWxsX3dpbmRvdyhzKVxuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgLyogZmx1c2ggdGhlIGN1cnJlbnQgYmxvY2sgKi9cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogT3V0cHV0IGEgbGl0ZXJhbCBieXRlICovXG5cbiAgICAgICAgcy5tYXRjaF9sZW5ndGggPSAwIC8vIFRyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcblxuICAgICAgICAvKiogKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiAqL1xuXG4gICAgICAgIGJmbHVzaCA9IF90cl90YWxseSQxKHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnRdKVxuICAgICAgICBzLmxvb2thaGVhZC0tXG4gICAgICAgIHMuc3Ryc3RhcnQrK1xuXG4gICAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAwKTsgKiogKi9cbiAgICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKVxuXG4gICAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBCU19ORUVEX01PUkVcbiAgICAgICAgICB9XG4gICAgICAgICAgLyoqKi9cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzLmluc2VydCA9IDBcblxuICAgICAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgICAgICAvKiogKiBGTFVTSF9CTE9DSyhzLCAxKTsgKiogKi9cbiAgICAgICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKVxuXG4gICAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEXG4gICAgICAgIH1cbiAgICAgICAgLyoqKi9cblxuICAgICAgICByZXR1cm4gQlNfRklOSVNIX0RPTkVcbiAgICAgIH1cblxuICAgICAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAgICAgLyoqICogRkxVU0hfQkxPQ0socywgMCk7ICoqICovXG4gICAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpXG5cbiAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFXG4gICAgICAgIH1cbiAgICAgICAgLyoqKi9cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEJTX0JMT0NLX0RPTkVcbiAgICB9XG4gICAgLyogVmFsdWVzIGZvciBtYXhfbGF6eV9tYXRjaCwgZ29vZF9tYXRjaCBhbmQgbWF4X2NoYWluX2xlbmd0aCwgZGVwZW5kaW5nIG9uXG4gICAgICogdGhlIGRlc2lyZWQgcGFjayBsZXZlbCAoMC4uOSkuIFRoZSB2YWx1ZXMgZ2l2ZW4gYmVsb3cgaGF2ZSBiZWVuIHR1bmVkIHRvXG4gICAgICogZXhjbHVkZSB3b3JzdCBjYXNlIHBlcmZvcm1hbmNlIGZvciBwYXRob2xvZ2ljYWwgZmlsZXMuIEJldHRlciB2YWx1ZXMgbWF5IGJlXG4gICAgICogZm91bmQgZm9yIHNwZWNpZmljIGZpbGVzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gQ29uZmlnKGdvb2RfbGVuZ3RoLCBtYXhfbGF6eSwgbmljZV9sZW5ndGgsIG1heF9jaGFpbiwgZnVuYykge1xuICAgICAgdGhpcy5nb29kX2xlbmd0aCA9IGdvb2RfbGVuZ3RoXG4gICAgICB0aGlzLm1heF9sYXp5ID0gbWF4X2xhenlcbiAgICAgIHRoaXMubmljZV9sZW5ndGggPSBuaWNlX2xlbmd0aFxuICAgICAgdGhpcy5tYXhfY2hhaW4gPSBtYXhfY2hhaW5cbiAgICAgIHRoaXMuZnVuYyA9IGZ1bmNcbiAgICB9XG5cbiAgICB2YXIgY29uZmlndXJhdGlvbl90YWJsZSA9IFtcbiAgICAgIC8qICAgICAgZ29vZCBsYXp5IG5pY2UgY2hhaW4gKi9cbiAgICAgIG5ldyBDb25maWcoMCwgMCwgMCwgMCwgZGVmbGF0ZV9zdG9yZWQpLFxuICAgICAgLyogMCBzdG9yZSBvbmx5ICovXG4gICAgICBuZXcgQ29uZmlnKDQsIDQsIDgsIDQsIGRlZmxhdGVfZmFzdCksXG4gICAgICAvKiAxIG1heCBzcGVlZCwgbm8gbGF6eSBtYXRjaGVzICovXG4gICAgICBuZXcgQ29uZmlnKDQsIDUsIDE2LCA4LCBkZWZsYXRlX2Zhc3QpLFxuICAgICAgLyogMiAqL1xuICAgICAgbmV3IENvbmZpZyg0LCA2LCAzMiwgMzIsIGRlZmxhdGVfZmFzdCksXG4gICAgICAvKiAzICovXG4gICAgICBuZXcgQ29uZmlnKDQsIDQsIDE2LCAxNiwgZGVmbGF0ZV9zbG93KSxcbiAgICAgIC8qIDQgbGF6eSBtYXRjaGVzICovXG4gICAgICBuZXcgQ29uZmlnKDgsIDE2LCAzMiwgMzIsIGRlZmxhdGVfc2xvdyksXG4gICAgICAvKiA1ICovXG4gICAgICBuZXcgQ29uZmlnKDgsIDE2LCAxMjgsIDEyOCwgZGVmbGF0ZV9zbG93KSxcbiAgICAgIC8qIDYgKi9cbiAgICAgIG5ldyBDb25maWcoOCwgMzIsIDEyOCwgMjU2LCBkZWZsYXRlX3Nsb3cpLFxuICAgICAgLyogNyAqL1xuICAgICAgbmV3IENvbmZpZygzMiwgMTI4LCAyNTgsIDEwMjQsIGRlZmxhdGVfc2xvdyksXG4gICAgICAvKiA4ICovXG4gICAgICBuZXcgQ29uZmlnKDMyLCAyNTgsIDI1OCwgNDA5NiwgZGVmbGF0ZV9zbG93KSxcbiAgICAgIC8qIDkgbWF4IGNvbXByZXNzaW9uICovXG4gICAgXVxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIEluaXRpYWxpemUgdGhlIFwibG9uZ2VzdCBtYXRjaFwiIHJvdXRpbmVzIGZvciBhIG5ldyB6bGliIHN0cmVhbVxuICAgICAqL1xuXG4gICAgdmFyIGxtX2luaXQgPSBmdW5jdGlvbiBsbV9pbml0KHMpIHtcbiAgICAgIHMud2luZG93X3NpemUgPSAyICogcy53X3NpemVcbiAgICAgIC8qKiAqIENMRUFSX0hBU0gocyk7ICoqICovXG5cbiAgICAgIHplcm8kMShzLmhlYWQpIC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG5cbiAgICAgIC8qIFNldCB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnM6XG4gICAgICAgKi9cblxuICAgICAgcy5tYXhfbGF6eV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2xhenlcbiAgICAgIHMuZ29vZF9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZ29vZF9sZW5ndGhcbiAgICAgIHMubmljZV9tYXRjaCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubmljZV9sZW5ndGhcbiAgICAgIHMubWF4X2NoYWluX2xlbmd0aCA9IGNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2NoYWluXG4gICAgICBzLnN0cnN0YXJ0ID0gMFxuICAgICAgcy5ibG9ja19zdGFydCA9IDBcbiAgICAgIHMubG9va2FoZWFkID0gMFxuICAgICAgcy5pbnNlcnQgPSAwXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0gkMSAtIDFcbiAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMFxuICAgICAgcy5pbnNfaCA9IDBcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBEZWZsYXRlU3RhdGUoKSB7XG4gICAgICB0aGlzLnN0cm0gPSBudWxsXG4gICAgICAvKiBwb2ludGVyIGJhY2sgdG8gdGhpcyB6bGliIHN0cmVhbSAqL1xuXG4gICAgICB0aGlzLnN0YXR1cyA9IDBcbiAgICAgIC8qIGFzIHRoZSBuYW1lIGltcGxpZXMgKi9cblxuICAgICAgdGhpcy5wZW5kaW5nX2J1ZiA9IG51bGxcbiAgICAgIC8qIG91dHB1dCBzdGlsbCBwZW5kaW5nICovXG5cbiAgICAgIHRoaXMucGVuZGluZ19idWZfc2l6ZSA9IDBcbiAgICAgIC8qIHNpemUgb2YgcGVuZGluZ19idWYgKi9cblxuICAgICAgdGhpcy5wZW5kaW5nX291dCA9IDBcbiAgICAgIC8qIG5leHQgcGVuZGluZyBieXRlIHRvIG91dHB1dCB0byB0aGUgc3RyZWFtICovXG5cbiAgICAgIHRoaXMucGVuZGluZyA9IDBcbiAgICAgIC8qIG5iIG9mIGJ5dGVzIGluIHRoZSBwZW5kaW5nIGJ1ZmZlciAqL1xuXG4gICAgICB0aGlzLndyYXAgPSAwXG4gICAgICAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwICovXG5cbiAgICAgIHRoaXMuZ3poZWFkID0gbnVsbFxuICAgICAgLyogZ3ppcCBoZWFkZXIgaW5mb3JtYXRpb24gdG8gd3JpdGUgKi9cblxuICAgICAgdGhpcy5nemluZGV4ID0gMFxuICAgICAgLyogd2hlcmUgaW4gZXh0cmEsIG5hbWUsIG9yIGNvbW1lbnQgKi9cblxuICAgICAgdGhpcy5tZXRob2QgPSBaX0RFRkxBVEVEXG4gICAgICAvKiBjYW4gb25seSBiZSBERUZMQVRFRCAqL1xuXG4gICAgICB0aGlzLmxhc3RfZmx1c2ggPSAtMVxuICAgICAgLyogdmFsdWUgb2YgZmx1c2ggcGFyYW0gZm9yIHByZXZpb3VzIGRlZmxhdGUgY2FsbCAqL1xuXG4gICAgICB0aGlzLndfc2l6ZSA9IDBcbiAgICAgIC8qIExaNzcgd2luZG93IHNpemUgKDMySyBieSBkZWZhdWx0KSAqL1xuXG4gICAgICB0aGlzLndfYml0cyA9IDBcbiAgICAgIC8qIGxvZzIod19zaXplKSAgKDguLjE2KSAqL1xuXG4gICAgICB0aGlzLndfbWFzayA9IDBcbiAgICAgIC8qIHdfc2l6ZSAtIDEgKi9cblxuICAgICAgdGhpcy53aW5kb3cgPSBudWxsXG4gICAgICAvKiBTbGlkaW5nIHdpbmRvdy4gSW5wdXQgYnl0ZXMgYXJlIHJlYWQgaW50byB0aGUgc2Vjb25kIGhhbGYgb2YgdGhlIHdpbmRvdyxcbiAgICAgICAqIGFuZCBtb3ZlIHRvIHRoZSBmaXJzdCBoYWxmIGxhdGVyIHRvIGtlZXAgYSBkaWN0aW9uYXJ5IG9mIGF0IGxlYXN0IHdTaXplXG4gICAgICAgKiBieXRlcy4gV2l0aCB0aGlzIG9yZ2FuaXphdGlvbiwgbWF0Y2hlcyBhcmUgbGltaXRlZCB0byBhIGRpc3RhbmNlIG9mXG4gICAgICAgKiB3U2l6ZS1NQVhfTUFUQ0ggYnl0ZXMsIGJ1dCB0aGlzIGVuc3VyZXMgdGhhdCBJTyBpcyBhbHdheXNcbiAgICAgICAqIHBlcmZvcm1lZCB3aXRoIGEgbGVuZ3RoIG11bHRpcGxlIG9mIHRoZSBibG9jayBzaXplLlxuICAgICAgICovXG5cbiAgICAgIHRoaXMud2luZG93X3NpemUgPSAwXG4gICAgICAvKiBBY3R1YWwgc2l6ZSBvZiB3aW5kb3c6IDIqd1NpemUsIGV4Y2VwdCB3aGVuIHRoZSB1c2VyIGlucHV0IGJ1ZmZlclxuICAgICAgICogaXMgZGlyZWN0bHkgdXNlZCBhcyBzbGlkaW5nIHdpbmRvdy5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLnByZXYgPSBudWxsXG4gICAgICAvKiBMaW5rIHRvIG9sZGVyIHN0cmluZyB3aXRoIHNhbWUgaGFzaCBpbmRleC4gVG8gbGltaXQgdGhlIHNpemUgb2YgdGhpc1xuICAgICAgICogYXJyYXkgdG8gNjRLLCB0aGlzIGxpbmsgaXMgbWFpbnRhaW5lZCBvbmx5IGZvciB0aGUgbGFzdCAzMksgc3RyaW5ncy5cbiAgICAgICAqIEFuIGluZGV4IGluIHRoaXMgYXJyYXkgaXMgdGh1cyBhIHdpbmRvdyBpbmRleCBtb2R1bG8gMzJLLlxuICAgICAgICovXG5cbiAgICAgIHRoaXMuaGVhZCA9IG51bGxcbiAgICAgIC8qIEhlYWRzIG9mIHRoZSBoYXNoIGNoYWlucyBvciBOSUwuICovXG5cbiAgICAgIHRoaXMuaW5zX2ggPSAwXG4gICAgICAvKiBoYXNoIGluZGV4IG9mIHN0cmluZyB0byBiZSBpbnNlcnRlZCAqL1xuXG4gICAgICB0aGlzLmhhc2hfc2l6ZSA9IDBcbiAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiBoYXNoIHRhYmxlICovXG5cbiAgICAgIHRoaXMuaGFzaF9iaXRzID0gMFxuICAgICAgLyogbG9nMihoYXNoX3NpemUpICovXG5cbiAgICAgIHRoaXMuaGFzaF9tYXNrID0gMFxuICAgICAgLyogaGFzaF9zaXplLTEgKi9cblxuICAgICAgdGhpcy5oYXNoX3NoaWZ0ID0gMFxuICAgICAgLyogTnVtYmVyIG9mIGJpdHMgYnkgd2hpY2ggaW5zX2ggbXVzdCBiZSBzaGlmdGVkIGF0IGVhY2ggaW5wdXRcbiAgICAgICAqIHN0ZXAuIEl0IG11c3QgYmUgc3VjaCB0aGF0IGFmdGVyIE1JTl9NQVRDSCBzdGVwcywgdGhlIG9sZGVzdFxuICAgICAgICogYnl0ZSBubyBsb25nZXIgdGFrZXMgcGFydCBpbiB0aGUgaGFzaCBrZXksIHRoYXQgaXM6XG4gICAgICAgKiAgIGhhc2hfc2hpZnQgKiBNSU5fTUFUQ0ggPj0gaGFzaF9iaXRzXG4gICAgICAgKi9cblxuICAgICAgdGhpcy5ibG9ja19zdGFydCA9IDBcbiAgICAgIC8qIFdpbmRvdyBwb3NpdGlvbiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IG91dHB1dCBibG9jay4gR2V0c1xuICAgICAgICogbmVnYXRpdmUgd2hlbiB0aGUgd2luZG93IGlzIG1vdmVkIGJhY2t3YXJkcy5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLm1hdGNoX2xlbmd0aCA9IDBcbiAgICAgIC8qIGxlbmd0aCBvZiBiZXN0IG1hdGNoICovXG5cbiAgICAgIHRoaXMucHJldl9tYXRjaCA9IDBcbiAgICAgIC8qIHByZXZpb3VzIG1hdGNoICovXG5cbiAgICAgIHRoaXMubWF0Y2hfYXZhaWxhYmxlID0gMFxuICAgICAgLyogc2V0IGlmIHByZXZpb3VzIG1hdGNoIGV4aXN0cyAqL1xuXG4gICAgICB0aGlzLnN0cnN0YXJ0ID0gMFxuICAgICAgLyogc3RhcnQgb2Ygc3RyaW5nIHRvIGluc2VydCAqL1xuXG4gICAgICB0aGlzLm1hdGNoX3N0YXJ0ID0gMFxuICAgICAgLyogc3RhcnQgb2YgbWF0Y2hpbmcgc3RyaW5nICovXG5cbiAgICAgIHRoaXMubG9va2FoZWFkID0gMFxuICAgICAgLyogbnVtYmVyIG9mIHZhbGlkIGJ5dGVzIGFoZWFkIGluIHdpbmRvdyAqL1xuXG4gICAgICB0aGlzLnByZXZfbGVuZ3RoID0gMFxuICAgICAgLyogTGVuZ3RoIG9mIHRoZSBiZXN0IG1hdGNoIGF0IHByZXZpb3VzIHN0ZXAuIE1hdGNoZXMgbm90IGdyZWF0ZXIgdGhhbiB0aGlzXG4gICAgICAgKiBhcmUgZGlzY2FyZGVkLiBUaGlzIGlzIHVzZWQgaW4gdGhlIGxhenkgbWF0Y2ggZXZhbHVhdGlvbi5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLm1heF9jaGFpbl9sZW5ndGggPSAwXG4gICAgICAvKiBUbyBzcGVlZCB1cCBkZWZsYXRpb24sIGhhc2ggY2hhaW5zIGFyZSBuZXZlciBzZWFyY2hlZCBiZXlvbmQgdGhpc1xuICAgICAgICogbGVuZ3RoLiAgQSBoaWdoZXIgbGltaXQgaW1wcm92ZXMgY29tcHJlc3Npb24gcmF0aW8gYnV0IGRlZ3JhZGVzIHRoZVxuICAgICAgICogc3BlZWQuXG4gICAgICAgKi9cblxuICAgICAgdGhpcy5tYXhfbGF6eV9tYXRjaCA9IDBcbiAgICAgIC8qIEF0dGVtcHQgdG8gZmluZCBhIGJldHRlciBtYXRjaCBvbmx5IHdoZW4gdGhlIGN1cnJlbnQgbWF0Y2ggaXMgc3RyaWN0bHlcbiAgICAgICAqIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLiBUaGlzIG1lY2hhbmlzbSBpcyB1c2VkIG9ubHkgZm9yIGNvbXByZXNzaW9uXG4gICAgICAgKiBsZXZlbHMgPj0gNC5cbiAgICAgICAqL1xuICAgICAgLy8gVGhhdCdzIGFsaWFzIHRvIG1heF9sYXp5X21hdGNoLCBkb24ndCB1c2UgZGlyZWN0bHlcbiAgICAgIC8vIHRoaXMubWF4X2luc2VydF9sZW5ndGggPSAwO1xuXG4gICAgICAvKiBJbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGhhc2ggdGFibGUgb25seSBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGlzIG5vdFxuICAgICAgICogZ3JlYXRlciB0aGFuIHRoaXMgbGVuZ3RoLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgICAgICogbWF4X2luc2VydF9sZW5ndGggaXMgdXNlZCBvbmx5IGZvciBjb21wcmVzc2lvbiBsZXZlbHMgPD0gMy5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLmxldmVsID0gMFxuICAgICAgLyogY29tcHJlc3Npb24gbGV2ZWwgKDEuLjkpICovXG5cbiAgICAgIHRoaXMuc3RyYXRlZ3kgPSAwXG4gICAgICAvKiBmYXZvciBvciBmb3JjZSBIdWZmbWFuIGNvZGluZyAqL1xuXG4gICAgICB0aGlzLmdvb2RfbWF0Y2ggPSAwXG4gICAgICAvKiBVc2UgYSBmYXN0ZXIgc2VhcmNoIHdoZW4gdGhlIHByZXZpb3VzIG1hdGNoIGlzIGxvbmdlciB0aGFuIHRoaXMgKi9cblxuICAgICAgdGhpcy5uaWNlX21hdGNoID0gMFxuICAgICAgLyogU3RvcCBzZWFyY2hpbmcgd2hlbiBjdXJyZW50IG1hdGNoIGV4Y2VlZHMgdGhpcyAqL1xuXG4gICAgICAvKiB1c2VkIGJ5IHRyZWVzLmM6ICovXG5cbiAgICAgIC8qIERpZG4ndCB1c2UgY3RfZGF0YSB0eXBlZGVmIGJlbG93IHRvIHN1cHByZXNzIGNvbXBpbGVyIHdhcm5pbmcgKi9cbiAgICAgIC8vIHN0cnVjdCBjdF9kYXRhX3MgZHluX2x0cmVlW0hFQVBfU0laRV07ICAgLyogbGl0ZXJhbCBhbmQgbGVuZ3RoIHRyZWUgKi9cbiAgICAgIC8vIHN0cnVjdCBjdF9kYXRhX3MgZHluX2R0cmVlWzIqRF9DT0RFUysxXTsgLyogZGlzdGFuY2UgdHJlZSAqL1xuICAgICAgLy8gc3RydWN0IGN0X2RhdGFfcyBibF90cmVlWzIqQkxfQ09ERVMrMV07ICAvKiBIdWZmbWFuIHRyZWUgZm9yIGJpdCBsZW5ndGhzICovXG4gICAgICAvLyBVc2UgZmxhdCBhcnJheSBvZiBET1VCTEUgc2l6ZSwgd2l0aCBpbnRlcmxlYXZlZCBmYXRhLFxuICAgICAgLy8gYmVjYXVzZSBKUyBkb2VzIG5vdCBzdXBwb3J0IGVmZmVjdGl2ZVxuXG4gICAgICB0aGlzLmR5bl9sdHJlZSA9IG5ldyBVaW50MTZBcnJheShIRUFQX1NJWkUkMSAqIDIpXG4gICAgICB0aGlzLmR5bl9kdHJlZSA9IG5ldyBVaW50MTZBcnJheSgoMiAqIERfQ09ERVMkMSArIDEpICogMilcbiAgICAgIHRoaXMuYmxfdHJlZSA9IG5ldyBVaW50MTZBcnJheSgoMiAqIEJMX0NPREVTJDEgKyAxKSAqIDIpXG4gICAgICB6ZXJvJDEodGhpcy5keW5fbHRyZWUpXG4gICAgICB6ZXJvJDEodGhpcy5keW5fZHRyZWUpXG4gICAgICB6ZXJvJDEodGhpcy5ibF90cmVlKVxuICAgICAgdGhpcy5sX2Rlc2MgPSBudWxsXG4gICAgICAvKiBkZXNjLiBmb3IgbGl0ZXJhbCB0cmVlICovXG5cbiAgICAgIHRoaXMuZF9kZXNjID0gbnVsbFxuICAgICAgLyogZGVzYy4gZm9yIGRpc3RhbmNlIHRyZWUgKi9cblxuICAgICAgdGhpcy5ibF9kZXNjID0gbnVsbFxuICAgICAgLyogZGVzYy4gZm9yIGJpdCBsZW5ndGggdHJlZSAqL1xuICAgICAgLy8gdXNoIGJsX2NvdW50W01BWF9CSVRTKzFdO1xuXG4gICAgICB0aGlzLmJsX2NvdW50ID0gbmV3IFVpbnQxNkFycmF5KE1BWF9CSVRTJDEgKyAxKVxuICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG4gICAgICAvLyBpbnQgaGVhcFsyKkxfQ09ERVMrMV07ICAgICAgLyogaGVhcCB1c2VkIHRvIGJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzICovXG5cbiAgICAgIHRoaXMuaGVhcCA9IG5ldyBVaW50MTZBcnJheSgyICogTF9DT0RFUyQxICsgMSlcbiAgICAgIC8qIGhlYXAgdXNlZCB0byBidWlsZCB0aGUgSHVmZm1hbiB0cmVlcyAqL1xuXG4gICAgICB6ZXJvJDEodGhpcy5oZWFwKVxuICAgICAgdGhpcy5oZWFwX2xlbiA9IDBcbiAgICAgIC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgaGVhcCAqL1xuXG4gICAgICB0aGlzLmhlYXBfbWF4ID0gMFxuICAgICAgLyogZWxlbWVudCBvZiBsYXJnZXN0IGZyZXF1ZW5jeSAqL1xuXG4gICAgICAvKiBUaGUgc29ucyBvZiBoZWFwW25dIGFyZSBoZWFwWzIqbl0gYW5kIGhlYXBbMipuKzFdLiBoZWFwWzBdIGlzIG5vdCB1c2VkLlxuICAgICAgICogVGhlIHNhbWUgaGVhcCBhcnJheSBpcyB1c2VkIHRvIGJ1aWxkIGFsbCB0cmVlcy5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLmRlcHRoID0gbmV3IFVpbnQxNkFycmF5KDIgKiBMX0NPREVTJDEgKyAxKSAvLyB1Y2ggZGVwdGhbMipMX0NPREVTKzFdO1xuXG4gICAgICB6ZXJvJDEodGhpcy5kZXB0aClcbiAgICAgIC8qIERlcHRoIG9mIGVhY2ggc3VidHJlZSB1c2VkIGFzIHRpZSBicmVha2VyIGZvciB0cmVlcyBvZiBlcXVhbCBmcmVxdWVuY3lcbiAgICAgICAqL1xuXG4gICAgICB0aGlzLmxfYnVmID0gMFxuICAgICAgLyogYnVmZmVyIGluZGV4IGZvciBsaXRlcmFscyBvciBsZW5ndGhzICovXG5cbiAgICAgIHRoaXMubGl0X2J1ZnNpemUgPSAwXG4gICAgICAvKiBTaXplIG9mIG1hdGNoIGJ1ZmZlciBmb3IgbGl0ZXJhbHMvbGVuZ3Rocy4gIFRoZXJlIGFyZSA0IHJlYXNvbnMgZm9yXG4gICAgICAgKiBsaW1pdGluZyBsaXRfYnVmc2l6ZSB0byA2NEs6XG4gICAgICAgKiAgIC0gZnJlcXVlbmNpZXMgY2FuIGJlIGtlcHQgaW4gMTYgYml0IGNvdW50ZXJzXG4gICAgICAgKiAgIC0gaWYgY29tcHJlc3Npb24gaXMgbm90IHN1Y2Nlc3NmdWwgZm9yIHRoZSBmaXJzdCBibG9jaywgYWxsIGlucHV0XG4gICAgICAgKiAgICAgZGF0YSBpcyBzdGlsbCBpbiB0aGUgd2luZG93IHNvIHdlIGNhbiBzdGlsbCBlbWl0IGEgc3RvcmVkIGJsb2NrIGV2ZW5cbiAgICAgICAqICAgICB3aGVuIGlucHV0IGNvbWVzIGZyb20gc3RhbmRhcmQgaW5wdXQuICAoVGhpcyBjYW4gYWxzbyBiZSBkb25lIGZvclxuICAgICAgICogICAgIGFsbCBibG9ja3MgaWYgbGl0X2J1ZnNpemUgaXMgbm90IGdyZWF0ZXIgdGhhbiAzMksuKVxuICAgICAgICogICAtIGlmIGNvbXByZXNzaW9uIGlzIG5vdCBzdWNjZXNzZnVsIGZvciBhIGZpbGUgc21hbGxlciB0aGFuIDY0Sywgd2UgY2FuXG4gICAgICAgKiAgICAgZXZlbiBlbWl0IGEgc3RvcmVkIGZpbGUgaW5zdGVhZCBvZiBhIHN0b3JlZCBibG9jayAoc2F2aW5nIDUgYnl0ZXMpLlxuICAgICAgICogICAgIFRoaXMgaXMgYXBwbGljYWJsZSBvbmx5IGZvciB6aXAgKG5vdCBnemlwIG9yIHpsaWIpLlxuICAgICAgICogICAtIGNyZWF0aW5nIG5ldyBIdWZmbWFuIHRyZWVzIGxlc3MgZnJlcXVlbnRseSBtYXkgbm90IHByb3ZpZGUgZmFzdFxuICAgICAgICogICAgIGFkYXB0YXRpb24gdG8gY2hhbmdlcyBpbiB0aGUgaW5wdXQgZGF0YSBzdGF0aXN0aWNzLiAoVGFrZSBmb3JcbiAgICAgICAqICAgICBleGFtcGxlIGEgYmluYXJ5IGZpbGUgd2l0aCBwb29ybHkgY29tcHJlc3NpYmxlIGNvZGUgZm9sbG93ZWQgYnlcbiAgICAgICAqICAgICBhIGhpZ2hseSBjb21wcmVzc2libGUgc3RyaW5nIHRhYmxlLikgU21hbGxlciBidWZmZXIgc2l6ZXMgZ2l2ZVxuICAgICAgICogICAgIGZhc3QgYWRhcHRhdGlvbiBidXQgaGF2ZSBvZiBjb3Vyc2UgdGhlIG92ZXJoZWFkIG9mIHRyYW5zbWl0dGluZ1xuICAgICAgICogICAgIHRyZWVzIG1vcmUgZnJlcXVlbnRseS5cbiAgICAgICAqICAgLSBJIGNhbid0IGNvdW50IGFib3ZlIDRcbiAgICAgICAqL1xuXG4gICAgICB0aGlzLmxhc3RfbGl0ID0gMFxuICAgICAgLyogcnVubmluZyBpbmRleCBpbiBsX2J1ZiAqL1xuXG4gICAgICB0aGlzLmRfYnVmID0gMFxuICAgICAgLyogQnVmZmVyIGluZGV4IGZvciBkaXN0YW5jZXMuIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCBkX2J1ZiBhbmQgbF9idWYgaGF2ZVxuICAgICAgICogdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLiBUbyB1c2UgZGlmZmVyZW50IGxlbmd0aHMsIGFuIGV4dHJhIGZsYWdcbiAgICAgICAqIGFycmF5IHdvdWxkIGJlIG5lY2Vzc2FyeS5cbiAgICAgICAqL1xuXG4gICAgICB0aGlzLm9wdF9sZW4gPSAwXG4gICAgICAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBvcHRpbWFsIHRyZWVzICovXG5cbiAgICAgIHRoaXMuc3RhdGljX2xlbiA9IDBcbiAgICAgIC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIHN0YXRpYyB0cmVlcyAqL1xuXG4gICAgICB0aGlzLm1hdGNoZXMgPSAwXG4gICAgICAvKiBudW1iZXIgb2Ygc3RyaW5nIG1hdGNoZXMgaW4gY3VycmVudCBibG9jayAqL1xuXG4gICAgICB0aGlzLmluc2VydCA9IDBcbiAgICAgIC8qIGJ5dGVzIGF0IGVuZCBvZiB3aW5kb3cgbGVmdCB0byBpbnNlcnQgKi9cblxuICAgICAgdGhpcy5iaV9idWYgPSAwXG4gICAgICAvKiBPdXRwdXQgYnVmZmVyLiBiaXRzIGFyZSBpbnNlcnRlZCBzdGFydGluZyBhdCB0aGUgYm90dG9tIChsZWFzdFxuICAgICAgICogc2lnbmlmaWNhbnQgYml0cykuXG4gICAgICAgKi9cblxuICAgICAgdGhpcy5iaV92YWxpZCA9IDBcbiAgICAgIC8qIE51bWJlciBvZiB2YWxpZCBiaXRzIGluIGJpX2J1Zi4gIEFsbCBiaXRzIGFib3ZlIHRoZSBsYXN0IHZhbGlkIGJpdFxuICAgICAgICogYXJlIGFsd2F5cyB6ZXJvLlxuICAgICAgICovXG4gICAgICAvLyBVc2VkIGZvciB3aW5kb3cgbWVtb3J5IGluaXQuIFdlIHNhZmVseSBpZ25vcmUgaXQgZm9yIEpTLiBUaGF0IG1ha2VzXG4gICAgICAvLyBzZW5zZSBvbmx5IGZvciBwb2ludGVycyBhbmQgbWVtb3J5IGNoZWNrIHRvb2xzLlxuICAgICAgLy8gdGhpcy5oaWdoX3dhdGVyID0gMDtcblxuICAgICAgLyogSGlnaCB3YXRlciBtYXJrIG9mZnNldCBpbiB3aW5kb3cgZm9yIGluaXRpYWxpemVkIGJ5dGVzIC0tIGJ5dGVzIGFib3ZlXG4gICAgICAgKiB0aGlzIGFyZSBzZXQgdG8gemVybyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgd2FybmluZ3Mgd2hlblxuICAgICAgICogbG9uZ2VzdCBtYXRjaCByb3V0aW5lcyBhY2Nlc3MgYnl0ZXMgcGFzdCB0aGUgaW5wdXQuICBUaGlzIGlzIHRoZW5cbiAgICAgICAqIHVwZGF0ZWQgdG8gdGhlIG5ldyBoaWdoIHdhdGVyIG1hcmsuXG4gICAgICAgKi9cbiAgICB9XG5cbiAgICB2YXIgZGVmbGF0ZVJlc2V0S2VlcCA9IGZ1bmN0aW9uIGRlZmxhdGVSZXNldEtlZXAoc3RybSkge1xuICAgICAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7XG4gICAgICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpXG4gICAgICB9XG5cbiAgICAgIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IDBcbiAgICAgIHN0cm0uZGF0YV90eXBlID0gWl9VTktOT1dOJDFcbiAgICAgIHZhciBzID0gc3RybS5zdGF0ZVxuICAgICAgcy5wZW5kaW5nID0gMFxuICAgICAgcy5wZW5kaW5nX291dCA9IDBcblxuICAgICAgaWYgKHMud3JhcCA8IDApIHtcbiAgICAgICAgcy53cmFwID0gLXMud3JhcFxuICAgICAgICAvKiB3YXMgbWFkZSBuZWdhdGl2ZSBieSBkZWZsYXRlKC4uLiwgWl9GSU5JU0gpOyAqL1xuICAgICAgfVxuXG4gICAgICBzLnN0YXR1cyA9IHMud3JhcCA/IElOSVRfU1RBVEUgOiBCVVNZX1NUQVRFXG4gICAgICBzdHJtLmFkbGVyID1cbiAgICAgICAgcy53cmFwID09PSAyXG4gICAgICAgICAgPyAwIC8vIGNyYzMyKDAsIFpfTlVMTCwgMClcbiAgICAgICAgICA6IDEgLy8gYWRsZXIzMigwLCBaX05VTEwsIDApXG5cbiAgICAgIHMubGFzdF9mbHVzaCA9IFpfTk9fRkxVU0hcblxuICAgICAgX3RyX2luaXQkMShzKVxuXG4gICAgICByZXR1cm4gWl9PS1xuICAgIH1cblxuICAgIHZhciBkZWZsYXRlUmVzZXQgPSBmdW5jdGlvbiBkZWZsYXRlUmVzZXQoc3RybSkge1xuICAgICAgdmFyIHJldCA9IGRlZmxhdGVSZXNldEtlZXAoc3RybSlcblxuICAgICAgaWYgKHJldCA9PT0gWl9PSykge1xuICAgICAgICBsbV9pbml0KHN0cm0uc3RhdGUpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXRcbiAgICB9XG5cbiAgICB2YXIgZGVmbGF0ZVNldEhlYWRlciA9IGZ1bmN0aW9uIGRlZmxhdGVTZXRIZWFkZXIoc3RybSwgaGVhZCkge1xuICAgICAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7XG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUlxuICAgICAgfVxuXG4gICAgICBpZiAoc3RybS5zdGF0ZS53cmFwICE9PSAyKSB7XG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUlxuICAgICAgfVxuXG4gICAgICBzdHJtLnN0YXRlLmd6aGVhZCA9IGhlYWRcbiAgICAgIHJldHVybiBaX09LXG4gICAgfVxuXG4gICAgdmFyIGRlZmxhdGVJbml0MiA9IGZ1bmN0aW9uIGRlZmxhdGVJbml0MihzdHJtLCBsZXZlbCwgbWV0aG9kLCB3aW5kb3dCaXRzLCBtZW1MZXZlbCwgc3RyYXRlZ3kpIHtcbiAgICAgIGlmICghc3RybSkge1xuICAgICAgICAvLyA9PT0gWl9OVUxMXG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUlxuICAgICAgfVxuXG4gICAgICB2YXIgd3JhcCA9IDFcblxuICAgICAgaWYgKGxldmVsID09PSBaX0RFRkFVTFRfQ09NUFJFU1NJT04pIHtcbiAgICAgICAgbGV2ZWwgPSA2XG4gICAgICB9XG5cbiAgICAgIGlmICh3aW5kb3dCaXRzIDwgMCkge1xuICAgICAgICAvKiBzdXBwcmVzcyB6bGliIHdyYXBwZXIgKi9cbiAgICAgICAgd3JhcCA9IDBcbiAgICAgICAgd2luZG93Qml0cyA9IC13aW5kb3dCaXRzXG4gICAgICB9IGVsc2UgaWYgKHdpbmRvd0JpdHMgPiAxNSkge1xuICAgICAgICB3cmFwID0gMlxuICAgICAgICAvKiB3cml0ZSBnemlwIHdyYXBwZXIgaW5zdGVhZCAqL1xuXG4gICAgICAgIHdpbmRvd0JpdHMgLT0gMTZcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBtZW1MZXZlbCA8IDEgfHxcbiAgICAgICAgbWVtTGV2ZWwgPiBNQVhfTUVNX0xFVkVMIHx8XG4gICAgICAgIG1ldGhvZCAhPT0gWl9ERUZMQVRFRCB8fFxuICAgICAgICB3aW5kb3dCaXRzIDwgOCB8fFxuICAgICAgICB3aW5kb3dCaXRzID4gMTUgfHxcbiAgICAgICAgbGV2ZWwgPCAwIHx8XG4gICAgICAgIGxldmVsID4gOSB8fFxuICAgICAgICBzdHJhdGVneSA8IDAgfHxcbiAgICAgICAgc3RyYXRlZ3kgPiBaX0ZJWEVEJDFcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKVxuICAgICAgfVxuXG4gICAgICBpZiAod2luZG93Qml0cyA9PT0gOCkge1xuICAgICAgICB3aW5kb3dCaXRzID0gOVxuICAgICAgfVxuICAgICAgLyogdW50aWwgMjU2LWJ5dGUgd2luZG93IGJ1ZyBmaXhlZCAqL1xuXG4gICAgICB2YXIgcyA9IG5ldyBEZWZsYXRlU3RhdGUoKVxuICAgICAgc3RybS5zdGF0ZSA9IHNcbiAgICAgIHMuc3RybSA9IHN0cm1cbiAgICAgIHMud3JhcCA9IHdyYXBcbiAgICAgIHMuZ3poZWFkID0gbnVsbFxuICAgICAgcy53X2JpdHMgPSB3aW5kb3dCaXRzXG4gICAgICBzLndfc2l6ZSA9IDEgPDwgcy53X2JpdHNcbiAgICAgIHMud19tYXNrID0gcy53X3NpemUgLSAxXG4gICAgICBzLmhhc2hfYml0cyA9IG1lbUxldmVsICsgN1xuICAgICAgcy5oYXNoX3NpemUgPSAxIDw8IHMuaGFzaF9iaXRzXG4gICAgICBzLmhhc2hfbWFzayA9IHMuaGFzaF9zaXplIC0gMVxuICAgICAgcy5oYXNoX3NoaWZ0ID0gfn4oKHMuaGFzaF9iaXRzICsgTUlOX01BVENIJDEgLSAxKSAvIE1JTl9NQVRDSCQxKVxuICAgICAgcy53aW5kb3cgPSBuZXcgVWludDhBcnJheShzLndfc2l6ZSAqIDIpXG4gICAgICBzLmhlYWQgPSBuZXcgVWludDE2QXJyYXkocy5oYXNoX3NpemUpXG4gICAgICBzLnByZXYgPSBuZXcgVWludDE2QXJyYXkocy53X3NpemUpIC8vIERvbid0IG5lZWQgbWVtIGluaXQgbWFnaWMgZm9yIEpTLlxuICAgICAgLy8gcy5oaWdoX3dhdGVyID0gMDsgIC8qIG5vdGhpbmcgd3JpdHRlbiB0byBzLT53aW5kb3cgeWV0ICovXG5cbiAgICAgIHMubGl0X2J1ZnNpemUgPSAxIDw8IChtZW1MZXZlbCArIDYpXG4gICAgICAvKiAxNksgZWxlbWVudHMgYnkgZGVmYXVsdCAqL1xuXG4gICAgICBzLnBlbmRpbmdfYnVmX3NpemUgPSBzLmxpdF9idWZzaXplICogNCAvLyBvdmVybGF5ID0gKHVzaGYgKikgWkFMTE9DKHN0cm0sIHMtPmxpdF9idWZzaXplLCBzaXplb2YodXNoKSsyKTtcbiAgICAgIC8vIHMtPnBlbmRpbmdfYnVmID0gKHVjaGYgKikgb3ZlcmxheTtcblxuICAgICAgcy5wZW5kaW5nX2J1ZiA9IG5ldyBVaW50OEFycmF5KHMucGVuZGluZ19idWZfc2l6ZSkgLy8gSXQgaXMgb2Zmc2V0IGZyb20gYHMucGVuZGluZ19idWZgIChzaXplIGlzIGBzLmxpdF9idWZzaXplICogMmApXG4gICAgICAvLyBzLT5kX2J1ZiA9IG92ZXJsYXkgKyBzLT5saXRfYnVmc2l6ZS9zaXplb2YodXNoKTtcblxuICAgICAgcy5kX2J1ZiA9IDEgKiBzLmxpdF9idWZzaXplIC8vIHMtPmxfYnVmID0gcy0+cGVuZGluZ19idWYgKyAoMStzaXplb2YodXNoKSkqcy0+bGl0X2J1ZnNpemU7XG5cbiAgICAgIHMubF9idWYgPSAoMSArIDIpICogcy5saXRfYnVmc2l6ZVxuICAgICAgcy5sZXZlbCA9IGxldmVsXG4gICAgICBzLnN0cmF0ZWd5ID0gc3RyYXRlZ3lcbiAgICAgIHMubWV0aG9kID0gbWV0aG9kXG4gICAgICByZXR1cm4gZGVmbGF0ZVJlc2V0KHN0cm0pXG4gICAgfVxuXG4gICAgdmFyIGRlZmxhdGVJbml0ID0gZnVuY3Rpb24gZGVmbGF0ZUluaXQoc3RybSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiBkZWZsYXRlSW5pdDIoc3RybSwgbGV2ZWwsIFpfREVGTEFURUQsIE1BWF9XQklUUywgREVGX01FTV9MRVZFTCwgWl9ERUZBVUxUX1NUUkFURUdZKVxuICAgIH1cblxuICAgIHZhciBkZWZsYXRlID0gZnVuY3Rpb24gZGVmbGF0ZShzdHJtLCBmbHVzaCkge1xuICAgICAgdmFyIGJlZ1xuICAgICAgdmFyIHZhbCAvLyBmb3IgZ3ppcCBoZWFkZXIgd3JpdGUgb25seVxuXG4gICAgICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgfHwgZmx1c2ggPiBaX0JMT0NLIHx8IGZsdXNoIDwgMCkge1xuICAgICAgICByZXR1cm4gc3RybSA/IGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUikgOiBaX1NUUkVBTV9FUlJPUlxuICAgICAgfVxuXG4gICAgICB2YXIgcyA9IHN0cm0uc3RhdGVcblxuICAgICAgaWYgKCFzdHJtLm91dHB1dCB8fCAoIXN0cm0uaW5wdXQgJiYgc3RybS5hdmFpbF9pbiAhPT0gMCkgfHwgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgZmx1c2ggIT09IFpfRklOSVNIKSkge1xuICAgICAgICByZXR1cm4gZXJyKHN0cm0sIHN0cm0uYXZhaWxfb3V0ID09PSAwID8gWl9CVUZfRVJST1IgOiBaX1NUUkVBTV9FUlJPUilcbiAgICAgIH1cblxuICAgICAgcy5zdHJtID0gc3RybVxuICAgICAgLyoganVzdCBpbiBjYXNlICovXG5cbiAgICAgIHZhciBvbGRfZmx1c2ggPSBzLmxhc3RfZmx1c2hcbiAgICAgIHMubGFzdF9mbHVzaCA9IGZsdXNoXG4gICAgICAvKiBXcml0ZSB0aGUgaGVhZGVyICovXG5cbiAgICAgIGlmIChzLnN0YXR1cyA9PT0gSU5JVF9TVEFURSkge1xuICAgICAgICBpZiAocy53cmFwID09PSAyKSB7XG4gICAgICAgICAgLy8gR1pJUCBoZWFkZXJcbiAgICAgICAgICBzdHJtLmFkbGVyID0gMCAvLyBjcmMzMigwTCwgWl9OVUxMLCAwKTtcblxuICAgICAgICAgIHB1dF9ieXRlKHMsIDMxKVxuICAgICAgICAgIHB1dF9ieXRlKHMsIDEzOSlcbiAgICAgICAgICBwdXRfYnl0ZShzLCA4KVxuXG4gICAgICAgICAgaWYgKCFzLmd6aGVhZCkge1xuICAgICAgICAgICAgLy8gcy0+Z3poZWFkID09IFpfTlVMTFxuICAgICAgICAgICAgcHV0X2J5dGUocywgMClcbiAgICAgICAgICAgIHB1dF9ieXRlKHMsIDApXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCAwKVxuICAgICAgICAgICAgcHV0X2J5dGUocywgMClcbiAgICAgICAgICAgIHB1dF9ieXRlKHMsIDApXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6IHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgPyA0IDogMClcbiAgICAgICAgICAgIHB1dF9ieXRlKHMsIE9TX0NPREUpXG4gICAgICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHV0X2J5dGUoXG4gICAgICAgICAgICAgIHMsXG4gICAgICAgICAgICAgIChzLmd6aGVhZC50ZXh0ID8gMSA6IDApICtcbiAgICAgICAgICAgICAgICAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArXG4gICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5leHRyYSA/IDAgOiA0KSArXG4gICAgICAgICAgICAgICAgKCFzLmd6aGVhZC5uYW1lID8gMCA6IDgpICtcbiAgICAgICAgICAgICAgICAoIXMuZ3poZWFkLmNvbW1lbnQgPyAwIDogMTYpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC50aW1lICYgMHhmZilcbiAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDgpICYgMHhmZilcbiAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDE2KSAmIDB4ZmYpXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCAocy5nemhlYWQudGltZSA+PiAyNCkgJiAweGZmKVxuICAgICAgICAgICAgcHV0X2J5dGUocywgcy5sZXZlbCA9PT0gOSA/IDIgOiBzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyID8gNCA6IDApXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5vcyAmIDB4ZmYpXG5cbiAgICAgICAgICAgIGlmIChzLmd6aGVhZC5leHRyYSAmJiBzLmd6aGVhZC5leHRyYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQuZXh0cmEubGVuZ3RoICYgMHhmZilcbiAgICAgICAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLmV4dHJhLmxlbmd0aCA+PiA4KSAmIDB4ZmYpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjKSB7XG4gICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZywgMClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcy5nemluZGV4ID0gMFxuICAgICAgICAgICAgcy5zdGF0dXMgPSBFWFRSQV9TVEFURVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBERUZMQVRFIGhlYWRlclxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgaGVhZGVyID0gKFpfREVGTEFURUQgKyAoKHMud19iaXRzIC0gOCkgPDwgNCkpIDw8IDhcbiAgICAgICAgICB2YXIgbGV2ZWxfZmxhZ3MgPSAtMVxuXG4gICAgICAgICAgaWYgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIpIHtcbiAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gMFxuICAgICAgICAgIH0gZWxzZSBpZiAocy5sZXZlbCA8IDYpIHtcbiAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gMVxuICAgICAgICAgIH0gZWxzZSBpZiAocy5sZXZlbCA9PT0gNikge1xuICAgICAgICAgICAgbGV2ZWxfZmxhZ3MgPSAyXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldmVsX2ZsYWdzID0gM1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGhlYWRlciB8PSBsZXZlbF9mbGFncyA8PCA2XG5cbiAgICAgICAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkge1xuICAgICAgICAgICAgaGVhZGVyIHw9IFBSRVNFVF9ESUNUXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGVhZGVyICs9IDMxIC0gKGhlYWRlciAlIDMxKVxuICAgICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURVxuICAgICAgICAgIHB1dFNob3J0TVNCKHMsIGhlYWRlcilcbiAgICAgICAgICAvKiBTYXZlIHRoZSBhZGxlcjMyIG9mIHRoZSBwcmVzZXQgZGljdGlvbmFyeTogKi9cblxuICAgICAgICAgIGlmIChzLnN0cnN0YXJ0ICE9PSAwKSB7XG4gICAgICAgICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyID4+PiAxNilcbiAgICAgICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RybS5hZGxlciA9IDEgLy8gYWRsZXIzMigwTCwgWl9OVUxMLCAwKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyAjaWZkZWYgR1pJUFxuXG4gICAgICBpZiAocy5zdGF0dXMgPT09IEVYVFJBX1NUQVRFKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzLmd6aGVhZC5leHRyYVxuICAgICAgICAgIC8qICE9IFpfTlVMTCAqL1xuICAgICAgICApIHtcbiAgICAgICAgICBiZWcgPSBzLnBlbmRpbmdcbiAgICAgICAgICAvKiBzdGFydCBvZiBieXRlcyB0byB1cGRhdGUgY3JjICovXG5cbiAgICAgICAgICB3aGlsZSAocy5nemluZGV4IDwgKHMuZ3poZWFkLmV4dHJhLmxlbmd0aCAmIDB4ZmZmZikpIHtcbiAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZylcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSlcbiAgICAgICAgICAgICAgYmVnID0gcy5wZW5kaW5nXG5cbiAgICAgICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCBzLmd6aGVhZC5leHRyYVtzLmd6aW5kZXhdICYgMHhmZilcbiAgICAgICAgICAgIHMuZ3ppbmRleCsrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocy5nemluZGV4ID09PSBzLmd6aGVhZC5leHRyYS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHMuZ3ppbmRleCA9IDBcbiAgICAgICAgICAgIHMuc3RhdHVzID0gTkFNRV9TVEFURVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzLnN0YXR1cyA9IE5BTUVfU1RBVEVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocy5zdGF0dXMgPT09IE5BTUVfU1RBVEUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHMuZ3poZWFkLm5hbWVcbiAgICAgICAgICAvKiAhPSBaX05VTEwgKi9cbiAgICAgICAgKSB7XG4gICAgICAgICAgYmVnID0gcy5wZW5kaW5nXG4gICAgICAgICAgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgICAgIC8vIGludCB2YWw7XG5cbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pXG4gICAgICAgICAgICAgIGJlZyA9IHMucGVuZGluZ1xuXG4gICAgICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgICAgIHZhbCA9IDFcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG5cbiAgICAgICAgICAgIGlmIChzLmd6aW5kZXggPCBzLmd6aGVhZC5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsID0gMFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwdXRfYnl0ZShzLCB2YWwpXG4gICAgICAgICAgfSB3aGlsZSAodmFsICE9PSAwKVxuXG4gICAgICAgICAgaWYgKHMuZ3poZWFkLmhjcmMgJiYgcy5wZW5kaW5nID4gYmVnKSB7XG4gICAgICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzJfMShzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsID09PSAwKSB7XG4gICAgICAgICAgICBzLmd6aW5kZXggPSAwXG4gICAgICAgICAgICBzLnN0YXR1cyA9IENPTU1FTlRfU1RBVEVcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5zdGF0dXMgPSBDT01NRU5UX1NUQVRFXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHMuc3RhdHVzID09PSBDT01NRU5UX1NUQVRFKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzLmd6aGVhZC5jb21tZW50XG4gICAgICAgICAgLyogIT0gWl9OVUxMICovXG4gICAgICAgICkge1xuICAgICAgICAgIGJlZyA9IHMucGVuZGluZ1xuICAgICAgICAgIC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgICAgICAvLyBpbnQgdmFsO1xuXG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMl8xKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKVxuICAgICAgICAgICAgICBiZWcgPSBzLnBlbmRpbmdcblxuICAgICAgICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAxXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuXG4gICAgICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdmFsID0gcy5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKSAmIDB4ZmZcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbCA9IDBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHV0X2J5dGUocywgdmFsKVxuICAgICAgICAgIH0gd2hpbGUgKHZhbCAhPT0gMClcblxuICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyXzEoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgICAgICAgcy5zdGF0dXMgPSBIQ1JDX1NUQVRFXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuc3RhdHVzID0gSENSQ19TVEFURVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzLnN0YXR1cyA9PT0gSENSQ19TVEFURSkge1xuICAgICAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgICAgIGlmIChzLnBlbmRpbmcgKyAyID4gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHMucGVuZGluZyArIDIgPD0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICBwdXRfYnl0ZShzLCBzdHJtLmFkbGVyICYgMHhmZilcbiAgICAgICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZilcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSAwIC8vIGNyYzMyKDBMLCBaX05VTEwsIDApO1xuXG4gICAgICAgICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEVcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFXG4gICAgICAgIH1cbiAgICAgIH0gLy8gI2VuZGlmXG5cbiAgICAgIC8qIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUgKi9cblxuICAgICAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pXG5cbiAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgLyogU2luY2UgYXZhaWxfb3V0IGlzIDAsIGRlZmxhdGUgd2lsbCBiZSBjYWxsZWQgYWdhaW4gd2l0aFxuICAgICAgICAgICAqIG1vcmUgb3V0cHV0IHNwYWNlLCBidXQgcG9zc2libHkgd2l0aCBib3RoIHBlbmRpbmcgYW5kXG4gICAgICAgICAgICogYXZhaWxfaW4gZXF1YWwgdG8gemVyby4gVGhlcmUgd29uJ3QgYmUgYW55dGhpbmcgdG8gZG8sXG4gICAgICAgICAgICogYnV0IHRoaXMgaXMgbm90IGFuIGVycm9yIHNpdHVhdGlvbiBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAgICAgKiByZXR1cm4gT0sgaW5zdGVhZCBvZiBCVUZfRVJST1IgYXQgbmV4dCBjYWxsIG9mIGRlZmxhdGU6XG4gICAgICAgICAgICovXG4gICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTFcbiAgICAgICAgICByZXR1cm4gWl9PS1xuICAgICAgICB9XG4gICAgICAgIC8qIE1ha2Ugc3VyZSB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG8gYW5kIGF2b2lkIGR1cGxpY2F0ZSBjb25zZWN1dGl2ZVxuICAgICAgICAgKiBmbHVzaGVzLiBGb3IgcmVwZWF0ZWQgYW5kIHVzZWxlc3MgY2FsbHMgd2l0aCBaX0ZJTklTSCwgd2Uga2VlcFxuICAgICAgICAgKiByZXR1cm5pbmcgWl9TVFJFQU1fRU5EIGluc3RlYWQgb2YgWl9CVUZfRVJST1IuXG4gICAgICAgICAqL1xuICAgICAgfSBlbHNlIGlmIChzdHJtLmF2YWlsX2luID09PSAwICYmIHJhbmsoZmx1c2gpIDw9IHJhbmsob2xkX2ZsdXNoKSAmJiBmbHVzaCAhPT0gWl9GSU5JU0gpIHtcbiAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUilcbiAgICAgIH1cbiAgICAgIC8qIFVzZXIgbXVzdCBub3QgcHJvdmlkZSBtb3JlIGlucHV0IGFmdGVyIHRoZSBmaXJzdCBGSU5JU0g6ICovXG5cbiAgICAgIGlmIChzLnN0YXR1cyA9PT0gRklOSVNIX1NUQVRFICYmIHN0cm0uYXZhaWxfaW4gIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUilcbiAgICAgIH1cbiAgICAgIC8qIFN0YXJ0IGEgbmV3IGJsb2NrIG9yIGNvbnRpbnVlIHRoZSBjdXJyZW50IG9uZS5cbiAgICAgICAqL1xuXG4gICAgICBpZiAoc3RybS5hdmFpbF9pbiAhPT0gMCB8fCBzLmxvb2thaGVhZCAhPT0gMCB8fCAoZmx1c2ggIT09IFpfTk9fRkxVU0ggJiYgcy5zdGF0dXMgIT09IEZJTklTSF9TVEFURSkpIHtcbiAgICAgICAgdmFyIGJzdGF0ZSA9XG4gICAgICAgICAgcy5zdHJhdGVneSA9PT0gWl9IVUZGTUFOX09OTFlcbiAgICAgICAgICAgID8gZGVmbGF0ZV9odWZmKHMsIGZsdXNoKVxuICAgICAgICAgICAgOiBzLnN0cmF0ZWd5ID09PSBaX1JMRVxuICAgICAgICAgICAgPyBkZWZsYXRlX3JsZShzLCBmbHVzaClcbiAgICAgICAgICAgIDogY29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5mdW5jKHMsIGZsdXNoKVxuXG4gICAgICAgIGlmIChic3RhdGUgPT09IEJTX0ZJTklTSF9TVEFSVEVEIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX0RPTkUpIHtcbiAgICAgICAgICBzLnN0YXR1cyA9IEZJTklTSF9TVEFURVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJzdGF0ZSA9PT0gQlNfTkVFRF9NT1JFIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX1NUQVJURUQpIHtcbiAgICAgICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICAgIHMubGFzdF9mbHVzaCA9IC0xXG4gICAgICAgICAgICAvKiBhdm9pZCBCVUZfRVJST1IgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gWl9PS1xuICAgICAgICAgIC8qIElmIGZsdXNoICE9IFpfTk9fRkxVU0ggJiYgYXZhaWxfb3V0ID09IDAsIHRoZSBuZXh0IGNhbGxcbiAgICAgICAgICAgKiBvZiBkZWZsYXRlIHNob3VsZCB1c2UgdGhlIHNhbWUgZmx1c2ggcGFyYW1ldGVyIHRvIG1ha2Ugc3VyZVxuICAgICAgICAgICAqIHRoYXQgdGhlIGZsdXNoIGlzIGNvbXBsZXRlLiBTbyB3ZSBkb24ndCBoYXZlIHRvIG91dHB1dCBhblxuICAgICAgICAgICAqIGVtcHR5IGJsb2NrIGhlcmUsIHRoaXMgd2lsbCBiZSBkb25lIGF0IG5leHQgY2FsbC4gVGhpcyBhbHNvXG4gICAgICAgICAgICogZW5zdXJlcyB0aGF0IGZvciBhIHZlcnkgc21hbGwgb3V0cHV0IGJ1ZmZlciwgd2UgZW1pdCBhdCBtb3N0XG4gICAgICAgICAgICogb25lIGVtcHR5IGJsb2NrLlxuICAgICAgICAgICAqL1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJzdGF0ZSA9PT0gQlNfQkxPQ0tfRE9ORSkge1xuICAgICAgICAgIGlmIChmbHVzaCA9PT0gWl9QQVJUSUFMX0ZMVVNIKSB7XG4gICAgICAgICAgICBfdHJfYWxpZ24kMShzKVxuICAgICAgICAgIH0gZWxzZSBpZiAoZmx1c2ggIT09IFpfQkxPQ0spIHtcbiAgICAgICAgICAgIC8qIEZVTExfRkxVU0ggb3IgU1lOQ19GTFVTSCAqL1xuICAgICAgICAgICAgX3RyX3N0b3JlZF9ibG9jayQxKHMsIDAsIDAsIGZhbHNlKVxuICAgICAgICAgICAgLyogRm9yIGEgZnVsbCBmbHVzaCwgdGhpcyBlbXB0eSBibG9jayB3aWxsIGJlIHJlY29nbml6ZWRcbiAgICAgICAgICAgICAqIGFzIGEgc3BlY2lhbCBtYXJrZXIgYnkgaW5mbGF0ZV9zeW5jKCkuXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgaWYgKGZsdXNoID09PSBaX0ZVTExfRkxVU0gpIHtcbiAgICAgICAgICAgICAgLyoqICogQ0xFQVJfSEFTSChzKTsgKiogKi9cblxuICAgICAgICAgICAgICAvKiBmb3JnZXQgaGlzdG9yeSAqL1xuICAgICAgICAgICAgICB6ZXJvJDEocy5oZWFkKSAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuXG4gICAgICAgICAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHMuc3Ryc3RhcnQgPSAwXG4gICAgICAgICAgICAgICAgcy5ibG9ja19zdGFydCA9IDBcbiAgICAgICAgICAgICAgICBzLmluc2VydCA9IDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSlcblxuICAgICAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICAgICAgcy5sYXN0X2ZsdXNoID0gLTFcbiAgICAgICAgICAgIC8qIGF2b2lkIEJVRl9FUlJPUiBhdCBuZXh0IGNhbGwsIHNlZSBhYm92ZSAqL1xuXG4gICAgICAgICAgICByZXR1cm4gWl9PS1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBBc3NlcnQoc3RybS0+YXZhaWxfb3V0ID4gMCwgXCJidWcyXCIpO1xuICAgICAgLy8gaWYgKHN0cm0uYXZhaWxfb3V0IDw9IDApIHsgdGhyb3cgbmV3IEVycm9yKFwiYnVnMlwiKTt9XG5cbiAgICAgIGlmIChmbHVzaCAhPT0gWl9GSU5JU0gpIHtcbiAgICAgICAgcmV0dXJuIFpfT0tcbiAgICAgIH1cblxuICAgICAgaWYgKHMud3JhcCA8PSAwKSB7XG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FTkRcbiAgICAgIH1cbiAgICAgIC8qIFdyaXRlIHRoZSB0cmFpbGVyICovXG5cbiAgICAgIGlmIChzLndyYXAgPT09IDIpIHtcbiAgICAgICAgcHV0X2J5dGUocywgc3RybS5hZGxlciAmIDB4ZmYpXG4gICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZilcbiAgICAgICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMTYpICYgMHhmZilcbiAgICAgICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMjQpICYgMHhmZilcbiAgICAgICAgcHV0X2J5dGUocywgc3RybS50b3RhbF9pbiAmIDB4ZmYpXG4gICAgICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDgpICYgMHhmZilcbiAgICAgICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMTYpICYgMHhmZilcbiAgICAgICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMjQpICYgMHhmZilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KVxuICAgICAgICBwdXRTaG9ydE1TQihzLCBzdHJtLmFkbGVyICYgMHhmZmZmKVxuICAgICAgfVxuXG4gICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pXG4gICAgICAvKiBJZiBhdmFpbF9vdXQgaXMgemVybywgdGhlIGFwcGxpY2F0aW9uIHdpbGwgY2FsbCBkZWZsYXRlIGFnYWluXG4gICAgICAgKiB0byBmbHVzaCB0aGUgcmVzdC5cbiAgICAgICAqL1xuXG4gICAgICBpZiAocy53cmFwID4gMCkge1xuICAgICAgICBzLndyYXAgPSAtcy53cmFwXG4gICAgICB9XG4gICAgICAvKiB3cml0ZSB0aGUgdHJhaWxlciBvbmx5IG9uY2UhICovXG5cbiAgICAgIHJldHVybiBzLnBlbmRpbmcgIT09IDAgPyBaX09LIDogWl9TVFJFQU1fRU5EXG4gICAgfVxuXG4gICAgdmFyIGRlZmxhdGVFbmQgPSBmdW5jdGlvbiBkZWZsYXRlRW5kKHN0cm0pIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXN0cm0gfHxcbiAgICAgICAgLyogPT0gWl9OVUxMICovXG4gICAgICAgICFzdHJtLnN0YXRlXG4gICAgICAgIC8qID09IFpfTlVMTCAqL1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUlxuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdHVzID0gc3RybS5zdGF0ZS5zdGF0dXNcblxuICAgICAgaWYgKFxuICAgICAgICBzdGF0dXMgIT09IElOSVRfU1RBVEUgJiZcbiAgICAgICAgc3RhdHVzICE9PSBFWFRSQV9TVEFURSAmJlxuICAgICAgICBzdGF0dXMgIT09IE5BTUVfU1RBVEUgJiZcbiAgICAgICAgc3RhdHVzICE9PSBDT01NRU5UX1NUQVRFICYmXG4gICAgICAgIHN0YXR1cyAhPT0gSENSQ19TVEFURSAmJlxuICAgICAgICBzdGF0dXMgIT09IEJVU1lfU1RBVEUgJiZcbiAgICAgICAgc3RhdHVzICE9PSBGSU5JU0hfU1RBVEVcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKVxuICAgICAgfVxuXG4gICAgICBzdHJtLnN0YXRlID0gbnVsbFxuICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gQlVTWV9TVEFURSA/IGVycihzdHJtLCBaX0RBVEFfRVJST1IpIDogWl9PS1xuICAgIH1cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbXByZXNzaW9uIGRpY3Rpb25hcnkgZnJvbSB0aGUgZ2l2ZW4gYnl0ZVxuICAgICAqIHNlcXVlbmNlIHdpdGhvdXQgcHJvZHVjaW5nIGFueSBjb21wcmVzc2VkIG91dHB1dC5cbiAgICAgKi9cblxuICAgIHZhciBkZWZsYXRlU2V0RGljdGlvbmFyeSA9IGZ1bmN0aW9uIGRlZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpIHtcbiAgICAgIHZhciBkaWN0TGVuZ3RoID0gZGljdGlvbmFyeS5sZW5ndGhcblxuICAgICAgaWYgKFxuICAgICAgICAhc3RybSB8fFxuICAgICAgICAvKiA9PSBaX05VTEwgKi9cbiAgICAgICAgIXN0cm0uc3RhdGVcbiAgICAgICAgLyogPT0gWl9OVUxMICovXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SXG4gICAgICB9XG5cbiAgICAgIHZhciBzID0gc3RybS5zdGF0ZVxuICAgICAgdmFyIHdyYXAgPSBzLndyYXBcblxuICAgICAgaWYgKHdyYXAgPT09IDIgfHwgKHdyYXAgPT09IDEgJiYgcy5zdGF0dXMgIT09IElOSVRfU1RBVEUpIHx8IHMubG9va2FoZWFkKSB7XG4gICAgICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUlxuICAgICAgfVxuICAgICAgLyogd2hlbiB1c2luZyB6bGliIHdyYXBwZXJzLCBjb21wdXRlIEFkbGVyLTMyIGZvciBwcm92aWRlZCBkaWN0aW9uYXJ5ICovXG5cbiAgICAgIGlmICh3cmFwID09PSAxKSB7XG4gICAgICAgIC8qIGFkbGVyMzIoc3RybS0+YWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgICAgICBzdHJtLmFkbGVyID0gYWRsZXIzMl8xKHN0cm0uYWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApXG4gICAgICB9XG5cbiAgICAgIHMud3JhcCA9IDBcbiAgICAgIC8qIGF2b2lkIGNvbXB1dGluZyBBZGxlci0zMiBpbiByZWFkX2J1ZiAqL1xuXG4gICAgICAvKiBpZiBkaWN0aW9uYXJ5IHdvdWxkIGZpbGwgd2luZG93LCBqdXN0IHJlcGxhY2UgdGhlIGhpc3RvcnkgKi9cblxuICAgICAgaWYgKGRpY3RMZW5ndGggPj0gcy53X3NpemUpIHtcbiAgICAgICAgaWYgKHdyYXAgPT09IDApIHtcbiAgICAgICAgICAvKiBhbHJlYWR5IGVtcHR5IG90aGVyd2lzZSAqL1xuXG4gICAgICAgICAgLyoqICogQ0xFQVJfSEFTSChzKTsgKiogKi9cbiAgICAgICAgICB6ZXJvJDEocy5oZWFkKSAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuXG4gICAgICAgICAgcy5zdHJzdGFydCA9IDBcbiAgICAgICAgICBzLmJsb2NrX3N0YXJ0ID0gMFxuICAgICAgICAgIHMuaW5zZXJ0ID0gMFxuICAgICAgICB9XG4gICAgICAgIC8qIHVzZSB0aGUgdGFpbCAqL1xuICAgICAgICAvLyBkaWN0aW9uYXJ5ID0gZGljdGlvbmFyeS5zbGljZShkaWN0TGVuZ3RoIC0gcy53X3NpemUpO1xuXG4gICAgICAgIHZhciB0bXBEaWN0ID0gbmV3IFVpbnQ4QXJyYXkocy53X3NpemUpXG4gICAgICAgIHRtcERpY3Quc2V0KGRpY3Rpb25hcnkuc3ViYXJyYXkoZGljdExlbmd0aCAtIHMud19zaXplLCBkaWN0TGVuZ3RoKSwgMClcbiAgICAgICAgZGljdGlvbmFyeSA9IHRtcERpY3RcbiAgICAgICAgZGljdExlbmd0aCA9IHMud19zaXplXG4gICAgICB9XG4gICAgICAvKiBpbnNlcnQgZGljdGlvbmFyeSBpbnRvIHdpbmRvdyBhbmQgaGFzaCAqL1xuXG4gICAgICB2YXIgYXZhaWwgPSBzdHJtLmF2YWlsX2luXG4gICAgICB2YXIgbmV4dCA9IHN0cm0ubmV4dF9pblxuICAgICAgdmFyIGlucHV0ID0gc3RybS5pbnB1dFxuICAgICAgc3RybS5hdmFpbF9pbiA9IGRpY3RMZW5ndGhcbiAgICAgIHN0cm0ubmV4dF9pbiA9IDBcbiAgICAgIHN0cm0uaW5wdXQgPSBkaWN0aW9uYXJ5XG4gICAgICBmaWxsX3dpbmRvdyhzKVxuXG4gICAgICB3aGlsZSAocy5sb29rYWhlYWQgPj0gTUlOX01BVENIJDEpIHtcbiAgICAgICAgdmFyIHN0ciA9IHMuc3Ryc3RhcnRcbiAgICAgICAgdmFyIG4gPSBzLmxvb2thaGVhZCAtIChNSU5fTUFUQ0gkMSAtIDEpXG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgICAgICBzLmluc19oID0gSEFTSChzLCBzLmluc19oLCBzLndpbmRvd1tzdHIgKyBNSU5fTUFUQ0gkMSAtIDFdKVxuICAgICAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF1cbiAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzdHJcbiAgICAgICAgICBzdHIrK1xuICAgICAgICB9IHdoaWxlICgtLW4pXG5cbiAgICAgICAgcy5zdHJzdGFydCA9IHN0clxuICAgICAgICBzLmxvb2thaGVhZCA9IE1JTl9NQVRDSCQxIC0gMVxuICAgICAgICBmaWxsX3dpbmRvdyhzKVxuICAgICAgfVxuXG4gICAgICBzLnN0cnN0YXJ0ICs9IHMubG9va2FoZWFkXG4gICAgICBzLmJsb2NrX3N0YXJ0ID0gcy5zdHJzdGFydFxuICAgICAgcy5pbnNlcnQgPSBzLmxvb2thaGVhZFxuICAgICAgcy5sb29rYWhlYWQgPSAwXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0gkMSAtIDFcbiAgICAgIHMubWF0Y2hfYXZhaWxhYmxlID0gMFxuICAgICAgc3RybS5uZXh0X2luID0gbmV4dFxuICAgICAgc3RybS5pbnB1dCA9IGlucHV0XG4gICAgICBzdHJtLmF2YWlsX2luID0gYXZhaWxcbiAgICAgIHMud3JhcCA9IHdyYXBcbiAgICAgIHJldHVybiBaX09LXG4gICAgfVxuXG4gICAgdmFyIGRlZmxhdGVJbml0XzEgPSBkZWZsYXRlSW5pdFxuICAgIHZhciBkZWZsYXRlSW5pdDJfMSA9IGRlZmxhdGVJbml0MlxuICAgIHZhciBkZWZsYXRlUmVzZXRfMSA9IGRlZmxhdGVSZXNldFxuICAgIHZhciBkZWZsYXRlUmVzZXRLZWVwXzEgPSBkZWZsYXRlUmVzZXRLZWVwXG4gICAgdmFyIGRlZmxhdGVTZXRIZWFkZXJfMSA9IGRlZmxhdGVTZXRIZWFkZXJcbiAgICB2YXIgZGVmbGF0ZV8yID0gZGVmbGF0ZVxuICAgIHZhciBkZWZsYXRlRW5kXzEgPSBkZWZsYXRlRW5kXG4gICAgdmFyIGRlZmxhdGVTZXREaWN0aW9uYXJ5XzEgPSBkZWZsYXRlU2V0RGljdGlvbmFyeVxuICAgIHZhciBkZWZsYXRlSW5mbyA9ICdwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpJ1xuICAgIC8qIE5vdCBpbXBsZW1lbnRlZFxuICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlQm91bmQgPSBkZWZsYXRlQm91bmQ7XG4gIG1vZHVsZS5leHBvcnRzLmRlZmxhdGVDb3B5ID0gZGVmbGF0ZUNvcHk7XG4gIG1vZHVsZS5leHBvcnRzLmRlZmxhdGVQYXJhbXMgPSBkZWZsYXRlUGFyYW1zO1xuICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlUGVuZGluZyA9IGRlZmxhdGVQZW5kaW5nO1xuICBtb2R1bGUuZXhwb3J0cy5kZWZsYXRlUHJpbWUgPSBkZWZsYXRlUHJpbWU7XG4gIG1vZHVsZS5leHBvcnRzLmRlZmxhdGVUdW5lID0gZGVmbGF0ZVR1bmU7XG4gICovXG5cbiAgICB2YXIgZGVmbGF0ZV8xID0ge1xuICAgICAgZGVmbGF0ZUluaXQ6IGRlZmxhdGVJbml0XzEsXG4gICAgICBkZWZsYXRlSW5pdDI6IGRlZmxhdGVJbml0Ml8xLFxuICAgICAgZGVmbGF0ZVJlc2V0OiBkZWZsYXRlUmVzZXRfMSxcbiAgICAgIGRlZmxhdGVSZXNldEtlZXA6IGRlZmxhdGVSZXNldEtlZXBfMSxcbiAgICAgIGRlZmxhdGVTZXRIZWFkZXI6IGRlZmxhdGVTZXRIZWFkZXJfMSxcbiAgICAgIGRlZmxhdGU6IGRlZmxhdGVfMixcbiAgICAgIGRlZmxhdGVFbmQ6IGRlZmxhdGVFbmRfMSxcbiAgICAgIGRlZmxhdGVTZXREaWN0aW9uYXJ5OiBkZWZsYXRlU2V0RGljdGlvbmFyeV8xLFxuICAgICAgZGVmbGF0ZUluZm8sXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgICdAYmFiZWwvaGVscGVycyAtIHR5cGVvZidcblxuICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIG9ialxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcbiAgICAgICAgICAgID8gJ3N5bWJvbCdcbiAgICAgICAgICAgIDogdHlwZW9mIG9ialxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdHlwZW9mKG9iailcbiAgICB9XG5cbiAgICB2YXIgX2hhcyA9IGZ1bmN0aW9uIF9oYXMob2JqLCBrZXkpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpXG4gICAgfVxuXG4gICAgdmFyIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbihcbiAgICAgIG9ialxuICAgICAgLyogZnJvbTEsIGZyb20yLCBmcm9tMywgLi4uICovXG4gICAgKSB7XG4gICAgICB2YXIgc291cmNlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcblxuICAgICAgd2hpbGUgKHNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzLnNoaWZ0KClcblxuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3R5cGVvZihzb3VyY2UpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7c291cmNlfW11c3QgYmUgbm9uLW9iamVjdGApXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBwIGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChfaGFzKHNvdXJjZSwgcCkpIHtcbiAgICAgICAgICAgIG9ialtwXSA9IHNvdXJjZVtwXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqXG4gICAgfSAvLyBKb2luIGFycmF5IG9mIGNodW5rcyB0byBzaW5nbGUgYXJyYXkuXG5cbiAgICB2YXIgZmxhdHRlbkNodW5rcyA9IGZ1bmN0aW9uIGZsYXR0ZW5DaHVua3MoY2h1bmtzKSB7XG4gICAgICAvLyBjYWxjdWxhdGUgZGF0YSBsZW5ndGhcbiAgICAgIHZhciBsZW4gPSAwXG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBsZW4gKz0gY2h1bmtzW2ldLmxlbmd0aFxuICAgICAgfSAvLyBqb2luIGNodW5rc1xuXG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuKVxuXG4gICAgICBmb3IgKHZhciBfaSA9IDAsIHBvcyA9IDAsIF9sID0gY2h1bmtzLmxlbmd0aDsgX2kgPCBfbDsgX2krKykge1xuICAgICAgICB2YXIgY2h1bmsgPSBjaHVua3NbX2ldXG4gICAgICAgIHJlc3VsdC5zZXQoY2h1bmssIHBvcylcbiAgICAgICAgcG9zICs9IGNodW5rLmxlbmd0aFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgdmFyIGNvbW1vbiA9IHtcbiAgICAgIGFzc2lnbixcbiAgICAgIGZsYXR0ZW5DaHVua3MsXG4gICAgfVxuXG4gICAgLy8gU3RyaW5nIGVuY29kZS9kZWNvZGUgaGVscGVyc1xuICAgIC8vXG4gICAgLy8gLSBhcHBseShBcnJheSkgY2FuIGZhaWwgb24gQW5kcm9pZCAyLjJcbiAgICAvLyAtIGFwcGx5KFVpbnQ4QXJyYXkpIGNhbiBmYWlsIG9uIGlPUyA1LjEgU2FmYXJpXG4gICAgLy9cblxuICAgIHZhciBTVFJfQVBQTFlfVUlBX09LID0gdHJ1ZVxuXG4gICAgdHJ5IHtcbiAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoMSkpXG4gICAgfSBjYXRjaCAoX18pIHtcbiAgICAgIFNUUl9BUFBMWV9VSUFfT0sgPSBmYWxzZVxuICAgIH0gLy8gVGFibGUgd2l0aCB1dGY4IGxlbmd0aHMgKGNhbGN1bGF0ZWQgYnkgZmlyc3QgYnl0ZSBvZiBzZXF1ZW5jZSlcbiAgICAvLyBOb3RlLCB0aGF0IDUgJiA2LWJ5dGUgdmFsdWVzIGFuZCBzb21lIDQtYnl0ZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXByZXNlbnRlZCBpbiBKUyxcbiAgICAvLyBiZWNhdXNlIG1heCBwb3NzaWJsZSBjb2RlcG9pbnQgaXMgMHgxMGZmZmZcblxuICAgIHZhciBfdXRmOGxlbiA9IG5ldyBVaW50OEFycmF5KDI1NilcblxuICAgIGZvciAodmFyIHEgPSAwOyBxIDwgMjU2OyBxKyspIHtcbiAgICAgIF91dGY4bGVuW3FdID0gcSA+PSAyNTIgPyA2IDogcSA+PSAyNDggPyA1IDogcSA+PSAyNDAgPyA0IDogcSA+PSAyMjQgPyAzIDogcSA+PSAxOTIgPyAyIDogMVxuICAgIH1cblxuICAgIF91dGY4bGVuWzI1NF0gPSBfdXRmOGxlblsyNTRdID0gMSAvLyBJbnZhbGlkIHNlcXVlbmNlIHN0YXJ0XG4gICAgLy8gY29udmVydCBzdHJpbmcgdG8gYXJyYXkgKHR5cGVkLCB3aGVuIHBvc3NpYmxlKVxuXG4gICAgLy8gKEMpIDIwMTQtMjAxNyBWaXRhbHkgUHV6cmluIGFuZCBBbmRyZXkgVHVwaXRzaW5cbiAgICAvL1xuICAgIC8vIFRoaXMgc29mdHdhcmUgaXMgcHJvdmlkZWQgJ2FzLWlzJywgd2l0aG91dCBhbnkgZXhwcmVzcyBvciBpbXBsaWVkXG4gICAgLy8gd2FycmFudHkuIEluIG5vIGV2ZW50IHdpbGwgdGhlIGF1dGhvcnMgYmUgaGVsZCBsaWFibGUgZm9yIGFueSBkYW1hZ2VzXG4gICAgLy8gYXJpc2luZyBmcm9tIHRoZSB1c2Ugb2YgdGhpcyBzb2Z0d2FyZS5cbiAgICAvL1xuICAgIC8vIFBlcm1pc3Npb24gaXMgZ3JhbnRlZCB0byBhbnlvbmUgdG8gdXNlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlLFxuICAgIC8vIGluY2x1ZGluZyBjb21tZXJjaWFsIGFwcGxpY2F0aW9ucywgYW5kIHRvIGFsdGVyIGl0IGFuZCByZWRpc3RyaWJ1dGUgaXRcbiAgICAvLyBmcmVlbHksIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyByZXN0cmljdGlvbnM6XG4gICAgLy9cbiAgICAvLyAxLiBUaGUgb3JpZ2luIG9mIHRoaXMgc29mdHdhcmUgbXVzdCBub3QgYmUgbWlzcmVwcmVzZW50ZWQ7IHlvdSBtdXN0IG5vdFxuICAgIC8vICAgY2xhaW0gdGhhdCB5b3Ugd3JvdGUgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLiBJZiB5b3UgdXNlIHRoaXMgc29mdHdhcmVcbiAgICAvLyAgIGluIGEgcHJvZHVjdCwgYW4gYWNrbm93bGVkZ21lbnQgaW4gdGhlIHByb2R1Y3QgZG9jdW1lbnRhdGlvbiB3b3VsZCBiZVxuICAgIC8vICAgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cbiAgICAvLyAyLiBBbHRlcmVkIHNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZVxuICAgIC8vICAgbWlzcmVwcmVzZW50ZWQgYXMgYmVpbmcgdGhlIG9yaWdpbmFsIHNvZnR3YXJlLlxuICAgIC8vIDMuIFRoaXMgbm90aWNlIG1heSBub3QgYmUgcmVtb3ZlZCBvciBhbHRlcmVkIGZyb20gYW55IHNvdXJjZSBkaXN0cmlidXRpb24uXG5cbiAgICBmdW5jdGlvbiBaU3RyZWFtKCkge1xuICAgICAgLyogbmV4dCBpbnB1dCBieXRlICovXG4gICAgICB0aGlzLmlucHV0ID0gbnVsbCAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG5cbiAgICAgIHRoaXMubmV4dF9pbiA9IDBcbiAgICAgIC8qIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgYXQgaW5wdXQgKi9cblxuICAgICAgdGhpcy5hdmFpbF9pbiA9IDBcbiAgICAgIC8qIHRvdGFsIG51bWJlciBvZiBpbnB1dCBieXRlcyByZWFkIHNvIGZhciAqL1xuXG4gICAgICB0aGlzLnRvdGFsX2luID0gMFxuICAgICAgLyogbmV4dCBvdXRwdXQgYnl0ZSBzaG91bGQgYmUgcHV0IHRoZXJlICovXG5cbiAgICAgIHRoaXMub3V0cHV0ID0gbnVsbCAvLyBKUyBzcGVjaWZpYywgYmVjYXVzZSB3ZSBoYXZlIG5vIHBvaW50ZXJzXG5cbiAgICAgIHRoaXMubmV4dF9vdXQgPSAwXG4gICAgICAvKiByZW1haW5pbmcgZnJlZSBzcGFjZSBhdCBvdXRwdXQgKi9cblxuICAgICAgdGhpcy5hdmFpbF9vdXQgPSAwXG4gICAgICAvKiB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgb3V0cHV0IHNvIGZhciAqL1xuXG4gICAgICB0aGlzLnRvdGFsX291dCA9IDBcbiAgICAgIC8qIGxhc3QgZXJyb3IgbWVzc2FnZSwgTlVMTCBpZiBubyBlcnJvciAqL1xuXG4gICAgICB0aGlzLm1zZyA9ICcnXG4gICAgICAvKiBaX05VTEwgKi9cbiAgICAgIC8qIG5vdCB2aXNpYmxlIGJ5IGFwcGxpY2F0aW9ucyAqL1xuXG4gICAgICB0aGlzLnN0YXRlID0gbnVsbFxuICAgICAgLyogYmVzdCBndWVzcyBhYm91dCB0aGUgZGF0YSB0eXBlOiBiaW5hcnkgb3IgdGV4dCAqL1xuXG4gICAgICB0aGlzLmRhdGFfdHlwZSA9IDJcbiAgICAgIC8qIFpfVU5LTk9XTiAqL1xuICAgICAgLyogYWRsZXIzMiB2YWx1ZSBvZiB0aGUgdW5jb21wcmVzc2VkIGRhdGEgKi9cblxuICAgICAgdGhpcy5hZGxlciA9IDBcbiAgICB9XG5cbiAgICB2YXIgenN0cmVhbSA9IFpTdHJlYW1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG4gICAgLyogUHVibGljIGNvbnN0YW50cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuICAgIHZhciBaX05PX0ZMVVNIJDEgPSBjb25zdGFudHMuWl9OT19GTFVTSFxuICAgIHZhciBaX1NZTkNfRkxVU0ggPSBjb25zdGFudHMuWl9TWU5DX0ZMVVNIXG4gICAgdmFyIFpfRlVMTF9GTFVTSCQxID0gY29uc3RhbnRzLlpfRlVMTF9GTFVTSFxuICAgIHZhciBaX0ZJTklTSCQxID0gY29uc3RhbnRzLlpfRklOSVNIXG4gICAgdmFyIFpfT0skMSA9IGNvbnN0YW50cy5aX09LXG4gICAgdmFyIFpfU1RSRUFNX0VORCQxID0gY29uc3RhbnRzLlpfU1RSRUFNX0VORFxuICAgIHZhciBaX0RFRkFVTFRfQ09NUFJFU1NJT04kMSA9IGNvbnN0YW50cy5aX0RFRkFVTFRfQ09NUFJFU1NJT05cbiAgICB2YXIgWl9ERUZBVUxUX1NUUkFURUdZJDEgPSBjb25zdGFudHMuWl9ERUZBVUxUX1NUUkFURUdZXG4gICAgdmFyIFpfREVGTEFURUQkMSA9IGNvbnN0YW50cy5aX0RFRkxBVEVEXG4gICAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiAgICAvKipcbiAgICAgKiBjbGFzcyBEZWZsYXRlXG4gICAgICpcbiAgICAgKiBHZW5lcmljIEpTLXN0eWxlIHdyYXBwZXIgZm9yIHpsaWIgY2FsbHMuIElmIHlvdSBkb24ndCBuZWVkXG4gICAgICogc3RyZWFtaW5nIGJlaGF2aW91ciAtIHVzZSBtb3JlIHNpbXBsZSBmdW5jdGlvbnM6IFtbZGVmbGF0ZV1dLFxuICAgICAqIFtbZGVmbGF0ZVJhd11dIGFuZCBbW2d6aXBdXS5cbiAgICAgKiAqL1xuXG4gICAgLyogaW50ZXJuYWxcbiAgICAgKiBEZWZsYXRlLmNodW5rcyAtPiBBcnJheVxuICAgICAqXG4gICAgICogQ2h1bmtzIG9mIG91dHB1dCBkYXRhLCBpZiBbW0RlZmxhdGUjb25EYXRhXV0gbm90IG92ZXJyaWRkZW4uXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIERlZmxhdGUucmVzdWx0IC0+IFVpbnQ4QXJyYXlcbiAgICAgKlxuICAgICAqIENvbXByZXNzZWQgcmVzdWx0LCBnZW5lcmF0ZWQgYnkgZGVmYXVsdCBbW0RlZmxhdGUjb25EYXRhXV1cbiAgICAgKiBhbmQgW1tEZWZsYXRlI29uRW5kXV0gaGFuZGxlcnMuIEZpbGxlZCBhZnRlciB5b3UgcHVzaCBsYXN0IGNodW5rXG4gICAgICogKGNhbGwgW1tEZWZsYXRlI3B1c2hdXSB3aXRoIGBaX0ZJTklTSGAgLyBgdHJ1ZWAgcGFyYW0pLlxuICAgICAqICovXG5cbiAgICAvKipcbiAgICAgKiBEZWZsYXRlLmVyciAtPiBOdW1iZXJcbiAgICAgKlxuICAgICAqIEVycm9yIGNvZGUgYWZ0ZXIgZGVmbGF0ZSBmaW5pc2hlZC4gMCAoWl9PSykgb24gc3VjY2Vzcy5cbiAgICAgKiBZb3Ugd2lsbCBub3QgbmVlZCBpdCBpbiByZWFsIGxpZmUsIGJlY2F1c2UgZGVmbGF0ZSBlcnJvcnNcbiAgICAgKiBhcmUgcG9zc2libGUgb25seSBvbiB3cm9uZyBvcHRpb25zIG9yIGJhZCBgb25EYXRhYCAvIGBvbkVuZGBcbiAgICAgKiBjdXN0b20gaGFuZGxlcnMuXG4gICAgICogKi9cblxuICAgIC8qKlxuICAgICAqIERlZmxhdGUubXNnIC0+IFN0cmluZ1xuICAgICAqXG4gICAgICogRXJyb3IgbWVzc2FnZSwgaWYgW1tEZWZsYXRlLmVycl1dICE9IDBcbiAgICAgKiAqL1xuXG4gICAgLyoqXG4gICAgICogbmV3IERlZmxhdGUob3B0aW9ucylcbiAgICAgKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBuZXcgZGVmbGF0b3IgaW5zdGFuY2Ugd2l0aCBzcGVjaWZpZWQgcGFyYW1zLiBUaHJvd3MgZXhjZXB0aW9uXG4gICAgICogb24gYmFkIHBhcmFtcy4gU3VwcG9ydGVkIG9wdGlvbnM6XG4gICAgICpcbiAgICAgKiAtIGBsZXZlbGBcbiAgICAgKiAtIGB3aW5kb3dCaXRzYFxuICAgICAqIC0gYG1lbUxldmVsYFxuICAgICAqIC0gYHN0cmF0ZWd5YFxuICAgICAqIC0gYGRpY3Rpb25hcnlgXG4gICAgICpcbiAgICAgKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gICAgICpcbiAgICAgKiBBZGRpdGlvbmFsIG9wdGlvbnMsIGZvciBpbnRlcm5hbCBuZWVkczpcbiAgICAgKlxuICAgICAqIC0gYGNodW5rU2l6ZWAgLSBzaXplIG9mIGdlbmVyYXRlZCBkYXRhIGNodW5rcyAoMTZLIGJ5IGRlZmF1bHQpXG4gICAgICogLSBgcmF3YCAoQm9vbGVhbikgLSBkbyByYXcgZGVmbGF0ZVxuICAgICAqIC0gYGd6aXBgIChCb29sZWFuKSAtIGNyZWF0ZSBnemlwIHdyYXBwZXJcbiAgICAgKiAtIGBoZWFkZXJgIChPYmplY3QpIC0gY3VzdG9tIGhlYWRlciBmb3IgZ3ppcFxuICAgICAqICAgLSBgdGV4dGAgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBjb21wcmVzc2VkIGRhdGEgYmVsaWV2ZWQgdG8gYmUgdGV4dFxuICAgICAqICAgLSBgdGltZWAgKE51bWJlcikgLSBtb2RpZmljYXRpb24gdGltZSwgdW5peCB0aW1lc3RhbXBcbiAgICAgKiAgIC0gYG9zYCAoTnVtYmVyKSAtIG9wZXJhdGlvbiBzeXN0ZW0gY29kZVxuICAgICAqICAgLSBgZXh0cmFgIChBcnJheSkgLSBhcnJheSBvZiBieXRlcyB3aXRoIGV4dHJhIGRhdGEgKG1heCA2NTUzNilcbiAgICAgKiAgIC0gYG5hbWVgIChTdHJpbmcpIC0gZmlsZSBuYW1lIChiaW5hcnkgc3RyaW5nKVxuICAgICAqICAgLSBgY29tbWVudGAgKFN0cmluZykgLSBjb21tZW50IChiaW5hcnkgc3RyaW5nKVxuICAgICAqICAgLSBgaGNyY2AgKEJvb2xlYW4pIC0gdHJ1ZSBpZiBoZWFkZXIgY3JjIHNob3VsZCBiZSBhZGRlZFxuICAgICAqXG4gICAgICogIyMjIyMgRXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGphdmFzY3JpcHRcbiAgICAgKiBjb25zdCBwYWtvID0gcmVxdWlyZSgncGFrbycpXG4gICAgICogICAsIGNodW5rMSA9IG5ldyBVaW50OEFycmF5KFsxLDIsMyw0LDUsNiw3LDgsOV0pXG4gICAgICogICAsIGNodW5rMiA9IG5ldyBVaW50OEFycmF5KFsxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOV0pO1xuICAgICAqXG4gICAgICogY29uc3QgZGVmbGF0ZSA9IG5ldyBwYWtvLkRlZmxhdGUoeyBsZXZlbDogM30pO1xuICAgICAqXG4gICAgICogZGVmbGF0ZS5wdXNoKGNodW5rMSwgZmFsc2UpO1xuICAgICAqIGRlZmxhdGUucHVzaChjaHVuazIsIHRydWUpOyAgLy8gdHJ1ZSAtPiBsYXN0IGNodW5rXG4gICAgICpcbiAgICAgKiBpZiAoZGVmbGF0ZS5lcnIpIHsgdGhyb3cgbmV3IEVycm9yKGRlZmxhdGUuZXJyKTsgfVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZGVmbGF0ZS5yZXN1bHQpO1xuICAgICAqIGBgYFxuICAgICAqICovXG5cbiAgICBmdW5jdGlvbiBEZWZsYXRlKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IGNvbW1vbi5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBsZXZlbDogWl9ERUZBVUxUX0NPTVBSRVNTSU9OJDEsXG4gICAgICAgICAgbWV0aG9kOiBaX0RFRkxBVEVEJDEsXG4gICAgICAgICAgY2h1bmtTaXplOiAxNjM4NCxcbiAgICAgICAgICB3aW5kb3dCaXRzOiAxNSxcbiAgICAgICAgICBtZW1MZXZlbDogOCxcbiAgICAgICAgICBzdHJhdGVneTogWl9ERUZBVUxUX1NUUkFURUdZJDEsXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnMgfHwge31cbiAgICAgIClcbiAgICAgIHZhciBvcHQgPSB0aGlzLm9wdGlvbnNcblxuICAgICAgaWYgKG9wdC5yYXcgJiYgb3B0LndpbmRvd0JpdHMgPiAwKSB7XG4gICAgICAgIG9wdC53aW5kb3dCaXRzID0gLW9wdC53aW5kb3dCaXRzXG4gICAgICB9IGVsc2UgaWYgKG9wdC5nemlwICYmIG9wdC53aW5kb3dCaXRzID4gMCAmJiBvcHQud2luZG93Qml0cyA8IDE2KSB7XG4gICAgICAgIG9wdC53aW5kb3dCaXRzICs9IDE2XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZXJyID0gMCAvLyBlcnJvciBjb2RlLCBpZiBoYXBwZW5zICgwID0gWl9PSylcblxuICAgICAgdGhpcy5tc2cgPSAnJyAvLyBlcnJvciBtZXNzYWdlXG5cbiAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZSAvLyB1c2VkIHRvIGF2b2lkIG11bHRpcGxlIG9uRW5kKCkgY2FsbHNcblxuICAgICAgdGhpcy5jaHVua3MgPSBbXSAvLyBjaHVua3Mgb2YgY29tcHJlc3NlZCBkYXRhXG5cbiAgICAgIHRoaXMuc3RybSA9IG5ldyB6c3RyZWFtKClcbiAgICAgIHRoaXMuc3RybS5hdmFpbF9vdXQgPSAwXG4gICAgICB2YXIgc3RhdHVzID0gZGVmbGF0ZV8xLmRlZmxhdGVJbml0Mih0aGlzLnN0cm0sIG9wdC5sZXZlbCwgb3B0Lm1ldGhvZCwgb3B0LndpbmRvd0JpdHMsIG9wdC5tZW1MZXZlbCwgb3B0LnN0cmF0ZWd5KVxuXG4gICAgICBpZiAoc3RhdHVzICE9PSBaX09LJDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2VzW3N0YXR1c10pXG4gICAgICB9XG5cbiAgICAgIGlmIChvcHQuaGVhZGVyKSB7XG4gICAgICAgIGRlZmxhdGVfMS5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSwgb3B0LmhlYWRlcilcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgICAgIHZhciBkaWN0IC8vIENvbnZlcnQgZGF0YSBpZiBuZWVkZWRcblxuICAgICAgICBpZiAodG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpIHtcbiAgICAgICAgICBkaWN0ID0gbmV3IFVpbnQ4QXJyYXkob3B0LmRpY3Rpb25hcnkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGljdCA9IG9wdC5kaWN0aW9uYXJ5XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0dXMgPSBkZWZsYXRlXzEuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLCBkaWN0KVxuXG4gICAgICAgIGlmIChzdGF0dXMgIT09IFpfT0skMSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlc1tzdGF0dXNdKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGljdF9zZXQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmxhdGUjcHVzaChkYXRhWywgZmx1c2hfbW9kZV0pIC0+IEJvb2xlYW5cbiAgICAgKiAtIGRhdGEgKFVpbnQ4QXJyYXl8QXJyYXlCdWZmZXJ8U3RyaW5nKTogaW5wdXQgZGF0YS4gU3RyaW5ncyB3aWxsIGJlXG4gICAgICogICBjb252ZXJ0ZWQgdG8gdXRmOCBieXRlIHNlcXVlbmNlLlxuICAgICAqIC0gZmx1c2hfbW9kZSAoTnVtYmVyfEJvb2xlYW4pOiAwLi42IGZvciBjb3JyZXNwb25kaW5nIFpfTk9fRkxVU0guLlpfVFJFRSBtb2Rlcy5cbiAgICAgKiAgIFNlZSBjb25zdGFudHMuIFNraXBwZWQgb3IgYGZhbHNlYCBtZWFucyBaX05PX0ZMVVNILCBgdHJ1ZWAgbWVhbnMgWl9GSU5JU0guXG4gICAgICpcbiAgICAgKiBTZW5kcyBpbnB1dCBkYXRhIHRvIGRlZmxhdGUgcGlwZSwgZ2VuZXJhdGluZyBbW0RlZmxhdGUjb25EYXRhXV0gY2FsbHMgd2l0aFxuICAgICAqIG5ldyBjb21wcmVzc2VkIGNodW5rcy4gUmV0dXJucyBgdHJ1ZWAgb24gc3VjY2Vzcy4gVGhlIGxhc3QgZGF0YSBibG9jayBtdXN0XG4gICAgICogaGF2ZSBgZmx1c2hfbW9kZWAgWl9GSU5JU0ggKG9yIGB0cnVlYCkuIFRoYXQgd2lsbCBmbHVzaCBpbnRlcm5hbCBwZW5kaW5nXG4gICAgICogYnVmZmVycyBhbmQgY2FsbCBbW0RlZmxhdGUjb25FbmRdXS5cbiAgICAgKlxuICAgICAqIE9uIGZhaWwgY2FsbCBbW0RlZmxhdGUjb25FbmRdXSB3aXRoIGVycm9yIGNvZGUgYW5kIHJldHVybiBmYWxzZS5cbiAgICAgKlxuICAgICAqICMjIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYGphdmFzY3JpcHRcbiAgICAgKiBwdXNoKGNodW5rLCBmYWxzZSk7IC8vIHB1c2ggb25lIG9mIGRhdGEgY2h1bmtzXG4gICAgICogLi4uXG4gICAgICogcHVzaChjaHVuaywgdHJ1ZSk7ICAvLyBwdXNoIGxhc3QgY2h1bmtcbiAgICAgKiBgYGBcbiAgICAgKiAqL1xuXG4gICAgRGVmbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBmbHVzaF9tb2RlKSB7XG4gICAgICB2YXIgc3RybSA9IHRoaXMuc3RybVxuICAgICAgdmFyIGNodW5rU2l6ZSA9IHRoaXMub3B0aW9ucy5jaHVua1NpemVcblxuICAgICAgdmFyIHN0YXR1c1xuICAgICAgdmFyIF9mbHVzaF9tb2RlXG5cbiAgICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBpZiAoZmx1c2hfbW9kZSA9PT0gfn5mbHVzaF9tb2RlKSB7XG4gICAgICAgIF9mbHVzaF9tb2RlID0gZmx1c2hfbW9kZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ZsdXNoX21vZGUgPSBmbHVzaF9tb2RlID09PSB0cnVlID8gWl9GSU5JU0gkMSA6IFpfTk9fRkxVU0gkMVxuICAgICAgfSAvLyBDb252ZXJ0IGRhdGEgaWYgbmVlZGVkXG5cbiAgICAgIGlmICh0b1N0cmluZy5jYWxsKGRhdGEpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgICAgIHN0cm0uaW5wdXQgPSBuZXcgVWludDhBcnJheShkYXRhKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RybS5pbnB1dCA9IGRhdGFcbiAgICAgIH1cblxuICAgICAgc3RybS5uZXh0X2luID0gMFxuICAgICAgc3RybS5hdmFpbF9pbiA9IHN0cm0uaW5wdXQubGVuZ3RoXG5cbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgICAgc3RybS5vdXRwdXQgPSBuZXcgVWludDhBcnJheShjaHVua1NpemUpXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IDBcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGNodW5rU2l6ZVxuICAgICAgICB9IC8vIE1ha2Ugc3VyZSBhdmFpbF9vdXQgPiA2IHRvIGF2b2lkIHJlcGVhdGluZyBtYXJrZXJzXG5cbiAgICAgICAgaWYgKChfZmx1c2hfbW9kZSA9PT0gWl9TWU5DX0ZMVVNIIHx8IF9mbHVzaF9tb2RlID09PSBaX0ZVTExfRkxVU0gkMSkgJiYgc3RybS5hdmFpbF9vdXQgPD0gNikge1xuICAgICAgICAgIHRoaXMub25EYXRhKHN0cm0ub3V0cHV0LnN1YmFycmF5KDAsIHN0cm0ubmV4dF9vdXQpKVxuICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gMFxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBzdGF0dXMgPSBkZWZsYXRlXzEuZGVmbGF0ZShzdHJtLCBfZmx1c2hfbW9kZSkgLy8gRW5kZWQgPT4gZmx1c2ggYW5kIGZpbmlzaFxuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFpfU1RSRUFNX0VORCQxKSB7XG4gICAgICAgICAgaWYgKHN0cm0ubmV4dF9vdXQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dC5zdWJhcnJheSgwLCBzdHJtLm5leHRfb3V0KSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdGF0dXMgPSBkZWZsYXRlXzEuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pXG4gICAgICAgICAgdGhpcy5vbkVuZChzdGF0dXMpXG4gICAgICAgICAgdGhpcy5lbmRlZCA9IHRydWVcbiAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSBaX09LJDFcbiAgICAgICAgfSAvLyBGbHVzaCBpZiBvdXQgYnVmZmVyIGZ1bGxcblxuICAgICAgICBpZiAoc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICB0aGlzLm9uRGF0YShzdHJtLm91dHB1dClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IC8vIEZsdXNoIGlmIHJlcXVlc3RlZCBhbmQgaGFzIGRhdGFcblxuICAgICAgICBpZiAoX2ZsdXNoX21vZGUgPiAwICYmIHN0cm0ubmV4dF9vdXQgPiAwKSB7XG4gICAgICAgICAgdGhpcy5vbkRhdGEoc3RybS5vdXRwdXQuc3ViYXJyYXkoMCwgc3RybS5uZXh0X291dCkpXG4gICAgICAgICAgc3RybS5hdmFpbF9vdXQgPSAwXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJtLmF2YWlsX2luID09PSAwKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZsYXRlI29uRGF0YShjaHVuaykgLT4gVm9pZFxuICAgICAqIC0gY2h1bmsgKFVpbnQ4QXJyYXkpOiBvdXRwdXQgZGF0YS5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHN0b3JlcyBkYXRhIGJsb2NrcyBpbiBgY2h1bmtzW11gIHByb3BlcnR5IGFuZCBnbHVlXG4gICAgICogdGhvc2UgaW4gYG9uRW5kYC4gT3ZlcnJpZGUgdGhpcyBoYW5kbGVyLCBpZiB5b3UgbmVlZCBhbm90aGVyIGJlaGF2aW91ci5cbiAgICAgKiAqL1xuXG4gICAgRGVmbGF0ZS5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZsYXRlI29uRW5kKHN0YXR1cykgLT4gVm9pZFxuICAgICAqIC0gc3RhdHVzIChOdW1iZXIpOiBkZWZsYXRlIHN0YXR1cy4gMCAoWl9PSykgb24gc3VjY2VzcyxcbiAgICAgKiAgIG90aGVyIGlmIG5vdC5cbiAgICAgKlxuICAgICAqIENhbGxlZCBvbmNlIGFmdGVyIHlvdSB0ZWxsIGRlZmxhdGUgdGhhdCB0aGUgaW5wdXQgc3RyZWFtIGlzXG4gICAgICogY29tcGxldGUgKFpfRklOSVNIKS4gQnkgZGVmYXVsdCAtIGpvaW4gY29sbGVjdGVkIGNodW5rcyxcbiAgICAgKiBmcmVlIG1lbW9yeSBhbmQgZmlsbCBgcmVzdWx0c2AgLyBgZXJyYCBwcm9wZXJ0aWVzLlxuICAgICAqICovXG5cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5vbkVuZCA9IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgIC8vIE9uIHN1Y2Nlc3MgLSBqb2luXG4gICAgICBpZiAoc3RhdHVzID09PSBaX09LJDEpIHtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSBjb21tb24uZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcylcbiAgICAgIH1cblxuICAgICAgdGhpcy5jaHVua3MgPSBbXVxuICAgICAgdGhpcy5lcnIgPSBzdGF0dXNcbiAgICAgIHRoaXMubXNnID0gdGhpcy5zdHJtLm1zZ1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkZWZsYXRlKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheVxuICAgICAqIC0gZGF0YSAoVWludDhBcnJheXxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGNvbXByZXNzLlxuICAgICAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBDb21wcmVzcyBgZGF0YWAgd2l0aCBkZWZsYXRlIGFsZ29yaXRobSBhbmQgYG9wdGlvbnNgLlxuICAgICAqXG4gICAgICogU3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICAgICAqXG4gICAgICogLSBsZXZlbFxuICAgICAqIC0gd2luZG93Qml0c1xuICAgICAqIC0gbWVtTGV2ZWxcbiAgICAgKiAtIHN0cmF0ZWd5XG4gICAgICogLSBkaWN0aW9uYXJ5XG4gICAgICpcbiAgICAgKiBbaHR0cDovL3psaWIubmV0L21hbnVhbC5odG1sI0FkdmFuY2VkXShodHRwOi8vemxpYi5uZXQvbWFudWFsLmh0bWwjQWR2YW5jZWQpXG4gICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2UuXG4gICAgICpcbiAgICAgKiBTdWdhciAob3B0aW9ucyk6XG4gICAgICpcbiAgICAgKiAtIGByYXdgIChCb29sZWFuKSAtIHNheSB0aGF0IHdlIHdvcmsgd2l0aCByYXcgc3RyZWFtLCBpZiB5b3UgZG9uJ3Qgd2lzaCB0byBzcGVjaWZ5XG4gICAgICogICBuZWdhdGl2ZSB3aW5kb3dCaXRzIGltcGxpY2l0bHkuXG4gICAgICpcbiAgICAgKiAjIyMjIyBFeGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgamF2YXNjcmlwdFxuICAgICAqIGNvbnN0IHBha28gPSByZXF1aXJlKCdwYWtvJylcbiAgICAgKiBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoWzEsMiwzLDQsNSw2LDcsOCw5XSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwYWtvLmRlZmxhdGUoZGF0YSkpO1xuICAgICAqIGBgYFxuICAgICAqICovXG5cbiAgICBmdW5jdGlvbiBkZWZsYXRlJDEoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBkZWZsYXRvciA9IG5ldyBEZWZsYXRlKG9wdGlvbnMpXG4gICAgICBkZWZsYXRvci5wdXNoKGlucHV0LCB0cnVlKSAvLyBUaGF0IHdpbGwgbmV2ZXIgaGFwcGVucywgaWYgeW91IGRvbid0IGNoZWF0IHdpdGggb3B0aW9ucyA6KVxuXG4gICAgICBpZiAoZGVmbGF0b3IuZXJyKSB7XG4gICAgICAgIHRocm93IGRlZmxhdG9yLm1zZyB8fCBtZXNzYWdlc1tkZWZsYXRvci5lcnJdXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZsYXRvci5yZXN1bHRcbiAgICB9XG4gICAgLyoqXG4gICAgICogZGVmbGF0ZVJhdyhkYXRhWywgb3B0aW9uc10pIC0+IFVpbnQ4QXJyYXlcbiAgICAgKiAtIGRhdGEgKFVpbnQ4QXJyYXl8U3RyaW5nKTogaW5wdXQgZGF0YSB0byBjb21wcmVzcy5cbiAgICAgKiAtIG9wdGlvbnMgKE9iamVjdCk6IHpsaWIgZGVmbGF0ZSBvcHRpb25zLlxuICAgICAqXG4gICAgICogVGhlIHNhbWUgYXMgW1tkZWZsYXRlXV0sIGJ1dCBjcmVhdGVzIHJhdyBkYXRhLCB3aXRob3V0IHdyYXBwZXJcbiAgICAgKiAoaGVhZGVyIGFuZCBhZGxlcjMyIGNyYykuXG4gICAgICogKi9cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBmdW5jdGlvbiBkZWZsYXRlUmF3KGlucHV0LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgICAgb3B0aW9ucy5yYXcgPSB0cnVlXG4gICAgICByZXR1cm4gZGVmbGF0ZSQxKGlucHV0LCBvcHRpb25zKVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBnemlwKGRhdGFbLCBvcHRpb25zXSkgLT4gVWludDhBcnJheVxuICAgICAqIC0gZGF0YSAoVWludDhBcnJheXxTdHJpbmcpOiBpbnB1dCBkYXRhIHRvIGNvbXByZXNzLlxuICAgICAqIC0gb3B0aW9ucyAoT2JqZWN0KTogemxpYiBkZWZsYXRlIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBUaGUgc2FtZSBhcyBbW2RlZmxhdGVdXSwgYnV0IGNyZWF0ZSBnemlwIHdyYXBwZXIgaW5zdGVhZCBvZlxuICAgICAqIGRlZmxhdGUgb25lLlxuICAgICAqICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGZ1bmN0aW9uIGd6aXAoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgICBvcHRpb25zLmd6aXAgPSB0cnVlXG4gICAgICByZXR1cm4gZGVmbGF0ZSQxKGlucHV0LCBvcHRpb25zKVxuICAgIH1cblxuICAgIHJldHVybiB7IERlZmxhdGUsIGNvbnN0YW50cyB9XG4gIH1cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGRlZmluZUdsb2JhbCwgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnQGRhdGFkb2cvYnJvd3Nlci1jb3JlJ1xuaW1wb3J0IHsgbWFrZVJ1bVB1YmxpY0FwaSwgUnVtUHVibGljQXBpLCBzdGFydFJ1bSB9IGZyb20gJ0BkYXRhZG9nL2Jyb3dzZXItcnVtLWNvcmUnXG5cbmltcG9ydCB7IHN0YXJ0UmVjb3JkaW5nIH0gZnJvbSAnLi9zdGFydFJlY29yZGluZydcbmltcG9ydCB7IG1ha2VSZWNvcmRlckFwaSB9IGZyb20gJy4vcmVjb3JkZXJBcGknXG5cbmNvbnN0IHJlY29yZGVyQXBpID0gbWFrZVJlY29yZGVyQXBpKHN0YXJ0UmVjb3JkaW5nKVxuZXhwb3J0IGNvbnN0IGRhdGFkb2dSdW0gPSBtYWtlUnVtUHVibGljQXBpKHN0YXJ0UnVtLCByZWNvcmRlckFwaSlcblxuaW50ZXJmYWNlIEJyb3dzZXJXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICBERF9SVU0/OiBSdW1QdWJsaWNBcGlcbn1cbmRlZmluZUdsb2JhbChnZXRHbG9iYWxPYmplY3Q8QnJvd3NlcldpbmRvdz4oKSwgJ0REX1JVTScsIGRhdGFkb2dSdW0pXG4iXSwic291cmNlUm9vdCI6IiJ9
